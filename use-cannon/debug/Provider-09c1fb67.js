import React, { useState, useRef, useMemo, useEffect } from 'react';
import { _ as _extends, c as context } from './index-ef8dc782.js';
import 'three';
import { useThree, useFrame } from 'react-three-fiber';

function decodeBase64(base64, enableUnicode) {
    var binaryString = atob(base64);
    if (enableUnicode) {
        var binaryView = new Uint8Array(binaryString.length);
        for (var i = 0, n = binaryString.length; i < n; ++i) {
            binaryView[i] = binaryString.charCodeAt(i);
        }
        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));
    }
    return binaryString;
}

function createURL(base64, sourcemapArg, enableUnicodeArg) {
    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;
    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;
    var source = decodeBase64(base64, enableUnicode);
    var start = source.indexOf('\n', 10) + 1;
    var body = source.substring(start) + (sourcemap ? '\/\/# sourceMappingURL=' + sourcemap : '');
    var blob = new Blob([body], { type: 'application/javascript' });
    return URL.createObjectURL(blob);
}

function createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {
    var url;
    return function WorkerFactory(options) {
        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);
        return new Worker(url, options);
    };
}

var WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwpmdW5jdGlvbiBfZXh0ZW5kcygpIHsKICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgewogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsKICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgewogICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH07CgogIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7CiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CiAgdmFyIHRhcmdldCA9IHt9OwogIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsKICB2YXIga2V5LCBpOwoKICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgewogICAga2V5ID0gc291cmNlS2V5c1tpXTsKICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7CiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogIH0KCiAgcmV0dXJuIHRhcmdldDsKfQoKLyoqDQogKiBSZWNvcmRzIHdoYXQgb2JqZWN0cyBhcmUgY29sbGlkaW5nIHdpdGggZWFjaCBvdGhlcg0KICogQGNsYXNzIE9iamVjdENvbGxpc2lvbk1hdHJpeA0KICogQGNvbnN0cnVjdG9yDQogKi8KLyoqDQogKiBBIDN4MyBtYXRyaXguDQogKiBAY2xhc3MgTWF0Mw0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge0FycmF5fSBlbGVtZW50cyBBIHZlY3RvciBvZiBsZW5ndGggOSwgY29udGFpbmluZyBhbGwgbWF0cml4IGVsZW1lbnRzLiBPcHRpb25hbC4NCiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICovCgoKY2xhc3MgTWF0MyB7CiAgY29uc3RydWN0b3IoZWxlbWVudHMgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0pIHsKICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50czsKICB9CiAgLyoqDQogICAqIFNldHMgdGhlIG1hdHJpeCB0byBpZGVudGl0eQ0KICAgKiBAbWV0aG9kIGlkZW50aXR5DQogICAqIEB0b2RvIFNob3VsZCBwZXJoYXBzIGJlIHJlbmFtZWQgdG8gc2V0SWRlbnRpdHkoKSB0byBiZSBtb3JlIGNsZWFyLg0KICAgKiBAdG9kbyBDcmVhdGUgYW5vdGhlciBmdW5jdGlvbiB0aGF0IGltbWVkaWF0ZWx5IGNyZWF0ZXMgYW4gaWRlbnRpdHkgbWF0cml4IGVnLiBleWUoKQ0KICAgKi8KCgogIGlkZW50aXR5KCkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBlWzBdID0gMTsKICAgIGVbMV0gPSAwOwogICAgZVsyXSA9IDA7CiAgICBlWzNdID0gMDsKICAgIGVbNF0gPSAxOwogICAgZVs1XSA9IDA7CiAgICBlWzZdID0gMDsKICAgIGVbN10gPSAwOwogICAgZVs4XSA9IDE7CiAgfQogIC8qKg0KICAgKiBTZXQgYWxsIGVsZW1lbnRzIHRvIHplcm8NCiAgICogQG1ldGhvZCBzZXRaZXJvDQogICAqLwoKCiAgc2V0WmVybygpIHsKICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgZVswXSA9IDA7CiAgICBlWzFdID0gMDsKICAgIGVbMl0gPSAwOwogICAgZVszXSA9IDA7CiAgICBlWzRdID0gMDsKICAgIGVbNV0gPSAwOwogICAgZVs2XSA9IDA7CiAgICBlWzddID0gMDsKICAgIGVbOF0gPSAwOwogIH0KICAvKioNCiAgICogU2V0cyB0aGUgbWF0cml4IGRpYWdvbmFsIGVsZW1lbnRzIGZyb20gYSBWZWMzDQogICAqIEBtZXRob2Qgc2V0VHJhY2UNCiAgICogQHBhcmFtIHtWZWMzfSB2ZWMzDQogICAqLwoKCiAgc2V0VHJhY2UodmVjdG9yKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGVbMF0gPSB2ZWN0b3IueDsKICAgIGVbNF0gPSB2ZWN0b3IueTsKICAgIGVbOF0gPSB2ZWN0b3IuejsKICB9CiAgLyoqDQogICAqIEdldHMgdGhlIG1hdHJpeCBkaWFnb25hbCBlbGVtZW50cw0KICAgKiBAbWV0aG9kIGdldFRyYWNlDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgZ2V0VHJhY2UodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICB0YXJnZXQueCA9IGVbMF07CiAgICB0YXJnZXQueSA9IGVbNF07CiAgICB0YXJnZXQueiA9IGVbOF07CiAgfQogIC8qKg0KICAgKiBNYXRyaXgtVmVjdG9yIG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2Qgdm11bHQNCiAgICogQHBhcmFtIHtWZWMzfSB2IFRoZSB2ZWN0b3IgdG8gbXVsdGlwbHkgd2l0aA0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCwgdGFyZ2V0IHRvIHNhdmUgdGhlIHJlc3VsdCBpbi4NCiAgICovCgoKICB2bXVsdCh2LCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgIGNvbnN0IHggPSB2Lng7CiAgICBjb25zdCB5ID0gdi55OwogICAgY29uc3QgeiA9IHYuejsKICAgIHRhcmdldC54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6OwogICAgdGFyZ2V0LnkgPSBlWzNdICogeCArIGVbNF0gKiB5ICsgZVs1XSAqIHo7CiAgICB0YXJnZXQueiA9IGVbNl0gKiB4ICsgZVs3XSAqIHkgKyBlWzhdICogejsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBNYXRyaXgtc2NhbGFyIG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2Qgc211bHQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHMNCiAgICovCgoKICBzbXVsdChzKSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgdGhpcy5lbGVtZW50c1tpXSAqPSBzOwogICAgfQogIH0KICAvKioNCiAgICogTWF0cml4IG11bHRpcGxpY2F0aW9uDQogICAqIEBtZXRob2QgbW11bHQNCiAgICogQHBhcmFtIHtNYXQzfSBtYXRyaXggTWF0cml4IHRvIG11bHRpcGx5IHdpdGggZnJvbSBsZWZ0IHNpZGUuDQogICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuDQogICAqLwoKCiAgbW11bHQobWF0cml4LCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICBjb25zdCB7CiAgICAgIGVsZW1lbnRzCiAgICB9ID0gbWF0cml4OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgbGV0IHN1bSA9IDAuMDsKCiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCAzOyBrKyspIHsKICAgICAgICAgIHN1bSArPSBlbGVtZW50c1tpICsgayAqIDNdICogdGhpcy5lbGVtZW50c1trICsgaiAqIDNdOwogICAgICAgIH0KCiAgICAgICAgdGFyZ2V0LmVsZW1lbnRzW2kgKyBqICogM10gPSBzdW07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU2NhbGUgZWFjaCBjb2x1bW4gb2YgdGhlIG1hdHJpeA0KICAgKiBAbWV0aG9kIHNjYWxlDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgcmVzdWx0Lg0KICAgKi8KCgogIHNjYWxlKHZlY3RvciwgdGFyZ2V0ID0gbmV3IE1hdDMoKSkgewogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBjb25zdCB0ID0gdGFyZ2V0LmVsZW1lbnRzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSAzOyBpKyspIHsKICAgICAgdFszICogaSArIDBdID0gdmVjdG9yLnggKiBlWzMgKiBpICsgMF07CiAgICAgIHRbMyAqIGkgKyAxXSA9IHZlY3Rvci55ICogZVszICogaSArIDFdOwogICAgICB0WzMgKiBpICsgMl0gPSB2ZWN0b3IueiAqIGVbMyAqIGkgKyAyXTsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU29sdmUgQXg9Yg0KICAgKiBAbWV0aG9kIHNvbHZlDQogICAqIEBwYXJhbSB7VmVjM30gYiBUaGUgcmlnaHQgaGFuZCBzaWRlDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdmVjdG9yIHRvIHNhdmUgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBzb2x1dGlvbiB4DQogICAqIEB0b2RvIHNob3VsZCByZXVzZSBhcnJheXMNCiAgICovCgoKICBzb2x2ZShiLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zCiAgICBjb25zdCBuciA9IDM7IC8vIG51bSByb3dzCgogICAgY29uc3QgbmMgPSA0OyAvLyBudW0gY29scwoKICAgIGNvbnN0IGVxbnMgPSBbXTsKICAgIGxldCBpOwogICAgbGV0IGo7CgogICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykgewogICAgICBlcW5zLnB1c2goMCk7CiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykgewogICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTsKICAgICAgfQogICAgfQoKICAgIGVxbnNbMyArIDQgKiAwXSA9IGIueDsKICAgIGVxbnNbMyArIDQgKiAxXSA9IGIueTsKICAgIGVxbnNbMyArIDQgKiAyXSA9IGIuejsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uCgogICAgbGV0IG4gPSAzOwogICAgY29uc3QgayA9IG47CiAgICBsZXQgbnA7CiAgICBjb25zdCBrcCA9IDQ7IC8vIG51bSByb3dzCgogICAgbGV0IHA7CgogICAgZG8gewogICAgICBpID0gayAtIG47CgogICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkgewogICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzCiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7CiAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGkgKSA9IGxpZ25lKCBpICkgKyBsaWduZSggayApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIC8vIGRvIGxpZ25lKCBrICkgPSBsaWduZSggayApIC0gbXVsdGlwbGllciAqIGxpZ25lKCBpICkKICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IHdoaWxlICgtLW4pOyAvLyBHZXQgdGhlIHNvbHV0aW9uCgoKICAgIHRhcmdldC56ID0gZXFuc1syICogbmMgKyAzXSAvIGVxbnNbMiAqIG5jICsgMl07CiAgICB0YXJnZXQueSA9IChlcW5zWzEgKiBuYyArIDNdIC0gZXFuc1sxICogbmMgKyAyXSAqIHRhcmdldC56KSAvIGVxbnNbMSAqIG5jICsgMV07CiAgICB0YXJnZXQueCA9IChlcW5zWzAgKiBuYyArIDNdIC0gZXFuc1swICogbmMgKyAyXSAqIHRhcmdldC56IC0gZXFuc1swICogbmMgKyAxXSAqIHRhcmdldC55KSAvIGVxbnNbMCAqIG5jICsgMF07CgogICAgaWYgKGlzTmFOKHRhcmdldC54KSB8fCBpc05hTih0YXJnZXQueSkgfHwgaXNOYU4odGFyZ2V0LnopIHx8IHRhcmdldC54ID09PSBJbmZpbml0eSB8fCB0YXJnZXQueSA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnogPT09IEluZmluaXR5KSB7CiAgICAgIHRocm93ICJDb3VsZCBub3Qgc29sdmUgZXF1YXRpb24hIEdvdCB4PVsiICsgdGFyZ2V0LnRvU3RyaW5nKCkgKyAiXSwgYj1bIiArIGIudG9TdHJpbmcoKSArICJdLCBBPVsiICsgdGhpcy50b1N0cmluZygpICsgIl0iOwogICAgfQoKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gZWxlbWVudCBpbiB0aGUgbWF0cml4IGJ5IGluZGV4LiBJbmRleCBzdGFydHMgYXQgMCwgbm90IDEhISENCiAgICogQG1ldGhvZCBlDQogICAqIEBwYXJhbSB7TnVtYmVyfSByb3cNCiAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbHVtbg0KICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgT3B0aW9uYWwuIElmIHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnQgd2lsbCBiZSBzZXQgdG8gdGhpcyB2YWx1ZS4NCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGUocm93LCBjb2x1bW4sIHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFNldCB2YWx1ZQogICAgICB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddID0gdmFsdWU7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb3B5IGFub3RoZXIgbWF0cml4IGludG8gdGhpcyBtYXRyaXggb2JqZWN0Lg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtIHtNYXQzfSBzb3VyY2UNCiAgICogQHJldHVybiB7TWF0M30gdGhpcw0KICAgKi8KCgogIGNvcHkobWF0cml4KSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdHJpeC5lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmVsZW1lbnRzW2ldID0gbWF0cml4LmVsZW1lbnRzW2ldOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4Lg0KICAgKiBAbWV0aG9kIHRvU3RyaW5nDQogICAqIEByZXR1cm4gc3RyaW5nDQogICAqLwoKCiAgdG9TdHJpbmcoKSB7CiAgICBsZXQgciA9ICcnOwogICAgY29uc3Qgc2VwID0gJywnOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7CiAgICAgIHIgKz0gdGhpcy5lbGVtZW50c1tpXSArIHNlcDsKICAgIH0KCiAgICByZXR1cm4gcjsKICB9CiAgLyoqDQogICAqIHJldmVyc2UgdGhlIG1hdHJpeA0KICAgKiBAbWV0aG9kIHJldmVyc2UNCiAgICogQHBhcmFtIHtNYXQzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCBtYXRyaXggdG8gc2F2ZSBpbi4NCiAgICogQHJldHVybiB7TWF0M30gVGhlIHNvbHV0aW9uIHgNCiAgICovCgoKICByZXZlcnNlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHsKICAgIC8vIENvbnN0cnVjdCBlcXVhdGlvbnMKICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3MKCiAgICBjb25zdCBuYyA9IDY7IC8vIG51bSBjb2xzCgogICAgY29uc3QgZXFucyA9IFtdOwogICAgbGV0IGk7CiAgICBsZXQgajsKCiAgICBmb3IgKGkgPSAwOyBpIDwgbnIgKiBuYzsgaSsrKSB7CiAgICAgIGVxbnMucHVzaCgwKTsKICAgIH0KCiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICBlcW5zW2kgKyBuYyAqIGpdID0gdGhpcy5lbGVtZW50c1tpICsgMyAqIGpdOwogICAgICB9CiAgICB9CgogICAgZXFuc1szICsgNiAqIDBdID0gMTsKICAgIGVxbnNbMyArIDYgKiAxXSA9IDA7CiAgICBlcW5zWzMgKyA2ICogMl0gPSAwOwogICAgZXFuc1s0ICsgNiAqIDBdID0gMDsKICAgIGVxbnNbNCArIDYgKiAxXSA9IDE7CiAgICBlcW5zWzQgKyA2ICogMl0gPSAwOwogICAgZXFuc1s1ICsgNiAqIDBdID0gMDsKICAgIGVxbnNbNSArIDYgKiAxXSA9IDA7CiAgICBlcW5zWzUgKyA2ICogMl0gPSAxOyAvLyBDb21wdXRlIHJpZ2h0IHVwcGVyIHRyaWFuZ3VsYXIgdmVyc2lvbiBvZiB0aGUgbWF0cml4IC0gR2F1c3MgZWxpbWluYXRpb24KCiAgICBsZXQgbiA9IDM7CiAgICBjb25zdCBrID0gbjsKICAgIGxldCBucDsKICAgIGNvbnN0IGtwID0gbmM7IC8vIG51bSByb3dzCgogICAgbGV0IHA7CgogICAgZG8gewogICAgICBpID0gayAtIG47CgogICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkgewogICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzCiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7CiAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgLy8gZG8gbGluZSggaSApID0gbGluZSggaSApICsgbGluZSggayApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIC8vIGRvIGxpbmUoIGsgKSA9IGxpbmUoIGsgKSAtIG11bHRpcGxpZXIgKiBsaW5lKCBpICkKICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IHdoaWxlICgtLW4pOyAvLyBlbGltaW5hdGUgdGhlIHVwcGVyIGxlZnQgdHJpYW5nbGUgb2YgdGhlIG1hdHJpeAoKCiAgICBpID0gMjsKCiAgICBkbyB7CiAgICAgIGogPSBpIC0gMTsKCiAgICAgIGRvIHsKICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgICAgbnAgPSBuYzsKCiAgICAgICAgZG8gewogICAgICAgICAgcCA9IG5jIC0gbnA7CiAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICB9IHdoaWxlIChqLS0pOwogICAgfSB3aGlsZSAoLS1pKTsgLy8gb3BlcmF0aW9ucyBvbiB0aGUgZGlhZ29uYWwKCgogICAgaSA9IDI7CgogICAgZG8gewogICAgICBjb25zdCBtdWx0aXBsaWVyID0gMSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgIG5wID0gbmM7CgogICAgICBkbyB7CiAgICAgICAgcCA9IG5jIC0gbnA7CiAgICAgICAgZXFuc1twICsgbmMgKiBpXSA9IGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICB9IHdoaWxlICgtLW5wKTsKICAgIH0gd2hpbGUgKGktLSk7CgogICAgaSA9IDI7CgogICAgZG8gewogICAgICBqID0gMjsKCiAgICAgIGRvIHsKICAgICAgICBwID0gZXFuc1tuciArIGogKyBuYyAqIGldOwoKICAgICAgICBpZiAoaXNOYU4ocCkgfHwgcCA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgIHRocm93ICJDb3VsZCBub3QgcmV2ZXJzZSEgQT1bIiArIHRoaXMudG9TdHJpbmcoKSArICJdIjsKICAgICAgICB9CgogICAgICAgIHRhcmdldC5lKGksIGosIHApOwogICAgICB9IHdoaWxlIChqLS0pOwogICAgfSB3aGlsZSAoaS0tKTsKCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvbg0KICAgKiBAbWV0aG9kIHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24NCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxDQogICAqLwoKCiAgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKSB7CiAgICBjb25zdCB4ID0gcS54OwogICAgY29uc3QgeSA9IHEueTsKICAgIGNvbnN0IHogPSBxLno7CiAgICBjb25zdCB3ID0gcS53OwogICAgY29uc3QgeDIgPSB4ICsgeDsKICAgIGNvbnN0IHkyID0geSArIHk7CiAgICBjb25zdCB6MiA9IHogKyB6OwogICAgY29uc3QgeHggPSB4ICogeDI7CiAgICBjb25zdCB4eSA9IHggKiB5MjsKICAgIGNvbnN0IHh6ID0geCAqIHoyOwogICAgY29uc3QgeXkgPSB5ICogeTI7CiAgICBjb25zdCB5eiA9IHkgKiB6MjsKICAgIGNvbnN0IHp6ID0geiAqIHoyOwogICAgY29uc3Qgd3ggPSB3ICogeDI7CiAgICBjb25zdCB3eSA9IHcgKiB5MjsKICAgIGNvbnN0IHd6ID0gdyAqIHoyOwogICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICBlWzMgKiAwICsgMF0gPSAxIC0gKHl5ICsgenopOwogICAgZVszICogMCArIDFdID0geHkgLSB3ejsKICAgIGVbMyAqIDAgKyAyXSA9IHh6ICsgd3k7CiAgICBlWzMgKiAxICsgMF0gPSB4eSArIHd6OwogICAgZVszICogMSArIDFdID0gMSAtICh4eCArIHp6KTsKICAgIGVbMyAqIDEgKyAyXSA9IHl6IC0gd3g7CiAgICBlWzMgKiAyICsgMF0gPSB4eiAtIHd5OwogICAgZVszICogMiArIDFdID0geXogKyB3eDsKICAgIGVbMyAqIDIgKyAyXSA9IDEgLSAoeHggKyB5eSk7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIFRyYW5zcG9zZSB0aGUgbWF0cml4DQogICAqIEBtZXRob2QgdHJhbnNwb3NlDQogICAqIEBwYXJhbSAge01hdDN9IHRhcmdldCBPcHRpb25hbC4gV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdC4NCiAgICogQHJldHVybiB7TWF0M30gVGhlIHRhcmdldCBNYXQzLCBvciBhIG5ldyBNYXQzIGlmIHRhcmdldCB3YXMgb21pdHRlZC4NCiAgICovCgoKICB0cmFuc3Bvc2UodGFyZ2V0ID0gbmV3IE1hdDMoKSkgewogICAgY29uc3QgTXQgPSB0YXJnZXQuZWxlbWVudHM7CiAgICBjb25zdCBNID0gdGhpcy5lbGVtZW50czsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gMzsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAzOyBqKyspIHsKICAgICAgICBNdFszICogaSArIGpdID0gTVszICogaiArIGldOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRhcmdldDsKICB9Cgp9Ci8qKg0KICogMy1kaW1lbnNpb25hbCB2ZWN0b3INCiAqIEBjbGFzcyBWZWMzDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7TnVtYmVyfSB4DQogKiBAcGFyYW0ge051bWJlcn0geQ0KICogQHBhcmFtIHtOdW1iZXJ9IHoNCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBleGFtcGxlDQogKiAgICAgY29uc3QgdiA9IG5ldyBWZWMzKDEsIDIsIDMpOw0KICogICAgIGNvbnNvbGUubG9nKCd4PScgKyB2LngpOyAvLyB4PTENCiAqLwoKCmNsYXNzIFZlYzMgewogIGNvbnN0cnVjdG9yKHggPSAwLjAsIHkgPSAwLjAsIHogPSAwLjApIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICB9CiAgLyoqDQogICAqIFZlY3RvciBjcm9zcyBwcm9kdWN0DQogICAqIEBtZXRob2QgY3Jvc3MNCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdG8gc2F2ZSBpbi4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjcm9zcyh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIGNvbnN0IHZ4ID0gdmVjdG9yLng7CiAgICBjb25zdCB2eSA9IHZlY3Rvci55OwogICAgY29uc3QgdnogPSB2ZWN0b3IuejsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIHRhcmdldC54ID0geSAqIHZ6IC0geiAqIHZ5OwogICAgdGFyZ2V0LnkgPSB6ICogdnggLSB4ICogdno7CiAgICB0YXJnZXQueiA9IHggKiB2eSAtIHkgKiB2eDsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIHZlY3RvcnMnIDMgZWxlbWVudHMNCiAgICogQG1ldGhvZCBzZXQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHgNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHkNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHoNCiAgICogQHJldHVybiBWZWMzDQogICAqLwoKCiAgc2V0KHgsIHksIHopIHsKICAgIHRoaXMueCA9IHg7CiAgICB0aGlzLnkgPSB5OwogICAgdGhpcy56ID0gejsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogU2V0IGFsbCBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3IgdG8gemVyby4NCiAgICogQG1ldGhvZCBzZXRaZXJvDQogICAqLwoKCiAgc2V0WmVybygpIHsKICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IDA7CiAgfQogIC8qKg0KICAgKiBWZWN0b3IgYWRkaXRpb24NCiAgICogQG1ldGhvZCB2YWRkDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICB2YWRkKHZlY3RvciwgdGFyZ2V0KSB7CiAgICBpZiAodGFyZ2V0KSB7CiAgICAgIHRhcmdldC54ID0gdmVjdG9yLnggKyB0aGlzLng7CiAgICAgIHRhcmdldC55ID0gdmVjdG9yLnkgKyB0aGlzLnk7CiAgICAgIHRhcmdldC56ID0gdmVjdG9yLnogKyB0aGlzLno7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54ICsgdmVjdG9yLngsIHRoaXMueSArIHZlY3Rvci55LCB0aGlzLnogKyB2ZWN0b3Iueik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBWZWN0b3Igc3VidHJhY3Rpb24NCiAgICogQG1ldGhvZCB2c3ViDQogICAqIEBwYXJhbSB7VmVjM30gdg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgdnN1Yih2ZWN0b3IsIHRhcmdldCkgewogICAgaWYgKHRhcmdldCkgewogICAgICB0YXJnZXQueCA9IHRoaXMueCAtIHZlY3Rvci54OwogICAgICB0YXJnZXQueSA9IHRoaXMueSAtIHZlY3Rvci55OwogICAgICB0YXJnZXQueiA9IHRoaXMueiAtIHZlY3Rvci56OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCAtIHZlY3Rvci54LCB0aGlzLnkgLSB2ZWN0b3IueSwgdGhpcy56IC0gdmVjdG9yLnopOwogICAgfQogIH0KICAvKioNCiAgICogR2V0IHRoZSBjcm9zcyBwcm9kdWN0IG1hdHJpeCBhX2Nyb3NzIGZyb20gYSB2ZWN0b3IsIHN1Y2ggdGhhdCBhIHggYiA9IGFfY3Jvc3MgKiBiID0gYw0KICAgKiBAbWV0aG9kIGNyb3NzbWF0DQogICAqIEBzZWUgaHR0cDovL3d3dzguY3MudW11LnNlL2t1cnNlci9UREJEMjQvVlQwNi9sZWN0dXJlcy9MZWN0dXJlNi5wZGYNCiAgICogQHJldHVybiB7TWF0M30NCiAgICovCgoKICBjcm9zc21hdCgpIHsKICAgIHJldHVybiBuZXcgTWF0MyhbMCwgLXRoaXMueiwgdGhpcy55LCB0aGlzLnosIDAsIC10aGlzLngsIC10aGlzLnksIHRoaXMueCwgMF0pOwogIH0KICAvKioNCiAgICogTm9ybWFsaXplIHRoZSB2ZWN0b3IuIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBpbiB0aGUgdmVjdG9yLg0KICAgKiBAbWV0aG9kIG5vcm1hbGl6ZQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFJldHVybnMgdGhlIG5vcm0gb2YgdGhlIHZlY3Rvcg0KICAgKi8KCgogIG5vcm1hbGl6ZSgpIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICBpZiAobiA+IDAuMCkgewogICAgICBjb25zdCBpbnZOID0gMSAvIG47CiAgICAgIHRoaXMueCAqPSBpbnZOOwogICAgICB0aGlzLnkgKj0gaW52TjsKICAgICAgdGhpcy56ICo9IGludk47CiAgICB9IGVsc2UgewogICAgICAvLyBNYWtlIHNvbWV0aGluZyB1cAogICAgICB0aGlzLnggPSAwOwogICAgICB0aGlzLnkgPSAwOwogICAgICB0aGlzLnogPSAwOwogICAgfQoKICAgIHJldHVybiBuOwogIH0KICAvKioNCiAgICogR2V0IHRoZSB2ZXJzaW9uIG9mIHRoaXMgdmVjdG9yIHRoYXQgaXMgb2YgbGVuZ3RoIDEuDQogICAqIEBtZXRob2QgdW5pdA0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpbg0KICAgKiBAcmV0dXJuIHtWZWMzfSBSZXR1cm5zIHRoZSB1bml0IHZlY3Rvcg0KICAgKi8KCgogIHVuaXQodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgbGV0IG5pbnYgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICBpZiAobmludiA+IDAuMCkgewogICAgICBuaW52ID0gMS4wIC8gbmludjsKICAgICAgdGFyZ2V0LnggPSB4ICogbmludjsKICAgICAgdGFyZ2V0LnkgPSB5ICogbmludjsKICAgICAgdGFyZ2V0LnogPSB6ICogbmludjsKICAgIH0gZWxzZSB7CiAgICAgIHRhcmdldC54ID0gMTsKICAgICAgdGFyZ2V0LnkgPSAwOwogICAgICB0YXJnZXQueiA9IDA7CiAgICB9CgogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3INCiAgICogQG1ldGhvZCBsZW5ndGgNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGxlbmd0aCgpIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgc3F1YXJlZCBsZW5ndGggb2YgdGhlIHZlY3Rvci4NCiAgICogQG1ldGhvZCBsZW5ndGhTcXVhcmVkDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBsZW5ndGhTcXVhcmVkKCkgewogICAgcmV0dXJuIHRoaXMuZG90KHRoaXMpOwogIH0KICAvKioNCiAgICogR2V0IGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50DQogICAqIEBtZXRob2QgZGlzdGFuY2VUbw0KICAgKiBAcGFyYW0gIHtWZWMzfSBwDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBkaXN0YW5jZVRvKHApIHsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IHB4ID0gcC54OwogICAgY29uc3QgcHkgPSBwLnk7CiAgICBjb25zdCBweiA9IHAuejsKICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTsKICB9CiAgLyoqDQogICAqIEdldCBzcXVhcmVkIGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50DQogICAqIEBtZXRob2QgZGlzdGFuY2VTcXVhcmVkDQogICAqIEBwYXJhbSAge1ZlYzN9IHANCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGRpc3RhbmNlU3F1YXJlZChwKSB7CiAgICBjb25zdCB4ID0gdGhpcy54OwogICAgY29uc3QgeSA9IHRoaXMueTsKICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICBjb25zdCBweCA9IHAueDsKICAgIGNvbnN0IHB5ID0gcC55OwogICAgY29uc3QgcHogPSBwLno7CiAgICByZXR1cm4gKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3Igd2l0aCBhIHNjYWxhci4NCiAgICogQG1ldGhvZCBzY2FsZQ0KICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHNjYWxlKHNjYWxhciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgdGFyZ2V0LnggPSBzY2FsYXIgKiB4OwogICAgdGFyZ2V0LnkgPSBzY2FsYXIgKiB5OwogICAgdGFyZ2V0LnogPSBzY2FsYXIgKiB6OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIE11bHRpcGx5IHRoZSB2ZWN0b3Igd2l0aCBhbiBvdGhlciB2ZWN0b3IsIGNvbXBvbmVudC13aXNlLg0KICAgKiBAbWV0aG9kIHZtdWx0DQogICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWN0b3INCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uDQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgdm11bCh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIHRhcmdldC54ID0gdmVjdG9yLnggKiB0aGlzLng7CiAgICB0YXJnZXQueSA9IHZlY3Rvci55ICogdGhpcy55OwogICAgdGFyZ2V0LnogPSB2ZWN0b3IueiAqIHRoaXMuejsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBTY2FsZSBhIHZlY3RvciBhbmQgYWRkIGl0IHRvIHRoaXMgdmVjdG9yLiBTYXZlIHRoZSByZXN1bHQgaW4gInRhcmdldCIuICh0YXJnZXQgPSB0aGlzICsgdmVjdG9yICogc2NhbGFyKQ0KICAgKiBAbWV0aG9kIGFkZFNjYWxlZFZlY3Rvcg0KICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyDQogICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLg0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGFkZFNjYWxlZFZlY3RvcihzY2FsYXIsIHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnggPSB0aGlzLnggKyBzY2FsYXIgKiB2ZWN0b3IueDsKICAgIHRhcmdldC55ID0gdGhpcy55ICsgc2NhbGFyICogdmVjdG9yLnk7CiAgICB0YXJnZXQueiA9IHRoaXMueiArIHNjYWxhciAqIHZlY3Rvci56OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIENhbGN1bGF0ZSBkb3QgcHJvZHVjdA0KICAgKiBAbWV0aG9kIGRvdA0KICAgKiBAcGFyYW0ge1ZlYzN9IHYNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGRvdCh2ZWN0b3IpIHsKICAgIHJldHVybiB0aGlzLnggKiB2ZWN0b3IueCArIHRoaXMueSAqIHZlY3Rvci55ICsgdGhpcy56ICogdmVjdG9yLno7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGlzWmVybw0KICAgKiBAcmV0dXJuIGJvb2wNCiAgICovCgoKICBpc1plcm8oKSB7CiAgICByZXR1cm4gdGhpcy54ID09PSAwICYmIHRoaXMueSA9PT0gMCAmJiB0aGlzLnogPT09IDA7CiAgfQogIC8qKg0KICAgKiBNYWtlIHRoZSB2ZWN0b3IgcG9pbnQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi4NCiAgICogQG1ldGhvZCBuZWdhdGUNCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW4NCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBuZWdhdGUodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnggPSAtdGhpcy54OwogICAgdGFyZ2V0LnkgPSAtdGhpcy55OwogICAgdGFyZ2V0LnogPSAtdGhpcy56OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3Rvcg0KICAgKiBAbWV0aG9kIHRhbmdlbnRzDQogICAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluDQogICAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpbg0KICAgKi8KCgogIHRhbmdlbnRzKHQxLCB0MikgewogICAgY29uc3Qgbm9ybSA9IHRoaXMubGVuZ3RoKCk7CgogICAgaWYgKG5vcm0gPiAwLjApIHsKICAgICAgY29uc3QgbiA9IFZlYzNfdGFuZ2VudHNfbjsKICAgICAgY29uc3QgaW5vcm0gPSAxIC8gbm9ybTsKICAgICAgbi5zZXQodGhpcy54ICogaW5vcm0sIHRoaXMueSAqIGlub3JtLCB0aGlzLnogKiBpbm9ybSk7CiAgICAgIGNvbnN0IHJhbmRWZWMgPSBWZWMzX3RhbmdlbnRzX3JhbmRWZWM7CgogICAgICBpZiAoTWF0aC5hYnMobi54KSA8IDAuOSkgewogICAgICAgIHJhbmRWZWMuc2V0KDEsIDAsIDApOwogICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHJhbmRWZWMuc2V0KDAsIDEsIDApOwogICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpOwogICAgICB9CgogICAgICBuLmNyb3NzKHQxLCB0Mik7CiAgICB9IGVsc2UgewogICAgICAvLyBUaGUgbm9ybWFsIGxlbmd0aCBpcyB6ZXJvLCBtYWtlIHNvbWV0aGluZyB1cAogICAgICB0MS5zZXQoMSwgMCwgMCk7CiAgICAgIHQyLnNldCgwLCAxLCAwKTsKICAgIH0KICB9CiAgLyoqDQogICAqIENvbnZlcnRzIHRvIGEgbW9yZSByZWFkYWJsZSBmb3JtYXQNCiAgICogQG1ldGhvZCB0b1N0cmluZw0KICAgKiBAcmV0dXJuIHN0cmluZw0KICAgKi8KCgogIHRvU3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMueCArICIsIiArIHRoaXMueSArICIsIiArIHRoaXMuejsKICB9CiAgLyoqDQogICAqIENvbnZlcnRzIHRvIGFuIGFycmF5DQogICAqIEBtZXRob2QgdG9BcnJheQ0KICAgKiBAcmV0dXJuIEFycmF5DQogICAqLwoKCiAgdG9BcnJheSgpIHsKICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07CiAgfQogIC8qKg0KICAgKiBDb3BpZXMgdmFsdWUgb2Ygc291cmNlIHRvIHRoaXMgdmVjdG9yLg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtIHtWZWMzfSBzb3VyY2UNCiAgICogQHJldHVybiB7VmVjM30gdGhpcw0KICAgKi8KCgogIGNvcHkodmVjdG9yKSB7CiAgICB0aGlzLnggPSB2ZWN0b3IueDsKICAgIHRoaXMueSA9IHZlY3Rvci55OwogICAgdGhpcy56ID0gdmVjdG9yLno7CiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjdG9ycw0KICAgKiBAbWV0aG9kIGxlcnANCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7TnVtYmVyfSB0IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gMCB3aWxsIG1ha2UgdGhpcyBmdW5jdGlvbiByZXR1cm4gdSwgYW5kIDEgd2lsbCBtYWtlIGl0IHJldHVybiB2LiBOdW1iZXJzIGluIGJldHdlZW4gd2lsbCBnZW5lcmF0ZSBhIHZlY3RvciBpbiBiZXR3ZWVuIHRoZW0uDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0DQogICAqLwoKCiAgbGVycCh2ZWN0b3IsIHQsIHRhcmdldCkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgdGFyZ2V0LnggPSB4ICsgKHZlY3Rvci54IC0geCkgKiB0OwogICAgdGFyZ2V0LnkgPSB5ICsgKHZlY3Rvci55IC0geSkgKiB0OwogICAgdGFyZ2V0LnogPSB6ICsgKHZlY3Rvci56IC0geikgKiB0OwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYSB2ZWN0b3IgZXF1YWxzIGlzIGFsbW9zdCBlcXVhbCB0byBhbm90aGVyIG9uZS4NCiAgICogQG1ldGhvZCBhbG1vc3RFcXVhbHMNCiAgICogQHBhcmFtIHtWZWMzfSB2DQogICAqIEBwYXJhbSB7TnVtYmVyfSBwcmVjaXNpb24NCiAgICogQHJldHVybiBib29sDQogICAqLwoKCiAgYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uID0gMWUtNikgewogICAgaWYgKE1hdGguYWJzKHRoaXMueCAtIHZlY3Rvci54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkgLSB2ZWN0b3IueSkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy56IC0gdmVjdG9yLnopID4gcHJlY2lzaW9uKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLyoqDQogICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGFsbW9zdCB6ZXJvDQogICAqIEBtZXRob2QgYWxtb3N0WmVybw0KICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uDQogICAqLwoKCiAgYWxtb3N0WmVybyhwcmVjaXNpb24gPSAxZS02KSB7CiAgICBpZiAoTWF0aC5hYnModGhpcy54KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueikgPiBwcmVjaXNpb24pIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLg0KICAgKiBAbWV0aG9kIGlzQW50aXBhcmFsbGVsVG8NCiAgICogQHBhcmFtICB7VmVjM30gIHYNCiAgICogQHBhcmFtICB7TnVtYmVyfSAgcHJlY2lzaW9uIFNldCB0byB6ZXJvIGZvciBleGFjdCBjb21wYXJpc29ucw0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIGlzQW50aXBhcmFsbGVsVG8odmVjdG9yLCBwcmVjaXNpb24pIHsKICAgIHRoaXMubmVnYXRlKGFudGlwX25lZyk7CiAgICByZXR1cm4gYW50aXBfbmVnLmFsbW9zdEVxdWFscyh2ZWN0b3IsIHByZWNpc2lvbik7CiAgfQogIC8qKg0KICAgKiBDbG9uZSB0aGUgdmVjdG9yDQogICAqIEBtZXRob2QgY2xvbmUNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLngsIHRoaXMueSwgdGhpcy56KTsKICB9Cgp9CgpWZWMzLlpFUk8gPSBuZXcgVmVjMygwLCAwLCAwKTsKVmVjMy5VTklUX1ggPSBuZXcgVmVjMygxLCAwLCAwKTsKVmVjMy5VTklUX1kgPSBuZXcgVmVjMygwLCAxLCAwKTsKVmVjMy5VTklUX1ogPSBuZXcgVmVjMygwLCAwLCAxKTsKLyoqDQogKiBDb21wdXRlIHR3byBhcnRpZmljaWFsIHRhbmdlbnRzIHRvIHRoZSB2ZWN0b3INCiAqIEBtZXRob2QgdGFuZ2VudHMNCiAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluDQogKiBAcGFyYW0ge1ZlYzN9IHQyIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgc2Vjb25kIHRhbmdlbnQgaW4NCiAqLwoKY29uc3QgVmVjM190YW5nZW50c19uID0gbmV3IFZlYzMoKTsKY29uc3QgVmVjM190YW5nZW50c19yYW5kVmVjID0gbmV3IFZlYzMoKTsKY29uc3QgYW50aXBfbmVnID0gbmV3IFZlYzMoKTsKLyoqDQogKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IGNsYXNzLg0KICogQGNsYXNzIEFBQkINCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtWZWMzfSAgIFtvcHRpb25zLnVwcGVyQm91bmRdIFRoZSB1cHBlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94Lg0KICogQHBhcmFtIHtWZWMzfSAgIFtvcHRpb25zLmxvd2VyQm91bmRdIFRoZSBsb3dlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94DQogKi8KCmNsYXNzIEFBQkIgewogIC8vIFRoZSBsb3dlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94CiAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHsKICAgIHRoaXMubG93ZXJCb3VuZCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpOwoKICAgIGlmIChvcHRpb25zLmxvd2VyQm91bmQpIHsKICAgICAgdGhpcy5sb3dlckJvdW5kLmNvcHkob3B0aW9ucy5sb3dlckJvdW5kKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy51cHBlckJvdW5kKSB7CiAgICAgIHRoaXMudXBwZXJCb3VuZC5jb3B5KG9wdGlvbnMudXBwZXJCb3VuZCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIEFBQkIgYm91bmRzIGZyb20gYSBzZXQgb2YgcG9pbnRzLg0KICAgKiBAbWV0aG9kIHNldEZyb21Qb2ludHMNCiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncy4NCiAgICogQHBhcmFtIHtWZWMzfSBwb3NpdGlvbiBPcHRpb25hbC4NCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ZXJuaW9uIE9wdGlvbmFsLg0KICAgKiBAcGFyYW0ge251bWJlcn0gc2tpblNpemUgT3B0aW9uYWwuDQogICAqIEByZXR1cm4ge0FBQkJ9IFRoZSBzZWxmIG9iamVjdA0KICAgKi8KCgogIHNldEZyb21Qb2ludHMocG9pbnRzLCBwb3NpdGlvbiwgcXVhdGVybmlvbiwgc2tpblNpemUpIHsKICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgY29uc3QgcSA9IHF1YXRlcm5pb247IC8vIFNldCB0byB0aGUgZmlyc3QgcG9pbnQKCiAgICBsLmNvcHkocG9pbnRzWzBdKTsKCiAgICBpZiAocSkgewogICAgICBxLnZtdWx0KGwsIGwpOwogICAgfQoKICAgIHUuY29weShsKTsKCiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykgewogICAgICBsZXQgcCA9IHBvaW50c1tpXTsKCiAgICAgIGlmIChxKSB7CiAgICAgICAgcS52bXVsdChwLCB0bXApOwogICAgICAgIHAgPSB0bXA7CiAgICAgIH0KCiAgICAgIGlmIChwLnggPiB1LngpIHsKICAgICAgICB1LnggPSBwLng7CiAgICAgIH0KCiAgICAgIGlmIChwLnggPCBsLngpIHsKICAgICAgICBsLnggPSBwLng7CiAgICAgIH0KCiAgICAgIGlmIChwLnkgPiB1LnkpIHsKICAgICAgICB1LnkgPSBwLnk7CiAgICAgIH0KCiAgICAgIGlmIChwLnkgPCBsLnkpIHsKICAgICAgICBsLnkgPSBwLnk7CiAgICAgIH0KCiAgICAgIGlmIChwLnogPiB1LnopIHsKICAgICAgICB1LnogPSBwLno7CiAgICAgIH0KCiAgICAgIGlmIChwLnogPCBsLnopIHsKICAgICAgICBsLnogPSBwLno7CiAgICAgIH0KICAgIH0gLy8gQWRkIG9mZnNldAoKCiAgICBpZiAocG9zaXRpb24pIHsKICAgICAgcG9zaXRpb24udmFkZChsLCBsKTsKICAgICAgcG9zaXRpb24udmFkZCh1LCB1KTsKICAgIH0KCiAgICBpZiAoc2tpblNpemUpIHsKICAgICAgbC54IC09IHNraW5TaXplOwogICAgICBsLnkgLT0gc2tpblNpemU7CiAgICAgIGwueiAtPSBza2luU2l6ZTsKICAgICAgdS54ICs9IHNraW5TaXplOwogICAgICB1LnkgKz0gc2tpblNpemU7CiAgICAgIHUueiArPSBza2luU2l6ZTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIENvcHkgYm91bmRzIGZyb20gYW4gQUFCQiB0byB0aGlzIEFBQkINCiAgICogQG1ldGhvZCBjb3B5DQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmIgU291cmNlIHRvIGNvcHkgZnJvbQ0KICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgdGhpcyBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkNCiAgICovCgoKICBjb3B5KGFhYmIpIHsKICAgIHRoaXMubG93ZXJCb3VuZC5jb3B5KGFhYmIubG93ZXJCb3VuZCk7CiAgICB0aGlzLnVwcGVyQm91bmQuY29weShhYWJiLnVwcGVyQm91bmQpOwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBDbG9uZSBhbiBBQUJCDQogICAqIEBtZXRob2QgY2xvbmUNCiAgICovCgoKICBjbG9uZSgpIHsKICAgIHJldHVybiBuZXcgQUFCQigpLmNvcHkodGhpcyk7CiAgfQogIC8qKg0KICAgKiBFeHRlbmQgdGhpcyBBQUJCIHNvIHRoYXQgaXQgY292ZXJzIHRoZSBnaXZlbiBBQUJCIHRvby4NCiAgICogQG1ldGhvZCBleHRlbmQNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKi8KCgogIGV4dGVuZChhYWJiKSB7CiAgICB0aGlzLmxvd2VyQm91bmQueCA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueCk7CiAgICB0aGlzLnVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueCk7CiAgICB0aGlzLmxvd2VyQm91bmQueSA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LCBhYWJiLmxvd2VyQm91bmQueSk7CiAgICB0aGlzLnVwcGVyQm91bmQueSA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC55LCBhYWJiLnVwcGVyQm91bmQueSk7CiAgICB0aGlzLmxvd2VyQm91bmQueiA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC56LCBhYWJiLmxvd2VyQm91bmQueik7CiAgICB0aGlzLnVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LCBhYWJiLnVwcGVyQm91bmQueik7CiAgfQogIC8qKg0KICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIEFBQkIgb3ZlcmxhcHMgdGhpcyBBQUJCLg0KICAgKiBAbWV0aG9kIG92ZXJsYXBzDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBvdmVybGFwcyhhYWJiKSB7CiAgICBjb25zdCBsMSA9IHRoaXMubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgY29uc3QgbDIgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1MiA9IGFhYmIudXBwZXJCb3VuZDsgLy8gICAgICBsMiAgICAgICAgdTIKICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgIC8vIHwtLS0tLS0tLXwKICAgIC8vIGwxICAgICAgIHUxCgogICAgY29uc3Qgb3ZlcmxhcHNYID0gbDIueCA8PSB1MS54ICYmIHUxLnggPD0gdTIueCB8fCBsMS54IDw9IHUyLnggJiYgdTIueCA8PSB1MS54OwogICAgY29uc3Qgb3ZlcmxhcHNZID0gbDIueSA8PSB1MS55ICYmIHUxLnkgPD0gdTIueSB8fCBsMS55IDw9IHUyLnkgJiYgdTIueSA8PSB1MS55OwogICAgY29uc3Qgb3ZlcmxhcHNaID0gbDIueiA8PSB1MS56ICYmIHUxLnogPD0gdTIueiB8fCBsMS56IDw9IHUyLnogJiYgdTIueiA8PSB1MS56OwogICAgcmV0dXJuIG92ZXJsYXBzWCAmJiBvdmVybGFwc1kgJiYgb3ZlcmxhcHNaOwogIH0gLy8gTW9zdGx5IGZvciBkZWJ1Z2dpbmcKCgogIHZvbHVtZSgpIHsKICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgcmV0dXJuICh1LnggLSBsLngpICogKHUueSAtIGwueSkgKiAodS56IC0gbC56KTsKICB9CiAgLyoqDQogICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBpcyBmdWxseSBjb250YWluZWQgaW4gdGhpcyBBQUJCLg0KICAgKiBAbWV0aG9kIGNvbnRhaW5zDQogICAqIEBwYXJhbSB7QUFCQn0gYWFiYg0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIGNvbnRhaW5zKGFhYmIpIHsKICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kOwogICAgY29uc3QgdTEgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MgogICAgLy8gICAgICB8LS0tLS0tLS0tfAogICAgLy8gfC0tLS0tLS0tLS0tLS0tLXwKICAgIC8vIGwxICAgICAgICAgICAgICB1MQoKICAgIHJldHVybiBsMS54IDw9IGwyLnggJiYgdTEueCA+PSB1Mi54ICYmIGwxLnkgPD0gbDIueSAmJiB1MS55ID49IHUyLnkgJiYgbDEueiA8PSBsMi56ICYmIHUxLnogPj0gdTIuejsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgZ2V0Q29ybmVycw0KICAgKiBAcGFyYW0ge1ZlYzN9IGENCiAgICogQHBhcmFtIHtWZWMzfSBiDQogICAqIEBwYXJhbSB7VmVjM30gYw0KICAgKiBAcGFyYW0ge1ZlYzN9IGQNCiAgICogQHBhcmFtIHtWZWMzfSBlDQogICAqIEBwYXJhbSB7VmVjM30gZg0KICAgKiBAcGFyYW0ge1ZlYzN9IGcNCiAgICogQHBhcmFtIHtWZWMzfSBoDQogICAqLwoKCiAgZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7CiAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kOwogICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDsKICAgIGEuY29weShsKTsKICAgIGIuc2V0KHUueCwgbC55LCBsLnopOwogICAgYy5zZXQodS54LCB1LnksIGwueik7CiAgICBkLnNldChsLngsIHUueSwgdS56KTsKICAgIGUuc2V0KHUueCwgbC55LCB1LnopOwogICAgZi5zZXQobC54LCB1LnksIGwueik7CiAgICBnLnNldChsLngsIGwueSwgdS56KTsKICAgIGguY29weSh1KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiBhbm90aGVyIGZyYW1lLg0KICAgKiBAbWV0aG9kIHRvTG9jYWxGcmFtZQ0KICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lDQogICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgInRhcmdldCIgQUFCQiBvYmplY3QuDQogICAqLwoKCiAgdG9Mb2NhbEZyYW1lKGZyYW1lLCB0YXJnZXQpIHsKICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVyczsKICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdOwogICAgY29uc3QgYiA9IGNvcm5lcnNbMV07CiAgICBjb25zdCBjID0gY29ybmVyc1syXTsKICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdOwogICAgY29uc3QgZSA9IGNvcm5lcnNbNF07CiAgICBjb25zdCBmID0gY29ybmVyc1s1XTsKICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdOwogICAgY29uc3QgaCA9IGNvcm5lcnNbN107IC8vIEdldCBjb3JuZXJzIGluIGN1cnJlbnQgZnJhbWUKCiAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZQoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1tpXTsKICAgICAgZnJhbWUucG9pbnRUb0xvY2FsKGNvcm5lciwgY29ybmVyKTsKICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0LnNldEZyb21Qb2ludHMoY29ybmVycyk7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gdGhlIGdsb2JhbCBmcmFtZS4NCiAgICogQG1ldGhvZCB0b1dvcmxkRnJhbWUNCiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSBmcmFtZQ0KICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXQNCiAgICogQHJldHVybiB7QUFCQn0gVGhlICJ0YXJnZXQiIEFBQkIgb2JqZWN0Lg0KICAgKi8KCgogIHRvV29ybGRGcmFtZShmcmFtZSwgdGFyZ2V0KSB7CiAgICBjb25zdCBjb3JuZXJzID0gdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnM7CiAgICBjb25zdCBhID0gY29ybmVyc1swXTsKICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdOwogICAgY29uc3QgYyA9IGNvcm5lcnNbMl07CiAgICBjb25zdCBkID0gY29ybmVyc1szXTsKICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdOwogICAgY29uc3QgZiA9IGNvcm5lcnNbNV07CiAgICBjb25zdCBnID0gY29ybmVyc1s2XTsKICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lCgogICAgdGhpcy5nZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpOyAvLyBUcmFuc2Zvcm0gdGhlbSB0byBuZXcgbG9jYWwgZnJhbWUKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7CiAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07CiAgICAgIGZyYW1lLnBvaW50VG9Xb3JsZChjb3JuZXIsIGNvcm5lcik7CiAgICB9CgogICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgdGhlIEFBQkIgaXMgaGl0IGJ5IGEgcmF5Lg0KICAgKiBAcGFyYW0gIHtSYXl9IHJheQ0KICAgKiBAcmV0dXJuIHtCb29sZWFufQ0KICAgKi8KCgogIG92ZXJsYXBzUmF5KHJheSkgewogICAgY29uc3QgewogICAgICBkaXJlY3Rpb24sCiAgICAgIGZyb20KICAgIH0gPSByYXk7CiAgICBjb25zdCBkaXJGcmFjWCA9IDEgLyBkaXJlY3Rpb24ueDsKICAgIGNvbnN0IGRpckZyYWNZID0gMSAvIGRpcmVjdGlvbi55OwogICAgY29uc3QgZGlyRnJhY1ogPSAxIC8gZGlyZWN0aW9uLno7IC8vIHRoaXMubG93ZXJCb3VuZCBpcyB0aGUgY29ybmVyIG9mIEFBQkIgd2l0aCBtaW5pbWFsIGNvb3JkaW5hdGVzIC0gbGVmdCBib3R0b20sIHJ0IGlzIG1heGltYWwgY29ybmVyCgogICAgY29uc3QgdDEgPSAodGhpcy5sb3dlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7CiAgICBjb25zdCB0MiA9ICh0aGlzLnVwcGVyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDsKICAgIGNvbnN0IHQzID0gKHRoaXMubG93ZXJCb3VuZC55IC0gZnJvbS55KSAqIGRpckZyYWNZOwogICAgY29uc3QgdDQgPSAodGhpcy51cHBlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7CiAgICBjb25zdCB0NSA9ICh0aGlzLmxvd2VyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjsKICAgIGNvbnN0IHQ2ID0gKHRoaXMudXBwZXJCb3VuZC56IC0gZnJvbS56KSAqIGRpckZyYWNaOyAvLyBjb25zdCB0bWluID0gTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgTWF0aC5taW4odDMsIHQ0KSkpOwogICAgLy8gY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTsKCiAgICBjb25zdCB0bWluID0gTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgTWF0aC5taW4odDMsIHQ0KSksIE1hdGgubWluKHQ1LCB0NikpOwogICAgY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpLCBNYXRoLm1heCh0NSwgdDYpKTsgLy8gaWYgdG1heCA8IDAsIHJheSAobGluZSkgaXMgaW50ZXJzZWN0aW5nIEFBQkIsIGJ1dCB3aG9sZSBBQUJCIGlzIGJlaGluZyB1cwoKICAgIGlmICh0bWF4IDwgMCkgewogICAgICAvL3QgPSB0bWF4OwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IC8vIGlmIHRtaW4gPiB0bWF4LCByYXkgZG9lc24ndCBpbnRlcnNlY3QgQUFCQgoKCiAgICBpZiAodG1pbiA+IHRtYXgpIHsKICAgICAgLy90ID0gdG1heDsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCn0KCmNvbnN0IHRtcCA9IG5ldyBWZWMzKCk7CmNvbnN0IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwovKioNCiAqIENvbGxpc2lvbiAibWF0cml4Ii4gSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcA0KICogQGNsYXNzIEFycmF5Q29sbGlzaW9uTWF0cml4DQogKiBAY29uc3RydWN0b3INCiAqLwoKY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXggewogIC8vIFRoZSBtYXRyaXggc3RvcmFnZS4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMubWF0cml4ID0gW107CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gZWxlbWVudA0KICAgKiBAbWV0aG9kIGdldA0KICAgKiBAcGFyYW0gIHtCb2R5fSBpDQogICAqIEBwYXJhbSAge0JvZHl9IGoNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGdldChiaSwgYmopIHsKICAgIGxldCB7CiAgICAgIGluZGV4OiBpCiAgICB9ID0gYmk7CiAgICBsZXQgewogICAgICBpbmRleDogagogICAgfSA9IGJqOwoKICAgIGlmIChqID4gaSkgewogICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgaiA9IGk7CiAgICAgIGkgPSB0ZW1wOwogICAgfQoKICAgIHJldHVybiB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV07CiAgfQogIC8qKg0KICAgKiBTZXQgYW4gZWxlbWVudA0KICAgKiBAbWV0aG9kIHNldA0KICAgKiBAcGFyYW0ge0JvZHl9IGkNCiAgICogQHBhcmFtIHtCb2R5fSBqDQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUNCiAgICovCgoKICBzZXQoYmksIGJqLCB2YWx1ZSkgewogICAgbGV0IHsKICAgICAgaW5kZXg6IGkKICAgIH0gPSBiaTsKICAgIGxldCB7CiAgICAgIGluZGV4OiBqCiAgICB9ID0gYmo7CgogICAgaWYgKGogPiBpKSB7CiAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICBqID0gaTsKICAgICAgaSA9IHRlbXA7CiAgICB9CgogICAgdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdID0gdmFsdWUgPyAxIDogMDsKICB9CiAgLyoqDQogICAqIFNldHMgYWxsIGVsZW1lbnRzIHRvIHplcm8NCiAgICogQG1ldGhvZCByZXNldA0KICAgKi8KCgogIHJlc2V0KCkgewogICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLm1hdHJpeC5sZW5ndGg7IGkgIT09IGw7IGkrKykgewogICAgICB0aGlzLm1hdHJpeFtpXSA9IDA7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXRzIHRoZSBtYXggbnVtYmVyIG9mIG9iamVjdHMNCiAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzDQogICAqIEBwYXJhbSB7TnVtYmVyfSBuDQogICAqLwoKCiAgc2V0TnVtT2JqZWN0cyhuKSB7CiAgICB0aGlzLm1hdHJpeC5sZW5ndGggPSBuICogKG4gLSAxKSA+PiAxOwogIH0KCn0KLyoqDQogKiBCYXNlIGNsYXNzIGZvciBvYmplY3RzIHRoYXQgZGlzcGF0Y2hlcyBldmVudHMuDQogKiBAY2xhc3MgRXZlbnRUYXJnZXQNCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgoKY2xhc3MgRXZlbnRUYXJnZXQgewogIGNvbnN0cnVjdG9yKCkge30KICAvKioNCiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyDQogICAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuDQogICAqLwoKCiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9OwogICAgfQoKICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgbGlzdGVuZXJzW3R5cGVdID0gW107CiAgICB9CgogICAgaWYgKCFsaXN0ZW5lcnNbdHlwZV0uaW5jbHVkZXMobGlzdGVuZXIpKSB7CiAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkDQogICAqIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0Jvb2xlYW59DQogICAqLwoKCiAgaGFzRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CgogICAgaWYgKGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgYW55IGV2ZW50IGxpc3RlbmVyIG9mIHRoZSBnaXZlbiB0eXBlIGlzIGFkZGVkDQogICAqIEBtZXRob2QgaGFzQW55RXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBoYXNBbnlFdmVudExpc3RlbmVyKHR5cGUpIHsKICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgcmV0dXJuIGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkOwogIH0KICAvKioNCiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyDQogICAqIEBtZXRob2QgcmVtb3ZlRXZlbnRMaXN0ZW5lcg0KICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUNCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyDQogICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuDQogICAqLwoKCiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcik7CgogICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICBsaXN0ZW5lcnNbdHlwZV0uc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CiAgLyoqDQogICAqIEVtaXQgYW4gZXZlbnQuDQogICAqIEBtZXRob2QgZGlzcGF0Y2hFdmVudA0KICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50DQogICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQudHlwZQ0KICAgKiBAcmV0dXJuIHtFdmVudFRhcmdldH0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5Lg0KICAgKi8KCgogIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHsKICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CiAgICBjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdOwoKICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHsKICAgICAgZXZlbnQudGFyZ2V0ID0gdGhpczsKCiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBsaXN0ZW5lckFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQoKfQovKioNCiAqIEEgUXVhdGVybmlvbiBkZXNjcmliZXMgYSByb3RhdGlvbiBpbiAzRCBzcGFjZS4gVGhlIFF1YXRlcm5pb24gaXMgbWF0aGVtYXRpY2FsbHkgZGVmaW5lZCBhcyBRID0geCppICsgeSpqICsgeiprICsgdywgd2hlcmUgKGksaixrKSBhcmUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvcnMuICh4LHkseikgY2FuIGJlIHNlZW4gYXMgYSB2ZWN0b3IgcmVsYXRlZCB0byB0aGUgYXhpcyBvZiByb3RhdGlvbiwgd2hpbGUgdGhlIHJlYWwgbXVsdGlwbGllciwgdywgaXMgcmVsYXRlZCB0byB0aGUgYW1vdW50IG9mIHJvdGF0aW9uLg0KICogQHBhcmFtIHtOdW1iZXJ9IHggTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBpLg0KICogQHBhcmFtIHtOdW1iZXJ9IHkgTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBqLg0KICogQHBhcmFtIHtOdW1iZXJ9IHogTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBrLg0KICogQHBhcmFtIHtOdW1iZXJ9IHcgTXVsdGlwbGllciBvZiB0aGUgcmVhbCBwYXJ0Lg0KICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1F1YXRlcm5pb24NCiAqLwoKCmNsYXNzIFF1YXRlcm5pb24gewogIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDAsIHcgPSAxKSB7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICAgIHRoaXMueiA9IHo7CiAgICB0aGlzLncgPSB3OwogIH0KICAvKioNCiAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgcXVhdGVybmlvbi4NCiAgICovCgoKICBzZXQoeCwgeSwgeiwgdykgewogICAgdGhpcy54ID0geDsKICAgIHRoaXMueSA9IHk7CiAgICB0aGlzLnogPSB6OwogICAgdGhpcy53ID0gdzsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogQ29udmVydCB0byBhIHJlYWRhYmxlIGZvcm1hdA0KICAgKiBAcmV0dXJuIHtTdHJpbmd9ICJ4LHkseix3Ig0KICAgKi8KCgogIHRvU3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMueCArICIsIiArIHRoaXMueSArICIsIiArIHRoaXMueiArICIsIiArIHRoaXMudzsKICB9CiAgLyoqDQogICAqIENvbnZlcnQgdG8gYW4gQXJyYXkNCiAgICogQHJldHVybiB7QXJyYXl9IFt4LCB5LCB6LCB3XQ0KICAgKi8KCgogIHRvQXJyYXkoKSB7CiAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55LCB0aGlzLnosIHRoaXMud107CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIHF1YXRlcm5pb24gY29tcG9uZW50cyBnaXZlbiBhbiBheGlzIGFuZCBhbiBhbmdsZSBpbiByYWRpYW5zLg0KICAgKi8KCgogIHNldEZyb21BeGlzQW5nbGUodmVjdG9yLCBhbmdsZSkgewogICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlICogMC41KTsKICAgIHRoaXMueCA9IHZlY3Rvci54ICogczsKICAgIHRoaXMueSA9IHZlY3Rvci55ICogczsKICAgIHRoaXMueiA9IHZlY3Rvci56ICogczsKICAgIHRoaXMudyA9IE1hdGguY29zKGFuZ2xlICogMC41KTsKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogQ29udmVydHMgdGhlIHF1YXRlcm5pb24gdG8gWyBheGlzLCBhbmdsZSBdIHJlcHJlc2VudGF0aW9uLg0KICAgKiBAcGFyYW0ge1ZlYzN9IFt0YXJnZXRBeGlzXSBBIHZlY3RvciBvYmplY3QgdG8gcmV1c2UgZm9yIHN0b3JpbmcgdGhlIGF4aXMuDQogICAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSwgZmlyc3QgZWxlbWVudCBpcyB0aGUgYXhpcyBhbmQgdGhlIHNlY29uZCBpcyB0aGUgYW5nbGUgaW4gcmFkaWFucy4NCiAgICovCgoKICB0b0F4aXNBbmdsZSh0YXJnZXRBeGlzID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5ub3JtYWxpemUoKTsgLy8gaWYgdz4xIGFjb3MgYW5kIHNxcnQgd2lsbCBwcm9kdWNlIGVycm9ycywgdGhpcyBjYW50IGhhcHBlbiBpZiBxdWF0ZXJuaW9uIGlzIG5vcm1hbGlzZWQKCiAgICBjb25zdCBhbmdsZSA9IDIgKiBNYXRoLmFjb3ModGhpcy53KTsKICAgIGNvbnN0IHMgPSBNYXRoLnNxcnQoMSAtIHRoaXMudyAqIHRoaXMudyk7IC8vIGFzc3VtaW5nIHF1YXRlcm5pb24gbm9ybWFsaXNlZCB0aGVuIHcgaXMgbGVzcyB0aGFuIDEsIHNvIHRlcm0gYWx3YXlzIHBvc2l0aXZlLgoKICAgIGlmIChzIDwgMC4wMDEpIHsKICAgICAgLy8gdGVzdCB0byBhdm9pZCBkaXZpZGUgYnkgemVybywgcyBpcyBhbHdheXMgcG9zaXRpdmUgZHVlIHRvIHNxcnQKICAgICAgLy8gaWYgcyBjbG9zZSB0byB6ZXJvIHRoZW4gZGlyZWN0aW9uIG9mIGF4aXMgbm90IGltcG9ydGFudAogICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLng7IC8vIGlmIGl0IGlzIGltcG9ydGFudCB0aGF0IGF4aXMgaXMgbm9ybWFsaXNlZCB0aGVuIHJlcGxhY2Ugd2l0aCB4PTE7IHk9ej0wOwoKICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55OwogICAgICB0YXJnZXRBeGlzLnogPSB0aGlzLno7CiAgICB9IGVsc2UgewogICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLnggLyBzOyAvLyBub3JtYWxpc2UgYXhpcwoKICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55IC8gczsKICAgICAgdGFyZ2V0QXhpcy56ID0gdGhpcy56IC8gczsKICAgIH0KCiAgICByZXR1cm4gW3RhcmdldEF4aXMsIGFuZ2xlXTsKICB9CiAgLyoqDQogICAqIFNldCB0aGUgcXVhdGVybmlvbiB2YWx1ZSBnaXZlbiB0d28gdmVjdG9ycy4gVGhlIHJlc3VsdGluZyByb3RhdGlvbiB3aWxsIGJlIHRoZSBuZWVkZWQgcm90YXRpb24gdG8gcm90YXRlIHUgdG8gdi4NCiAgICovCgoKICBzZXRGcm9tVmVjdG9ycyh1LCB2KSB7CiAgICBpZiAodS5pc0FudGlwYXJhbGxlbFRvKHYpKSB7CiAgICAgIGNvbnN0IHQxID0gc2Z2X3QxOwogICAgICBjb25zdCB0MiA9IHNmdl90MjsKICAgICAgdS50YW5nZW50cyh0MSwgdDIpOwogICAgICB0aGlzLnNldEZyb21BeGlzQW5nbGUodDEsIE1hdGguUEkpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgYSA9IHUuY3Jvc3Modik7CiAgICAgIHRoaXMueCA9IGEueDsKICAgICAgdGhpcy55ID0gYS55OwogICAgICB0aGlzLnogPSBhLno7CiAgICAgIHRoaXMudyA9IE1hdGguc3FydCh1Lmxlbmd0aCgpICoqIDIgKiB2Lmxlbmd0aCgpICoqIDIpICsgdS5kb3Qodik7CiAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiB3aXRoIGFuIG90aGVyIHF1YXRlcm5pb24uDQogICAqLwoKCiAgbXVsdChxdWF0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICBjb25zdCBheCA9IHRoaXMueDsKICAgIGNvbnN0IGF5ID0gdGhpcy55OwogICAgY29uc3QgYXogPSB0aGlzLno7CiAgICBjb25zdCBhdyA9IHRoaXMudzsKICAgIGNvbnN0IGJ4ID0gcXVhdC54OwogICAgY29uc3QgYnkgPSBxdWF0Lnk7CiAgICBjb25zdCBieiA9IHF1YXQuejsKICAgIGNvbnN0IGJ3ID0gcXVhdC53OwogICAgdGFyZ2V0LnggPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5OwogICAgdGFyZ2V0LnkgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6OwogICAgdGFyZ2V0LnogPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4OwogICAgdGFyZ2V0LncgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgaW52ZXJzZSBxdWF0ZXJuaW9uIHJvdGF0aW9uLg0KICAgKi8KCgogIGludmVyc2UodGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkgewogICAgY29uc3QgeCA9IHRoaXMueDsKICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICBjb25zdCB6ID0gdGhpcy56OwogICAgY29uc3QgdyA9IHRoaXMudzsKICAgIHRoaXMuY29uanVnYXRlKHRhcmdldCk7CiAgICBjb25zdCBpbm9ybTIgPSAxIC8gKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTsKICAgIHRhcmdldC54ICo9IGlub3JtMjsKICAgIHRhcmdldC55ICo9IGlub3JtMjsKICAgIHRhcmdldC56ICo9IGlub3JtMjsKICAgIHRhcmdldC53ICo9IGlub3JtMjsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHF1YXRlcm5pb24gY29uanVnYXRlDQogICAqLwoKCiAgY29uanVnYXRlKHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgIHRhcmdldC54ID0gLXRoaXMueDsKICAgIHRhcmdldC55ID0gLXRoaXMueTsKICAgIHRhcmdldC56ID0gLXRoaXMuejsKICAgIHRhcmdldC53ID0gdGhpcy53OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIE5vcm1hbGl6ZSB0aGUgcXVhdGVybmlvbi4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIG9mIHRoZSBxdWF0ZXJuaW9uLg0KICAgKiBAbWV0aG9kIG5vcm1hbGl6ZQ0KICAgKi8KCgogIG5vcm1hbGl6ZSgpIHsKICAgIGxldCBsID0gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMueiArIHRoaXMudyAqIHRoaXMudyk7CgogICAgaWYgKGwgPT09IDApIHsKICAgICAgdGhpcy54ID0gMDsKICAgICAgdGhpcy55ID0gMDsKICAgICAgdGhpcy56ID0gMDsKICAgICAgdGhpcy53ID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIGwgPSAxIC8gbDsKICAgICAgdGhpcy54ICo9IGw7CiAgICAgIHRoaXMueSAqPSBsOwogICAgICB0aGlzLnogKj0gbDsKICAgICAgdGhpcy53ICo9IGw7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBBcHByb3hpbWF0aW9uIG9mIHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbi4gV29ya3MgYmVzdCB3aGVuIHF1YXQgaXMgYWxyZWFkeSBhbG1vc3Qtbm9ybWFsaXplZC4NCiAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9mYXN0LXF1YXRlcm5pb24tbm9ybWFsaXphdGlvbg0KICAgKiBAYXV0aG9yIHVucGhhc2VkLCBodHRwczovL2dpdGh1Yi5jb20vdW5waGFzZWQNCiAgICovCgoKICBub3JtYWxpemVGYXN0KCkgewogICAgY29uc3QgZiA9ICgzLjAgLSAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KSkgLyAyLjA7CgogICAgaWYgKGYgPT09IDApIHsKICAgICAgdGhpcy54ID0gMDsKICAgICAgdGhpcy55ID0gMDsKICAgICAgdGhpcy56ID0gMDsKICAgICAgdGhpcy53ID0gMDsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMueCAqPSBmOwogICAgICB0aGlzLnkgKj0gZjsKICAgICAgdGhpcy56ICo9IGY7CiAgICAgIHRoaXMudyAqPSBmOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgdGhlIHF1YXRlcm5pb24gYnkgYSB2ZWN0b3INCiAgICovCgoKICB2bXVsdCh2LCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCB4ID0gdi54OwogICAgY29uc3QgeSA9IHYueTsKICAgIGNvbnN0IHogPSB2Lno7CiAgICBjb25zdCBxeCA9IHRoaXMueDsKICAgIGNvbnN0IHF5ID0gdGhpcy55OwogICAgY29uc3QgcXogPSB0aGlzLno7CiAgICBjb25zdCBxdyA9IHRoaXMudzsgLy8gcSp2CgogICAgY29uc3QgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7CiAgICBjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejsKICAgIGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4OwogICAgY29uc3QgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OwogICAgdGFyZ2V0LnggPSBpeCAqIHF3ICsgaXcgKiAtcXggKyBpeSAqIC1xeiAtIGl6ICogLXF5OwogICAgdGFyZ2V0LnkgPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6OwogICAgdGFyZ2V0LnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyBxdWF0ZXJuaW9uLg0KICAgKiBAbWV0aG9kIGNvcHkNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBzb3VyY2UNCiAgICogQHJldHVybiB7UXVhdGVybmlvbn0gdGhpcw0KICAgKi8KCgogIGNvcHkocXVhdCkgewogICAgdGhpcy54ID0gcXVhdC54OwogICAgdGhpcy55ID0gcXVhdC55OwogICAgdGhpcy56ID0gcXVhdC56OwogICAgdGhpcy53ID0gcXVhdC53OwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBDb252ZXJ0IHRoZSBxdWF0ZXJuaW9uIHRvIGV1bGVyIGFuZ2xlIHJlcHJlc2VudGF0aW9uLiBPcmRlcjogWVpYLCBhcyB0aGlzIHBhZ2UgZGVzY3JpYmVzOiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9zdGFuZGFyZHMvaW5kZXguaHRtDQogICAqIEBtZXRob2QgdG9FdWxlcg0KICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldA0KICAgKiBAcGFyYW0ge1N0cmluZ30gb3JkZXIgVGhyZWUtY2hhcmFjdGVyIHN0cmluZywgZGVmYXVsdHMgdG8gIllaWCINCiAgICovCgoKICB0b0V1bGVyKHRhcmdldCwgb3JkZXIgPSAnWVpYJykgewogICAgbGV0IGhlYWRpbmc7CiAgICBsZXQgYXR0aXR1ZGU7CiAgICBsZXQgYmFuazsKICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICBjb25zdCB5ID0gdGhpcy55OwogICAgY29uc3QgeiA9IHRoaXMuejsKICAgIGNvbnN0IHcgPSB0aGlzLnc7CgogICAgc3dpdGNoIChvcmRlcikgewogICAgICBjYXNlICdZWlgnOgogICAgICAgIGNvbnN0IHRlc3QgPSB4ICogeSArIHogKiB3OwoKICAgICAgICBpZiAodGVzdCA+IDAuNDk5KSB7CiAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBub3J0aCBwb2xlCiAgICAgICAgICBoZWFkaW5nID0gMiAqIE1hdGguYXRhbjIoeCwgdyk7CiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguUEkgLyAyOwogICAgICAgICAgYmFuayA9IDA7CiAgICAgICAgfQoKICAgICAgICBpZiAodGVzdCA8IC0wLjQ5OSkgewogICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZQogICAgICAgICAgaGVhZGluZyA9IC0yICogTWF0aC5hdGFuMih4LCB3KTsKICAgICAgICAgIGF0dGl0dWRlID0gLU1hdGguUEkgLyAyOwogICAgICAgICAgYmFuayA9IDA7CiAgICAgICAgfQoKICAgICAgICBpZiAoaGVhZGluZyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBjb25zdCBzcXggPSB4ICogeDsKICAgICAgICAgIGNvbnN0IHNxeSA9IHkgKiB5OwogICAgICAgICAgY29uc3Qgc3F6ID0geiAqIHo7CiAgICAgICAgICBoZWFkaW5nID0gTWF0aC5hdGFuMigyICogeSAqIHcgLSAyICogeCAqIHosIDEgLSAyICogc3F5IC0gMiAqIHNxeik7IC8vIEhlYWRpbmcKCiAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguYXNpbigyICogdGVzdCk7IC8vIGF0dGl0dWRlCgogICAgICAgICAgYmFuayA9IE1hdGguYXRhbjIoMiAqIHggKiB3IC0gMiAqIHkgKiB6LCAxIC0gMiAqIHNxeCAtIDIgKiBzcXopOyAvLyBiYW5rCiAgICAgICAgfQoKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFdWxlciBvcmRlciAiICsgb3JkZXIgKyAiIG5vdCBzdXBwb3J0ZWQgeWV0LiIpOwogICAgfQoKICAgIHRhcmdldC55ID0gaGVhZGluZzsKICAgIHRhcmdldC56ID0gYXR0aXR1ZGU7CiAgICB0YXJnZXQueCA9IGJhbms7CiAgfQogIC8qKg0KICAgKiBAcGFyYW0ge051bWJlcn0geA0KICAgKiBAcGFyYW0ge051bWJlcn0geQ0KICAgKiBAcGFyYW0ge051bWJlcn0geg0KICAgKiBAcGFyYW0ge1N0cmluZ30gb3JkZXIgVGhlIG9yZGVyIHRvIGFwcGx5IGFuZ2xlczogJ1hZWicgb3IgJ1lYWicgb3IgYW55IG90aGVyIGNvbWJpbmF0aW9uDQogICAqIEBzZWUgaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLzIwNjk2LWZ1bmN0aW9uLXRvLWNvbnZlcnQtYmV0d2Vlbi1kY20tZXVsZXItYW5nbGVzLXF1YXRlcm5pb25zLWFuZC1ldWxlci12ZWN0b3JzL2NvbnRlbnQvU3BpbkNhbGMubQ0KICAgKi8KCgogIHNldEZyb21FdWxlcih4LCB5LCB6LCBvcmRlciA9ICdYWVonKSB7CiAgICBjb25zdCBjMSA9IE1hdGguY29zKHggLyAyKTsKICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpOwogICAgY29uc3QgYzMgPSBNYXRoLmNvcyh6IC8gMik7CiAgICBjb25zdCBzMSA9IE1hdGguc2luKHggLyAyKTsKICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpOwogICAgY29uc3QgczMgPSBNYXRoLnNpbih6IC8gMik7CgogICAgaWYgKG9yZGVyID09PSAnWFlaJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVhaJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWlhZJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWllYJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVpYJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWFpZJykgewogICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNsb25lDQogICAqIEByZXR1cm4ge1F1YXRlcm5pb259DQogICAqLwoKCiAgY2xvbmUoKSB7CiAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTsKICB9CiAgLyoqDQogICAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXQNCiAgICoNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSB0b1F1YXQgc2Vjb25kIG9wZXJhbmQNCiAgICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQgYmV0d2VlbiB0aGUgc2VsZiBxdWF0ZXJuaW9uIGFuZCB0b1F1YXQNCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbdGFyZ2V0XSBBIHF1YXRlcm5pb24gdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkLg0KICAgKiBAcmV0dXJucyB7UXVhdGVybmlvbn0gVGhlICJ0YXJnZXQiIG9iamVjdA0KICAgKi8KCgogIHNsZXJwKHRvUXVhdCwgdCwgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkgewogICAgY29uc3QgYXggPSB0aGlzLng7CiAgICBjb25zdCBheSA9IHRoaXMueTsKICAgIGNvbnN0IGF6ID0gdGhpcy56OwogICAgY29uc3QgYXcgPSB0aGlzLnc7CiAgICBsZXQgYnggPSB0b1F1YXQueDsKICAgIGxldCBieSA9IHRvUXVhdC55OwogICAgbGV0IGJ6ID0gdG9RdWF0Lno7CiAgICBsZXQgYncgPSB0b1F1YXQudzsKICAgIGxldCBvbWVnYTsKICAgIGxldCBjb3NvbTsKICAgIGxldCBzaW5vbTsKICAgIGxldCBzY2FsZTA7CiAgICBsZXQgc2NhbGUxOyAvLyBjYWxjIGNvc2luZQoKICAgIGNvc29tID0gYXggKiBieCArIGF5ICogYnkgKyBheiAqIGJ6ICsgYXcgKiBidzsgLy8gYWRqdXN0IHNpZ25zIChpZiBuZWNlc3NhcnkpCgogICAgaWYgKGNvc29tIDwgMC4wKSB7CiAgICAgIGNvc29tID0gLWNvc29tOwogICAgICBieCA9IC1ieDsKICAgICAgYnkgPSAtYnk7CiAgICAgIGJ6ID0gLWJ6OwogICAgICBidyA9IC1idzsKICAgIH0gLy8gY2FsY3VsYXRlIGNvZWZmaWNpZW50cwoKCiAgICBpZiAoMS4wIC0gY29zb20gPiAwLjAwMDAwMSkgewogICAgICAvLyBzdGFuZGFyZCBjYXNlIChzbGVycCkKICAgICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pOwogICAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTsKICAgICAgc2NhbGUwID0gTWF0aC5zaW4oKDEuMCAtIHQpICogb21lZ2EpIC8gc2lub207CiAgICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTsKICAgIH0gZWxzZSB7CiAgICAgIC8vICJmcm9tIiBhbmQgInRvIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZQogICAgICAvLyAgLi4uIHNvIHdlIGNhbiBkbyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uCiAgICAgIHNjYWxlMCA9IDEuMCAtIHQ7CiAgICAgIHNjYWxlMSA9IHQ7CiAgICB9IC8vIGNhbGN1bGF0ZSBmaW5hbCB2YWx1ZXMKCgogICAgdGFyZ2V0LnggPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4OwogICAgdGFyZ2V0LnkgPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5OwogICAgdGFyZ2V0LnogPSBzY2FsZTAgKiBheiArIHNjYWxlMSAqIGJ6OwogICAgdGFyZ2V0LncgPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3OwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIFJvdGF0ZSBhbiBhYnNvbHV0ZSBvcmllbnRhdGlvbiBxdWF0ZXJuaW9uIGdpdmVuIGFuIGFuZ3VsYXIgdmVsb2NpdHkgYW5kIGEgdGltZSBzdGVwLg0KICAgKi8KCgogIGludGVncmF0ZShhbmd1bGFyVmVsb2NpdHksIGR0LCBhbmd1bGFyRmFjdG9yLCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICBjb25zdCBheCA9IGFuZ3VsYXJWZWxvY2l0eS54ICogYW5ndWxhckZhY3Rvci54LAogICAgICAgICAgYXkgPSBhbmd1bGFyVmVsb2NpdHkueSAqIGFuZ3VsYXJGYWN0b3IueSwKICAgICAgICAgIGF6ID0gYW5ndWxhclZlbG9jaXR5LnogKiBhbmd1bGFyRmFjdG9yLnosCiAgICAgICAgICBieCA9IHRoaXMueCwKICAgICAgICAgIGJ5ID0gdGhpcy55LAogICAgICAgICAgYnogPSB0aGlzLnosCiAgICAgICAgICBidyA9IHRoaXMudzsKICAgIGNvbnN0IGhhbGZfZHQgPSBkdCAqIDAuNTsKICAgIHRhcmdldC54ICs9IGhhbGZfZHQgKiAoYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5KTsKICAgIHRhcmdldC55ICs9IGhhbGZfZHQgKiAoYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6KTsKICAgIHRhcmdldC56ICs9IGhhbGZfZHQgKiAoYXogKiBidyArIGF4ICogYnkgLSBheSAqIGJ4KTsKICAgIHRhcmdldC53ICs9IGhhbGZfZHQgKiAoLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBieik7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCn0KCmNvbnN0IHNmdl90MSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNmdl90MiA9IG5ldyBWZWMzKCk7CmNvbnN0IFNIQVBFX1RZUEVTID0gewogIFNQSEVSRTogMSwKICBQTEFORTogMiwKICBCT1g6IDQsCiAgQ09NUE9VTkQ6IDgsCiAgQ09OVkVYUE9MWUhFRFJPTjogMTYsCiAgSEVJR0hURklFTEQ6IDMyLAogIFBBUlRJQ0xFOiA2NCwKICBDWUxJTkRFUjogMTI4LAogIFRSSU1FU0g6IDI1Ngp9OwovKioNCiAqIEJhc2UgY2xhc3MgZm9yIHNoYXBlcw0KICogQGNsYXNzIFNoYXBlDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0xXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXRlcmlhbD1udWxsXQ0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICovCgpjbGFzcyBTaGFwZSB7CiAgLy8gSWRlbnRpZnllciBvZiB0aGUgU2hhcGUuCiAgLy8gVGhlIHR5cGUgb2YgdGhpcyBzaGFwZS4gTXVzdCBiZSBzZXQgdG8gYW4gaW50ID4gMCBieSBzdWJjbGFzc2VzLgogIC8vIFRoZSBsb2NhbCBib3VuZGluZyBzcGhlcmUgcmFkaXVzIG9mIHRoaXMgc2hhcGUuCiAgLy8gV2hldGhlciB0byBwcm9kdWNlIGNvbnRhY3QgZm9yY2VzIHdoZW4gaW4gY29udGFjdCB3aXRoIG90aGVyIGJvZGllcy4gTm90ZSB0aGF0IGNvbnRhY3RzIHdpbGwgYmUgZ2VuZXJhdGVkLCBidXQgdGhleSB3aWxsIGJlIGRpc2FibGVkLgogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgdGhpcy5pZCA9IFNoYXBlLmlkQ291bnRlcisrOwogICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlIHx8IDA7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDsKICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID8gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA6IHRydWU7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IDE7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xOwogICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgPyBvcHRpb25zLm1hdGVyaWFsIDogbnVsbDsKICAgIHRoaXMuYm9keSA9IG51bGw7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyB0aGUgYm91bmRpbmcgc3BoZXJlIHJhZGl1cy4gVGhlIHJlc3VsdCBpcyBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IC5ib3VuZGluZ1NwaGVyZVJhZGl1cw0KICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzDQogICAqLwoKCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aHJvdyAiY29tcHV0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNoYXBlDQogICAqIEBtZXRob2Qgdm9sdW1lDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICB2b2x1bWUoKSB7CiAgICB0aHJvdyAidm9sdW1lKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgfQogIC8qKg0KICAgKiBDYWxjdWxhdGVzIHRoZSBpbmVydGlhIGluIHRoZSBsb2NhbCBmcmFtZSBmb3IgdGhpcyBzaGFwZS4NCiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWENCiAgICogQHBhcmFtIHtOdW1iZXJ9IG1hc3MNCiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQNCiAgICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfbW9tZW50c19vZl9pbmVydGlhDQogICAqLwoKCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgdGhyb3cgImNhbGN1bGF0ZUxvY2FsSW5lcnRpYSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAiICsgdGhpcy50eXBlOwogIH0KCiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgIHRocm93ICJjYWxjdWxhdGVXb3JsZEFBQkIoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgIiArIHRoaXMudHlwZTsKICB9Cgp9CgpTaGFwZS5pZENvdW50ZXIgPSAwOwovKioNCiAqIFRoZSBhdmFpbGFibGUgc2hhcGUgdHlwZXMuDQogKiBAc3RhdGljDQogKiBAcHJvcGVydHkgdHlwZXMNCiAqIEB0eXBlIHtPYmplY3R9DQogKi8KClNoYXBlLnR5cGVzID0gU0hBUEVfVFlQRVM7CgpjbGFzcyBUcmFuc2Zvcm0gewogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwoKICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7CiAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7CiAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBHZXQgYSBnbG9iYWwgcG9pbnQgaW4gbG9jYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLg0KICAgKi8KCgogIHBvaW50VG9Mb2NhbCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgIHJldHVybiBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUodGhpcy5wb3NpdGlvbiwgdGhpcy5xdWF0ZXJuaW9uLCB3b3JsZFBvaW50LCByZXN1bHQpOwogIH0KICAvKioNCiAgICogR2V0IGEgbG9jYWwgcG9pbnQgaW4gZ2xvYmFsIHRyYW5zZm9ybSBjb29yZGluYXRlcy4NCiAgICovCgoKICBwb2ludFRvV29ybGQobG9jYWxQb2ludCwgcmVzdWx0KSB7CiAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0KTsKICB9CgogIHZlY3RvclRvV29ybGRGcmFtZShsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIHN0YXRpYyBwb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgd29ybGRQb2ludC52c3ViKHBvc2l0aW9uLCByZXN1bHQpOwogICAgcXVhdGVybmlvbi5jb25qdWdhdGUodG1wUXVhdCk7CiAgICB0bXBRdWF0LnZtdWx0KHJlc3VsdCwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBzdGF0aWMgcG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTsKICAgIHJlc3VsdC52YWRkKHBvc2l0aW9uLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIHN0YXRpYyB2ZWN0b3JUb1dvcmxkRnJhbWUocXVhdGVybmlvbiwgbG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgc3RhdGljIHZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHF1YXRlcm5pb24udyAqPSAtMTsKICAgIHF1YXRlcm5pb24udm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7CiAgICBxdWF0ZXJuaW9uLncgKj0gLTE7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCn0KCmNvbnN0IHRtcFF1YXQgPSBuZXcgUXVhdGVybmlvbigpOwovKioNCiAqIEEgc2V0IG9mIHBvbHlnb25zIGRlc2NyaWJpbmcgYSBjb252ZXggc2hhcGUuDQogKiBAY2xhc3MgQ29udmV4UG9seWhlZHJvbg0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICogQGRlc2NyaXB0aW9uIFRoZSBzaGFwZSBNVVNUIGJlIGNvbnZleCBmb3IgdGhlIGNvZGUgdG8gd29yayBwcm9wZXJseS4gTm8gcG9seWdvbnMgbWF5IGJlIGNvcGxhbmFyIChjb250YWluZWQNCiAqIGluIHRoZSBzYW1lIDNEIHBsYW5lKSwgaW5zdGVhZCB0aGVzZSBzaG91bGQgYmUgbWVyZ2VkIGludG8gb25lIHBvbHlnb24uDQogKg0KICogQHBhcmFtIHthcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncw0KICogQHBhcmFtIHthcnJheX0gZmFjZXMgQXJyYXkgb2YgaW50ZWdlciBhcnJheXMsIGRlc2NyaWJpbmcgd2hpY2ggdmVydGljZXMgdGhhdCBpcyBpbmNsdWRlZCBpbiBlYWNoIGZhY2UuDQogKg0KICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW8gKG9yaWdpbmFsIGF1dGhvciwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvL3RocmVlLmpzL2NvbW1pdC84NTAyNmYwYzc2OWU0MDAwMTQ4YTY3ZDQ1YTllOWI5YzUxMDg4MzZmKQ0KICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICogQHNlZSBodHRwOi8vd3d3LmFsdGRldmJsb2dhZGF5LmNvbS8yMDExLzA1LzEzL2NvbnRhY3QtZ2VuZXJhdGlvbi1iZXR3ZWVuLTNkLWNvbnZleC1tZXNoZXMvDQogKg0KICogQHRvZG8gTW92ZSB0aGUgY2xpcHBpbmcgZnVuY3Rpb25zIHRvIENvbnRhY3RHZW5lcmF0b3I/DQogKiBAdG9kbyBBdXRvbWF0aWNhbGx5IG1lcmdlIGNvcGxhbmFyIHBvbHlnb25zIGluIGNvbnN0cnVjdG9yLg0KICovCgpjbGFzcyBDb252ZXhQb2x5aGVkcm9uIGV4dGVuZHMgU2hhcGUgewogIC8vIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBpbmRpY2F0aW5nIHdoaWNoIHZlcnRpY2VzIGVhY2ggZmFjZSBjb25zaXN0cyBvZgogIC8vIElmIGdpdmVuLCB0aGVzZSBsb2NhbGx5IGRlZmluZWQsIG5vcm1hbGl6ZWQgYXhlcyBhcmUgdGhlIG9ubHkgb25lcyBiZWluZyBjaGVja2VkIHdoZW4gZG9pbmcgc2VwYXJhdGluZyBheGlzIGNoZWNrLgogIGNvbnN0cnVjdG9yKHByb3BzID0ge30pIHsKICAgIGNvbnN0IHsKICAgICAgdmVydGljZXMgPSBbXSwKICAgICAgZmFjZXMgPSBbXSwKICAgICAgbm9ybWFscyA9IFtdLAogICAgICBheGVzLAogICAgICBib3VuZGluZ1NwaGVyZVJhZGl1cwogICAgfSA9IHByb3BzOwogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OCiAgICB9KTsKICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlczsKICAgIHRoaXMuZmFjZXMgPSBmYWNlczsKICAgIHRoaXMuZmFjZU5vcm1hbHMgPSBub3JtYWxzOwoKICAgIGlmICh0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9PT0gMCkgewogICAgICB0aGlzLmNvbXB1dGVOb3JtYWxzKCk7CiAgICB9CgogICAgaWYgKCFib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gYm91bmRpbmdTcGhlcmVSYWRpdXM7CiAgICB9CgogICAgdGhpcy53b3JsZFZlcnRpY2VzID0gW107IC8vIFdvcmxkIHRyYW5zZm9ybWVkIHZlcnNpb24gb2YgLnZlcnRpY2VzCgogICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzID0gW107IC8vIFdvcmxkIHRyYW5zZm9ybWVkIHZlcnNpb24gb2YgLmZhY2VOb3JtYWxzCgogICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgdGhpcy51bmlxdWVBeGVzID0gYXhlcyA/IGF4ZXMuc2xpY2UoKSA6IG51bGw7CiAgICB0aGlzLnVuaXF1ZUVkZ2VzID0gW107CiAgICB0aGlzLmNvbXB1dGVFZGdlcygpOwogIH0KICAvKioNCiAgICogQ29tcHV0ZXMgdW5pcXVlRWRnZXMNCiAgICogQG1ldGhvZCBjb21wdXRlRWRnZXMNCiAgICovCgoKICBjb21wdXRlRWRnZXMoKSB7CiAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICBjb25zdCBlZGdlcyA9IHRoaXMudW5pcXVlRWRnZXM7CiAgICBlZGdlcy5sZW5ndGggPSAwOwogICAgY29uc3QgZWRnZSA9IG5ldyBWZWMzKCk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTsKICAgICAgY29uc3QgbnVtVmVydGljZXMgPSBmYWNlLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBudW1WZXJ0aWNlczsgaisrKSB7CiAgICAgICAgY29uc3QgayA9IChqICsgMSkgJSBudW1WZXJ0aWNlczsKICAgICAgICB2ZXJ0aWNlc1tmYWNlW2pdXS52c3ViKHZlcnRpY2VzW2ZhY2Vba11dLCBlZGdlKTsKICAgICAgICBlZGdlLm5vcm1hbGl6ZSgpOwogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwoKICAgICAgICBmb3IgKGxldCBwID0gMDsgcCAhPT0gZWRnZXMubGVuZ3RoOyBwKyspIHsKICAgICAgICAgIGlmIChlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkgfHwgZWRnZXNbcF0uYWxtb3N0RXF1YWxzKGVkZ2UpKSB7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICBlZGdlcy5wdXNoKGVkZ2UuY2xvbmUoKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCByZXVzZSBleGlzdGluZyBWZWMzIG9iamVjdHMgaW4gdGhlIC5mYWNlTm9ybWFscyBhcnJheSBpZiB0aGV5IGV4aXN0Lg0KICAgKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxzDQogICAqLwoKCiAgY29tcHV0ZU5vcm1hbHMoKSB7CiAgICB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9IHRoaXMuZmFjZXMubGVuZ3RoOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIC8vIENoZWNrIHNvIGFsbCB2ZXJ0aWNlcyBleGlzdHMgZm9yIHRoaXMgZmFjZQogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAoIXRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVtqXV0pIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVmVydGV4ICIgKyB0aGlzLmZhY2VzW2ldW2pdICsgIiBub3QgZm91bmQhIik7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBuID0gdGhpcy5mYWNlTm9ybWFsc1tpXSB8fCBuZXcgVmVjMygpOwogICAgICB0aGlzLmdldEZhY2VOb3JtYWwoaSwgbik7CiAgICAgIG4ubmVnYXRlKG4pOwogICAgICB0aGlzLmZhY2VOb3JtYWxzW2ldID0gbjsKICAgICAgY29uc3QgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldWzBdXTsKCiAgICAgIGlmIChuLmRvdCh2ZXJ0ZXgpIDwgMCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIi5mYWNlTm9ybWFsc1siICsgaSArICJdID0gVmVjMygiICsgbi50b1N0cmluZygpICsgIikgbG9va3MgbGlrZSBpdCBwb2ludHMgaW50byB0aGUgc2hhcGU/IFRoZSB2ZXJ0aWNlcyBmb2xsb3cuIE1ha2Ugc3VyZSB0aGV5IGFyZSBvcmRlcmVkIENDVyBhcm91bmQgdGhlIG5vcm1hbCwgdXNpbmcgdGhlIHJpZ2h0IGhhbmQgcnVsZS4iKTsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oIi52ZXJ0aWNlc1siICsgdGhpcy5mYWNlc1tpXVtqXSArICJdID0gVmVjMygiICsgdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXS50b1N0cmluZygpICsgIikiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiBhIGZhY2UgZnJvbSBpdHMgdmVydGljZXMNCiAgICogQG1ldGhvZCBnZXRGYWNlTm9ybWFsDQogICAqIEBwYXJhbSAge051bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQNCiAgICovCgoKICBnZXRGYWNlTm9ybWFsKGksIHRhcmdldCkgewogICAgY29uc3QgZiA9IHRoaXMuZmFjZXNbaV07CiAgICBjb25zdCB2YSA9IHRoaXMudmVydGljZXNbZlswXV07CiAgICBjb25zdCB2YiA9IHRoaXMudmVydGljZXNbZlsxXV07CiAgICBjb25zdCB2YyA9IHRoaXMudmVydGljZXNbZlsyXV07CiAgICBDb252ZXhQb2x5aGVkcm9uLmNvbXB1dGVOb3JtYWwodmEsIHZiLCB2YywgdGFyZ2V0KTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgY2xpcEFnYWluc3RIdWxsDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBDQogICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEINCiAgICogQHBhcmFtIHtWZWMzfSBwb3NCDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEINCiAgICogQHBhcmFtIHtWZWMzfSBzZXBhcmF0aW5nTm9ybWFsDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IENsYW1wIGRpc3RhbmNlDQogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEaXN0DQogICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBUaGUgYW4gYXJyYXkgb2YgY29udGFjdCBwb2ludCBvYmplY3RzLCBzZWUgY2xpcEZhY2VBZ2FpbnN0SHVsbA0KICAgKi8KCgogIGNsaXBBZ2FpbnN0SHVsbChwb3NBLCBxdWF0QSwgaHVsbEIsIHBvc0IsIHF1YXRCLCBzZXBhcmF0aW5nTm9ybWFsLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHsKICAgIGNvbnN0IFdvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKICAgIGxldCBjbG9zZXN0RmFjZUIgPSAtMTsKICAgIGxldCBkbWF4ID0gLU51bWJlci5NQVhfVkFMVUU7CgogICAgZm9yIChsZXQgZmFjZSA9IDA7IGZhY2UgPCBodWxsQi5mYWNlcy5sZW5ndGg7IGZhY2UrKykgewogICAgICBXb3JsZE5vcm1hbC5jb3B5KGh1bGxCLmZhY2VOb3JtYWxzW2ZhY2VdKTsKICAgICAgcXVhdEIudm11bHQoV29ybGROb3JtYWwsIFdvcmxkTm9ybWFsKTsKICAgICAgY29uc3QgZCA9IFdvcmxkTm9ybWFsLmRvdChzZXBhcmF0aW5nTm9ybWFsKTsKCiAgICAgIGlmIChkID4gZG1heCkgewogICAgICAgIGRtYXggPSBkOwogICAgICAgIGNsb3Nlc3RGYWNlQiA9IGZhY2U7CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCB3b3JsZFZlcnRzQjEgPSBbXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl0ubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYiA9IGh1bGxCLnZlcnRpY2VzW2h1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl1baV1dOwogICAgICBjb25zdCB3b3JsZGIgPSBuZXcgVmVjMygpOwogICAgICB3b3JsZGIuY29weShiKTsKICAgICAgcXVhdEIudm11bHQod29ybGRiLCB3b3JsZGIpOwogICAgICBwb3NCLnZhZGQod29ybGRiLCB3b3JsZGIpOwogICAgICB3b3JsZFZlcnRzQjEucHVzaCh3b3JsZGIpOwogICAgfQoKICAgIGlmIChjbG9zZXN0RmFjZUIgPj0gMCkgewogICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KTsKICAgIH0KICB9CiAgLyoqDQogICAqIEZpbmQgdGhlIHNlcGFyYXRpbmcgYXhpcyBiZXR3ZWVuIHRoaXMgaHVsbCBhbmQgYW5vdGhlcg0KICAgKiBAbWV0aG9kIGZpbmRTZXBhcmF0aW5nQXhpcw0KICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQg0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCDQogICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB0YXJnZXQgdmVjdG9yIHRvIHNhdmUgdGhlIGF4aXMgaW4NCiAgICogQHJldHVybiB7Ym9vbH0gUmV0dXJucyBmYWxzZSBpZiBhIHNlcGFyYXRpb24gaXMgZm91bmQsIGVsc2UgdHJ1ZQ0KICAgKi8KCgogIGZpbmRTZXBhcmF0aW5nQXhpcyhodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCLCB0YXJnZXQsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7CiAgICBjb25zdCBmYWNlQU5vcm1hbFdTMyA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBXb3JsZG5vcm1hbDEgPSBuZXcgVmVjMygpOwogICAgY29uc3QgZGVsdGFDID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHdvcmxkRWRnZTAgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgd29ybGRFZGdlMSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBDcm9zcyA9IG5ldyBWZWMzKCk7CiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7CiAgICBjb25zdCBodWxsQSA9IHRoaXM7CgogICAgaWYgKCFodWxsQS51bmlxdWVBeGVzKSB7CiAgICAgIGNvbnN0IG51bUZhY2VzQSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QS5sZW5ndGggOiBodWxsQS5mYWNlcy5sZW5ndGg7IC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEEKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtRmFjZXNBOyBpKyspIHsKICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QVtpXSA6IGk7IC8vIEdldCB3b3JsZCBmYWNlIG5vcm1hbAoKICAgICAgICBmYWNlQU5vcm1hbFdTMy5jb3B5KGh1bGxBLmZhY2VOb3JtYWxzW2ZpXSk7CiAgICAgICAgcXVhdEEudm11bHQoZmFjZUFOb3JtYWxXUzMsIGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChkIDwgZG1pbikgewogICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBUZXN0IHVuaXF1ZSBheGVzCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQS51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gR2V0IHdvcmxkIGF4aXMKICAgICAgICBxdWF0QS52bXVsdChodWxsQS51bmlxdWVBeGVzW2ldLCBmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKGZhY2VBTm9ybWFsV1MzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTsKCiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgIGRtaW4gPSBkOwogICAgICAgICAgdGFyZ2V0LmNvcHkoZmFjZUFOb3JtYWxXUzMpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICghaHVsbEIudW5pcXVlQXhlcykgewogICAgICAvLyBUZXN0IGZhY2Ugbm9ybWFscyBmcm9tIGh1bGxCCiAgICAgIGNvbnN0IG51bUZhY2VzQiA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0Qi5sZW5ndGggOiBodWxsQi5mYWNlcy5sZW5ndGg7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQjsgaSsrKSB7CiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEJbaV0gOiBpOwogICAgICAgIFdvcmxkbm9ybWFsMS5jb3B5KGh1bGxCLmZhY2VOb3JtYWxzW2ZpXSk7CiAgICAgICAgcXVhdEIudm11bHQoV29ybGRub3JtYWwxLCBXb3JsZG5vcm1hbDEpOwogICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhXb3JsZG5vcm1hbDEsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChkIDwgZG1pbikgewogICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICB0YXJnZXQuY29weShXb3JsZG5vcm1hbDEpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy8gVGVzdCB1bmlxdWUgYXhlcyBpbiBCCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQi51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcXVhdEIudm11bHQoaHVsbEIudW5pcXVlQXhlc1tpXSwgV29ybGRub3JtYWwxKTsKICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoV29ybGRub3JtYWwxLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTsKCiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgIGRtaW4gPSBkOwogICAgICAgICAgdGFyZ2V0LmNvcHkoV29ybGRub3JtYWwxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gVGVzdCBlZGdlcwoKCiAgICBmb3IgKGxldCBlMCA9IDA7IGUwICE9PSBodWxsQS51bmlxdWVFZGdlcy5sZW5ndGg7IGUwKyspIHsKICAgICAgLy8gR2V0IHdvcmxkIGVkZ2UKICAgICAgcXVhdEEudm11bHQoaHVsbEEudW5pcXVlRWRnZXNbZTBdLCB3b3JsZEVkZ2UwKTsKCiAgICAgIGZvciAobGV0IGUxID0gMDsgZTEgIT09IGh1bGxCLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTErKykgewogICAgICAgIC8vIEdldCB3b3JsZCBlZGdlIDIKICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVFZGdlc1tlMV0sIHdvcmxkRWRnZTEpOwogICAgICAgIHdvcmxkRWRnZTAuY3Jvc3Mod29ybGRFZGdlMSwgQ3Jvc3MpOwoKICAgICAgICBpZiAoIUNyb3NzLmFsbW9zdFplcm8oKSkgewogICAgICAgICAgQ3Jvc3Mubm9ybWFsaXplKCk7CiAgICAgICAgICBjb25zdCBkaXN0ID0gaHVsbEEudGVzdFNlcEF4aXMoQ3Jvc3MsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICAgIGlmIChkaXN0ID09PSBmYWxzZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGRpc3QgPCBkbWluKSB7CiAgICAgICAgICAgIGRtaW4gPSBkaXN0OwogICAgICAgICAgICB0YXJnZXQuY29weShDcm9zcyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcG9zQi52c3ViKHBvc0EsIGRlbHRhQyk7CgogICAgaWYgKGRlbHRhQy5kb3QodGFyZ2V0KSA+IDAuMCkgewogICAgICB0YXJnZXQubmVnYXRlKHRhcmdldCk7CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQogIC8qKg0KICAgKiBUZXN0IHNlcGFyYXRpbmcgYXhpcyBhZ2FpbnN0IHR3byBodWxscy4gQm90aCBodWxscyBhcmUgcHJvamVjdGVkIG9udG8gdGhlIGF4aXMgYW5kIHRoZSBvdmVybGFwIHNpemUgaXMgcmV0dXJuZWQgaWYgdGhlcmUgaXMgb25lLg0KICAgKiBAbWV0aG9kIHRlc3RTZXBBeGlzDQogICAqIEBwYXJhbSB7VmVjM30gYXhpcw0KICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQg0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCDQogICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG92ZXJsYXAgZGVwdGgsIG9yIEZBTFNFIGlmIG5vIHBlbmV0cmF0aW9uLg0KICAgKi8KCgogIHRlc3RTZXBBeGlzKGF4aXMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpIHsKICAgIGNvbnN0IGh1bGxBID0gdGhpczsKICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQSwgYXhpcywgcG9zQSwgcXVhdEEsIG1heG1pbkEpOwogICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxCLCBheGlzLCBwb3NCLCBxdWF0QiwgbWF4bWluQik7CiAgICBjb25zdCBtYXhBID0gbWF4bWluQVswXTsKICAgIGNvbnN0IG1pbkEgPSBtYXhtaW5BWzFdOwogICAgY29uc3QgbWF4QiA9IG1heG1pbkJbMF07CiAgICBjb25zdCBtaW5CID0gbWF4bWluQlsxXTsKCiAgICBpZiAobWF4QSA8IG1pbkIgfHwgbWF4QiA8IG1pbkEpIHsKICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTZXBhcmF0ZWQKICAgIH0KCiAgICBjb25zdCBkMCA9IG1heEEgLSBtaW5COwogICAgY29uc3QgZDEgPSBtYXhCIC0gbWluQTsKICAgIGNvbnN0IGRlcHRoID0gZDAgPCBkMSA/IGQwIDogZDE7CiAgICByZXR1cm4gZGVwdGg7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqLwoKCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgLy8gQXBwcm94aW1hdGUgd2l0aCBib3ggaW5lcnRpYQogICAgLy8gRXhhY3QgaW5lcnRpYSBjYWxjdWxhdGlvbiBpcyBvdmVya2lsbCwgYnV0IHNlZSBodHRwOi8vZ2VvbWV0cmljdG9vbHMuY29tL0RvY3VtZW50YXRpb24vUG9seWhlZHJhbE1hc3NQcm9wZXJ0aWVzLnBkZiBmb3IgdGhlIGNvcnJlY3Qgd2F5IHRvIGRvIGl0CiAgICBjb25zdCBhYWJibWF4ID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGFhYmJtaW4gPSBuZXcgVmVjMygpOwogICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpOwogICAgY29uc3QgeCA9IGFhYmJtYXgueCAtIGFhYmJtaW4ueDsKICAgIGNvbnN0IHkgPSBhYWJibWF4LnkgLSBhYWJibWluLnk7CiAgICBjb25zdCB6ID0gYWFiYm1heC56IC0gYWFiYm1pbi56OwogICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeik7CiAgICB0YXJnZXQueSA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KTsKICAgIHRhcmdldC56ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB4ICogMiAqIHgpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlDQogICAqIEBwYXJhbSAge051bWJlcn0gZmFjZV9pIEluZGV4IG9mIHRoZSBmYWNlDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGZhY2VfaSkgewogICAgY29uc3QgZiA9IHRoaXMuZmFjZXNbZmFjZV9pXTsKICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ZhY2VfaV07CiAgICBjb25zdCB2ID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTsKICAgIGNvbnN0IGMgPSAtbi5kb3Qodik7CiAgICByZXR1cm4gYzsKICB9CiAgLyoqDQogICAqIENsaXAgYSBmYWNlIGFnYWluc3QgYSBodWxsLg0KICAgKiBAbWV0aG9kIGNsaXBGYWNlQWdhaW5zdEh1bGwNCiAgICogQHBhcmFtIHtWZWMzfSBzZXBhcmF0aW5nTm9ybWFsDQogICAqIEBwYXJhbSB7VmVjM30gcG9zQQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBDQogICAqIEBwYXJhbSB7QXJyYXl9IHdvcmxkVmVydHNCMSBBbiBhcnJheSBvZiBWZWMzIHdpdGggdmVydGljZXMgaW4gdGhlIHdvcmxkIGZyYW1lLg0KICAgKiBAcGFyYW0ge051bWJlcn0gbWluRGlzdCBEaXN0YW5jZSBjbGFtcGluZw0KICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdA0KICAgKiBAcGFyYW0gQXJyYXkgcmVzdWx0IEFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBjb250YWN0IHBvaW50cyBpbi4gV2lsbCBiZSBvYmplY3RzIHdpdGggcHJvcGVydGllczogcG9pbnQsIGRlcHRoLCBub3JtYWwuIFRoZXNlIGFyZSByZXByZXNlbnRlZCBpbiB3b3JsZCBjb29yZGluYXRlcy4NCiAgICovCgoKICBjbGlwRmFjZUFnYWluc3RIdWxsKHNlcGFyYXRpbmdOb3JtYWwsIHBvc0EsIHF1YXRBLCB3b3JsZFZlcnRzQjEsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkgewogICAgY29uc3QgZmFjZUFOb3JtYWxXUyA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBlZGdlMCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBXb3JsZEVkZ2UwID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHdvcmxkUGxhbmVBbm9ybWFsMSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwbGFuZU5vcm1hbFdTMSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCB3b3JsZEExID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IGxvY2FsUGxhbmVOb3JtYWwgPSBuZXcgVmVjMygpOwogICAgY29uc3QgcGxhbmVOb3JtYWxXUyA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBodWxsQSA9IHRoaXM7CiAgICBjb25zdCB3b3JsZFZlcnRzQjIgPSBbXTsKICAgIGNvbnN0IHBWdHhJbiA9IHdvcmxkVmVydHNCMTsKICAgIGNvbnN0IHBWdHhPdXQgPSB3b3JsZFZlcnRzQjI7CiAgICBsZXQgY2xvc2VzdEZhY2VBID0gLTE7CiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7IC8vIEZpbmQgdGhlIGZhY2Ugd2l0aCBub3JtYWwgY2xvc2VzdCB0byB0aGUgc2VwYXJhdGluZyBheGlzCgogICAgZm9yIChsZXQgZmFjZSA9IDA7IGZhY2UgPCBodWxsQS5mYWNlcy5sZW5ndGg7IGZhY2UrKykgewogICAgICBmYWNlQU5vcm1hbFdTLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmFjZV0pOwogICAgICBxdWF0QS52bXVsdChmYWNlQU5vcm1hbFdTLCBmYWNlQU5vcm1hbFdTKTsKICAgICAgY29uc3QgZCA9IGZhY2VBTm9ybWFsV1MuZG90KHNlcGFyYXRpbmdOb3JtYWwpOwoKICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgY2xvc2VzdEZhY2VBID0gZmFjZTsKICAgICAgfQogICAgfQoKICAgIGlmIChjbG9zZXN0RmFjZUEgPCAwKSB7CiAgICAgIHJldHVybjsKICAgIH0gLy8gR2V0IHRoZSBmYWNlIGFuZCBjb25zdHJ1Y3QgY29ubmVjdGVkIGZhY2VzCgoKICAgIGNvbnN0IHBvbHlBID0gaHVsbEEuZmFjZXNbY2xvc2VzdEZhY2VBXTsKICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzID0gW107CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodWxsQS5mYWNlcy5sZW5ndGg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGh1bGxBLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgaWYgKAogICAgICAgIC8qIFNoYXJpbmcgYSB2ZXJ0ZXgqLwogICAgICAgIHBvbHlBLmluZGV4T2YoaHVsbEEuZmFjZXNbaV1bal0pICE9PSAtMSAmJgogICAgICAgIC8qIE5vdCB0aGUgb25lIHdlIGFyZSBsb29raW5nIGZvciBjb25uZWN0aW9ucyBmcm9tICovCiAgICAgICAgaSAhPT0gY2xvc2VzdEZhY2VBICYmCiAgICAgICAgLyogTm90IGFscmVhZHkgYWRkZWQgKi8KICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5pbmRleE9mKGkpID09PSAtMSkgewogICAgICAgICAgcG9seUEuY29ubmVjdGVkRmFjZXMucHVzaChpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gQ2xpcCB0aGUgcG9seWdvbiB0byB0aGUgYmFjayBvZiB0aGUgcGxhbmVzIG9mIGFsbCBmYWNlcyBvZiBodWxsIEEsCiAgICAvLyB0aGF0IGFyZSBhZGphY2VudCB0byB0aGUgd2l0bmVzcyBmYWNlCgoKICAgIGNvbnN0IG51bVZlcnRpY2VzQSA9IHBvbHlBLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZlcnRpY2VzQTsgaSsrKSB7CiAgICAgIGNvbnN0IGEgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVtpXV07CiAgICAgIGNvbnN0IGIgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVsoaSArIDEpICUgbnVtVmVydGljZXNBXV07CiAgICAgIGEudnN1YihiLCBlZGdlMCk7CiAgICAgIFdvcmxkRWRnZTAuY29weShlZGdlMCk7CiAgICAgIHF1YXRBLnZtdWx0KFdvcmxkRWRnZTAsIFdvcmxkRWRnZTApOwogICAgICBwb3NBLnZhZGQoV29ybGRFZGdlMCwgV29ybGRFZGdlMCk7CiAgICAgIHdvcmxkUGxhbmVBbm9ybWFsMS5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbY2xvc2VzdEZhY2VBXSk7CiAgICAgIHF1YXRBLnZtdWx0KHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTsKICAgICAgcG9zQS52YWRkKHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTsKICAgICAgV29ybGRFZGdlMC5jcm9zcyh3b3JsZFBsYW5lQW5vcm1hbDEsIHBsYW5lTm9ybWFsV1MxKTsKICAgICAgcGxhbmVOb3JtYWxXUzEubmVnYXRlKHBsYW5lTm9ybWFsV1MxKTsKICAgICAgd29ybGRBMS5jb3B5KGEpOwogICAgICBxdWF0QS52bXVsdCh3b3JsZEExLCB3b3JsZEExKTsKICAgICAgcG9zQS52YWRkKHdvcmxkQTEsIHdvcmxkQTEpOwogICAgICBjb25zdCBvdGhlckZhY2UgPSBwb2x5QS5jb25uZWN0ZWRGYWNlc1tpXTsKICAgICAgbG9jYWxQbGFuZU5vcm1hbC5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbb3RoZXJGYWNlXSk7CiAgICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShvdGhlckZhY2UpOwogICAgICBwbGFuZU5vcm1hbFdTLmNvcHkobG9jYWxQbGFuZU5vcm1hbCk7CiAgICAgIHF1YXRBLnZtdWx0KHBsYW5lTm9ybWFsV1MsIHBsYW5lTm9ybWFsV1MpOwogICAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTsgLy8gQ2xpcCBmYWNlIGFnYWluc3Qgb3VyIGNvbnN0cnVjdGVkIHBsYW5lCgogICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdFBsYW5lKHBWdHhJbiwgcFZ0eE91dCwgcGxhbmVOb3JtYWxXUywgcGxhbmVFcVdTKTsgLy8gVGhyb3cgYXdheSBhbGwgY2xpcHBlZCBwb2ludHMsIGJ1dCBzYXZlIHRoZSByZW1haW5pbmcgdW50aWwgbmV4dCBjbGlwCgogICAgICB3aGlsZSAocFZ0eEluLmxlbmd0aCkgewogICAgICAgIHBWdHhJbi5zaGlmdCgpOwogICAgICB9CgogICAgICB3aGlsZSAocFZ0eE91dC5sZW5ndGgpIHsKICAgICAgICBwVnR4SW4ucHVzaChwVnR4T3V0LnNoaWZ0KCkpOwogICAgICB9CiAgICB9IC8vIG9ubHkga2VlcCBjb250YWN0IHBvaW50cyB0aGF0IGFyZSBiZWhpbmQgdGhlIHdpdG5lc3MgZmFjZQoKCiAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTsKICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShjbG9zZXN0RmFjZUEpOwogICAgcGxhbmVOb3JtYWxXUy5jb3B5KGxvY2FsUGxhbmVOb3JtYWwpOwogICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7CiAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBWdHhJbi5sZW5ndGg7IGkrKykgewogICAgICBsZXQgZGVwdGggPSBwbGFuZU5vcm1hbFdTLmRvdChwVnR4SW5baV0pICsgcGxhbmVFcVdTOyAvLyA/Pz8KCiAgICAgIGlmIChkZXB0aCA8PSBtaW5EaXN0KSB7CiAgICAgICAgY29uc29sZS5sb2coImNsYW1wZWQ6IGRlcHRoPSIgKyBkZXB0aCArICIgdG8gbWluRGlzdD0iICsgbWluRGlzdCk7CiAgICAgICAgZGVwdGggPSBtaW5EaXN0OwogICAgICB9CgogICAgICBpZiAoZGVwdGggPD0gbWF4RGlzdCkgewogICAgICAgIGNvbnN0IHBvaW50ID0gcFZ0eEluW2ldOwoKICAgICAgICBpZiAoZGVwdGggPD0gMWUtNikgewogICAgICAgICAgY29uc3QgcCA9IHsKICAgICAgICAgICAgcG9pbnQsCiAgICAgICAgICAgIG5vcm1hbDogcGxhbmVOb3JtYWxXUywKICAgICAgICAgICAgZGVwdGgKICAgICAgICAgIH07CiAgICAgICAgICByZXN1bHQucHVzaChwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIENsaXAgYSBmYWNlIGluIGEgaHVsbCBhZ2FpbnN0IHRoZSBiYWNrIG9mIGEgcGxhbmUuDQogICAqIEBtZXRob2QgY2xpcEZhY2VBZ2FpbnN0UGxhbmUNCiAgICogQHBhcmFtIHtBcnJheX0gaW5WZXJ0aWNlcw0KICAgKiBAcGFyYW0ge0FycmF5fSBvdXRWZXJ0aWNlcw0KICAgKiBAcGFyYW0ge1ZlYzN9IHBsYW5lTm9ybWFsDQogICAqIEBwYXJhbSB7TnVtYmVyfSBwbGFuZUNvbnN0YW50IFRoZSBjb25zdGFudCBpbiB0aGUgbWF0aGVtYXRpY2FsIHBsYW5lIGVxdWF0aW9uDQogICAqLwoKCiAgY2xpcEZhY2VBZ2FpbnN0UGxhbmUoaW5WZXJ0aWNlcywgb3V0VmVydGljZXMsIHBsYW5lTm9ybWFsLCBwbGFuZUNvbnN0YW50KSB7CiAgICBsZXQgbl9kb3RfZmlyc3Q7CiAgICBsZXQgbl9kb3RfbGFzdDsKICAgIGNvbnN0IG51bVZlcnRzID0gaW5WZXJ0aWNlcy5sZW5ndGg7CgogICAgaWYgKG51bVZlcnRzIDwgMikgewogICAgICByZXR1cm4gb3V0VmVydGljZXM7CiAgICB9CgogICAgbGV0IGZpcnN0VmVydGV4ID0gaW5WZXJ0aWNlc1tpblZlcnRpY2VzLmxlbmd0aCAtIDFdOwogICAgbGV0IGxhc3RWZXJ0ZXggPSBpblZlcnRpY2VzWzBdOwogICAgbl9kb3RfZmlyc3QgPSBwbGFuZU5vcm1hbC5kb3QoZmlyc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICBmb3IgKGxldCB2aSA9IDA7IHZpIDwgbnVtVmVydHM7IHZpKyspIHsKICAgICAgbGFzdFZlcnRleCA9IGluVmVydGljZXNbdmldOwogICAgICBuX2RvdF9sYXN0ID0gcGxhbmVOb3JtYWwuZG90KGxhc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICAgIGlmIChuX2RvdF9maXJzdCA8IDApIHsKICAgICAgICBpZiAobl9kb3RfbGFzdCA8IDApIHsKICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kIDwgMCwgc28gb3V0cHV0IGxhc3RWZXJ0ZXgKICAgICAgICAgIGNvbnN0IG5ld3YgPSBuZXcgVmVjMygpOwogICAgICAgICAgbmV3di5jb3B5KGxhc3RWZXJ0ZXgpOwogICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gU3RhcnQgPCAwLCBlbmQgPj0gMCwgc28gb3V0cHV0IGludGVyc2VjdGlvbgogICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBmaXJzdFZlcnRleC5sZXJwKGxhc3RWZXJ0ZXgsIG5fZG90X2ZpcnN0IC8gKG5fZG90X2ZpcnN0IC0gbl9kb3RfbGFzdCksIG5ld3YpOwogICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7CiAgICAgICAgICAvLyBTdGFydCA+PSAwLCBlbmQgPCAwIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24gYW5kIGVuZAogICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBmaXJzdFZlcnRleC5sZXJwKGxhc3RWZXJ0ZXgsIG5fZG90X2ZpcnN0IC8gKG5fZG90X2ZpcnN0IC0gbl9kb3RfbGFzdCksIG5ld3YpOwogICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobGFzdFZlcnRleCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmaXJzdFZlcnRleCA9IGxhc3RWZXJ0ZXg7CiAgICAgIG5fZG90X2ZpcnN0ID0gbl9kb3RfbGFzdDsKICAgIH0KCiAgICByZXR1cm4gb3V0VmVydGljZXM7CiAgfSAvLyBVcGRhdGVzIC53b3JsZFZlcnRpY2VzIGFuZCBzZXRzIC53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgdG8gZmFsc2UuCgoKICBjb21wdXRlV29ybGRWZXJ0aWNlcyhwb3NpdGlvbiwgcXVhdCkgewogICAgd2hpbGUgKHRoaXMud29ybGRWZXJ0aWNlcy5sZW5ndGggPCB0aGlzLnZlcnRpY2VzLmxlbmd0aCkgewogICAgICB0aGlzLndvcmxkVmVydGljZXMucHVzaChuZXcgVmVjMygpKTsKICAgIH0KCiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICBjb25zdCB3b3JsZFZlcnRzID0gdGhpcy53b3JsZFZlcnRpY2VzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHF1YXQudm11bHQodmVydHNbaV0sIHdvcmxkVmVydHNbaV0pOwogICAgICBwb3NpdGlvbi52YWRkKHdvcmxkVmVydHNbaV0sIHdvcmxkVmVydHNbaV0pOwogICAgfQoKICAgIHRoaXMud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlID0gZmFsc2U7CiAgfQoKICBjb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpIHsKICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgIGFhYmJtaW4uc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpOwogICAgYWFiYm1heC5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IHYgPSB2ZXJ0aWNlc1tpXTsKCiAgICAgIGlmICh2LnggPCBhYWJibWluLngpIHsKICAgICAgICBhYWJibWluLnggPSB2Lng7CiAgICAgIH0gZWxzZSBpZiAodi54ID4gYWFiYm1heC54KSB7CiAgICAgICAgYWFiYm1heC54ID0gdi54OwogICAgICB9CgogICAgICBpZiAodi55IDwgYWFiYm1pbi55KSB7CiAgICAgICAgYWFiYm1pbi55ID0gdi55OwogICAgICB9IGVsc2UgaWYgKHYueSA+IGFhYmJtYXgueSkgewogICAgICAgIGFhYmJtYXgueSA9IHYueTsKICAgICAgfQoKICAgICAgaWYgKHYueiA8IGFhYmJtaW4ueikgewogICAgICAgIGFhYmJtaW4ueiA9IHYuejsKICAgICAgfSBlbHNlIGlmICh2LnogPiBhYWJibWF4LnopIHsKICAgICAgICBhYWJibWF4LnogPSB2Lno7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIFVwZGF0ZXMgLndvcmxkVmVydGljZXMgYW5kIHNldHMgLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSB0byBmYWxzZS4NCiAgICogQG1ldGhvZCBjb21wdXRlV29ybGRGYWNlTm9ybWFscw0KICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0DQogICAqLwoKCiAgY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocXVhdCkgewogICAgY29uc3QgTiA9IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOwoKICAgIHdoaWxlICh0aGlzLndvcmxkRmFjZU5vcm1hbHMubGVuZ3RoIDwgTikgewogICAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMucHVzaChuZXcgVmVjMygpKTsKICAgIH0KCiAgICBjb25zdCBub3JtYWxzID0gdGhpcy5mYWNlTm9ybWFsczsKICAgIGNvbnN0IHdvcmxkTm9ybWFscyA9IHRoaXMud29ybGRGYWNlTm9ybWFsczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIHF1YXQudm11bHQobm9ybWFsc1tpXSwgd29ybGROb3JtYWxzW2ldKTsKICAgIH0KCiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSA9IGZhbHNlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cw0KICAgKi8KCgogIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgLy8gQXNzdW1lIHBvaW50cyBhcmUgZGlzdHJpYnV0ZWQgd2l0aCBsb2NhbCAoMCwwLDApIGFzIGNlbnRlcgogICAgbGV0IG1heDIgPSAwOwogICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB2ZXJ0cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBub3JtMiA9IHZlcnRzW2ldLmxlbmd0aFNxdWFyZWQoKTsKCiAgICAgIGlmIChub3JtMiA+IG1heDIpIHsKICAgICAgICBtYXgyID0gbm9ybTI7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTWF0aC5zcXJ0KG1heDIpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBjYWxjdWxhdGVXb3JsZEFBQkINCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgcG9zDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXQNCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWluDQogICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1heA0KICAgKi8KCgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICBsZXQgbWlueDsKICAgIGxldCBtaW55OwogICAgbGV0IG1pbno7CiAgICBsZXQgbWF4eDsKICAgIGxldCBtYXh5OwogICAgbGV0IG1heHo7CiAgICBsZXQgdGVtcFdvcmxkVmVydGV4ID0gbmV3IFZlYzMoKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRlbXBXb3JsZFZlcnRleC5jb3B5KHZlcnRzW2ldKTsKICAgICAgcXVhdC52bXVsdCh0ZW1wV29ybGRWZXJ0ZXgsIHRlbXBXb3JsZFZlcnRleCk7CiAgICAgIHBvcy52YWRkKHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTsKICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDsKCiAgICAgIGlmIChtaW54ID09PSB1bmRlZmluZWQgfHwgdi54IDwgbWlueCkgewogICAgICAgIG1pbnggPSB2Lng7CiAgICAgIH0KCiAgICAgIGlmIChtYXh4ID09PSB1bmRlZmluZWQgfHwgdi54ID4gbWF4eCkgewogICAgICAgIG1heHggPSB2Lng7CiAgICAgIH0KCiAgICAgIGlmIChtaW55ID09PSB1bmRlZmluZWQgfHwgdi55IDwgbWlueSkgewogICAgICAgIG1pbnkgPSB2Lnk7CiAgICAgIH0KCiAgICAgIGlmIChtYXh5ID09PSB1bmRlZmluZWQgfHwgdi55ID4gbWF4eSkgewogICAgICAgIG1heHkgPSB2Lnk7CiAgICAgIH0KCiAgICAgIGlmIChtaW56ID09PSB1bmRlZmluZWQgfHwgdi56IDwgbWlueikgewogICAgICAgIG1pbnogPSB2Lno7CiAgICAgIH0KCiAgICAgIGlmIChtYXh6ID09PSB1bmRlZmluZWQgfHwgdi56ID4gbWF4eikgewogICAgICAgIG1heHogPSB2Lno7CiAgICAgIH0KICAgIH0KCiAgICBtaW4uc2V0KG1pbngsIG1pbnksIG1pbnopOwogICAgbWF4LnNldChtYXh4LCBtYXh5LCBtYXh6KTsKICB9CiAgLyoqDQogICAqIEdldCBhcHByb3hpbWF0ZSBjb252ZXggdm9sdW1lDQogICAqIEBtZXRob2Qgdm9sdW1lDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgLyAzLjA7CiAgfQogIC8qKg0KICAgKiBHZXQgYW4gYXZlcmFnZSBvZiBhbGwgdGhlIHZlcnRpY2VzIHBvc2l0aW9ucw0KICAgKiBAbWV0aG9kIGdldEF2ZXJhZ2VQb2ludExvY2FsDQogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGdldEF2ZXJhZ2VQb2ludExvY2FsKHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRhcmdldC52YWRkKHZlcnRzW2ldLCB0YXJnZXQpOwogICAgfQoKICAgIHRhcmdldC5zY2FsZSgxIC8gdmVydHMubGVuZ3RoLCB0YXJnZXQpOwogICAgcmV0dXJuIHRhcmdldDsKICB9CiAgLyoqDQogICAqIFRyYW5zZm9ybSBhbGwgbG9jYWwgcG9pbnRzLiBXaWxsIGNoYW5nZSB0aGUgLnZlcnRpY2VzDQogICAqIEBtZXRob2QgdHJhbnNmb3JtQWxsUG9pbnRzDQogICAqIEBwYXJhbSAge1ZlYzN9IG9mZnNldA0KICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0DQogICAqLwoKCiAgdHJhbnNmb3JtQWxsUG9pbnRzKG9mZnNldCwgcXVhdCkgewogICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwogICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOyAvLyBBcHBseSByb3RhdGlvbgoKICAgIGlmIChxdWF0KSB7CiAgICAgIC8vIFJvdGF0ZSB2ZXJ0aWNlcwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsKICAgICAgICBxdWF0LnZtdWx0KHYsIHYpOwogICAgICB9IC8vIFJvdGF0ZSBmYWNlIG5vcm1hbHMKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gdGhpcy5mYWNlTm9ybWFsc1tpXTsKICAgICAgICBxdWF0LnZtdWx0KHYsIHYpOwogICAgICB9CiAgICAgIC8qDQogICAgICAgICAgICAvLyBSb3RhdGUgZWRnZXMNCiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMudW5pcXVlRWRnZXMubGVuZ3RoOyBpKyspew0KICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnVuaXF1ZUVkZ2VzW2ldOw0KICAgICAgICAgICAgICAgIHF1YXQudm11bHQodix2KTsNCiAgICAgICAgICAgIH0qLwoKICAgIH0gLy8gQXBwbHkgb2Zmc2V0CgoKICAgIGlmIChvZmZzZXQpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07CiAgICAgICAgdi52YWRkKG9mZnNldCwgdik7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIENoZWNrcyB3aGV0aGVyIHAgaXMgaW5zaWRlIHRoZSBwb2x5aGVkcmEuIE11c3QgYmUgaW4gbG9jYWwgY29vcmRzLg0KICAgKiBUaGUgcG9pbnQgbGllcyBvdXRzaWRlIG9mIHRoZSBjb252ZXggaHVsbCBvZiB0aGUgb3RoZXIgcG9pbnRzIGlmIGFuZCBvbmx5IGlmIHRoZSBkaXJlY3Rpb24NCiAgICogb2YgYWxsIHRoZSB2ZWN0b3JzIGZyb20gaXQgdG8gdGhvc2Ugb3RoZXIgcG9pbnRzIGFyZSBvbiBsZXNzIHRoYW4gb25lIGhhbGYgb2YgYSBzcGhlcmUgYXJvdW5kIGl0Lg0KICAgKiBAbWV0aG9kIHBvaW50SXNJbnNpZGUNCiAgICogQHBhcmFtICB7VmVjM30gcCAgICAgIEEgcG9pbnQgZ2l2ZW4gaW4gbG9jYWwgY29vcmRpbmF0ZXMNCiAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICovCgoKICBwb2ludElzSW5zaWRlKHApIHsKICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlczsKICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzOwogICAgY29uc3QgcG9pbnRJbnNpZGUgPSBuZXcgVmVjMygpOwogICAgdGhpcy5nZXRBdmVyYWdlUG9pbnRMb2NhbChwb2ludEluc2lkZSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBuID0gbm9ybWFsc1tpXTsKICAgICAgY29uc3QgdiA9IHZlcnRzW2ZhY2VzW2ldWzBdXTsgLy8gV2Ugb25seSBuZWVkIG9uZSBwb2ludCBpbiB0aGUgZmFjZQogICAgICAvLyBUaGlzIGRvdCBwcm9kdWN0IGRldGVybWluZXMgd2hpY2ggc2lkZSBvZiB0aGUgZWRnZSB0aGUgcG9pbnQgaXMKCiAgICAgIGNvbnN0IHZUb1AgPSBuZXcgVmVjMygpOwogICAgICBwLnZzdWIodiwgdlRvUCk7CiAgICAgIGNvbnN0IHIxID0gbi5kb3QodlRvUCk7CiAgICAgIGNvbnN0IHZUb1BvaW50SW5zaWRlID0gbmV3IFZlYzMoKTsKICAgICAgcG9pbnRJbnNpZGUudnN1Yih2LCB2VG9Qb2ludEluc2lkZSk7CiAgICAgIGNvbnN0IHIyID0gbi5kb3QodlRvUG9pbnRJbnNpZGUpOwoKICAgICAgaWYgKHIxIDwgMCAmJiByMiA+IDAgfHwgcjEgPiAwICYmIHIyIDwgMCkgewogICAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LgogICAgICB9CiAgICB9IC8vIElmIHdlIGdvdCBoZXJlLCBhbGwgZG90IHByb2R1Y3RzIHdlcmUgb2YgdGhlIHNhbWUgc2lnbi4KCgogICAgcmV0dXJuIC0xOwogIH0KCn0KLyoqDQogKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlcw0KICogQHN0YXRpYw0KICogQG1ldGhvZCBjb21wdXRlTm9ybWFsDQogKiBAcGFyYW0ge1ZlYzN9IHZhDQogKiBAcGFyYW0ge1ZlYzN9IHZiDQogKiBAcGFyYW0ge1ZlYzN9IHZjDQogKiBAcGFyYW0ge1ZlYzN9IHRhcmdldA0KICovCgoKQ29udmV4UG9seWhlZHJvbi5jb21wdXRlTm9ybWFsID0gKHZhLCB2YiwgdmMsIHRhcmdldCkgPT4gewogIGNvbnN0IGNiID0gbmV3IFZlYzMoKTsKICBjb25zdCBhYiA9IG5ldyBWZWMzKCk7CiAgdmIudnN1Yih2YSwgYWIpOwogIHZjLnZzdWIodmIsIGNiKTsKICBjYi5jcm9zcyhhYiwgdGFyZ2V0KTsKCiAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHsKICAgIHRhcmdldC5ub3JtYWxpemUoKTsKICB9Cn07Cgpjb25zdCBtYXhtaW5BID0gW107CmNvbnN0IG1heG1pbkIgPSBbXTsKLyoqDQogKiBHZXQgbWF4IGFuZCBtaW4gZG90IHByb2R1Y3Qgb2YgYSBjb252ZXggaHVsbCBhdCBwb3NpdGlvbiAocG9zLHF1YXQpIHByb2plY3RlZCBvbnRvIGFuIGF4aXMuDQogKiBSZXN1bHRzIGFyZSBzYXZlZCBpbiB0aGUgYXJyYXkgbWF4bWluLg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBwcm9qZWN0DQogKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGwNCiAqIEBwYXJhbSB7VmVjM30gYXhpcw0KICogQHBhcmFtIHtWZWMzfSBwb3MNCiAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdA0KICogQHBhcmFtIHthcnJheX0gcmVzdWx0IHJlc3VsdFswXSBhbmQgcmVzdWx0WzFdIHdpbGwgYmUgc2V0IHRvIG1heGltdW0gYW5kIG1pbmltdW0sIHJlc3BlY3RpdmVseS4NCiAqLwoKQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0ID0gKHNoYXBlLCBheGlzLCBwb3MsIHF1YXQsIHJlc3VsdCkgPT4gewogIGNvbnN0IG4gPSBzaGFwZS52ZXJ0aWNlcy5sZW5ndGg7CiAgY29uc3QgbG9jYWxBeGlzID0gbmV3IFZlYzMoKTsKICBsZXQgbWF4ID0gMDsKICBsZXQgbWluID0gMDsKICBjb25zdCBsb2NhbE9yaWdpbiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdnMgPSBzaGFwZS52ZXJ0aWNlczsKICBsb2NhbE9yaWdpbi5zZXRaZXJvKCk7IC8vIFRyYW5zZm9ybSB0aGUgYXhpcyB0byBsb2NhbAoKICBUcmFuc2Zvcm0udmVjdG9yVG9Mb2NhbEZyYW1lKHBvcywgcXVhdCwgYXhpcywgbG9jYWxBeGlzKTsKICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBsb2NhbE9yaWdpbiwgbG9jYWxPcmlnaW4pOwogIGNvbnN0IGFkZCA9IGxvY2FsT3JpZ2luLmRvdChsb2NhbEF4aXMpOwogIG1pbiA9IG1heCA9IHZzWzBdLmRvdChsb2NhbEF4aXMpOwoKICBmb3IgKGxldCBpID0gMTsgaSA8IG47IGkrKykgewogICAgY29uc3QgdmFsID0gdnNbaV0uZG90KGxvY2FsQXhpcyk7CgogICAgaWYgKHZhbCA+IG1heCkgewogICAgICBtYXggPSB2YWw7CiAgICB9CgogICAgaWYgKHZhbCA8IG1pbikgewogICAgICBtaW4gPSB2YWw7CiAgICB9CiAgfQoKICBtaW4gLT0gYWRkOwogIG1heCAtPSBhZGQ7CgogIGlmIChtaW4gPiBtYXgpIHsKICAgIC8vIEluY29uc2lzdGVudCAtIHN3YXAKICAgIGNvbnN0IHRlbXAgPSBtaW47CiAgICBtaW4gPSBtYXg7CiAgICBtYXggPSB0ZW1wOwogIH0gLy8gT3V0cHV0CgoKICByZXN1bHRbMF0gPSBtYXg7CiAgcmVzdWx0WzFdID0gbWluOwp9OwovKioNCiAqIEEgM2QgYm94IHNoYXBlLg0KICogQGNsYXNzIEJveA0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge1ZlYzN9IGhhbGZFeHRlbnRzDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICovCgoKY2xhc3MgQm94IGV4dGVuZHMgU2hhcGUgewogIC8vIFVzZWQgYnkgdGhlIGNvbnRhY3QgZ2VuZXJhdG9yIHRvIG1ha2UgY29udGFjdHMgd2l0aCBvdGhlciBjb252ZXggcG9seWhlZHJhIGZvciBleGFtcGxlLgogIGNvbnN0cnVjdG9yKGhhbGZFeHRlbnRzKSB7CiAgICBzdXBlcih7CiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkJPWAogICAgfSk7CiAgICB0aGlzLmhhbGZFeHRlbnRzID0gaGFsZkV4dGVudHM7CiAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IG51bGw7CiAgICB0aGlzLnVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogIH0KICAvKioNCiAgICogVXBkYXRlcyB0aGUgbG9jYWwgY29udmV4IHBvbHloZWRyb24gcmVwcmVzZW50YXRpb24gdXNlZCBmb3Igc29tZSBjb2xsaXNpb25zLg0KICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbg0KICAgKi8KCgogIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpIHsKICAgIGNvbnN0IHN4ID0gdGhpcy5oYWxmRXh0ZW50cy54OwogICAgY29uc3Qgc3kgPSB0aGlzLmhhbGZFeHRlbnRzLnk7CiAgICBjb25zdCBzeiA9IHRoaXMuaGFsZkV4dGVudHMuejsKICAgIGNvbnN0IFYgPSBWZWMzOwogICAgY29uc3QgdmVydGljZXMgPSBbbmV3IFYoLXN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCAtc3ksIHN6KSwgbmV3IFYoc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgc3ksIHN6KSwgbmV3IFYoLXN4LCBzeSwgc3opXTsKICAgIGNvbnN0IGZhY2VzID0gW1szLCAyLCAxLCAwXSwgLy8gLXoKICAgIFs0LCA1LCA2LCA3XSwgLy8gK3oKICAgIFs1LCA0LCAwLCAxXSwgLy8gLXkKICAgIFsyLCAzLCA3LCA2XSwgLy8gK3kKICAgIFswLCA0LCA3LCAzXSwgLy8gLXgKICAgIFsxLCAyLCA2LCA1XSAvLyAreAogICAgXTsKICAgIGNvbnN0IGF4ZXMgPSBbbmV3IFYoMCwgMCwgMSksIG5ldyBWKDAsIDEsIDApLCBuZXcgVigxLCAwLCAwKV07CiAgICBjb25zdCBoID0gbmV3IENvbnZleFBvbHloZWRyb24oewogICAgICB2ZXJ0aWNlcywKICAgICAgZmFjZXMsCiAgICAgIGF4ZXMKICAgIH0pOwogICAgdGhpcy5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24gPSBoOwogICAgaC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MNCiAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKHRoaXMuaGFsZkV4dGVudHMsIG1hc3MsIHRhcmdldCk7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KICAvKioNCiAgICogR2V0IHRoZSBib3ggNiBzaWRlIG5vcm1hbHMNCiAgICogQG1ldGhvZCBnZXRTaWRlTm9ybWFscw0KICAgKiBAcGFyYW0ge2FycmF5fSAgICAgIHNpeFRhcmdldFZlY3RvcnMgQW4gYXJyYXkgb2YgNiB2ZWN0b3JzLCB0byBzdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgbm9ybWFscyBpbi4NCiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ICAgICAgICAgICAgIE9yaWVudGF0aW9uIHRvIGFwcGx5IHRvIHRoZSBub3JtYWwgdmVjdG9ycy4gSWYgbm90IHByb3ZpZGVkLCB0aGUgdmVjdG9ycyB3aWxsIGJlIGluIHJlc3BlY3QgdG8gdGhlIGxvY2FsIGZyYW1lLg0KICAgKiBAcmV0dXJuIHthcnJheX0NCiAgICovCgoKICBnZXRTaWRlTm9ybWFscyhzaXhUYXJnZXRWZWN0b3JzLCBxdWF0KSB7CiAgICBjb25zdCBzaWRlcyA9IHNpeFRhcmdldFZlY3RvcnM7CiAgICBjb25zdCBleCA9IHRoaXMuaGFsZkV4dGVudHM7CiAgICBzaWRlc1swXS5zZXQoZXgueCwgMCwgMCk7CiAgICBzaWRlc1sxXS5zZXQoMCwgZXgueSwgMCk7CiAgICBzaWRlc1syXS5zZXQoMCwgMCwgZXgueik7CiAgICBzaWRlc1szXS5zZXQoLWV4LngsIDAsIDApOwogICAgc2lkZXNbNF0uc2V0KDAsIC1leC55LCAwKTsKICAgIHNpZGVzWzVdLnNldCgwLCAwLCAtZXgueik7CgogICAgaWYgKHF1YXQgIT09IHVuZGVmaW5lZCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2lkZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBxdWF0LnZtdWx0KHNpZGVzW2ldLCBzaWRlc1tpXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gc2lkZXM7CiAgfQoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gOC4wICogdGhpcy5oYWxmRXh0ZW50cy54ICogdGhpcy5oYWxmRXh0ZW50cy55ICogdGhpcy5oYWxmRXh0ZW50cy56OwogIH0KCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5oYWxmRXh0ZW50cy5sZW5ndGgoKTsKICB9CgogIGZvckVhY2hXb3JsZENvcm5lcihwb3MsIHF1YXQsIGNhbGxiYWNrKSB7CiAgICBjb25zdCBlID0gdGhpcy5oYWxmRXh0ZW50czsKICAgIGNvbnN0IGNvcm5lcnMgPSBbW2UueCwgZS55LCBlLnpdLCBbLWUueCwgZS55LCBlLnpdLCBbLWUueCwgLWUueSwgZS56XSwgWy1lLngsIC1lLnksIC1lLnpdLCBbZS54LCAtZS55LCAtZS56XSwgW2UueCwgZS55LCAtZS56XSwgWy1lLngsIGUueSwgLWUuel0sIFtlLngsIC1lLnksIGUuel1dOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29ybmVycy5sZW5ndGg7IGkrKykgewogICAgICB3b3JsZENvcm5lclRlbXBQb3Muc2V0KGNvcm5lcnNbaV1bMF0sIGNvcm5lcnNbaV1bMV0sIGNvcm5lcnNbaV1bMl0pOwogICAgICBxdWF0LnZtdWx0KHdvcmxkQ29ybmVyVGVtcFBvcywgd29ybGRDb3JuZXJUZW1wUG9zKTsKICAgICAgcG9zLnZhZGQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpOwogICAgICBjYWxsYmFjayh3b3JsZENvcm5lclRlbXBQb3MueCwgd29ybGRDb3JuZXJUZW1wUG9zLnksIHdvcmxkQ29ybmVyVGVtcFBvcy56KTsKICAgIH0KICB9CgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICBjb25zdCBlID0gdGhpcy5oYWxmRXh0ZW50czsKICAgIHdvcmxkQ29ybmVyc1RlbXBbMF0uc2V0KGUueCwgZS55LCBlLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFsxXS5zZXQoLWUueCwgZS55LCBlLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFsyXS5zZXQoLWUueCwgLWUueSwgZS56KTsKICAgIHdvcmxkQ29ybmVyc1RlbXBbM10uc2V0KC1lLngsIC1lLnksIC1lLnopOwogICAgd29ybGRDb3JuZXJzVGVtcFs0XS5zZXQoZS54LCAtZS55LCAtZS56KTsKICAgIHdvcmxkQ29ybmVyc1RlbXBbNV0uc2V0KGUueCwgZS55LCAtZS56KTsKICAgIHdvcmxkQ29ybmVyc1RlbXBbNl0uc2V0KC1lLngsIGUueSwgLWUueik7CiAgICB3b3JsZENvcm5lcnNUZW1wWzddLnNldChlLngsIC1lLnksIGUueik7CiAgICBjb25zdCB3YyA9IHdvcmxkQ29ybmVyc1RlbXBbMF07CiAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7CiAgICBwb3MudmFkZCh3Yywgd2MpOwogICAgbWF4LmNvcHkod2MpOwogICAgbWluLmNvcHkod2MpOwoKICAgIGZvciAobGV0IGkgPSAxOyBpIDwgODsgaSsrKSB7CiAgICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFtpXTsKICAgICAgcXVhdC52bXVsdCh3Yywgd2MpOwogICAgICBwb3MudmFkZCh3Yywgd2MpOwogICAgICBjb25zdCB4ID0gd2MueDsKICAgICAgY29uc3QgeSA9IHdjLnk7CiAgICAgIGNvbnN0IHogPSB3Yy56OwoKICAgICAgaWYgKHggPiBtYXgueCkgewogICAgICAgIG1heC54ID0geDsKICAgICAgfQoKICAgICAgaWYgKHkgPiBtYXgueSkgewogICAgICAgIG1heC55ID0geTsKICAgICAgfQoKICAgICAgaWYgKHogPiBtYXgueikgewogICAgICAgIG1heC56ID0gejsKICAgICAgfQoKICAgICAgaWYgKHggPCBtaW4ueCkgewogICAgICAgIG1pbi54ID0geDsKICAgICAgfQoKICAgICAgaWYgKHkgPCBtaW4ueSkgewogICAgICAgIG1pbi55ID0geTsKICAgICAgfQoKICAgICAgaWYgKHogPCBtaW4ueikgewogICAgICAgIG1pbi56ID0gejsKICAgICAgfQogICAgfSAvLyBHZXQgZWFjaCBheGlzIG1heAogICAgLy8gbWluLnNldChJbmZpbml0eSxJbmZpbml0eSxJbmZpbml0eSk7CiAgICAvLyBtYXguc2V0KC1JbmZpbml0eSwtSW5maW5pdHksLUluZmluaXR5KTsKICAgIC8vIHRoaXMuZm9yRWFjaFdvcmxkQ29ybmVyKHBvcyxxdWF0LGZ1bmN0aW9uKHgseSx6KXsKICAgIC8vICAgICBpZih4ID4gbWF4LngpewogICAgLy8gICAgICAgICBtYXgueCA9IHg7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmKHkgPiBtYXgueSl7CiAgICAvLyAgICAgICAgIG1heC55ID0geTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYoeiA+IG1heC56KXsKICAgIC8vICAgICAgICAgbWF4LnogPSB6OwogICAgLy8gICAgIH0KICAgIC8vICAgICBpZih4IDwgbWluLngpewogICAgLy8gICAgICAgICBtaW4ueCA9IHg7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmKHkgPCBtaW4ueSl7CiAgICAvLyAgICAgICAgIG1pbi55ID0geTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYoeiA8IG1pbi56KXsKICAgIC8vICAgICAgICAgbWluLnogPSB6OwogICAgLy8gICAgIH0KICAgIC8vIH0pOwoKICB9Cgp9CgpCb3guY2FsY3VsYXRlSW5lcnRpYSA9IChoYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KSA9PiB7CiAgY29uc3QgZSA9IGhhbGZFeHRlbnRzOwogIHRhcmdldC54ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIGUueSAqIDIgKiBlLnkgKyAyICogZS56ICogMiAqIGUueik7CiAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS54ICogMiAqIGUueCArIDIgKiBlLnogKiAyICogZS56KTsKICB0YXJnZXQueiA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiBlLnkgKiAyICogZS55ICsgMiAqIGUueCAqIDIgKiBlLngpOwp9OwoKY29uc3Qgd29ybGRDb3JuZXJUZW1wUG9zID0gbmV3IFZlYzMoKTsKY29uc3Qgd29ybGRDb3JuZXJzVGVtcCA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTsKY29uc3QgQk9EWV9TTEVFUF9TVEFURVMgPSB7CiAgQVdBS0U6IDAsCiAgU0xFRVBZOiAxLAogIFNMRUVQSU5HOiAyCn07Ci8qKg0KICogQmFzZSBjbGFzcyBmb3IgYWxsIGJvZHkgdHlwZXMuDQogKiBAY2xhc3MgQm9keQ0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBFdmVudFRhcmdldA0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5wb3NpdGlvbl0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMudmVsb2NpdHldDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eV0NCiAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW29wdGlvbnMucXVhdGVybmlvbl0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXNzXQ0KICogQHBhcmFtIHtNYXRlcmlhbH0gW29wdGlvbnMubWF0ZXJpYWxdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudHlwZV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5lYXJEYW1waW5nPTAuMDFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5ndWxhckRhbXBpbmc9MC4wMV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dTbGVlcD10cnVlXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNsZWVwU3BlZWRMaW1pdD0wLjFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBUaW1lTGltaXQ9MV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0xXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZpeGVkUm90YXRpb249ZmFsc2VdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmxpbmVhckZhY3Rvcl0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5ndWxhckZhY3Rvcl0NCiAqIEBwYXJhbSB7U2hhcGV9IFtvcHRpb25zLnNoYXBlXQ0KICogQGV4YW1wbGUNCiAqICAgICBjb25zdCBib2R5ID0gbmV3IEJvZHkoew0KICogICAgICAgICBtYXNzOiAxDQogKiAgICAgfSk7DQogKiAgICAgY29uc3Qgc2hhcGUgPSBuZXcgU3BoZXJlKDEpOw0KICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUpOw0KICogICAgIHdvcmxkLmFkZEJvZHkoYm9keSk7DQogKi8KCmNsYXNzIEJvZHkgZXh0ZW5kcyBFdmVudFRhcmdldCB7CiAgLy8gUG9zaXRpb24gb2YgYm9keSBpbiBXb3JsZC5ib2RpZXMuIFVwZGF0ZWQgYnkgV29ybGQgYW5kIHVzZWQgaW4gQXJyYXlDb2xsaXNpb25NYXRyaXguCiAgLy8gUmVmZXJlbmNlIHRvIHRoZSB3b3JsZCB0aGUgYm9keSBpcyBsaXZpbmcgaW4uCiAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIEJFRk9SRSBzdGVwcGluZyB0aGUgc3lzdGVtLiBVc2UgaXQgdG8gYXBwbHkgZm9yY2VzLCBmb3IgZXhhbXBsZS4gSW5zaWRlIHRoZSBmdW5jdGlvbiwgInRoaXMiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC4KICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQUZURVIgc3RlcHBpbmcgdGhlIHN5c3RlbS4gSW5zaWRlIHRoZSBmdW5jdGlvbiwgInRoaXMiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC4KICAvLyBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQgLSBpLmUuICJjb2xsaWRlIiBldmVudHMgd2lsbCBiZSByYWlzZWQsIGJ1dCBmb3JjZXMgd2lsbCBub3QgYmUgYWx0ZXJlZC4KICAvLyBXb3JsZCBzcGFjZSBwb3NpdGlvbiBvZiB0aGUgYm9keS4KICAvLyBJbnRlcnBvbGF0ZWQgcG9zaXRpb24gb2YgdGhlIGJvZHkuCiAgLy8gSW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgYm9keS4KICAvLyBXb3JsZCBzcGFjZSB2ZWxvY2l0eSBvZiB0aGUgYm9keS4KICAvLyBMaW5lYXIgZm9yY2Ugb24gdGhlIGJvZHkgaW4gd29ybGQgc3BhY2UuCiAgLy8gT25lIG9mOiBCb2R5LkRZTkFNSUMsIEJvZHkuU1RBVElDIGFuZCBCb2R5LktJTkVNQVRJQy4KICAvLyBJZiB0cnVlLCB0aGUgYm9keSB3aWxsIGF1dG9tYXRpY2FsbHkgZmFsbCB0byBzbGVlcC4KICAvLyBDdXJyZW50IHNsZWVwIHN0YXRlLgogIC8vIElmIHRoZSBzcGVlZCAodGhlIG5vcm0gb2YgdGhlIHZlbG9jaXR5KSBpcyBzbWFsbGVyIHRoYW4gdGhpcyB2YWx1ZSwgdGhlIGJvZHkgaXMgY29uc2lkZXJlZCBzbGVlcHkuCiAgLy8gSWYgdGhlIGJvZHkgaGFzIGJlZW4gc2xlZXB5IGZvciB0aGlzIHNsZWVwVGltZUxpbWl0IHNlY29uZHMsIGl0IGlzIGNvbnNpZGVyZWQgc2xlZXBpbmcuCiAgLy8gV29ybGQgc3BhY2Ugcm90YXRpb25hbCBmb3JjZSBvbiB0aGUgYm9keSwgYXJvdW5kIGNlbnRlciBvZiBtYXNzLgogIC8vIFdvcmxkIHNwYWNlIG9yaWVudGF0aW9uIG9mIHRoZSBib2R5LgogIC8vIEludGVycG9sYXRlZCBvcmllbnRhdGlvbiBvZiB0aGUgYm9keS4KICAvLyBBbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2R5LCBpbiB3b3JsZCBzcGFjZS4gVGhpbmsgb2YgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgYXMgYSB2ZWN0b3IsIHdoaWNoIHRoZSBib2R5IHJvdGF0ZXMgYXJvdW5kLiBUaGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yIGRldGVybWluZXMgaG93IGZhc3QgKGluIHJhZGlhbnMgcGVyIHNlY29uZCkgdGhlIGJvZHkgcm90YXRlcy4KICAvLyBQb3NpdGlvbiBvZiBlYWNoIFNoYXBlIGluIHRoZSBib2R5LCBnaXZlbiBpbiBsb2NhbCBCb2R5IHNwYWNlLgogIC8vIE9yaWVudGF0aW9uIG9mIGVhY2ggU2hhcGUsIGdpdmVuIGluIGxvY2FsIEJvZHkgc3BhY2UuCiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IGRvbid0IHdhbnQgdGhlIGJvZHkgdG8gcm90YXRlLiBNYWtlIHN1cmUgdG8gcnVuIC51cGRhdGVNYXNzUHJvcGVydGllcygpIGFmdGVyIGNoYW5naW5nIHRoaXMuCiAgLy8gVXNlIHRoaXMgcHJvcGVydHkgdG8gbGltaXQgdGhlIG1vdGlvbiBhbG9uZyBhbnkgd29ybGQgYXhpcy4gKDEsMSwxKSB3aWxsIGFsbG93IG1vdGlvbiBhbG9uZyBhbGwgYXhlcyB3aGlsZSAoMCwwLDApIGFsbG93cyBub25lLgogIC8vIFVzZSB0aGlzIHByb3BlcnR5IHRvIGxpbWl0IHRoZSByb3RhdGlvbmFsIG1vdGlvbiBhbG9uZyBhbnkgd29ybGQgYXhpcy4gKDEsMSwxKSB3aWxsIGFsbG93IHJvdGF0aW9uIGFsb25nIGFsbCBheGVzIHdoaWxlICgwLDAsMCkgYWxsb3dzIG5vbmUuCiAgLy8gV29ybGQgc3BhY2UgYm91bmRpbmcgYm94IG9mIHRoZSBib2R5IGFuZCBpdHMgc2hhcGVzLgogIC8vIEluZGljYXRlcyBpZiB0aGUgQUFCQiBuZWVkcyB0byBiZSB1cGRhdGVkIGJlZm9yZSB1c2UuCiAgLy8gVG90YWwgYm91bmRpbmcgcmFkaXVzIG9mIHRoZSBCb2R5IGluY2x1ZGluZyBpdHMgc2hhcGVzLCByZWxhdGl2ZSB0byBib2R5LnBvc2l0aW9uLgogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuaWQgPSBCb2R5LmlkQ291bnRlcisrOwogICAgdGhpcy5pbmRleCA9IC0xOwogICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICB0aGlzLnByZVN0ZXAgPSBudWxsOwogICAgdGhpcy5wb3N0U3RlcCA9IG51bGw7CiAgICB0aGlzLnZsYW1iZGEgPSBuZXcgVmVjMygpOwogICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgOiAxOwogICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTsKICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA6IHRydWU7CiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW5pdFBvc2l0aW9uID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikgewogICAgICB0aGlzLnBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pOwogICAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgIHRoaXMuaW5pdFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICB9CgogICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWMzKCk7CgogICAgaWYgKG9wdGlvbnMudmVsb2NpdHkpIHsKICAgICAgdGhpcy52ZWxvY2l0eS5jb3B5KG9wdGlvbnMudmVsb2NpdHkpOwogICAgfQoKICAgIHRoaXMuaW5pdFZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuZm9yY2UgPSBuZXcgVmVjMygpOwogICAgY29uc3QgbWFzcyA9IHR5cGVvZiBvcHRpb25zLm1hc3MgPT09ICdudW1iZXInID8gb3B0aW9ucy5tYXNzIDogMDsKICAgIHRoaXMubWFzcyA9IG1hc3M7CiAgICB0aGlzLmludk1hc3MgPSBtYXNzID4gMCA/IDEuMCAvIG1hc3MgOiAwOwogICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgfHwgbnVsbDsKICAgIHRoaXMubGluZWFyRGFtcGluZyA9IHR5cGVvZiBvcHRpb25zLmxpbmVhckRhbXBpbmcgPT09ICdudW1iZXInID8gb3B0aW9ucy5saW5lYXJEYW1waW5nIDogMC4wMTsKICAgIHRoaXMudHlwZSA9IG1hc3MgPD0gMC4wID8gQm9keS5TVEFUSUMgOiBCb2R5LkRZTkFNSUM7CgogICAgaWYgKHR5cGVvZiBvcHRpb25zLnR5cGUgPT09IHR5cGVvZiBCb2R5LlNUQVRJQykgewogICAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7CiAgICB9CgogICAgdGhpcy5hbGxvd1NsZWVwID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dTbGVlcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFsbG93U2xlZXAgOiB0cnVlOwogICAgdGhpcy5zbGVlcFN0YXRlID0gMDsKICAgIHRoaXMuc2xlZXBTcGVlZExpbWl0ID0gdHlwZW9mIG9wdGlvbnMuc2xlZXBTcGVlZExpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBTcGVlZExpbWl0IDogMC4xOwogICAgdGhpcy5zbGVlcFRpbWVMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwVGltZUxpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgOiAxOwogICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IDA7CiAgICB0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTsKICAgIHRoaXMudG9ycXVlID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICB0aGlzLmluaXRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgIHRoaXMuaW50ZXJwb2xhdGVkUXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CgogICAgaWYgKG9wdGlvbnMucXVhdGVybmlvbikgewogICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB0aGlzLmluaXRRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgfQoKICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpIHsKICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY29weShvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eSk7CiAgICB9CgogICAgdGhpcy5pbml0QW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuc2hhcGVzID0gW107CiAgICB0aGlzLnNoYXBlT2Zmc2V0cyA9IFtdOwogICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucyA9IFtdOwogICAgdGhpcy5pbmVydGlhID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaW52SW5lcnRpYSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmludkluZXJ0aWFXb3JsZCA9IG5ldyBNYXQzKCk7CiAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7CiAgICB0aGlzLmludkluZXJ0aWFTb2x2ZSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlID0gbmV3IE1hdDMoKTsKICAgIHRoaXMuZml4ZWRSb3RhdGlvbiA9IHR5cGVvZiBvcHRpb25zLmZpeGVkUm90YXRpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5maXhlZFJvdGF0aW9uIDogZmFsc2U7CiAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMuYW5ndWxhckRhbXBpbmcgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmd1bGFyRGFtcGluZyA6IDAuMDE7CiAgICB0aGlzLmxpbmVhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgIGlmIChvcHRpb25zLmxpbmVhckZhY3RvcikgewogICAgICB0aGlzLmxpbmVhckZhY3Rvci5jb3B5KG9wdGlvbnMubGluZWFyRmFjdG9yKTsKICAgIH0KCiAgICB0aGlzLmFuZ3VsYXJGYWN0b3IgPSBuZXcgVmVjMygxLCAxLCAxKTsKCiAgICBpZiAob3B0aW9ucy5hbmd1bGFyRmFjdG9yKSB7CiAgICAgIHRoaXMuYW5ndWxhckZhY3Rvci5jb3B5KG9wdGlvbnMuYW5ndWxhckZhY3Rvcik7CiAgICB9CgogICAgdGhpcy5hYWJiID0gbmV3IEFBQkIoKTsKICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSAwOwogICAgdGhpcy53bGFtYmRhID0gbmV3IFZlYzMoKTsKCiAgICBpZiAob3B0aW9ucy5zaGFwZSkgewogICAgICB0aGlzLmFkZFNoYXBlKG9wdGlvbnMuc2hhcGUpOwogICAgfQoKICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICB9CiAgLyoqDQogICAqIFdha2UgdGhlIGJvZHkgdXAuDQogICAqIEBtZXRob2Qgd2FrZVVwDQogICAqLwoKCiAgd2FrZVVwKCkgewogICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5zbGVlcFN0YXRlOwogICAgdGhpcy5zbGVlcFN0YXRlID0gMDsKICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwoKICAgIGlmIChwcmV2U3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkud2FrZXVwRXZlbnQpOwogICAgfQogIH0KICAvKioNCiAgICogRm9yY2UgYm9keSBzbGVlcA0KICAgKiBAbWV0aG9kIHNsZWVwDQogICAqLwoKCiAgc2xlZXAoKSB7CiAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQSU5HOwogICAgdGhpcy52ZWxvY2l0eS5zZXQoMCwgMCwgMCk7CiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5zZXQoMCwgMCwgMCk7CiAgICB0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTsKICB9CiAgLyoqDQogICAqIENhbGxlZCBldmVyeSB0aW1lc3RlcCB0byB1cGRhdGUgaW50ZXJuYWwgc2xlZXAgdGltZXIgYW5kIGNoYW5nZSBzbGVlcCBzdGF0ZSBpZiBuZWVkZWQuDQogICAqIEBtZXRob2Qgc2xlZXBUaWNrDQogICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIFRoZSB3b3JsZCB0aW1lIGluIHNlY29uZHMNCiAgICovCgoKICBzbGVlcFRpY2sodGltZSkgewogICAgaWYgKHRoaXMuYWxsb3dTbGVlcCkgewogICAgICBjb25zdCBzbGVlcFN0YXRlID0gdGhpcy5zbGVlcFN0YXRlOwogICAgICBjb25zdCBzcGVlZFNxdWFyZWQgPSB0aGlzLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIHRoaXMuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWQgPSB0aGlzLnNsZWVwU3BlZWRMaW1pdCAqKiAyOwoKICAgICAgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgc3BlZWRTcXVhcmVkIDwgc3BlZWRMaW1pdFNxdWFyZWQpIHsKICAgICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQWTsgLy8gU2xlZXB5CgogICAgICAgIHRoaXMudGltZUxhc3RTbGVlcHkgPSB0aW1lOwogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5LnNsZWVweUV2ZW50KTsKICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiBzcGVlZFNxdWFyZWQgPiBzcGVlZExpbWl0U3F1YXJlZCkgewogICAgICAgIHRoaXMud2FrZVVwKCk7IC8vIFdha2UgdXAKICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiB0aW1lIC0gdGhpcy50aW1lTGFzdFNsZWVweSA+IHRoaXMuc2xlZXBUaW1lTGltaXQpIHsKICAgICAgICB0aGlzLnNsZWVwKCk7IC8vIFNsZWVwaW5nCgogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5LnNsZWVwRXZlbnQpOwogICAgICB9CiAgICB9CiAgfQogIC8qKg0KICAgKiBJZiB0aGUgYm9keSBpcyBzbGVlcGluZywgaXQgc2hvdWxkIGJlIGltbW92YWJsZSAvIGhhdmUgaW5maW5pdGUgbWFzcyBkdXJpbmcgc29sdmUuIFdlIHNvbHZlIGl0IGJ5IGhhdmluZyBhIHNlcGFyYXRlICJzb2x2ZSBtYXNzIi4NCiAgICogQG1ldGhvZCB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzDQogICAqLwoKCiAgdXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpIHsKICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykgewogICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7CiAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlLnNldFplcm8oKTsKICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5zZXRaZXJvKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IHRoaXMuaW52TWFzczsKICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuY29weSh0aGlzLmludkluZXJ0aWEpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLmNvcHkodGhpcy5pbnZJbmVydGlhV29ybGQpOwogICAgfQogIH0KICAvKioNCiAgICogQ29udmVydCBhIHdvcmxkIHBvaW50IHRvIGxvY2FsIGJvZHkgZnJhbWUuDQogICAqIEBtZXRob2QgcG9pbnRUb0xvY2FsRnJhbWUNCiAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludA0KICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICBwb2ludFRvTG9jYWxGcmFtZSh3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICB3b3JsZFBvaW50LnZzdWIodGhpcy5wb3NpdGlvbiwgcmVzdWx0KTsKICAgIHRoaXMucXVhdGVybmlvbi5jb25qdWdhdGUoKS52bXVsdChyZXN1bHQsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogQ29udmVydCBhIHdvcmxkIHZlY3RvciB0byBsb2NhbCBib2R5IGZyYW1lLg0KICAgKiBAbWV0aG9kIHZlY3RvclRvTG9jYWxGcmFtZQ0KICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50DQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIHZlY3RvclRvTG9jYWxGcmFtZSh3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHdvcmxkVmVjdG9yLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLg0KICAgKiBAbWV0aG9kIHBvaW50VG9Xb3JsZEZyYW1lDQogICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQNCiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0DQogICAqIEByZXR1cm4ge1ZlYzN9DQogICAqLwoKCiAgcG9pbnRUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsUG9pbnQsIHJlc3VsdCk7CiAgICByZXN1bHQudmFkZCh0aGlzLnBvc2l0aW9uLCByZXN1bHQpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLg0KICAgKiBAbWV0aG9kIHZlY3RvclRvV29ybGRGcmFtZQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFZlY3Rvcg0KICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQNCiAgICogQHJldHVybiB7VmVjM30NCiAgICovCgoKICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBBZGQgYSBzaGFwZSB0byB0aGUgYm9keSB3aXRoIGEgbG9jYWwgb2Zmc2V0IGFuZCBvcmllbnRhdGlvbi4NCiAgICogQG1ldGhvZCBhZGRTaGFwZQ0KICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZQ0KICAgKiBAcGFyYW0ge1ZlYzN9IFtfb2Zmc2V0XQ0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFtfb3JpZW50YXRpb25dDQogICAqIEByZXR1cm4ge0JvZHl9IFRoZSBib2R5IG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4NCiAgICovCgoKICBhZGRTaGFwZShzaGFwZSwgX29mZnNldCwgX29yaWVudGF0aW9uKSB7CiAgICBjb25zdCBvZmZzZXQgPSBuZXcgVmVjMygpOwogICAgY29uc3Qgb3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvbigpOwoKICAgIGlmIChfb2Zmc2V0KSB7CiAgICAgIG9mZnNldC5jb3B5KF9vZmZzZXQpOwogICAgfQoKICAgIGlmIChfb3JpZW50YXRpb24pIHsKICAgICAgb3JpZW50YXRpb24uY29weShfb3JpZW50YXRpb24pOwogICAgfQoKICAgIHRoaXMuc2hhcGVzLnB1c2goc2hhcGUpOwogICAgdGhpcy5zaGFwZU9mZnNldHMucHVzaChvZmZzZXQpOwogICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucy5wdXNoKG9yaWVudGF0aW9uKTsKICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgIHRoaXMudXBkYXRlQm91bmRpbmdSYWRpdXMoKTsKICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgIHNoYXBlLmJvZHkgPSB0aGlzOwogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKg0KICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgYm9keS4gU2hvdWxkIGJlIGRvbmUgaWYgYW55IG9mIHRoZSBzaGFwZXMgYXJlIGNoYW5nZWQuDQogICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdSYWRpdXMNCiAgICovCgoKICB1cGRhdGVCb3VuZGluZ1JhZGl1cygpIHsKICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzOwogICAgY29uc3Qgc2hhcGVPZmZzZXRzID0gdGhpcy5zaGFwZU9mZnNldHM7CiAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDsKICAgIGxldCByYWRpdXMgPSAwOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbaV07CiAgICAgIHNoYXBlLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICAgIGNvbnN0IG9mZnNldCA9IHNoYXBlT2Zmc2V0c1tpXS5sZW5ndGgoKTsKICAgICAgY29uc3QgciA9IHNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzOwoKICAgICAgaWYgKG9mZnNldCArIHIgPiByYWRpdXMpIHsKICAgICAgICByYWRpdXMgPSBvZmZzZXQgKyByOwogICAgICB9CiAgICB9CgogICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHJhZGl1czsKICB9CiAgLyoqDQogICAqIFVwZGF0ZXMgdGhlIC5hYWJiDQogICAqIEBtZXRob2QgY29tcHV0ZUFBQkINCiAgICogQHRvZG8gcmVuYW1lIHRvIHVwZGF0ZUFBQkIoKQ0KICAgKi8KCgogIGNvbXB1dGVBQUJCKCkgewogICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7CiAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0czsKICAgIGNvbnN0IHNoYXBlT3JpZW50YXRpb25zID0gdGhpcy5zaGFwZU9yaWVudGF0aW9uczsKICAgIGNvbnN0IE4gPSBzaGFwZXMubGVuZ3RoOwogICAgY29uc3Qgb2Zmc2V0ID0gdG1wVmVjOwogICAgY29uc3Qgb3JpZW50YXRpb24gPSB0bXBRdWF0JDE7CiAgICBjb25zdCBib2R5UXVhdCA9IHRoaXMucXVhdGVybmlvbjsKICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7CiAgICBjb25zdCBzaGFwZUFBQkIgPSBjb21wdXRlQUFCQl9zaGFwZUFBQkI7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsgLy8gR2V0IHNoYXBlIHdvcmxkIHBvc2l0aW9uCgogICAgICBib2R5UXVhdC52bXVsdChzaGFwZU9mZnNldHNbaV0sIG9mZnNldCk7CiAgICAgIG9mZnNldC52YWRkKHRoaXMucG9zaXRpb24sIG9mZnNldCk7IC8vIEdldCBzaGFwZSB3b3JsZCBxdWF0ZXJuaW9uCgogICAgICBib2R5UXVhdC5tdWx0KHNoYXBlT3JpZW50YXRpb25zW2ldLCBvcmllbnRhdGlvbik7IC8vIEdldCBzaGFwZSBBQUJCCgogICAgICBzaGFwZS5jYWxjdWxhdGVXb3JsZEFBQkIob2Zmc2V0LCBvcmllbnRhdGlvbiwgc2hhcGVBQUJCLmxvd2VyQm91bmQsIHNoYXBlQUFCQi51cHBlckJvdW5kKTsKCiAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgYWFiYi5jb3B5KHNoYXBlQUFCQik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWFiYi5leHRlbmQoc2hhcGVBQUJCKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gZmFsc2U7CiAgfQogIC8qKg0KICAgKiBVcGRhdGUgLmluZXJ0aWFXb3JsZCBhbmQgLmludkluZXJ0aWFXb3JsZA0KICAgKiBAbWV0aG9kIHVwZGF0ZUluZXJ0aWFXb3JsZA0KICAgKi8KCgogIHVwZGF0ZUluZXJ0aWFXb3JsZChmb3JjZSkgewogICAgY29uc3QgSSA9IHRoaXMuaW52SW5lcnRpYTsKICAgIGlmIChJLnggPT09IEkueSAmJiBJLnkgPT09IEkueiAmJiAhZm9yY2UpIDtlbHNlIHsKICAgICAgY29uc3QgbTEgPSB1aXdfbTE7CiAgICAgIGNvbnN0IG0yID0gdWl3X20yOwogICAgICBtMS5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMucXVhdGVybmlvbik7CiAgICAgIG0xLnRyYW5zcG9zZShtMik7CiAgICAgIG0xLnNjYWxlKEksIG0xKTsKICAgICAgbTEubW11bHQobTIsIHRoaXMuaW52SW5lcnRpYVdvcmxkKTsKICAgIH0KICB9CgogIGFwcGx5Rm9yY2UoZm9yY2UsIHJlbGF0aXZlUG9pbnQpIHsKICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykgewogICAgICAvLyBOZWVkZWQ/CiAgICAgIHJldHVybjsKICAgIH0gLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGZvcmNlCgoKICAgIGNvbnN0IHJvdEZvcmNlID0gQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlOwogICAgcmVsYXRpdmVQb2ludC5jcm9zcyhmb3JjZSwgcm90Rm9yY2UpOyAvLyBBZGQgbGluZWFyIGZvcmNlCgogICAgdGhpcy5mb3JjZS52YWRkKGZvcmNlLCB0aGlzLmZvcmNlKTsgLy8gQWRkIHJvdGF0aW9uYWwgZm9yY2UKCiAgICB0aGlzLnRvcnF1ZS52YWRkKHJvdEZvcmNlLCB0aGlzLnRvcnF1ZSk7CiAgfQoKICBhcHBseUxvY2FsRm9yY2UobG9jYWxGb3JjZSwgbG9jYWxQb2ludCkgewogICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB3b3JsZEZvcmNlID0gQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZTsKICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2UKCiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEZvcmNlLCB3b3JsZEZvcmNlKTsKICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICB0aGlzLmFwcGx5Rm9yY2Uod29ybGRGb3JjZSwgcmVsYXRpdmVQb2ludFdvcmxkKTsKICB9CgogIGFwcGx5SW1wdWxzZShpbXB1bHNlLCByZWxhdGl2ZVBvaW50KSB7CiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyBDb21wdXRlIHBvaW50IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBib2R5IGNlbnRlcgoKCiAgICBjb25zdCByID0gcmVsYXRpdmVQb2ludDsgLy8gQ29tcHV0ZSBwcm9kdWNlZCBjZW50cmFsIGltcHVsc2UgdmVsb2NpdHkKCiAgICBjb25zdCB2ZWxvID0gQm9keV9hcHBseUltcHVsc2VfdmVsbzsKICAgIHZlbG8uY29weShpbXB1bHNlKTsKICAgIHZlbG8uc2NhbGUodGhpcy5pbnZNYXNzLCB2ZWxvKTsgLy8gQWRkIGxpbmVhciBpbXB1bHNlCgogICAgdGhpcy52ZWxvY2l0eS52YWRkKHZlbG8sIHRoaXMudmVsb2NpdHkpOyAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgaW1wdWxzZSB2ZWxvY2l0eQoKICAgIGNvbnN0IHJvdFZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvOwogICAgci5jcm9zcyhpbXB1bHNlLCByb3RWZWxvKTsKICAgIC8qDQogICAgIHJvdFZlbG8ueCAqPSB0aGlzLmludkluZXJ0aWEueDsNCiAgICAgcm90VmVsby55ICo9IHRoaXMuaW52SW5lcnRpYS55Ow0KICAgICByb3RWZWxvLnogKj0gdGhpcy5pbnZJbmVydGlhLno7DQogICAgICovCgogICAgdGhpcy5pbnZJbmVydGlhV29ybGQudm11bHQocm90VmVsbywgcm90VmVsbyk7IC8vIEFkZCByb3RhdGlvbmFsIEltcHVsc2UKCiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS52YWRkKHJvdFZlbG8sIHRoaXMuYW5ndWxhclZlbG9jaXR5KTsKICB9CgogIGFwcGx5TG9jYWxJbXB1bHNlKGxvY2FsSW1wdWxzZSwgbG9jYWxQb2ludCkgewogICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB3b3JsZEltcHVsc2UgPSBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3dvcmxkSW1wdWxzZTsKICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2VfcmVsYXRpdmVQb2ludDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2UKCiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEltcHVsc2UsIHdvcmxkSW1wdWxzZSk7CiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbFBvaW50LCByZWxhdGl2ZVBvaW50V29ybGQpOwogICAgdGhpcy5hcHBseUltcHVsc2Uod29ybGRJbXB1bHNlLCByZWxhdGl2ZVBvaW50V29ybGQpOwogIH0KICAvKioNCiAgICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBib2R5IHNoYXBlIG9yIG1hc3MuDQogICAqIEBtZXRob2QgdXBkYXRlTWFzc1Byb3BlcnRpZXMNCiAgICovCgoKICB1cGRhdGVNYXNzUHJvcGVydGllcygpIHsKICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50czsKICAgIHRoaXMuaW52TWFzcyA9IHRoaXMubWFzcyA+IDAgPyAxLjAgLyB0aGlzLm1hc3MgOiAwOwogICAgY29uc3QgSSA9IHRoaXMuaW5lcnRpYTsKICAgIGNvbnN0IGZpeGVkID0gdGhpcy5maXhlZFJvdGF0aW9uOyAvLyBBcHByb3hpbWF0ZSB3aXRoIEFBQkIgYm94CgogICAgdGhpcy5jb21wdXRlQUFCQigpOwogICAgaGFsZkV4dGVudHMuc2V0KCh0aGlzLmFhYmIudXBwZXJCb3VuZC54IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueCkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueSAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnkpIC8gMiwgKHRoaXMuYWFiYi51cHBlckJvdW5kLnogLSB0aGlzLmFhYmIubG93ZXJCb3VuZC56KSAvIDIpOwogICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEoaGFsZkV4dGVudHMsIHRoaXMubWFzcywgSSk7CiAgICB0aGlzLmludkluZXJ0aWEuc2V0KEkueCA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS54IDogMCwgSS55ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnkgOiAwLCBJLnogPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueiA6IDApOwogICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQodHJ1ZSk7CiAgfQogIC8qKg0KICAgKiBHZXQgd29ybGQgdmVsb2NpdHkgb2YgYSBwb2ludCBpbiB0aGUgYm9keS4NCiAgICogQG1ldGhvZCBnZXRWZWxvY2l0eUF0V29ybGRQb2ludA0KICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50DQogICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdA0KICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgcmVzdWx0IHZlY3Rvci4NCiAgICovCgoKICBnZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgIGNvbnN0IHIgPSBuZXcgVmVjMygpOwogICAgd29ybGRQb2ludC52c3ViKHRoaXMucG9zaXRpb24sIHIpOwogICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MociwgcmVzdWx0KTsKICAgIHRoaXMudmVsb2NpdHkudmFkZChyZXN1bHQsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogTW92ZSB0aGUgYm9keSBmb3J3YXJkIGluIHRpbWUuDQogICAqIEBwYXJhbSB7bnVtYmVyfSBkdCBUaW1lIHN0ZXANCiAgICogQHBhcmFtIHtib29sZWFufSBxdWF0Tm9ybWFsaXplIFNldCB0byB0cnVlIHRvIG5vcm1hbGl6ZSB0aGUgYm9keSBxdWF0ZXJuaW9uDQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVhdE5vcm1hbGl6ZUZhc3QgSWYgdGhlIHF1YXRlcm5pb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWQgdXNpbmcgImZhc3QiIHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbg0KICAgKi8KCgogIGludGVncmF0ZShkdCwgcXVhdE5vcm1hbGl6ZSwgcXVhdE5vcm1hbGl6ZUZhc3QpIHsKICAgIC8vIFNhdmUgcHJldmlvdXMgcG9zaXRpb24KICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24pOwogICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weSh0aGlzLnF1YXRlcm5pb24pOwoKICAgIGlmICghKHRoaXMudHlwZSA9PT0gQm9keS5EWU5BTUlDIHx8IHRoaXMudHlwZSA9PT0gQm9keS5LSU5FTUFUSUMpIHx8IHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgewogICAgICAvLyBPbmx5IGZvciBkeW5hbWljCiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB2ZWxvID0gdGhpcy52ZWxvY2l0eTsKICAgIGNvbnN0IGFuZ3VsYXJWZWxvID0gdGhpcy5hbmd1bGFyVmVsb2NpdHk7CiAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uOwogICAgY29uc3QgZm9yY2UgPSB0aGlzLmZvcmNlOwogICAgY29uc3QgdG9ycXVlID0gdGhpcy50b3JxdWU7CiAgICBjb25zdCBxdWF0ID0gdGhpcy5xdWF0ZXJuaW9uOwogICAgY29uc3QgaW52TWFzcyA9IHRoaXMuaW52TWFzczsKICAgIGNvbnN0IGludkluZXJ0aWEgPSB0aGlzLmludkluZXJ0aWFXb3JsZDsKICAgIGNvbnN0IGxpbmVhckZhY3RvciA9IHRoaXMubGluZWFyRmFjdG9yOwogICAgY29uc3QgaU1kdCA9IGludk1hc3MgKiBkdDsKICAgIHZlbG8ueCArPSBmb3JjZS54ICogaU1kdCAqIGxpbmVhckZhY3Rvci54OwogICAgdmVsby55ICs9IGZvcmNlLnkgKiBpTWR0ICogbGluZWFyRmFjdG9yLnk7CiAgICB2ZWxvLnogKz0gZm9yY2UueiAqIGlNZHQgKiBsaW5lYXJGYWN0b3IuejsKICAgIGNvbnN0IGUgPSBpbnZJbmVydGlhLmVsZW1lbnRzOwogICAgY29uc3QgYW5ndWxhckZhY3RvciA9IHRoaXMuYW5ndWxhckZhY3RvcjsKICAgIGNvbnN0IHR4ID0gdG9ycXVlLnggKiBhbmd1bGFyRmFjdG9yLng7CiAgICBjb25zdCB0eSA9IHRvcnF1ZS55ICogYW5ndWxhckZhY3Rvci55OwogICAgY29uc3QgdHogPSB0b3JxdWUueiAqIGFuZ3VsYXJGYWN0b3IuejsKICAgIGFuZ3VsYXJWZWxvLnggKz0gZHQgKiAoZVswXSAqIHR4ICsgZVsxXSAqIHR5ICsgZVsyXSAqIHR6KTsKICAgIGFuZ3VsYXJWZWxvLnkgKz0gZHQgKiAoZVszXSAqIHR4ICsgZVs0XSAqIHR5ICsgZVs1XSAqIHR6KTsKICAgIGFuZ3VsYXJWZWxvLnogKz0gZHQgKiAoZVs2XSAqIHR4ICsgZVs3XSAqIHR5ICsgZVs4XSAqIHR6KTsgLy8gVXNlIG5ldyB2ZWxvY2l0eSAgLSBsZWFwIGZyb2cKCiAgICBwb3MueCArPSB2ZWxvLnggKiBkdDsKICAgIHBvcy55ICs9IHZlbG8ueSAqIGR0OwogICAgcG9zLnogKz0gdmVsby56ICogZHQ7CiAgICBxdWF0LmludGVncmF0ZSh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwgZHQsIHRoaXMuYW5ndWxhckZhY3RvciwgcXVhdCk7CgogICAgaWYgKHF1YXROb3JtYWxpemUpIHsKICAgICAgaWYgKHF1YXROb3JtYWxpemVGYXN0KSB7CiAgICAgICAgcXVhdC5ub3JtYWxpemVGYXN0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcXVhdC5ub3JtYWxpemUoKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsgLy8gVXBkYXRlIHdvcmxkIGluZXJ0aWEKCiAgICB0aGlzLnVwZGF0ZUluZXJ0aWFXb3JsZCgpOwogIH0KCn0KLyoqDQogKiBEaXNwYXRjaGVkIGFmdGVyIHR3byBib2RpZXMgY29sbGlkZS4gVGhpcyBldmVudCBpcyBkaXNwYXRjaGVkIG9uIGVhY2gNCiAqIG9mIHRoZSB0d28gYm9kaWVzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uDQogKiBAZXZlbnQgY29sbGlkZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5IFRoZSBib2R5IHRoYXQgd2FzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uDQogKiBAcGFyYW0ge0NvbnRhY3RFcXVhdGlvbn0gY29udGFjdCBUaGUgZGV0YWlscyBvZiB0aGUgY29sbGlzaW9uLg0KICovCgoKQm9keS5DT0xMSURFX0VWRU5UX05BTUUgPSAnY29sbGlkZSc7Ci8qKg0KICogQSBkeW5hbWljIGJvZHkgaXMgZnVsbHkgc2ltdWxhdGVkLiBDYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgdGhlIHVzZXIsIGJ1dCBub3JtYWxseSB0aGV5IG1vdmUgYWNjb3JkaW5nIHRvIGZvcmNlcy4gQSBkeW5hbWljIGJvZHkgY2FuIGNvbGxpZGUgd2l0aCBhbGwgYm9keSB0eXBlcy4gQSBkeW5hbWljIGJvZHkgYWx3YXlzIGhhcyBmaW5pdGUsIG5vbi16ZXJvIG1hc3MuDQogKiBAc3RhdGljDQogKiBAcHJvcGVydHkgRFlOQU1JQw0KICogQHR5cGUge051bWJlcn0NCiAqLwoKQm9keS5EWU5BTUlDID0gMTsKLyoqDQogKiBBIHN0YXRpYyBib2R5IGRvZXMgbm90IG1vdmUgZHVyaW5nIHNpbXVsYXRpb24gYW5kIGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIFN0YXRpYyBib2RpZXMgY2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHNldHRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5LiBUaGUgdmVsb2NpdHkgb2YgYSBzdGF0aWMgYm9keSBpcyBhbHdheXMgemVyby4gU3RhdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLg0KICogQHN0YXRpYw0KICogQHByb3BlcnR5IFNUQVRJQw0KICogQHR5cGUge051bWJlcn0NCiAqLwoKQm9keS5TVEFUSUMgPSAyOwovKioNCiAqIEEga2luZW1hdGljIGJvZHkgbW92ZXMgdW5kZXIgc2ltdWxhdGlvbiBhY2NvcmRpbmcgdG8gaXRzIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCByZXNwb25kIHRvIGZvcmNlcy4gVGhleSBjYW4gYmUgbW92ZWQgbWFudWFsbHksIGJ1dCBub3JtYWxseSBhIGtpbmVtYXRpYyBib2R5IGlzIG1vdmVkIGJ5IHNldHRpbmcgaXRzIHZlbG9jaXR5LiBBIGtpbmVtYXRpYyBib2R5IGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIEtpbmVtYXRpYyBib2RpZXMgZG8gbm90IGNvbGxpZGUgd2l0aCBvdGhlciBzdGF0aWMgb3Iga2luZW1hdGljIGJvZGllcy4NCiAqIEBzdGF0aWMNCiAqIEBwcm9wZXJ0eSBLSU5FTUFUSUMNCiAqIEB0eXBlIHtOdW1iZXJ9DQogKi8KCkJvZHkuS0lORU1BVElDID0gNDsKLyoqDQogKiBAc3RhdGljDQogKiBAcHJvcGVydHkgQVdBS0UNCiAqIEB0eXBlIHtudW1iZXJ9DQogKi8KCkJvZHkuQVdBS0UgPSBCT0RZX1NMRUVQX1NUQVRFUy5BV0FLRTsKQm9keS5TTEVFUFkgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUFk7CkJvZHkuU0xFRVBJTkcgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUElORzsKQm9keS5pZENvdW50ZXIgPSAwOwovKioNCiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBzbGVlcGluZyBib2R5IGhhcyB3b2tlbiB1cC4NCiAqIEBldmVudCB3YWtldXANCiAqLwoKQm9keS53YWtldXBFdmVudCA9IHsKICB0eXBlOiAnd2FrZXVwJwp9OwovKioNCiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBnb25lIGluIHRvIHRoZSBzbGVlcHkgc3RhdGUuDQogKiBAZXZlbnQgc2xlZXB5DQogKi8KCkJvZHkuc2xlZXB5RXZlbnQgPSB7CiAgdHlwZTogJ3NsZWVweScKfTsKLyoqDQogKiBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgZmFsbGVuIGFzbGVlcC4NCiAqIEBldmVudCBzbGVlcA0KICovCgpCb2R5LnNsZWVwRXZlbnQgPSB7CiAgdHlwZTogJ3NsZWVwJwp9Owpjb25zdCB0bXBWZWMgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBRdWF0JDEgPSBuZXcgUXVhdGVybmlvbigpOwpjb25zdCBjb21wdXRlQUFCQl9zaGFwZUFBQkIgPSBuZXcgQUFCQigpOwpjb25zdCB1aXdfbTEgPSBuZXcgTWF0MygpOwpjb25zdCB1aXdfbTIgPSBuZXcgTWF0MygpOwovKioNCiAqIEFwcGx5IGZvcmNlIHRvIGEgd29ybGQgcG9pbnQuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgYmUgYSBwb2ludCBvbiB0aGUgQm9keSBzdXJmYWNlLiBBcHBseWluZyBmb3JjZSB0aGlzIHdheSB3aWxsIGFkZCB0byBCb2R5LmZvcmNlIGFuZCBCb2R5LnRvcnF1ZS4NCiAqIEBtZXRob2QgYXBwbHlGb3JjZQ0KICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGFtb3VudCBvZiBmb3JjZSB0byBhZGQuDQogKiBAcGFyYW0gIHtWZWMzfSByZWxhdGl2ZVBvaW50IEEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4NCiAqLwoKY29uc3QgQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlID0gbmV3IFZlYzMoKTsKLyoqDQogKiBBcHBseSBmb3JjZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5Lg0KICogQG1ldGhvZCBhcHBseUxvY2FsRm9yY2UNCiAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4NCiAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uDQogKi8KCmNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3dvcmxkRm9yY2UgPSBuZXcgVmVjMygpOwpjb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQgPSBuZXcgVmVjMygpOwovKioNCiAqIEFwcGx5IGltcHVsc2UgdG8gYSB3b3JsZCBwb2ludC4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuIEFuIGltcHVsc2UgaXMgYSBmb3JjZSBhZGRlZCB0byBhIGJvZHkgZHVyaW5nIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgKGltcHVsc2UgPSBmb3JjZSAqIHRpbWUpLiBJbXB1bHNlcyB3aWxsIGJlIGFkZGVkIHRvIEJvZHkudmVsb2NpdHkgYW5kIEJvZHkuYW5ndWxhclZlbG9jaXR5Lg0KICogQG1ldGhvZCBhcHBseUltcHVsc2UNCiAqIEBwYXJhbSAge1ZlYzN9IGltcHVsc2UgVGhlIGFtb3VudCBvZiBpbXB1bHNlIHRvIGFkZC4NCiAqIEBwYXJhbSAge1ZlYzN9IHJlbGF0aXZlUG9pbnQgQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLg0KICovCgpjb25zdCBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvID0gbmV3IFZlYzMoKTsKY29uc3QgQm9keV9hcHBseUltcHVsc2Vfcm90VmVsbyA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQXBwbHkgbG9jYWxseS1kZWZpbmVkIGltcHVsc2UgdG8gYSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keS4NCiAqIEBtZXRob2QgYXBwbHlMb2NhbEltcHVsc2UNCiAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4NCiAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uDQogKi8KCmNvbnN0IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlID0gbmV3IFZlYzMoKTsKY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV9yZWxhdGl2ZVBvaW50ID0gbmV3IFZlYzMoKTsKY29uc3QgQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50cyA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQmFzZSBjbGFzcyBmb3IgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbnMNCiAqIEBjbGFzcyBCcm9hZHBoYXNlDQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqLwoKY2xhc3MgQnJvYWRwaGFzZSB7CiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBmb3IgY29sbGlzaW9ucyBpbi4KICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGJyb2FkcGhhc2UgdXNlcyBib3VuZGluZyBib3hlcyBmb3IgaW50ZXJzZWN0aW9uIHRlc3QsIGVsc2UgaXQgdXNlcyBib3VuZGluZyBzcGhlcmVzLgogIC8vIFNldCB0byB0cnVlIGlmIHRoZSBvYmplY3RzIGluIHRoZSB3b3JsZCBtb3ZlZC4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMud29ybGQgPSBudWxsOwogICAgdGhpcy51c2VCb3VuZGluZ0JveGVzID0gZmFsc2U7CiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgY29sbGlzaW9uIHBhaXJzIGZyb20gdGhlIHdvcmxkDQogICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnMNCiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQgVGhlIHdvcmxkIHRvIHNlYXJjaCBpbg0KICAgKiBAcGFyYW0ge0FycmF5fSBwMSBFbXB0eSBhcnJheSB0byBiZSBmaWxsZWQgd2l0aCBib2R5IG9iamVjdHMNCiAgICogQHBhcmFtIHtBcnJheX0gcDIgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzDQogICAqLwoKCiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikgewogICAgdGhyb3cgbmV3IEVycm9yKCdjb2xsaXNpb25QYWlycyBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgQnJvYWRQaGFzZSBjbGFzcyEnKTsKICB9CiAgLyoqDQogICAqIENoZWNrIGlmIGEgYm9keSBwYWlyIG5lZWRzIHRvIGJlIGludGVyc2VjdGlvbiB0ZXN0ZWQgYXQgYWxsLg0KICAgKiBAbWV0aG9kIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAgICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICAgKiBAcmV0dXJuIHtib29sfQ0KICAgKi8KCgogIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJvZHlBLCBib2R5QikgewogICAgLy8gQ2hlY2sgY29sbGlzaW9uIGZpbHRlciBtYXNrcwogICAgaWYgKChib2R5QS5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlCLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5Qi5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlBLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gLy8gQ2hlY2sgdHlwZXMKCgogICAgaWYgKCgoYm9keUEudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5QS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSAmJiAoKGJvZHlCLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUIuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykpIHsKICAgICAgLy8gQm90aCBib2RpZXMgYXJlIHN0YXRpYyBvciBzbGVlcGluZy4gU2tpcC4KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioNCiAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHZvbHVtZXMgb2YgdHdvIGJvZGllcyBpbnRlcnNlY3QuDQogICAqIEBtZXRob2QgaW50ZXJzZWN0aW9uVGVzdA0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAgICogQHBhcmFtIHthcnJheX0gcGFpcnMxDQogICAqIEBwYXJhbSB7YXJyYXl9IHBhaXJzMg0KICAgKi8KCgogIGludGVyc2VjdGlvblRlc3QoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgaWYgKHRoaXMudXNlQm91bmRpbmdCb3hlcykgewogICAgICB0aGlzLmRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5kb0JvdW5kaW5nU3BoZXJlQnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKTsKICAgIH0KICB9CgogIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHsKICAgIGNvbnN0IHIgPSBCcm9hZHBoYXNlX2NvbGxpc2lvblBhaXJzX3I7CiAgICBib2R5Qi5wb3NpdGlvbi52c3ViKGJvZHlBLnBvc2l0aW9uLCByKTsKICAgIGNvbnN0IGJvdW5kaW5nUmFkaXVzU3VtMiA9IChib2R5QS5ib3VuZGluZ1JhZGl1cyArIGJvZHlCLmJvdW5kaW5nUmFkaXVzKSAqKiAyOwogICAgY29uc3Qgbm9ybTIgPSByLmxlbmd0aFNxdWFyZWQoKTsKCiAgICBpZiAobm9ybTIgPCBib3VuZGluZ1JhZGl1c1N1bTIpIHsKICAgICAgcGFpcnMxLnB1c2goYm9keUEpOwogICAgICBwYWlyczIucHVzaChib2R5Qik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgYm94ZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLg0KICAgKiBAbWV0aG9kIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlDQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAgICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczENCiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyDQogICAqLwoKCiAgZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgaWYgKGJvZHlBLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICBib2R5QS5jb21wdXRlQUFCQigpOwogICAgfQoKICAgIGlmIChib2R5Qi5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgYm9keUIuY29tcHV0ZUFBQkIoKTsKICAgIH0gLy8gQ2hlY2sgQUFCQiAvIEFBQkIKCgogICAgaWYgKGJvZHlBLmFhYmIub3ZlcmxhcHMoYm9keUIuYWFiYikpIHsKICAgICAgcGFpcnMxLnB1c2goYm9keUEpOwogICAgICBwYWlyczIucHVzaChib2R5Qik7CiAgICB9CiAgfQoKICBtYWtlUGFpcnNVbmlxdWUocGFpcnMxLCBwYWlyczIpIHsKICAgIGNvbnN0IHQgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wOwogICAgY29uc3QgcDEgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMTsKICAgIGNvbnN0IHAyID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDI7CiAgICBjb25zdCBOID0gcGFpcnMxLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIHAxW2ldID0gcGFpcnMxW2ldOwogICAgICBwMltpXSA9IHBhaXJzMltpXTsKICAgIH0KCiAgICBwYWlyczEubGVuZ3RoID0gMDsKICAgIHBhaXJzMi5sZW5ndGggPSAwOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgaWQxID0gcDFbaV0uaWQ7CiAgICAgIGNvbnN0IGlkMiA9IHAyW2ldLmlkOwogICAgICBjb25zdCBrZXkgPSBpZDEgPCBpZDIgPyBpZDEgKyAiLCIgKyBpZDIgOiBpZDIgKyAiLCIgKyBpZDE7CiAgICAgIHRba2V5XSA9IGk7CiAgICAgIHQua2V5cy5wdXNoKGtleSk7CiAgICB9CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHQua2V5cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBrZXkgPSB0LmtleXMucG9wKCk7CiAgICAgIGNvbnN0IHBhaXJJbmRleCA9IHRba2V5XTsKICAgICAgcGFpcnMxLnB1c2gocDFbcGFpckluZGV4XSk7CiAgICAgIHBhaXJzMi5wdXNoKHAyW3BhaXJJbmRleF0pOwogICAgICBkZWxldGUgdFtrZXldOwogICAgfQogIH0KICAvKioNCiAgICogVG8gYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2Fzc2VzDQogICAqIEBtZXRob2Qgc2V0V29ybGQNCiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQNCiAgICovCgoKICBzZXRXb3JsZCh3b3JsZCkge30KICAvKioNCiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gdGhlIEFBQkIuDQogICAqIEBtZXRob2QgYWFiYlF1ZXJ5DQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi4NCiAgICogQHJldHVybiB7YXJyYXl9DQogICAqLwoKCiAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQpIHsKICAgIGNvbnNvbGUud2FybignLmFhYmJRdWVyeSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBCcm9hZHBoYXNlIHN1YmNsYXNzLicpOwogICAgcmV0dXJuIFtdOwogIH0KCn0KLyoqDQogKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgc3BoZXJlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuDQogKiBAbWV0aG9kIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge0FycmF5fSBwYWlyczEgYm9keUEgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBpZiBpbnRlcnNlY3Rpb24NCiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMiBib2R5QiBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvbg0KICovCgoKY29uc3QgLy8gVGVtcCBvYmplY3RzCkJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfciA9IG5ldyBWZWMzKCk7Ci8qKg0KICogUmVtb3ZlcyBkdXBsaWNhdGUgcGFpcnMgZnJvbSB0aGUgcGFpciBhcnJheXMuDQogKiBAbWV0aG9kIG1ha2VQYWlyc1VuaXF1ZQ0KICogQHBhcmFtIHtBcnJheX0gcGFpcnMxDQogKiBAcGFyYW0ge0FycmF5fSBwYWlyczINCiAqLwoKY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcCA9IHsKICBrZXlzOiBbXQp9Owpjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMSA9IFtdOwpjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMiA9IFtdOwoKQnJvYWRwaGFzZS5ib3VuZGluZ1NwaGVyZUNoZWNrID0gKGJvZHlBLCBib2R5QikgPT4gewogIGNvbnN0IGRpc3QgPSBuZXcgVmVjMygpOyAvLyBic2NfZGlzdDsKCiAgYm9keUEucG9zaXRpb24udnN1Yihib2R5Qi5wb3NpdGlvbiwgZGlzdCk7CiAgY29uc3Qgc2EgPSBib2R5QS5zaGFwZXNbMF07CiAgY29uc3Qgc2IgPSBib2R5Qi5zaGFwZXNbMF07CiAgcmV0dXJuIE1hdGgucG93KHNhLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2IuYm91bmRpbmdTcGhlcmVSYWRpdXMsIDIpID4gZGlzdC5sZW5ndGhTcXVhcmVkKCk7Cn07Ci8qKg0KICogTmFpdmUgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbiwgdXNlZCBpbiBsYWNrIG9mIGJldHRlciBvbmVzLg0KICogQGNsYXNzIE5haXZlQnJvYWRwaGFzZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAZGVzY3JpcHRpb24gVGhlIG5haXZlIGJyb2FkcGhhc2UgbG9va3MgYXQgYWxsIHBvc3NpYmxlIHBhaXJzIHdpdGhvdXQgcmVzdHJpY3Rpb24sIHRoZXJlZm9yZSBpdCBoYXMgY29tcGxleGl0eSBOXjIgKHdoaWNoIGlzIGJhZCkNCiAqIEBleHRlbmRzIEJyb2FkcGhhc2UNCiAqLwoKY2xhc3MgTmFpdmVCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogIH0KICAvKioNCiAgICogR2V0IGFsbCB0aGUgY29sbGlzaW9uIHBhaXJzIGluIHRoZSBwaHlzaWNzIHdvcmxkDQogICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnMNCiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMxDQogICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMg0KICAgKi8KCgogIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwYWlyczEsIHBhaXJzMikgewogICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzOwogICAgY29uc3QgbiA9IGJvZGllcy5sZW5ndGg7CiAgICBsZXQgYmk7CiAgICBsZXQgYmo7IC8vIE5haXZlIE5eMiBmdHchCgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gaTsgaisrKSB7CiAgICAgICAgYmkgPSBib2RpZXNbaV07CiAgICAgICAgYmogPSBib2RpZXNbal07CgogICAgICAgIGlmICghdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHBhaXJzMSwgcGFpcnMyKTsKICAgICAgfQogICAgfQogIH0KICAvKioNCiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gYW4gQUFCQi4NCiAgICogQG1ldGhvZCBhYWJiUXVlcnkNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uDQogICAqIEByZXR1cm4ge2FycmF5fQ0KICAgKi8KCgogIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0ID0gW10pIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGIgPSB3b3JsZC5ib2RpZXNbaV07CgogICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgICBiLmNvbXB1dGVBQUJCKCk7CiAgICAgIH0gLy8gVWdseSBoYWNrIHVudGlsIEJvZHkgZ2V0cyBhYWJiCgoKICAgICAgaWYgKGIuYWFiYi5vdmVybGFwcyhhYWJiKSkgewogICAgICAgIHJlc3VsdC5wdXNoKGIpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cgp9Ci8qKg0KICogU3RvcmFnZSBmb3IgUmF5IGNhc3RpbmcgZGF0YS4NCiAqIEBjbGFzcyBSYXljYXN0UmVzdWx0DQogKiBAY29uc3RydWN0b3INCiAqLwoKCmNsYXNzIFJheWNhc3RSZXN1bHQgewogIC8vIFRoZSBpbmRleCBvZiB0aGUgaGl0IHRyaWFuZ2xlLCBpZiB0aGUgaGl0IHNoYXBlIHdhcyBhIHRyaW1lc2guCiAgLy8gRGlzdGFuY2UgdG8gdGhlIGhpdC4gV2lsbCBiZSBzZXQgdG8gLTEgaWYgdGhlcmUgd2FzIG5vIGhpdC4KICAvLyBJZiB0aGUgcmF5IHNob3VsZCBzdG9wIHRyYXZlcnNpbmcgdGhlIGJvZGllcy4KICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMucmF5RnJvbVdvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucmF5VG9Xb3JsZCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkID0gbmV3IFZlYzMoKTsKICAgIHRoaXMuaGl0UG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwogICAgdGhpcy5zaGFwZSA9IG51bGw7CiAgICB0aGlzLmJvZHkgPSBudWxsOwogICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTsKICAgIHRoaXMuZGlzdGFuY2UgPSAtMTsKICAgIHRoaXMuc2hvdWxkU3RvcCA9IGZhbHNlOwogIH0KICAvKioNCiAgICogUmVzZXQgYWxsIHJlc3VsdCBkYXRhLg0KICAgKiBAbWV0aG9kIHJlc2V0DQogICAqLwoKCiAgcmVzZXQoKSB7CiAgICB0aGlzLnJheUZyb21Xb3JsZC5zZXRaZXJvKCk7CiAgICB0aGlzLnJheVRvV29ybGQuc2V0WmVybygpOwogICAgdGhpcy5oaXROb3JtYWxXb3JsZC5zZXRaZXJvKCk7CiAgICB0aGlzLmhpdFBvaW50V29ybGQuc2V0WmVybygpOwogICAgdGhpcy5oYXNIaXQgPSBmYWxzZTsKICAgIHRoaXMuc2hhcGUgPSBudWxsOwogICAgdGhpcy5ib2R5ID0gbnVsbDsKICAgIHRoaXMuaGl0RmFjZUluZGV4ID0gLTE7CiAgICB0aGlzLmRpc3RhbmNlID0gLTE7CiAgICB0aGlzLnNob3VsZFN0b3AgPSBmYWxzZTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgYWJvcnQNCiAgICovCgoKICBhYm9ydCgpIHsKICAgIHRoaXMuc2hvdWxkU3RvcCA9IHRydWU7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHNldA0KICAgKiBAcGFyYW0ge1ZlYzN9IHJheUZyb21Xb3JsZA0KICAgKiBAcGFyYW0ge1ZlYzN9IHJheVRvV29ybGQNCiAgICogQHBhcmFtIHtWZWMzfSBoaXROb3JtYWxXb3JsZA0KICAgKiBAcGFyYW0ge1ZlYzN9IGhpdFBvaW50V29ybGQNCiAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGUNCiAgICogQHBhcmFtIHtCb2R5fSBib2R5DQogICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZQ0KICAgKi8KCgogIHNldChyYXlGcm9tV29ybGQsIHJheVRvV29ybGQsIGhpdE5vcm1hbFdvcmxkLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpIHsKICAgIHRoaXMucmF5RnJvbVdvcmxkLmNvcHkocmF5RnJvbVdvcmxkKTsKICAgIHRoaXMucmF5VG9Xb3JsZC5jb3B5KHJheVRvV29ybGQpOwogICAgdGhpcy5oaXROb3JtYWxXb3JsZC5jb3B5KGhpdE5vcm1hbFdvcmxkKTsKICAgIHRoaXMuaGl0UG9pbnRXb3JsZC5jb3B5KGhpdFBvaW50V29ybGQpOwogICAgdGhpcy5zaGFwZSA9IHNoYXBlOwogICAgdGhpcy5ib2R5ID0gYm9keTsKICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZTsKICB9Cgp9Ci8qKg0KICogQSBsaW5lIGluIDNEIHNwYWNlIHRoYXQgaW50ZXJzZWN0cyBib2RpZXMgYW5kIHJldHVybiBwb2ludHMuDQogKiBAY2xhc3MgUmF5DQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7VmVjM30gZnJvbQ0KICogQHBhcmFtIHtWZWMzfSB0bw0KICovCgpjbGFzcyBSYXkgewogIC8vIFRoZSBwcmVjaXNpb24gb2YgdGhlIHJheS4gVXNlZCB3aGVuIGNoZWNraW5nIHBhcmFsbGVsaXR5IGV0Yy4KICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgUmF5IHRvIHRha2UgLmNvbGxpc2lvblJlc3BvbnNlIGZsYWdzIGludG8gYWNjb3VudCBvbiBib2RpZXMgYW5kIHNoYXBlcy4KICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHJheSBza2lwcyBhbnkgaGl0cyB3aXRoIG5vcm1hbC5kb3QocmF5RGlyZWN0aW9uKSA8IDAuCiAgLy8gVGhlIGludGVyc2VjdGlvbiBtb2RlLiBTaG91bGQgYmUgUmF5LkFOWSwgUmF5LkFMTCBvciBSYXkuQ0xPU0VTVC4KICAvLyBDdXJyZW50IHJlc3VsdCBvYmplY3QuCiAgLy8gV2lsbCBiZSBzZXQgdG8gdHJ1ZSBkdXJpbmcgaW50ZXJzZWN0V29ybGQoKSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZy4KICAvLyBVc2VyLXByb3ZpZGVkIHJlc3VsdCBjYWxsYmFjay4gV2lsbCBiZSB1c2VkIGlmIG1vZGUgaXMgUmF5LkFMTC4KICBjb25zdHJ1Y3Rvcihmcm9tID0gbmV3IFZlYzMoKSwgdG8gPSBuZXcgVmVjMygpKSB7CiAgICB0aGlzLmZyb20gPSBmcm9tLmNsb25lKCk7CiAgICB0aGlzLnRvID0gdG8uY2xvbmUoKTsKICAgIHRoaXMuZGlyZWN0aW9uID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucHJlY2lzaW9uID0gMC4wMDAxOwogICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdHJ1ZTsKICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9IGZhbHNlOwogICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gLTE7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gLTE7CiAgICB0aGlzLm1vZGUgPSBSYXkuQU5ZOwogICAgdGhpcy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpOwogICAgdGhpcy5oYXNIaXQgPSBmYWxzZTsKCiAgICB0aGlzLmNhbGxiYWNrID0gcmVzdWx0ID0+IHt9OwogIH0KICAvKioNCiAgICogRG8gaXRlcnNlY3Rpb24gYWdhaW5zdCBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBXb3JsZC4NCiAgICogQG1ldGhvZCBpbnRlcnNlY3RXb3JsZA0KICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQNCiAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zDQogICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHJheSBoaXQgYW55dGhpbmcsIG90aGVyd2lzZSBmYWxzZS4NCiAgICovCgoKICBpbnRlcnNlY3RXb3JsZCh3b3JsZCwgb3B0aW9ucykgewogICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IFJheS5BTlk7CiAgICB0aGlzLnJlc3VsdCA9IG9wdGlvbnMucmVzdWx0IHx8IG5ldyBSYXljYXN0UmVzdWx0KCk7CiAgICB0aGlzLnNraXBCYWNrZmFjZXMgPSAhIW9wdGlvbnMuc2tpcEJhY2tmYWNlczsKICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7CiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IC0xOwogICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdHlwZW9mIG9wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlOwoKICAgIGlmIChvcHRpb25zLmZyb20pIHsKICAgICAgdGhpcy5mcm9tLmNvcHkob3B0aW9ucy5mcm9tKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy50bykgewogICAgICB0aGlzLnRvLmNvcHkob3B0aW9ucy50byk7CiAgICB9CgogICAgdGhpcy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgfHwgKCgpID0+IHt9KTsKCiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwogICAgdGhpcy5yZXN1bHQucmVzZXQoKTsKICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7CiAgICB0aGlzLmdldEFBQkIodG1wQUFCQik7CiAgICB0bXBBcnJheS5sZW5ndGggPSAwOwogICAgd29ybGQuYnJvYWRwaGFzZS5hYWJiUXVlcnkod29ybGQsIHRtcEFBQkIsIHRtcEFycmF5KTsKICAgIHRoaXMuaW50ZXJzZWN0Qm9kaWVzKHRtcEFycmF5KTsKICAgIHJldHVybiB0aGlzLmhhc0hpdDsKICB9CiAgLyoqDQogICAqIFNob290IGEgcmF5IGF0IGEgYm9keSwgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC4NCiAgICogQHBhcmFtIHtCb2R5fSBib2R5DQogICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZCAtIHNldCB0aGUgcmVzdWx0IHByb3BlcnR5IG9mIHRoZSBSYXkgaW5zdGVhZC4NCiAgICovCgoKICBpbnRlcnNlY3RCb2R5KGJvZHksIHJlc3VsdCkgewogICAgaWYgKHJlc3VsdCkgewogICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTsKICAgIH0KCiAgICBjb25zdCBjaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlOwoKICAgIGlmIChjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFib2R5LmNvbGxpc2lvblJlc3BvbnNlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoKHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwICYgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgeGkgPSBpbnRlcnNlY3RCb2R5X3hpOwogICAgY29uc3QgcWkgPSBpbnRlcnNlY3RCb2R5X3FpOwoKICAgIGZvciAobGV0IGkgPSAwLCBOID0gYm9keS5zaGFwZXMubGVuZ3RoOyBpIDwgTjsgaSsrKSB7CiAgICAgIGNvbnN0IHNoYXBlID0gYm9keS5zaGFwZXNbaV07CgogICAgICBpZiAoY2hlY2tDb2xsaXNpb25SZXNwb25zZSAmJiAhc2hhcGUuY29sbGlzaW9uUmVzcG9uc2UpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcAogICAgICB9CgogICAgICBib2R5LnF1YXRlcm5pb24ubXVsdChib2R5LnNoYXBlT3JpZW50YXRpb25zW2ldLCBxaSk7CiAgICAgIGJvZHkucXVhdGVybmlvbi52bXVsdChib2R5LnNoYXBlT2Zmc2V0c1tpXSwgeGkpOwogICAgICB4aS52YWRkKGJvZHkucG9zaXRpb24sIHhpKTsKICAgICAgdGhpcy5pbnRlcnNlY3RTaGFwZShzaGFwZSwgcWksIHhpLCBib2R5KTsKCiAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIEBtZXRob2QgaW50ZXJzZWN0Qm9kaWVzDQogICAqIEBwYXJhbSB7QXJyYXl9IGJvZGllcyBBbiBhcnJheSBvZiBCb2R5IG9iamVjdHMuDQogICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gW3Jlc3VsdF0gRGVwcmVjYXRlZA0KICAgKi8KCgogIGludGVyc2VjdEJvZGllcyhib2RpZXMsIHJlc3VsdCkgewogICAgaWYgKHJlc3VsdCkgewogICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTsKICAgIH0KCiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGJvZGllcy5sZW5ndGg7ICF0aGlzLnJlc3VsdC5zaG91bGRTdG9wICYmIGkgPCBsOyBpKyspIHsKICAgICAgdGhpcy5pbnRlcnNlY3RCb2R5KGJvZGllc1tpXSk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBVcGRhdGVzIHRoZSBkaXJlY3Rpb24gdmVjdG9yLg0KICAgKi8KCgogIHVwZGF0ZURpcmVjdGlvbigpIHsKICAgIHRoaXMudG8udnN1Yih0aGlzLmZyb20sIHRoaXMuZGlyZWN0aW9uKTsKICAgIHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpOwogIH0KCiAgaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5KSB7CiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOyAvLyBDaGVja2luZyBib3VuZGluZ1NwaGVyZQoKICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uKGZyb20sIHRoaXMuZGlyZWN0aW9uLCBwb3NpdGlvbik7CgogICAgaWYgKGRpc3RhbmNlID4gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGludGVyc2VjdE1ldGhvZCA9IHRoaXNbc2hhcGUudHlwZV07CgogICAgaWYgKGludGVyc2VjdE1ldGhvZCkgewogICAgICBpbnRlcnNlY3RNZXRob2QuY2FsbCh0aGlzLCBzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHNoYXBlKTsKICAgIH0KICB9CgogIF9pbnRlcnNlY3RCb3goYm94LCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSkgewogICAgcmV0dXJuIHRoaXMuX2ludGVyc2VjdENvbnZleChib3guY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSk7CiAgfQoKICBfaW50ZXJzZWN0UGxhbmUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247IC8vIEdldCBwbGFuZSBub3JtYWwKCiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IG5ldyBWZWMzKDAsIDAsIDEpOwogICAgcXVhdC52bXVsdCh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwpOwogICAgY29uc3QgbGVuID0gbmV3IFZlYzMoKTsKICAgIGZyb20udnN1Yihwb3NpdGlvbiwgbGVuKTsKICAgIGNvbnN0IHBsYW5lVG9Gcm9tID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7CiAgICB0by52c3ViKHBvc2l0aW9uLCBsZW4pOwogICAgY29uc3QgcGxhbmVUb1RvID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7CgogICAgaWYgKHBsYW5lVG9Gcm9tICogcGxhbmVUb1RvID4gMCkgewogICAgICAvLyAiZnJvbSIgYW5kICJ0byIgYXJlIG9uIHRoZSBzYW1lIHNpZGUgb2YgdGhlIHBsYW5lLi4uIGJhaWwgb3V0CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoZnJvbS5kaXN0YW5jZVRvKHRvKSA8IHBsYW5lVG9Gcm9tKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBuX2RvdF9kaXIgPSB3b3JsZE5vcm1hbC5kb3QoZGlyZWN0aW9uKTsKCiAgICBpZiAoTWF0aC5hYnMobl9kb3RfZGlyKSA8IHRoaXMucHJlY2lzaW9uKSB7CiAgICAgIC8vIE5vIGludGVyc2VjdGlvbgogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgcGxhbmVQb2ludFRvRnJvbSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBkaXJfc2NhbGVkX3dpdGhfdCA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBoaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTsKICAgIGZyb20udnN1Yihwb3NpdGlvbiwgcGxhbmVQb2ludFRvRnJvbSk7CiAgICBjb25zdCB0ID0gLXdvcmxkTm9ybWFsLmRvdChwbGFuZVBvaW50VG9Gcm9tKSAvIG5fZG90X2RpcjsKICAgIGRpcmVjdGlvbi5zY2FsZSh0LCBkaXJfc2NhbGVkX3dpdGhfdCk7CiAgICBmcm9tLnZhZGQoZGlyX3NjYWxlZF93aXRoX3QsIGhpdFBvaW50V29ybGQpOwogICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIGhpdFBvaW50V29ybGQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgd29ybGQgQUFCQiBvZiB0aGUgcmF5Lg0KICAgKi8KCgogIGdldEFBQkIoYWFiYikgewogICAgY29uc3QgewogICAgICBsb3dlckJvdW5kLAogICAgICB1cHBlckJvdW5kCiAgICB9ID0gYWFiYjsKICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICBsb3dlckJvdW5kLnggPSBNYXRoLm1pbih0by54LCBmcm9tLngpOwogICAgbG93ZXJCb3VuZC55ID0gTWF0aC5taW4odG8ueSwgZnJvbS55KTsKICAgIGxvd2VyQm91bmQueiA9IE1hdGgubWluKHRvLnosIGZyb20ueik7CiAgICB1cHBlckJvdW5kLnggPSBNYXRoLm1heCh0by54LCBmcm9tLngpOwogICAgdXBwZXJCb3VuZC55ID0gTWF0aC5tYXgodG8ueSwgZnJvbS55KTsKICAgIHVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRvLnosIGZyb20ueik7CiAgfQoKICBfaW50ZXJzZWN0SGVpZ2h0ZmllbGQoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICBjb25zdCBkYXRhID0gc2hhcGUuZGF0YTsKICAgIGNvbnN0IHcgPSBzaGFwZS5lbGVtZW50U2l6ZTsgLy8gQ29udmVydCB0aGUgcmF5IHRvIGxvY2FsIGhlaWdodGZpZWxkIGNvb3JkaW5hdGVzCgogICAgY29uc3QgbG9jYWxSYXkgPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sb2NhbFJheTsgLy9uZXcgUmF5KHRoaXMuZnJvbSwgdGhpcy50byk7CgogICAgbG9jYWxSYXkuZnJvbS5jb3B5KHRoaXMuZnJvbSk7CiAgICBsb2NhbFJheS50by5jb3B5KHRoaXMudG8pOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS5mcm9tLCBsb2NhbFJheS5mcm9tKTsKICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgbG9jYWxSYXkudG8sIGxvY2FsUmF5LnRvKTsKICAgIGxvY2FsUmF5LnVwZGF0ZURpcmVjdGlvbigpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICBjb25zdCBpbmRleCA9IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4OwogICAgbGV0IGlNaW5YOwogICAgbGV0IGlNaW5ZOwogICAgbGV0IGlNYXhYOwogICAgbGV0IGlNYXhZOyAvLyBTZXQgdG8gbWF4CgogICAgaU1pblggPSBpTWluWSA9IDA7CiAgICBpTWF4WCA9IGlNYXhZID0gc2hhcGUuZGF0YS5sZW5ndGggLSAxOwogICAgY29uc3QgYWFiYiA9IG5ldyBBQUJCKCk7CiAgICBsb2NhbFJheS5nZXRBQUJCKGFhYmIpOwogICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueSwgaW5kZXgsIHRydWUpOwogICAgaU1pblggPSBNYXRoLm1heChpTWluWCwgaW5kZXhbMF0pOwogICAgaU1pblkgPSBNYXRoLm1heChpTWluWSwgaW5kZXhbMV0pOwogICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueSwgaW5kZXgsIHRydWUpOwogICAgaU1heFggPSBNYXRoLm1pbihpTWF4WCwgaW5kZXhbMF0gKyAxKTsKICAgIGlNYXhZID0gTWF0aC5taW4oaU1heFksIGluZGV4WzFdICsgMSk7CgogICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7CiAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHNoYXBlLmdldEFhYmJBdEluZGV4KGksIGosIGFhYmIpOwoKICAgICAgICBpZiAoIWFhYmIub3ZlcmxhcHNSYXkobG9jYWxSYXkpKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9IC8vIExvd2VyIHRyaWFuZ2xlCgoKICAgICAgICBzaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgdGhpcy5faW50ZXJzZWN0Q29udmV4KHNoYXBlLnBpbGxhckNvbnZleCwgcXVhdCwgd29ybGRQaWxsYXJPZmZzZXQsIGJvZHksIHJlcG9ydGVkU2hhcGUsIGludGVyc2VjdENvbnZleE9wdGlvbnMpOwoKICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGUKCgogICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdCwgc2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgIHRoaXMuX2ludGVyc2VjdENvbnZleChzaGFwZS5waWxsYXJDb252ZXgsIHF1YXQsIHdvcmxkUGlsbGFyT2Zmc2V0LCBib2R5LCByZXBvcnRlZFNoYXBlLCBpbnRlcnNlY3RDb252ZXhPcHRpb25zKTsKICAgICAgfQogICAgfQogIH0KCiAgX2ludGVyc2VjdFNwaGVyZShzcGhlcmUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgY29uc3QgciA9IHNwaGVyZS5yYWRpdXM7CiAgICBjb25zdCBhID0gKHRvLnggLSBmcm9tLngpICoqIDIgKyAodG8ueSAtIGZyb20ueSkgKiogMiArICh0by56IC0gZnJvbS56KSAqKiAyOwogICAgY29uc3QgYiA9IDIgKiAoKHRvLnggLSBmcm9tLngpICogKGZyb20ueCAtIHBvc2l0aW9uLngpICsgKHRvLnkgLSBmcm9tLnkpICogKGZyb20ueSAtIHBvc2l0aW9uLnkpICsgKHRvLnogLSBmcm9tLnopICogKGZyb20ueiAtIHBvc2l0aW9uLnopKTsKICAgIGNvbnN0IGMgPSAoZnJvbS54IC0gcG9zaXRpb24ueCkgKiogMiArIChmcm9tLnkgLSBwb3NpdGlvbi55KSAqKiAyICsgKGZyb20ueiAtIHBvc2l0aW9uLnopICoqIDIgLSByICoqIDI7CiAgICBjb25zdCBkZWx0YSA9IGIgKiogMiAtIDQgKiBhICogYzsKICAgIGNvbnN0IGludGVyc2VjdGlvblBvaW50ID0gUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludDsKICAgIGNvbnN0IG5vcm1hbCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsOwoKICAgIGlmIChkZWx0YSA8IDApIHsKICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uCiAgICAgIHJldHVybjsKICAgIH0gZWxzZSBpZiAoZGVsdGEgPT09IDApIHsKICAgICAgLy8gc2luZ2xlIGludGVyc2VjdGlvbiBwb2ludAogICAgICBmcm9tLmxlcnAodG8sIGRlbHRhLCBpbnRlcnNlY3Rpb25Qb2ludCk7CiAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgZDEgPSAoLWIgLSBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7CiAgICAgIGNvbnN0IGQyID0gKC1iICsgTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpOwoKICAgICAgaWYgKGQxID49IDAgJiYgZDEgPD0gMSkgewogICAgICAgIGZyb20ubGVycCh0bywgZDEsIGludGVyc2VjdGlvblBvaW50KTsKICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpOwogICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZDIgPj0gMCAmJiBkMiA8PSAxKSB7CiAgICAgICAgZnJvbS5sZXJwKHRvLCBkMiwgaW50ZXJzZWN0aW9uUG9pbnQpOwogICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTsKICAgICAgfQogICAgfQogIH0KCiAgX2ludGVyc2VjdENvbnZleChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHsKICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdENvbnZleF9ub3JtYWw7CiAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yOwogICAgY29uc3QgZmFjZUxpc3QgPSBvcHRpb25zICYmIG9wdGlvbnMuZmFjZUxpc3QgfHwgbnVsbDsgLy8gQ2hlY2tpbmcgZmFjZXMKCiAgICBjb25zdCBmYWNlcyA9IHNoYXBlLmZhY2VzOwogICAgY29uc3QgdmVydGljZXMgPSBzaGFwZS52ZXJ0aWNlczsKICAgIGNvbnN0IG5vcm1hbHMgPSBzaGFwZS5mYWNlTm9ybWFsczsKICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uOwogICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKHRvKTsKICAgIGNvbnN0IE5mYWNlcyA9IGZhY2VMaXN0ID8gZmFjZUxpc3QubGVuZ3RoIDogZmFjZXMubGVuZ3RoOwogICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7CgogICAgZm9yIChsZXQgaiA9IDA7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBqIDwgTmZhY2VzOyBqKyspIHsKICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdCA/IGZhY2VMaXN0W2pdIDogajsKICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ZpXTsKICAgICAgY29uc3QgZmFjZU5vcm1hbCA9IG5vcm1hbHNbZmldOwogICAgICBjb25zdCBxID0gcXVhdDsKICAgICAgY29uc3QgeCA9IHBvc2l0aW9uOyAvLyBkZXRlcm1pbmUgaWYgcmF5IGludGVyc2VjdHMgdGhlIHBsYW5lIG9mIHRoZSBmYWNlCiAgICAgIC8vIG5vdGU6IHRoaXMgd29ya3MgcmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBmYWNlIG5vcm1hbAogICAgICAvLyBHZXQgcGxhbmUgcG9pbnQgaW4gd29ybGQgY29vcmRpbmF0ZXMuLi4KCiAgICAgIHZlY3Rvci5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTsKICAgICAgcS52bXVsdCh2ZWN0b3IsIHZlY3Rvcik7CiAgICAgIHZlY3Rvci52YWRkKHgsIHZlY3Rvcik7IC8vIC4uLmJ1dCBtYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSByYXkgZnJvbS4gV2UnbGwgZml4IHRoaXMgbGF0ZXIuCgogICAgICB2ZWN0b3IudnN1Yihmcm9tLCB2ZWN0b3IpOyAvLyBHZXQgcGxhbmUgbm9ybWFsCgogICAgICBxLnZtdWx0KGZhY2VOb3JtYWwsIG5vcm1hbCk7IC8vIElmIHRoaXMgZG90IHByb2R1Y3QgaXMgbmVnYXRpdmUsIHdlIGhhdmUgc29tZXRoaW5nIGludGVyZXN0aW5nCgogICAgICBjb25zdCBkb3QgPSBkaXJlY3Rpb24uZG90KG5vcm1hbCk7IC8vIEJhaWwgb3V0IGlmIHJheSBhbmQgcGxhbmUgYXJlIHBhcmFsbGVsCgogICAgICBpZiAoTWF0aC5hYnMoZG90KSA8IHRoaXMucHJlY2lzaW9uKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0gLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZQoKCiAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheQoKICAgICAgaWYgKHNjYWxhciA8IDApIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBpZiAoZG90IDwgMCkgewogICAgICAvLyBJbnRlcnNlY3Rpb24gcG9pbnQgaXMgZnJvbSArIGRpcmVjdGlvbiAqIHNjYWxhcgoKCiAgICAgIGRpcmVjdGlvbi5zY2FsZShzY2FsYXIsIGludGVyc2VjdFBvaW50KTsKICAgICAgaW50ZXJzZWN0UG9pbnQudmFkZChmcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIGEgaXMgdGhlIHBvaW50IHdlIGNvbXBhcmUgcG9pbnRzIGIgYW5kIGMgd2l0aC4KCiAgICAgIGEuY29weSh2ZXJ0aWNlc1tmYWNlWzBdXSk7CiAgICAgIHEudm11bHQoYSwgYSk7CiAgICAgIHgudmFkZChhLCBhKTsKCiAgICAgIGZvciAobGV0IGkgPSAxOyAhcmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGZhY2UubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgLy8gVHJhbnNmb3JtIDMgdmVydGljZXMgdG8gd29ybGQgY29vcmRzCiAgICAgICAgYi5jb3B5KHZlcnRpY2VzW2ZhY2VbaV1dKTsKICAgICAgICBjLmNvcHkodmVydGljZXNbZmFjZVtpICsgMV1dKTsKICAgICAgICBxLnZtdWx0KGIsIGIpOwogICAgICAgIHEudm11bHQoYywgYyk7CiAgICAgICAgeC52YWRkKGIsIGIpOwogICAgICAgIHgudmFkZChjLCBjKTsKICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGludGVyc2VjdFBvaW50LmRpc3RhbmNlVG8oZnJvbSk7CgogICAgICAgIGlmICghKHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYSwgYiwgYykgfHwgcG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSkgfHwgZGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCBmaSk7CiAgICAgIH0gLy8gfQoKICAgIH0KICB9CiAgLyoqDQogICAqIEB0b2RvIE9wdGltaXplIGJ5IHRyYW5zZm9ybWluZyB0aGUgd29ybGQgdG8gbG9jYWwgc3BhY2UgZmlyc3QuDQogICAqIEB0b2RvIFVzZSBPY3RyZWUgbG9va3VwDQogICAqLwoKCiAgX2ludGVyc2VjdFRyaW1lc2gobWVzaCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHsKICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfbm9ybWFsOwogICAgY29uc3QgdHJpYW5nbGVzID0gaW50ZXJzZWN0VHJpbWVzaF90cmlhbmdsZXM7CiAgICBjb25zdCB0cmVlVHJhbnNmb3JtID0gaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtOwogICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjsKICAgIGNvbnN0IGxvY2FsRGlyZWN0aW9uID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbjsKICAgIGNvbnN0IGxvY2FsRnJvbSA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tOwogICAgY29uc3QgbG9jYWxUbyA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbzsKICAgIGNvbnN0IHdvcmxkSW50ZXJzZWN0UG9pbnQgPSBpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQ7CiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWw7CiAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlcwoKICAgIGNvbnN0IGluZGljZXMgPSBtZXNoLmluZGljZXM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IG1lc2gudmVydGljZXM7IC8vIGNvbnN0IG5vcm1hbHMgPSBtZXNoLmZhY2VOb3JtYWxzCgogICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uOwogICAgdHJlZVRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTsKICAgIHRyZWVUcmFuc2Zvcm0ucXVhdGVybmlvbi5jb3B5KHF1YXQpOyAvLyBUcmFuc2Zvcm0gcmF5IHRvIGxvY2FsIHNwYWNlIQoKICAgIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGRpcmVjdGlvbiwgbG9jYWxEaXJlY3Rpb24pOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBmcm9tLCBsb2NhbEZyb20pOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCB0bywgbG9jYWxUbyk7CiAgICBsb2NhbFRvLnggKj0gbWVzaC5zY2FsZS54OwogICAgbG9jYWxUby55ICo9IG1lc2guc2NhbGUueTsKICAgIGxvY2FsVG8ueiAqPSBtZXNoLnNjYWxlLno7CiAgICBsb2NhbEZyb20ueCAqPSBtZXNoLnNjYWxlLng7CiAgICBsb2NhbEZyb20ueSAqPSBtZXNoLnNjYWxlLnk7CiAgICBsb2NhbEZyb20ueiAqPSBtZXNoLnNjYWxlLno7CiAgICBsb2NhbFRvLnZzdWIobG9jYWxGcm9tLCBsb2NhbERpcmVjdGlvbik7CiAgICBsb2NhbERpcmVjdGlvbi5ub3JtYWxpemUoKTsKICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCA9IGxvY2FsRnJvbS5kaXN0YW5jZVNxdWFyZWQobG9jYWxUbyk7CiAgICBtZXNoLnRyZWUucmF5UXVlcnkodGhpcywgdHJlZVRyYW5zZm9ybSwgdHJpYW5nbGVzKTsKCiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHRyaWFuZ2xlcy5sZW5ndGg7ICF0aGlzLnJlc3VsdC5zaG91bGRTdG9wICYmIGkgIT09IE47IGkrKykgewogICAgICBjb25zdCB0cmlhbmdsZXNJbmRleCA9IHRyaWFuZ2xlc1tpXTsKICAgICAgbWVzaC5nZXROb3JtYWwodHJpYW5nbGVzSW5kZXgsIG5vcm1hbCk7IC8vIGRldGVybWluZSBpZiByYXkgaW50ZXJzZWN0cyB0aGUgcGxhbmUgb2YgdGhlIGZhY2UKICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsCiAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLgoKICAgICAgbWVzaC5nZXRWZXJ0ZXgoaW5kaWNlc1t0cmlhbmdsZXNJbmRleCAqIDNdLCBhKTsgLy8gLi4uYnV0IG1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIHJheSBmcm9tLiBXZSdsbCBmaXggdGhpcyBsYXRlci4KCiAgICAgIGEudnN1Yihsb2NhbEZyb20sIHZlY3Rvcik7IC8vIElmIHRoaXMgZG90IHByb2R1Y3QgaXMgbmVnYXRpdmUsIHdlIGhhdmUgc29tZXRoaW5nIGludGVyZXN0aW5nCgogICAgICBjb25zdCBkb3QgPSBsb2NhbERpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWwKICAgICAgLy8gaWYgKE1hdGguYWJzKCBkb3QgKSA8IHRoaXMucHJlY2lzaW9uKXsKICAgICAgLy8gICAgIGNvbnRpbnVlOwogICAgICAvLyB9CiAgICAgIC8vIGNhbGMgZGlzdGFuY2UgdG8gcGxhbmUKCiAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheQoKICAgICAgaWYgKHNjYWxhciA8IDApIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfSAvLyBJbnRlcnNlY3Rpb24gcG9pbnQgaXMgZnJvbSArIGRpcmVjdGlvbiAqIHNjYWxhcgoKCiAgICAgIGxvY2FsRGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpOwogICAgICBpbnRlcnNlY3RQb2ludC52YWRkKGxvY2FsRnJvbSwgaW50ZXJzZWN0UG9pbnQpOyAvLyBHZXQgdHJpYW5nbGUgdmVydGljZXMKCiAgICAgIG1lc2guZ2V0VmVydGV4KGluZGljZXNbdHJpYW5nbGVzSW5kZXggKiAzICsgMV0sIGIpOwogICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDJdLCBjKTsKICAgICAgY29uc3Qgc3F1YXJlZERpc3RhbmNlID0gaW50ZXJzZWN0UG9pbnQuZGlzdGFuY2VTcXVhcmVkKGxvY2FsRnJvbSk7CgogICAgICBpZiAoIShwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpIHx8IHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYSwgYiwgYykpIHx8IHNxdWFyZWREaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9IC8vIHRyYW5zZm9ybSBpbnRlcnNlY3Rwb2ludCBhbmQgbm9ybWFsIHRvIHdvcmxkCgoKICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZShxdWF0LCBub3JtYWwsIHdvcmxkTm9ybWFsKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBpbnRlcnNlY3RQb2ludCwgd29ybGRJbnRlcnNlY3RQb2ludCk7CiAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKHdvcmxkTm9ybWFsLCB3b3JsZEludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCB0cmlhbmdsZXNJbmRleCk7CiAgICB9CgogICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7CiAgfQogIC8qKg0KICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBpbnRlcnNlY3Rpb25zIHNob3VsZCBjb250aW51ZQ0KICAgKi8KCgogIHJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBoaXRGYWNlSW5kZXgpIHsKICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2VUbyhoaXRQb2ludFdvcmxkKTsKICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVzdWx0OyAvLyBTa2lwIGJhY2sgZmFjZXM/CgogICAgaWYgKHRoaXMuc2tpcEJhY2tmYWNlcyAmJiBub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSA+IDApIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJlc3VsdC5oaXRGYWNlSW5kZXggPSB0eXBlb2YgaGl0RmFjZUluZGV4ICE9PSAndW5kZWZpbmVkJyA/IGhpdEZhY2VJbmRleCA6IC0xOwoKICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7CiAgICAgIGNhc2UgUmF5LkFMTDoKICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgIHJlc3VsdC5oYXNIaXQgPSB0cnVlOwogICAgICAgIHRoaXMuY2FsbGJhY2socmVzdWx0KTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgUmF5LkNMT1NFU1Q6CiAgICAgICAgLy8gU3RvcmUgaWYgY2xvc2VyIHRoYW4gY3VycmVudCBjbG9zZXN0CiAgICAgICAgaWYgKGRpc3RhbmNlIDwgcmVzdWx0LmRpc3RhbmNlIHx8ICFyZXN1bHQuaGFzSGl0KSB7CiAgICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTsKICAgICAgICB9CgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSBSYXkuQU5ZOgogICAgICAgIC8vIFJlcG9ydCBhbmQgc3RvcC4KICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7CiAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgIHJlc3VsdC5zaG91bGRTdG9wID0gdHJ1ZTsKICAgICAgICBicmVhazsKICAgIH0KICB9Cgp9CgpSYXkuQ0xPU0VTVCA9IDE7ClJheS5BTlkgPSAyOwpSYXkuQUxMID0gNDsKY29uc3QgdG1wQUFCQiA9IG5ldyBBQUJCKCk7CmNvbnN0IHRtcEFycmF5ID0gW107CmNvbnN0IHYxID0gbmV3IFZlYzMoKTsKY29uc3QgdjIgPSBuZXcgVmVjMygpOwovKg0KICogQXMgcGVyICJCYXJ5Y2VudHJpYyBUZWNobmlxdWUiIGFzIG5hbWVkIGhlcmUgaHR0cDovL3d3dy5ibGFja3Bhd24uY29tL3RleHRzL3BvaW50aW5wb2x5L2RlZmF1bHQuaHRtbCBCdXQgd2l0aG91dCB0aGUgZGl2aXNpb24NCiAqLwoKUmF5LnBvaW50SW5UcmlhbmdsZSA9IHBvaW50SW5UcmlhbmdsZTsKCmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShwLCBhLCBiLCBjKSB7CiAgYy52c3ViKGEsIHYwKTsKICBiLnZzdWIoYSwgdjEpOwogIHAudnN1YihhLCB2Mik7CiAgY29uc3QgZG90MDAgPSB2MC5kb3QodjApOwogIGNvbnN0IGRvdDAxID0gdjAuZG90KHYxKTsKICBjb25zdCBkb3QwMiA9IHYwLmRvdCh2Mik7CiAgY29uc3QgZG90MTEgPSB2MS5kb3QodjEpOwogIGNvbnN0IGRvdDEyID0gdjEuZG90KHYyKTsKICBsZXQgdTsKICBsZXQgdjsKICByZXR1cm4gKHUgPSBkb3QxMSAqIGRvdDAyIC0gZG90MDEgKiBkb3QxMikgPj0gMCAmJiAodiA9IGRvdDAwICogZG90MTIgLSBkb3QwMSAqIGRvdDAyKSA+PSAwICYmIHUgKyB2IDwgZG90MDAgKiBkb3QxMSAtIGRvdDAxICogZG90MDE7Cn0KCmNvbnN0IGludGVyc2VjdEJvZHlfeGkgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RCb2R5X3FpID0gbmV3IFF1YXRlcm5pb24oKTsKY29uc3QgaW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpOwpjb25zdCBhID0gbmV3IFZlYzMoKTsKY29uc3QgYiA9IG5ldyBWZWMzKCk7CmNvbnN0IGMgPSBuZXcgVmVjMygpOwpSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkJPWF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RCb3g7ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuUExBTkVdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0UGxhbmU7CmNvbnN0IGludGVyc2VjdENvbnZleE9wdGlvbnMgPSB7CiAgZmFjZUxpc3Q6IFswXQp9Owpjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5ID0gbmV3IFJheSgpOwpjb25zdCBpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleCA9IFtdOwpSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkhFSUdIVEZJRUxEXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEhlaWdodGZpZWxkOwpjb25zdCBSYXlfaW50ZXJzZWN0U3BoZXJlX2ludGVyc2VjdGlvblBvaW50ID0gbmV3IFZlYzMoKTsKY29uc3QgUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpOwpSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlNQSEVSRV0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RTcGhlcmU7CmNvbnN0IGludGVyc2VjdENvbnZleF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RDb252ZXhfdmVjdG9yID0gbmV3IFZlYzMoKTsKUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdENvbnZleDsKY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb20gPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsVG8gPSBuZXcgVmVjMygpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTsKY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEFBQkIgPSBuZXcgQUFCQigpOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlcyA9IFtdOwpjb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7ClJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuVFJJTUVTSF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RUcmltZXNoOwpjb25zdCB2MCA9IG5ldyBWZWMzKCk7CmNvbnN0IGludGVyc2VjdCA9IG5ldyBWZWMzKCk7CgpmdW5jdGlvbiBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgZGlyZWN0aW9uLCBwb3NpdGlvbikgewogIC8vIHYwIGlzIHZlY3RvciBmcm9tIGZyb20gdG8gcG9zaXRpb24KICBwb3NpdGlvbi52c3ViKGZyb20sIHYwKTsKICBjb25zdCBkb3QgPSB2MC5kb3QoZGlyZWN0aW9uKTsgLy8gaW50ZXJzZWN0ID0gZGlyZWN0aW9uKmRvdCArIGZyb20KCiAgZGlyZWN0aW9uLnNjYWxlKGRvdCwgaW50ZXJzZWN0KTsKICBpbnRlcnNlY3QudmFkZChmcm9tLCBpbnRlcnNlY3QpOwogIGNvbnN0IGRpc3RhbmNlID0gcG9zaXRpb24uZGlzdGFuY2VUbyhpbnRlcnNlY3QpOwogIHJldHVybiBkaXN0YW5jZTsKfQovKioNCiAqIFN3ZWVwIGFuZCBwcnVuZSBicm9hZHBoYXNlIGFsb25nIG9uZSBheGlzLg0KICoNCiAqIEBjbGFzcyBTQVBCcm9hZHBoYXNlDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7V29ybGR9IFt3b3JsZF0NCiAqIEBleHRlbmRzIEJyb2FkcGhhc2UNCiAqLwoKCmNsYXNzIFNBUEJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHsKICAvLyBMaXN0IG9mIGJvZGllcyBjdXJyZW50bHkgaW4gdGhlIGJyb2FkcGhhc2UuCiAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBpbi4KICAvLyBBeGlzIHRvIHNvcnQgdGhlIGJvZGllcyBhbG9uZy4gU2V0IHRvIDAgZm9yIHggYXhpcywgYW5kIDEgZm9yIHkgYXhpcy4gRm9yIGJlc3QgcGVyZm9ybWFuY2UsIGNob29zZSBhbiBheGlzIHRoYXQgdGhlIGJvZGllcyBhcmUgc3ByZWFkIG91dCBtb3JlIG9uLgogIGNvbnN0cnVjdG9yKHdvcmxkKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5heGlzTGlzdCA9IFtdOwogICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICB0aGlzLmF4aXNJbmRleCA9IDA7CiAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CgogICAgdGhpcy5fYWRkQm9keUhhbmRsZXIgPSBldmVudCA9PiB7CiAgICAgIGF4aXNMaXN0LnB1c2goZXZlbnQuYm9keSk7CiAgICB9OwoKICAgIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyID0gZXZlbnQgPT4gewogICAgICBjb25zdCBpZHggPSBheGlzTGlzdC5pbmRleE9mKGV2ZW50LmJvZHkpOwoKICAgICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgICBheGlzTGlzdC5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgfTsKCiAgICBpZiAod29ybGQpIHsKICAgICAgdGhpcy5zZXRXb3JsZCh3b3JsZCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDaGFuZ2UgdGhlIHdvcmxkDQogICAqIEBtZXRob2Qgc2V0V29ybGQNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqLwoKCiAgc2V0V29ybGQod29ybGQpIHsKICAgIC8vIENsZWFyIHRoZSBvbGQgYXhpcyBhcnJheQogICAgdGhpcy5heGlzTGlzdC5sZW5ndGggPSAwOyAvLyBBZGQgYWxsIGJvZGllcyBmcm9tIHRoZSBuZXcgd29ybGQKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmxkLmJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmF4aXNMaXN0LnB1c2god29ybGQuYm9kaWVzW2ldKTsKICAgIH0gLy8gUmVtb3ZlIG9sZCBoYW5kbGVycywgaWYgYW55CgoKICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7CiAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpOyAvLyBBZGQgaGFuZGxlcnMgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIGJvZGllcy4KCiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdhZGRCb2R5JywgdGhpcy5fYWRkQm9keUhhbmRsZXIpOwogICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncmVtb3ZlQm9keScsIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKTsKICAgIHRoaXMud29ybGQgPSB3b3JsZDsKICAgIHRoaXMuZGlydHkgPSB0cnVlOwogIH0KICAvKioNCiAgICogQ29sbGVjdCBhbGwgY29sbGlzaW9uIHBhaXJzDQogICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnMNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEBwYXJhbSAge0FycmF5fSBwMQ0KICAgKiBAcGFyYW0gIHtBcnJheX0gcDINCiAgICovCgoKICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcDEsIHAyKSB7CiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmF4aXNMaXN0OwogICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7CiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDsKICAgIGxldCBpOwogICAgbGV0IGo7CgogICAgaWYgKHRoaXMuZGlydHkpIHsKICAgICAgdGhpcy5zb3J0TGlzdCgpOwogICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7CiAgICB9IC8vIExvb2sgdGhyb3VnaCB0aGUgbGlzdAoKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICBmb3IgKGogPSBpICsgMTsgaiA8IE47IGorKykgewogICAgICAgIGNvbnN0IGJqID0gYm9kaWVzW2pdOwoKICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoIVNBUEJyb2FkcGhhc2UuY2hlY2tCb3VuZHMoYmksIGJqLCBheGlzSW5kZXgpKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHAxLCBwMik7CiAgICAgIH0KICAgIH0KICB9CgogIHNvcnRMaXN0KCkgewogICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0OwogICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7CiAgICBjb25zdCBOID0gYXhpc0xpc3QubGVuZ3RoOyAvLyBVcGRhdGUgQUFCQnMKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYXhpc0xpc3RbaV07CgogICAgICBpZiAoYmkuYWFiYk5lZWRzVXBkYXRlKSB7CiAgICAgICAgYmkuY29tcHV0ZUFBQkIoKTsKICAgICAgfQogICAgfSAvLyBTb3J0IHRoZSBsaXN0CgoKICAgIGlmIChheGlzSW5kZXggPT09IDApIHsKICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WChheGlzTGlzdCk7CiAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZKGF4aXNMaXN0KTsKICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAyKSB7CiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFooYXhpc0xpc3QpOwogICAgfQogIH0KICAvKioNCiAgICogQ29tcHV0ZXMgdGhlIHZhcmlhbmNlIG9mIHRoZSBib2R5IHBvc2l0aW9ucyBhbmQgZXN0aW1hdGVzIHRoZSBiZXN0DQogICAqIGF4aXMgdG8gdXNlLiBXaWxsIGF1dG9tYXRpY2FsbHkgc2V0IHByb3BlcnR5IC5heGlzSW5kZXguDQogICAqIEBtZXRob2QgYXV0b0RldGVjdEF4aXMNCiAgICovCgoKICBhdXRvRGV0ZWN0QXhpcygpIHsKICAgIGxldCBzdW1YID0gMDsKICAgIGxldCBzdW1YMiA9IDA7CiAgICBsZXQgc3VtWSA9IDA7CiAgICBsZXQgc3VtWTIgPSAwOwogICAgbGV0IHN1bVogPSAwOwogICAgbGV0IHN1bVoyID0gMDsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7CiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDsKICAgIGNvbnN0IGludk4gPSAxIC8gTjsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgIGNvbnN0IGNlbnRlclggPSBiLnBvc2l0aW9uLng7CiAgICAgIHN1bVggKz0gY2VudGVyWDsKICAgICAgc3VtWDIgKz0gY2VudGVyWCAqIGNlbnRlclg7CiAgICAgIGNvbnN0IGNlbnRlclkgPSBiLnBvc2l0aW9uLnk7CiAgICAgIHN1bVkgKz0gY2VudGVyWTsKICAgICAgc3VtWTIgKz0gY2VudGVyWSAqIGNlbnRlclk7CiAgICAgIGNvbnN0IGNlbnRlclogPSBiLnBvc2l0aW9uLno7CiAgICAgIHN1bVogKz0gY2VudGVyWjsKICAgICAgc3VtWjIgKz0gY2VudGVyWiAqIGNlbnRlclo7CiAgICB9CgogICAgY29uc3QgdmFyaWFuY2VYID0gc3VtWDIgLSBzdW1YICogc3VtWCAqIGludk47CiAgICBjb25zdCB2YXJpYW5jZVkgPSBzdW1ZMiAtIHN1bVkgKiBzdW1ZICogaW52TjsKICAgIGNvbnN0IHZhcmlhbmNlWiA9IHN1bVoyIC0gc3VtWiAqIHN1bVogKiBpbnZOOwoKICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVkpIHsKICAgICAgaWYgKHZhcmlhbmNlWCA+IHZhcmlhbmNlWikgewogICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDI7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodmFyaWFuY2VZID4gdmFyaWFuY2VaKSB7CiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgIH0KICB9CiAgLyoqDQogICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIGFuIEFBQkIuDQogICAqIEBtZXRob2QgYWFiYlF1ZXJ5DQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiDQogICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLg0KICAgKiBAcmV0dXJuIHthcnJheX0NCiAgICovCgoKICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCA9IFtdKSB7CiAgICBpZiAodGhpcy5kaXJ0eSkgewogICAgICB0aGlzLnNvcnRMaXN0KCk7CiAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgIH0KCiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDsKICAgIGxldCBheGlzID0gJ3gnOwoKICAgIGlmIChheGlzSW5kZXggPT09IDEpIHsKICAgICAgYXhpcyA9ICd5JzsKICAgIH0KCiAgICBpZiAoYXhpc0luZGV4ID09PSAyKSB7CiAgICAgIGF4aXMgPSAneic7CiAgICB9CgogICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0OwogICAgY29uc3QgbG93ZXIgPSBhYWJiLmxvd2VyQm91bmRbYXhpc107CiAgICBjb25zdCB1cHBlciA9IGFhYmIudXBwZXJCb3VuZFtheGlzXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4aXNMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IGIgPSBheGlzTGlzdFtpXTsKCiAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGIuY29tcHV0ZUFBQkIoKTsKICAgICAgfQoKICAgICAgaWYgKGIuYWFiYi5vdmVybGFwcyhhYWJiKSkgewogICAgICAgIHJlc3VsdC5wdXNoKGIpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cgp9Ci8qKg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WA0KICogQHBhcmFtICB7QXJyYXl9IGENCiAqIEByZXR1cm4ge0FycmF5fQ0KICovCgoKU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WCA9IGEgPT4gewogIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgIGNvbnN0IHYgPSBhW2ldOwogICAgbGV0IGo7CgogICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC54IDw9IHYuYWFiYi5sb3dlckJvdW5kLngpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgYVtqICsgMV0gPSBhW2pdOwogICAgfQoKICAgIGFbaiArIDFdID0gdjsKICB9CgogIHJldHVybiBhOwp9OwovKioNCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgaW5zZXJ0aW9uU29ydFkNCiAqIEBwYXJhbSAge0FycmF5fSBhDQogKiBAcmV0dXJuIHtBcnJheX0NCiAqLwoKClNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkgPSBhID0+IHsKICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICBjb25zdCB2ID0gYVtpXTsKICAgIGxldCBqOwoKICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkgewogICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueSA8PSB2LmFhYmIubG93ZXJCb3VuZC55KSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gYVtqXTsKICAgIH0KCiAgICBhW2ogKyAxXSA9IHY7CiAgfQoKICByZXR1cm4gYTsKfTsKLyoqDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIGluc2VydGlvblNvcnRaDQogKiBAcGFyYW0gIHtBcnJheX0gYQ0KICogQHJldHVybiB7QXJyYXl9DQogKi8KCgpTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRaID0gYSA9PiB7CiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgY29uc3QgdiA9IGFbaV07CiAgICBsZXQgajsKCiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHsKICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnogPD0gdi5hYWJiLmxvd2VyQm91bmQueikgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBhW2ogKyAxXSA9IGFbal07CiAgICB9CgogICAgYVtqICsgMV0gPSB2OwogIH0KCiAgcmV0dXJuIGE7Cn07Ci8qKg0KICogQ2hlY2sgaWYgdGhlIGJvdW5kcyBvZiB0d28gYm9kaWVzIG92ZXJsYXAsIGFsb25nIHRoZSBnaXZlbiBTQVAgYXhpcy4NCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgY2hlY2tCb3VuZHMNCiAqIEBwYXJhbSAge0JvZHl9IGJpDQogKiBAcGFyYW0gIHtCb2R5fSBiag0KICogQHBhcmFtICB7TnVtYmVyfSBheGlzSW5kZXgNCiAqIEByZXR1cm4ge0Jvb2xlYW59DQogKi8KCgpTQVBCcm9hZHBoYXNlLmNoZWNrQm91bmRzID0gKGJpLCBiaiwgYXhpc0luZGV4KSA9PiB7CiAgbGV0IGJpUG9zOwogIGxldCBialBvczsKCiAgaWYgKGF4aXNJbmRleCA9PT0gMCkgewogICAgYmlQb3MgPSBiaS5wb3NpdGlvbi54OwogICAgYmpQb3MgPSBiai5wb3NpdGlvbi54OwogIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAxKSB7CiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLnk7CiAgICBialBvcyA9IGJqLnBvc2l0aW9uLnk7CiAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgIGJpUG9zID0gYmkucG9zaXRpb24uejsKICAgIGJqUG9zID0gYmoucG9zaXRpb24uejsKICB9CgogIGNvbnN0IHJpID0gYmkuYm91bmRpbmdSYWRpdXMsCiAgICAgICAgcmogPSBiai5ib3VuZGluZ1JhZGl1cywKICAgICAgICAvLyBib3VuZEExID0gYmlQb3MgLSByaSwKICBib3VuZEEyID0gYmlQb3MgKyByaSwKICAgICAgICBib3VuZEIxID0gYmpQb3MgLSByajsgLy8gYm91bmRCMiA9IGJqUG9zICsgcmo7CgogIHJldHVybiBib3VuZEIxIDwgYm91bmRBMjsKfTsKCmZ1bmN0aW9uIFV0aWxzKCkge30KLyoqDQogKiBFeHRlbmQgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcy4NCiAqIEBzdGF0aWMNCiAqIEBtZXRob2QgZGVmYXVsdHMNCiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QuIE1heSBiZSBmYWxzeTogaW4gdGhpcyBjYXNlLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZCBhbmQgcmV0dXJuZWQuDQogKiBAcGFyYW0gIHtvYmplY3R9IGRlZmF1bHRzIEFuIG9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzLg0KICogQHJldHVybiB7b2JqZWN0fSBUaGUgbW9kaWZpZWQgb3B0aW9ucyBvYmplY3QuDQogKi8KCgpVdGlscy5kZWZhdWx0cyA9IChvcHRpb25zID0ge30sIGRlZmF1bHRzKSA9PiB7CiAgZm9yIChsZXQga2V5IGluIGRlZmF1bHRzKSB7CiAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIHsKICAgICAgb3B0aW9uc1trZXldID0gZGVmYXVsdHNba2V5XTsKICAgIH0KICB9CgogIHJldHVybiBvcHRpb25zOwp9OwovKioNCiAqIENvbnN0cmFpbnQgYmFzZSBjbGFzcw0KICogQGNsYXNzIENvbnN0cmFpbnQNCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkPXRydWVdDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLndha2VVcEJvZGllcz10cnVlXQ0KICovCgoKY2xhc3MgQ29uc3RyYWludCB7CiAgLy8gRXF1YXRpb25zIHRvIGJlIHNvbHZlZCBpbiB0aGlzIGNvbnN0cmFpbnQuCiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIGJvZGllcyB0byBjb2xsaWRlIHdoZW4gdGhleSBhcmUgY29ubmVjdGVkLgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7CiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICBjb2xsaWRlQ29ubmVjdGVkOiB0cnVlLAogICAgICB3YWtlVXBCb2RpZXM6IHRydWUKICAgIH0pOwogICAgdGhpcy5lcXVhdGlvbnMgPSBbXTsKICAgIHRoaXMuYm9keUEgPSBib2R5QTsKICAgIHRoaXMuYm9keUIgPSBib2R5QjsKICAgIHRoaXMuaWQgPSBDb25zdHJhaW50LmlkQ291bnRlcisrOwogICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkOwoKICAgIGlmIChvcHRpb25zLndha2VVcEJvZGllcykgewogICAgICBpZiAoYm9keUEpIHsKICAgICAgICBib2R5QS53YWtlVXAoKTsKICAgICAgfQoKICAgICAgaWYgKGJvZHlCKSB7CiAgICAgICAgYm9keUIud2FrZVVwKCk7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIFVwZGF0ZSBhbGwgdGhlIGVxdWF0aW9ucyB3aXRoIGRhdGEuDQogICAqIEBtZXRob2QgdXBkYXRlDQogICAqLwoKCiAgdXBkYXRlKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdtZXRob2QgdXBkYXRlKCkgbm90IGltcGxtZW1lbnRlZCBpbiB0aGlzIENvbnN0cmFpbnQgc3ViY2xhc3MhJyk7CiAgfQogIC8qKg0KICAgKiBFbmFibGVzIGFsbCBlcXVhdGlvbnMgaW4gdGhlIGNvbnN0cmFpbnQuDQogICAqIEBtZXRob2QgZW5hYmxlDQogICAqLwoKCiAgZW5hYmxlKCkgewogICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXMubGVuZ3RoOyBpKyspIHsKICAgICAgZXFzW2ldLmVuYWJsZWQgPSB0cnVlOwogICAgfQogIH0KICAvKioNCiAgICogRGlzYWJsZXMgYWxsIGVxdWF0aW9ucyBpbiB0aGUgY29uc3RyYWludC4NCiAgICogQG1ldGhvZCBkaXNhYmxlDQogICAqLwoKCiAgZGlzYWJsZSgpIHsKICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXFzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGVxc1tpXS5lbmFibGVkID0gZmFsc2U7CiAgICB9CiAgfQoKfQoKQ29uc3RyYWludC5pZENvdW50ZXIgPSAwOwovKioNCiAqIEFuIGVsZW1lbnQgY29udGFpbmluZyA2IGVudHJpZXMsIDMgc3BhdGlhbCBhbmQgMyByb3RhdGlvbmFsIGRlZ3JlZXMgb2YgZnJlZWRvbS4NCiAqLwoKY2xhc3MgSmFjb2JpYW5FbGVtZW50IHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuc3BhdGlhbCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLnJvdGF0aW9uYWwgPSBuZXcgVmVjMygpOwogIH0KICAvKioNCiAgICogTXVsdGlwbHkgd2l0aCBvdGhlciBKYWNvYmlhbkVsZW1lbnQNCiAgICovCgoKICBtdWx0aXBseUVsZW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQuc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIGVsZW1lbnQucm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTsKICB9CiAgLyoqDQogICAqIE11bHRpcGx5IHdpdGggdHdvIHZlY3RvcnMNCiAgICovCgoKICBtdWx0aXBseVZlY3RvcnMoc3BhdGlhbCwgcm90YXRpb25hbCkgewogICAgcmV0dXJuIHNwYXRpYWwuZG90KHRoaXMuc3BhdGlhbCkgKyByb3RhdGlvbmFsLmRvdCh0aGlzLnJvdGF0aW9uYWwpOwogIH0KCn0KLyoqDQogKiBFcXVhdGlvbiBiYXNlIGNsYXNzDQogKiBAY2xhc3MgRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBiaQ0KICogQHBhcmFtIHtCb2R5fSBiag0KICogQHBhcmFtIHtOdW1iZXJ9IG1pbkZvcmNlIE1pbmltdW0gKHJlYWQ6IG5lZ2F0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC4NCiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBNYXhpbXVtIChyZWFkOiBwb3NpdGl2ZSBtYXgpIGZvcmNlIHRvIGJlIGFwcGxpZWQgYnkgdGhlIGNvbnN0cmFpbnQuDQogKi8KCgpjbGFzcyBFcXVhdGlvbiB7CiAgLy8gU1BPT0sgcGFyYW1ldGVyCiAgLy8gU1BPT0sgcGFyYW1ldGVyCiAgLy8gU1BPT0sgcGFyYW1ldGVyCiAgLy8gQSBudW1iZXIsIHByb3BvcnRpb25hbCB0byB0aGUgZm9yY2UgYWRkZWQgdG8gdGhlIGJvZGllcy4KICBjb25zdHJ1Y3RvcihiaSwgYmosIG1pbkZvcmNlID0gLTFlNiwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHRoaXMuaWQgPSBFcXVhdGlvbi5pZCsrOwogICAgdGhpcy5taW5Gb3JjZSA9IG1pbkZvcmNlOwogICAgdGhpcy5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgdGhpcy5iaSA9IGJpOwogICAgdGhpcy5iaiA9IGJqOwogICAgdGhpcy5hID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXIKCiAgICB0aGlzLmIgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgIHRoaXMuZXBzID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXIKCiAgICB0aGlzLmphY29iaWFuRWxlbWVudEEgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7CiAgICB0aGlzLmphY29iaWFuRWxlbWVudEIgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7CiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlOwogICAgdGhpcy5tdWx0aXBsaWVyID0gMDsKICAgIHRoaXMuc2V0U3Bvb2tQYXJhbXMoMWU3LCA0LCAxIC8gNjApOyAvLyBTZXQgdHlwaWNhbCBzcG9vayBwYXJhbXMKICB9CiAgLyoqDQogICAqIFJlY2FsY3VsYXRlcyBhLGIsZXBzLg0KICAgKiBAbWV0aG9kIHNldFNwb29rUGFyYW1zDQogICAqLwoKCiAgc2V0U3Bvb2tQYXJhbXMoc3RpZmZuZXNzLCByZWxheGF0aW9uLCB0aW1lU3RlcCkgewogICAgY29uc3QgZCA9IHJlbGF4YXRpb247CiAgICBjb25zdCBrID0gc3RpZmZuZXNzOwogICAgY29uc3QgaCA9IHRpbWVTdGVwOwogICAgdGhpcy5hID0gNC4wIC8gKGggKiAoMSArIDQgKiBkKSk7CiAgICB0aGlzLmIgPSA0LjAgKiBkIC8gKDEgKyA0ICogZCk7CiAgICB0aGlzLmVwcyA9IDQuMCAvIChoICogaCAqIGsgKiAoMSArIDQgKiBkKSk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyB0aGUgcmlnaHQgaGFuZCBzaWRlIG9mIHRoZSBTUE9PSyBlcXVhdGlvbg0KICAgKiBAbWV0aG9kIGNvbXB1dGVCDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBjb21wdXRlQihhLCBiLCBoKSB7CiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICBjb25zdCBHcSA9IHRoaXMuY29tcHV0ZUdxKCk7CiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgcmV0dXJuIC1HcSAqIGEgLSBHVyAqIGIgLSBHaU1mICogaDsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIEcqcSwgd2hlcmUgcSBhcmUgdGhlIGdlbmVyYWxpemVkIGJvZHkgY29vcmRpbmF0ZXMNCiAgICogQG1ldGhvZCBjb21wdXRlR3ENCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGNvbXB1dGVHcSgpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCB4aSA9IGJpLnBvc2l0aW9uOwogICAgY29uc3QgeGogPSBiai5wb3NpdGlvbjsKICAgIHJldHVybiBHQS5zcGF0aWFsLmRvdCh4aSkgKyBHQi5zcGF0aWFsLmRvdCh4aik7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlcyBHKlcsIHdoZXJlIFcgYXJlIHRoZSBib2R5IHZlbG9jaXRpZXMNCiAgICogQG1ldGhvZCBjb21wdXRlR1cNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIGNvbXB1dGVHVygpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCB2aSA9IGJpLnZlbG9jaXR5OwogICAgY29uc3QgdmogPSBiai52ZWxvY2l0eTsKICAgIGNvbnN0IHdpID0gYmkuYW5ndWxhclZlbG9jaXR5OwogICAgY29uc3Qgd2ogPSBiai5hbmd1bGFyVmVsb2NpdHk7CiAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKHZpLCB3aSkgKyBHQi5tdWx0aXBseVZlY3RvcnModmosIHdqKTsKICB9CiAgLyoqDQogICAqIENvbXB1dGVzIEcqV2xhbWJkYSwgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVHV2xhbWJkYQ0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqLwoKCiAgY29tcHV0ZUdXbGFtYmRhKCkgewogICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgIGNvbnN0IHZpID0gYmkudmxhbWJkYTsKICAgIGNvbnN0IHZqID0gYmoudmxhbWJkYTsKICAgIGNvbnN0IHdpID0gYmkud2xhbWJkYTsKICAgIGNvbnN0IHdqID0gYmoud2xhbWJkYTsKICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnModmksIHdpKSArIEdCLm11bHRpcGx5VmVjdG9ycyh2aiwgd2opOwogIH0KCiAgY29tcHV0ZUdpTWYoKSB7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgZmkgPSBiaS5mb3JjZTsKICAgIGNvbnN0IHRpID0gYmkudG9ycXVlOwogICAgY29uc3QgZmogPSBiai5mb3JjZTsKICAgIGNvbnN0IHRqID0gYmoudG9ycXVlOwogICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7CiAgICBjb25zdCBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZTsKICAgIGZpLnNjYWxlKGludk1hc3NpLCBpTWZpKTsKICAgIGZqLnNjYWxlKGludk1hc3NqLCBpTWZqKTsKICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRpLCBpbnZJaV92bXVsdF90YXVpKTsKICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRqLCBpbnZJal92bXVsdF90YXVqKTsKICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnMoaU1maSwgaW52SWlfdm11bHRfdGF1aSkgKyBHQi5tdWx0aXBseVZlY3RvcnMoaU1maiwgaW52SWpfdm11bHRfdGF1aik7CiAgfQoKICBjb21wdXRlR2lNR3QoKSB7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7CiAgICBjb25zdCBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZTsKICAgIGNvbnN0IGludklpID0gYmkuaW52SW5lcnRpYVdvcmxkU29sdmU7CiAgICBjb25zdCBpbnZJaiA9IGJqLmludkluZXJ0aWFXb3JsZFNvbHZlOwogICAgbGV0IHJlc3VsdCA9IGludk1hc3NpICsgaW52TWFzc2o7CiAgICBpbnZJaS52bXVsdChHQS5yb3RhdGlvbmFsLCB0bXAkMSk7CiAgICByZXN1bHQgKz0gdG1wJDEuZG90KEdBLnJvdGF0aW9uYWwpOwogICAgaW52SWoudm11bHQoR0Iucm90YXRpb25hbCwgdG1wJDEpOwogICAgcmVzdWx0ICs9IHRtcCQxLmRvdChHQi5yb3RhdGlvbmFsKTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIC8qKg0KICAgKiBBZGQgY29uc3RyYWludCB2ZWxvY2l0eSB0byB0aGUgYm9kaWVzLg0KICAgKiBAbWV0aG9kIGFkZFRvV2xhbWJkYQ0KICAgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFsYW1iZGENCiAgICovCgoKICBhZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpIHsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCB0ZW1wID0gYWRkVG9XbGFtYmRhX3RlbXA7IC8vIEFkZCB0byBsaW5lYXIgdmVsb2NpdHkKICAgIC8vIHZfbGFtYmRhICs9IGludihNKSAqIGRlbHRhX2xhbWJhICogRwoKICAgIGJpLnZsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGJpLmludk1hc3NTb2x2ZSAqIGRlbHRhbGFtYmRhLCBHQS5zcGF0aWFsLCBiaS52bGFtYmRhKTsKICAgIGJqLnZsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGJqLmludk1hc3NTb2x2ZSAqIGRlbHRhbGFtYmRhLCBHQi5zcGF0aWFsLCBiai52bGFtYmRhKTsgLy8gQWRkIHRvIGFuZ3VsYXIgdmVsb2NpdHkKCiAgICBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChHQS5yb3RhdGlvbmFsLCB0ZW1wKTsKICAgIGJpLndsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGRlbHRhbGFtYmRhLCB0ZW1wLCBiaS53bGFtYmRhKTsKICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRlbXApOwogICAgYmoud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJqLndsYW1iZGEpOwogIH0KICAvKioNCiAgICogQ29tcHV0ZSB0aGUgZGVub21pbmF0b3IgcGFydCBvZiB0aGUgU1BPT0sgZXF1YXRpb246IEMgPSBHKmludihNKSpHJyArIGVwcw0KICAgKiBAbWV0aG9kIGNvbXB1dGVJbnZDDQogICAqIEBwYXJhbSAge051bWJlcn0gZXBzDQogICAqIEByZXR1cm4ge051bWJlcn0NCiAgICovCgoKICBjb21wdXRlQygpIHsKICAgIHJldHVybiB0aGlzLmNvbXB1dGVHaU1HdCgpICsgdGhpcy5lcHM7CiAgfQoKfQoKRXF1YXRpb24uaWQgPSAwOwovKioNCiAqIENvbXB1dGVzIEcqaW52KE0pKmYsIHdoZXJlIE0gaXMgdGhlIG1hc3MgbWF0cml4IHdpdGggZGlhZ29uYWwgYmxvY2tzIGZvciBlYWNoIGJvZHksIGFuZCBmIGFyZSB0aGUgZm9yY2VzIG9uIHRoZSBib2RpZXMuDQogKiBAbWV0aG9kIGNvbXB1dGVHaU1mDQogKiBAcmV0dXJuIHtOdW1iZXJ9DQogKi8KCmNvbnN0IGlNZmkgPSBuZXcgVmVjMygpOwpjb25zdCBpTWZqID0gbmV3IFZlYzMoKTsKY29uc3QgaW52SWlfdm11bHRfdGF1aSA9IG5ldyBWZWMzKCk7CmNvbnN0IGludklqX3ZtdWx0X3RhdWogPSBuZXcgVmVjMygpOwovKioNCiAqIENvbXB1dGVzIEcqaW52KE0pKkcnDQogKiBAbWV0aG9kIGNvbXB1dGVHaU1HdA0KICogQHJldHVybiB7TnVtYmVyfQ0KICovCgpjb25zdCB0bXAkMSA9IG5ldyBWZWMzKCk7CmNvbnN0IGFkZFRvV2xhbWJkYV90ZW1wID0gbmV3IFZlYzMoKTsKLyoqDQogKiBDb250YWN0L25vbi1wZW5ldHJhdGlvbiBjb25zdHJhaW50IGVxdWF0aW9uDQogKiBAY2xhc3MgQ29udGFjdEVxdWF0aW9uDQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBleHRlbmRzIEVxdWF0aW9uDQogKi8KCmNsYXNzIENvbnRhY3RFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAvLyAiYm91bmNpbmVzcyI6IHUxID0gLWUqdTAKICAvLyBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBnb2VzIGZyb20gdGhlIGNlbnRlciBvZiBiaSB0byB0aGUgY29udGFjdCBwb2ludC4KICAvLyBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBzdGFydHMgaW4gYm9keSBqIHBvc2l0aW9uIGFuZCBnb2VzIHRvIHRoZSBjb250YWN0IHBvaW50LgogIC8vIENvbnRhY3Qgbm9ybWFsLCBwb2ludGluZyBvdXQgb2YgYm9keSBpLgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgMCwgbWF4Rm9yY2UpOwogICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMDsKICAgIHRoaXMucmkgPSBuZXcgVmVjMygpOwogICAgdGhpcy5yaiA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLm5pID0gbmV3IFZlYzMoKTsKICB9CgogIGNvbXB1dGVCKGgpIHsKICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICBjb25zdCBiID0gdGhpcy5iOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgcmkgPSB0aGlzLnJpOwogICAgY29uc3QgcmogPSB0aGlzLnJqOwogICAgY29uc3Qgcml4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMTsKICAgIGNvbnN0IHJqeG4gPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDI7CiAgICBjb25zdCB2aSA9IGJpLnZlbG9jaXR5OwogICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CiAgICBjb25zdCBmaSA9IGJpLmZvcmNlOwogICAgY29uc3QgdGF1aSA9IGJpLnRvcnF1ZTsKICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7CiAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTsKICAgIGNvbnN0IGZqID0gYmouZm9yY2U7CiAgICBjb25zdCB0YXVqID0gYmoudG9ycXVlOwogICAgY29uc3QgcGVuZXRyYXRpb25WZWMgPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDM7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgY29uc3QgbiA9IHRoaXMubmk7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgIHJpLmNyb3NzKG4sIHJpeG4pOwogICAgcmouY3Jvc3Mobiwgcmp4bik7IC8vIGcgPSB4aityaiAtKHhpK3JpKQogICAgLy8gRyA9IFsgLW5pICAtcml4biAgbmkgIHJqeG4gXQoKICAgIG4ubmVnYXRlKEdBLnNwYXRpYWwpOwogICAgcml4bi5uZWdhdGUoR0Eucm90YXRpb25hbCk7CiAgICBHQi5zcGF0aWFsLmNvcHkobik7CiAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4bik7IC8vIENhbGN1bGF0ZSB0aGUgcGVuZXRyYXRpb24gdmVjdG9yCgogICAgcGVuZXRyYXRpb25WZWMuY29weShiai5wb3NpdGlvbik7CiAgICBwZW5ldHJhdGlvblZlYy52YWRkKHJqLCBwZW5ldHJhdGlvblZlYyk7CiAgICBwZW5ldHJhdGlvblZlYy52c3ViKGJpLnBvc2l0aW9uLCBwZW5ldHJhdGlvblZlYyk7CiAgICBwZW5ldHJhdGlvblZlYy52c3ViKHJpLCBwZW5ldHJhdGlvblZlYyk7CiAgICBjb25zdCBnID0gbi5kb3QocGVuZXRyYXRpb25WZWMpOyAvLyBDb21wdXRlIGl0ZXJhdGlvbgoKICAgIGNvbnN0IGVQbHVzT25lID0gdGhpcy5yZXN0aXR1dGlvbiArIDE7CiAgICBjb25zdCBHVyA9IGVQbHVzT25lICogdmouZG90KG4pIC0gZVBsdXNPbmUgKiB2aS5kb3QobikgKyB3ai5kb3Qocmp4bikgLSB3aS5kb3Qocml4bik7CiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mOwogICAgcmV0dXJuIEI7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGN1cnJlbnQgcmVsYXRpdmUgdmVsb2NpdHkgaW4gdGhlIGNvbnRhY3QgcG9pbnQuDQogICAqIEBtZXRob2QgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbA0KICAgKiBAcmV0dXJuIHtudW1iZXJ9DQogICAqLwoKCiAgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpIHsKICAgIGNvbnN0IHZpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmk7CiAgICBjb25zdCB2aiA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqOwogICAgY29uc3QgeGkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aTsKICAgIGNvbnN0IHhqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGo7CiAgICBjb25zdCByZWxWZWwgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF9yZWxWZWw7CiAgICB0aGlzLmJpLnBvc2l0aW9uLnZhZGQodGhpcy5yaSwgeGkpOwogICAgdGhpcy5iai5wb3NpdGlvbi52YWRkKHRoaXMucmosIHhqKTsKICAgIHRoaXMuYmkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoeGksIHZpKTsKICAgIHRoaXMuYmouZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoeGosIHZqKTsKICAgIHZpLnZzdWIodmosIHJlbFZlbCk7CiAgICByZXR1cm4gdGhpcy5uaS5kb3QocmVsVmVsKTsKICB9Cgp9Cgpjb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDEgPSBuZXcgVmVjMygpOyAvLyBUZW1wIHZlY3RvcnMKCmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7CmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMyA9IG5ldyBWZWMzKCk7CmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmogPSBuZXcgVmVjMygpOwpjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aSA9IG5ldyBWZWMzKCk7CmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqID0gbmV3IFZlYzMoKTsKY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsID0gbmV3IFZlYzMoKTsKLyoqDQogKiBDb25uZWN0cyB0d28gYm9kaWVzIGF0IGdpdmVuIG9mZnNldCBwb2ludHMuDQogKiBAY2xhc3MgUG9pbnRUb1BvaW50Q29uc3RyYWludA0KICogQGV4dGVuZHMgQ29uc3RyYWludA0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge1ZlYzN9IHBpdm90QSBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIGJvZHlBIHdoaWNoIGJvZHlBIGlzIGNvbnN0cmFpbmVkIHRvLg0KICogQHBhcmFtIHtCb2R5fSBib2R5QiBCb2R5IHRoYXQgd2lsbCBiZSBjb25zdHJhaW5lZCBpbiBhIHNpbWlsYXIgd2F5IHRvIHRoZSBzYW1lIHBvaW50IGFzIGJvZHlBLiBXZSB3aWxsIHRoZXJlZm9yZSBnZXQgYSBsaW5rIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCLiBJZiBub3Qgc3BlY2lmaWVkLCBib2R5QSB3aWxsIGJlIGNvbnN0cmFpbmVkIHRvIGEgc3RhdGljIHBvaW50Lg0KICogQHBhcmFtIHtWZWMzfSBwaXZvdEIgU2VlIHBpdm90QS4NCiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBUaGUgbWF4aW11bSBmb3JjZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGNvbnN0cmFpbiB0aGUgYm9kaWVzLg0KICoNCiAqIEBleGFtcGxlDQogKiAgICAgY29uc3QgYm9keUEgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7DQogKiAgICAgY29uc3QgYm9keUIgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7DQogKiAgICAgYm9keUEucG9zaXRpb24uc2V0KC0xLCAwLCAwKTsNCiAqICAgICBib2R5Qi5wb3NpdGlvbi5zZXQoMSwgMCwgMCk7DQogKiAgICAgYm9keUEuYWRkU2hhcGUoc2hhcGVBKTsNCiAqICAgICBib2R5Qi5hZGRTaGFwZShzaGFwZUIpOw0KICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUEpOw0KICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUIpOw0KICogICAgIGNvbnN0IGxvY2FsUGl2b3RBID0gbmV3IFZlYzMoMSwgMCwgMCk7DQogKiAgICAgY29uc3QgbG9jYWxQaXZvdEIgPSBuZXcgVmVjMygtMSwgMCwgMCk7DQogKiAgICAgY29uc3QgY29uc3RyYWludCA9IG5ldyBQb2ludFRvUG9pbnRDb25zdHJhaW50KGJvZHlBLCBsb2NhbFBpdm90QSwgYm9keUIsIGxvY2FsUGl2b3RCKTsNCiAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpOw0KICovCgpjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7CiAgLy8gUGl2b3QsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS4KICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCLgogIGNvbnN0cnVjdG9yKGJvZHlBLCBwaXZvdEEgPSBuZXcgVmVjMygpLCBib2R5QiwgcGl2b3RCID0gbmV3IFZlYzMoKSwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgIHN1cGVyKGJvZHlBLCBib2R5Qik7CiAgICB0aGlzLnBpdm90QSA9IHBpdm90QS5jbG9uZSgpOwogICAgdGhpcy5waXZvdEIgPSBwaXZvdEIuY2xvbmUoKTsKICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWCA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWSA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgIGNvbnN0IHogPSB0aGlzLmVxdWF0aW9uWiA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsgLy8gRXF1YXRpb25zIHRvIGJlIGZlZCB0byB0aGUgc29sdmVyCgogICAgdGhpcy5lcXVhdGlvbnMucHVzaCh4LCB5LCB6KTsgLy8gTWFrZSB0aGUgZXF1YXRpb25zIGJpZGlyZWN0aW9uYWwKCiAgICB4Lm1pbkZvcmNlID0geS5taW5Gb3JjZSA9IHoubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgICB4Lm1heEZvcmNlID0geS5tYXhGb3JjZSA9IHoubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgIHgubmkuc2V0KDEsIDAsIDApOwogICAgeS5uaS5zZXQoMCwgMSwgMCk7CiAgICB6Lm5pLnNldCgwLCAwLCAxKTsKICB9CgogIHVwZGF0ZSgpIHsKICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjsKICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWDsKICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWTsKICAgIGNvbnN0IHogPSB0aGlzLmVxdWF0aW9uWjsgLy8gUm90YXRlIHRoZSBwaXZvdHMgdG8gd29ybGQgc3BhY2UKCiAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RBLCB4LnJpKTsKICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQodGhpcy5waXZvdEIsIHgucmopOwogICAgeS5yaS5jb3B5KHgucmkpOwogICAgeS5yai5jb3B5KHgucmopOwogICAgei5yaS5jb3B5KHgucmkpOwogICAgei5yai5jb3B5KHgucmopOwogIH0KCn0KLyoqDQogKiBDb25lIGVxdWF0aW9uLiBXb3JrcyB0byBrZWVwIHRoZSBnaXZlbiBib2R5IHdvcmxkIHZlY3RvcnMgYWxpZ25lZCwgb3IgdGlsdGVkIHdpdGhpbiBhIGdpdmVuIGFuZ2xlIGZyb20gZWFjaCBvdGhlci4NCiAqIEBjbGFzcyBDb25lRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0gTG9jYWwgYXhpcyBpbiBBDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXSBMb2NhbCBheGlzIGluIEINCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5nbGVdIFRoZSAiY29uZSBhbmdsZSIgdG8ga2VlcA0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl0NCiAqIEBleHRlbmRzIEVxdWF0aW9uDQogKi8KCgpjbGFzcyBDb25lRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgLy8gVGhlIGNvbmUgYW5nbGUgdG8ga2VlcC4KICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTsKICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApOwogICAgdGhpcy5hbmdsZSA9IHR5cGVvZiBvcHRpb25zLmFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5nbGUgOiAwOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7CiAgICBjb25zdCBuaiA9IHRoaXMuYXhpc0I7CiAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzE7CiAgICBjb25zdCBuanhuaSA9IHRtcFZlYzI7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHMKCiAgICBuaS5jcm9zcyhuaiwgbml4bmopOwogICAgbmouY3Jvc3MobmksIG5qeG5pKTsgLy8gVGhlIGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvciBpczoKICAgIC8vIGNvcyh0aGV0YSkgPSBhICogYiAvIChsZW5ndGgoYSkgKiBsZW5ndGgoYikgPSB7IGxlbihhKSA9IGxlbihiKSA9IDEgfSA9IGEgKiBiCiAgICAvLyBnID0gYSAqIGIKICAgIC8vIGdkb3QgPSAoYiB4IGEpICogd2kgKyAoYSB4IGIpICogd2oKICAgIC8vIEcgPSBbMCBieGEgMCBheGJdCiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXQoKICAgIEdBLnJvdGF0aW9uYWwuY29weShuanhuaSk7CiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopOwogICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMuYW5nbGUpIC0gbmkuZG90KG5qKTsKICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9Cgp9Cgpjb25zdCB0bXBWZWMxID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wVmVjMiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogUm90YXRpb25hbCBjb25zdHJhaW50LiBXb3JrcyB0byBrZWVwIHRoZSBsb2NhbCB2ZWN0b3JzIG9ydGhvZ29uYWwgdG8gZWFjaCBvdGhlciBpbiB3b3JsZCBzcGFjZS4NCiAqIEBjbGFzcyBSb3RhdGlvbmFsRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2VdDQogKiBAZXh0ZW5kcyBFcXVhdGlvbg0KICovCgpjbGFzcyBSb3RhdGlvbmFsRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsKICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7CiAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApOwogICAgdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygwLCAxLCAwKTsKICAgIHRoaXMubWF4QW5nbGUgPSBNYXRoLlBJIC8gMjsKICB9CgogIGNvbXB1dGVCKGgpIHsKICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICBjb25zdCBiID0gdGhpcy5iOwogICAgY29uc3QgbmkgPSB0aGlzLmF4aXNBOwogICAgY29uc3QgbmogPSB0aGlzLmF4aXNCOwogICAgY29uc3Qgbml4bmogPSB0bXBWZWMxJDE7CiAgICBjb25zdCBuanhuaSA9IHRtcFZlYzIkMTsKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgIG5pLmNyb3NzKG5qLCBuaXhuaik7CiAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBnID0gbmkgKiBuagogICAgLy8gZ2RvdCA9IChuaiB4IG5pKSAqIHdpICsgKG5pIHggbmopICogd2oKICAgIC8vIEcgPSBbMCBuanhuaSAwIG5peG5qXQogICAgLy8gVyA9IFt2aSB3aSB2aiB3al0KCiAgICBHQS5yb3RhdGlvbmFsLmNvcHkobmp4bmkpOwogICAgR0Iucm90YXRpb25hbC5jb3B5KG5peG5qKTsKICAgIGNvbnN0IGcgPSBNYXRoLmNvcyh0aGlzLm1heEFuZ2xlKSAtIG5pLmRvdChuaik7CiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mOwogICAgcmV0dXJuIEI7CiAgfQoKfQoKY29uc3QgdG1wVmVjMSQxID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wVmVjMiQxID0gbmV3IFZlYzMoKTsKLyoqDQogKiBAY2xhc3MgQ29uZVR3aXN0Q29uc3RyYWludA0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludA0KICovCgpjbGFzcyBDb25lVHdpc3RDb25zdHJhaW50IGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludCB7CiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsgLy8gU2V0IHBpdm90IHBvaW50IGluIGJldHdlZW4KCiAgICBjb25zdCBwaXZvdEEgPSBvcHRpb25zLnBpdm90QSA/IG9wdGlvbnMucGl2b3RBLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgIHN1cGVyKGJvZHlBLCBwaXZvdEEsIGJvZHlCLCBwaXZvdEIsIG1heEZvcmNlKTsKICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9ICEhb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkOwogICAgdGhpcy5hbmdsZSA9IHR5cGVvZiBvcHRpb25zLmFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5nbGUgOiAwOwogICAgY29uc3QgYyA9IHRoaXMuY29uZUVxdWF0aW9uID0gbmV3IENvbmVFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgY29uc3QgdCA9IHRoaXMudHdpc3RFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIHRoaXMudHdpc3RBbmdsZSA9IHR5cGVvZiBvcHRpb25zLnR3aXN0QW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy50d2lzdEFuZ2xlIDogMDsgLy8gTWFrZSB0aGUgY29uZSBlcXVhdGlvbiBwdXNoIHRoZSBib2RpZXMgdG93YXJkIHRoZSBjb25lIGF4aXMsIG5vdCBvdXR3YXJkCgogICAgYy5tYXhGb3JjZSA9IDA7CiAgICBjLm1pbkZvcmNlID0gLW1heEZvcmNlOyAvLyBNYWtlIHRoZSB0d2lzdCBlcXVhdGlvbiBhZGQgdG9ycXVlIHRvd2FyZCB0aGUgaW5pdGlhbCBwb3NpdGlvbgoKICAgIHQubWF4Rm9yY2UgPSAwOwogICAgdC5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgIHRoaXMuZXF1YXRpb25zLnB1c2goYywgdCk7CiAgfQoKICB1cGRhdGUoKSB7CiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7CiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICBjb25zdCBjb25lID0gdGhpcy5jb25lRXF1YXRpb247CiAgICBjb25zdCB0d2lzdCA9IHRoaXMudHdpc3RFcXVhdGlvbjsKICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBVcGRhdGUgdGhlIGF4ZXMgdG8gdGhlIGNvbmUgY29uc3RyYWludAoKICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNBLCBjb25lLmF4aXNBKTsKICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNCLCBjb25lLmF4aXNCKTsgLy8gVXBkYXRlIHRoZSB3b3JsZCBheGVzIGluIHRoZSB0d2lzdCBjb25zdHJhaW50CgogICAgdGhpcy5heGlzQS50YW5nZW50cyh0d2lzdC5heGlzQSwgdHdpc3QuYXhpc0EpOwogICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7CiAgICB0aGlzLmF4aXNCLnRhbmdlbnRzKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7CiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTsKICAgIGNvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlOwogICAgdHdpc3QubWF4QW5nbGUgPSB0aGlzLnR3aXN0QW5nbGU7CiAgfQoKfQovKioNCiAqIENvbnN0cmFpbnMgdHdvIGJvZGllcyB0byBiZSBhdCBhIGNvbnN0YW50IGRpc3RhbmNlIGZyb20gZWFjaCBvdGhlcnMgY2VudGVyIG9mIG1hc3MuDQogKiBAY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50DQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7TnVtYmVyfSBbZGlzdGFuY2VdIFRoZSBkaXN0YW5jZSB0byBrZWVwLiBJZiB1bmRlZmluZWQsIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCDQogKiBAcGFyYW0ge051bWJlcn0gW21heEZvcmNlPTFlNl0NCiAqIEBleHRlbmRzIENvbnN0cmFpbnQNCiAqLwoKCmNsYXNzIERpc3RhbmNlQ29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQgewogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgZGlzdGFuY2UsIG1heEZvcmNlID0gMWU2KSB7CiAgICBzdXBlcihib2R5QSwgYm9keUIpOwoKICAgIGlmICh0eXBlb2YgZGlzdGFuY2UgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIGRpc3RhbmNlID0gYm9keUEucG9zaXRpb24uZGlzdGFuY2VUbyhib2R5Qi5wb3NpdGlvbik7CiAgICB9CgogICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlOwogICAgY29uc3QgZXEgPSB0aGlzLmRpc3RhbmNlRXF1YXRpb24gPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7CiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGVxKTsgLy8gTWFrZSBpdCBiaWRpcmVjdGlvbmFsCgogICAgZXEubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgICBlcS5tYXhGb3JjZSA9IG1heEZvcmNlOwogIH0KCiAgdXBkYXRlKCkgewogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgZXEgPSB0aGlzLmRpc3RhbmNlRXF1YXRpb247CiAgICBjb25zdCBoYWxmRGlzdCA9IHRoaXMuZGlzdGFuY2UgKiAwLjU7CiAgICBjb25zdCBub3JtYWwgPSBlcS5uaTsKICAgIGJvZHlCLnBvc2l0aW9uLnZzdWIoYm9keUEucG9zaXRpb24sIG5vcm1hbCk7CiAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICBub3JtYWwuc2NhbGUoaGFsZkRpc3QsIGVxLnJpKTsKICAgIG5vcm1hbC5zY2FsZSgtaGFsZkRpc3QsIGVxLnJqKTsKICB9Cgp9Ci8qKg0KICogTG9jayBjb25zdHJhaW50LiBXaWxsIHJlbW92ZSBhbGwgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGJvZGllcy4NCiAqIEBjbGFzcyBMb2NrQ29uc3RyYWludA0KICogQGNvbnN0cnVjdG9yDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlBDQogKiBAcGFyYW0ge0JvZHl9IGJvZHlCDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQ0KICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludA0KICovCgoKY2xhc3MgTG9ja0NvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHsKICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgIGNvbnN0IHBpdm90QSA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwaXZvdEIgPSBuZXcgVmVjMygpOwogICAgY29uc3QgaGFsZldheSA9IG5ldyBWZWMzKCk7CiAgICBib2R5QS5wb3NpdGlvbi52YWRkKGJvZHlCLnBvc2l0aW9uLCBoYWxmV2F5KTsKICAgIGhhbGZXYXkuc2NhbGUoMC41LCBoYWxmV2F5KTsKICAgIGJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90Qik7CiAgICBib2R5QS5wb2ludFRvTG9jYWxGcmFtZShoYWxmV2F5LCBwaXZvdEEpOyAvLyBUaGUgcG9pbnQtdG8tcG9pbnQgY29uc3RyYWludCB3aWxsIGtlZXAgYSBwb2ludCBzaGFyZWQgYmV0d2VlbiB0aGUgYm9kaWVzCgogICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOyAvLyBTdG9yZSBpbml0aWFsIHJvdGF0aW9uIG9mIHRoZSBib2RpZXMgYXMgdW5pdCB2ZWN0b3JzIGluIHRoZSBsb2NhbCBib2R5IHNwYWNlcwoKICAgIHRoaXMueEEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1gpOwogICAgdGhpcy54QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7CiAgICB0aGlzLnlBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9ZKTsKICAgIHRoaXMueUIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1kpOwogICAgdGhpcy56QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7CiAgICB0aGlzLnpCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTsgLy8gLi4uYW5kIHRoZSBmb2xsb3dpbmcgcm90YXRpb25hbCBlcXVhdGlvbnMgd2lsbCBrZWVwIGFsbCByb3RhdGlvbmFsIERPRidzIGluIHBsYWNlCgogICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgdGhpcy5lcXVhdGlvbnMucHVzaChyMSwgcjIsIHIzKTsKICB9CgogIHVwZGF0ZSgpIHsKICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjsKICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uOwogICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjE7CiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjsKICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zOwogICAgc3VwZXIudXBkYXRlKCk7IC8vIFRoZXNlIHZlY3RvciBwYWlycyBtdXN0IGJlIG9ydGhvZ29uYWwKCiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QSwgcjEuYXhpc0EpOwogICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUIsIHIxLmF4aXNCKTsKICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnlBLCByMi5heGlzQSk7CiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QiwgcjIuYXhpc0IpOwogICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuekEsIHIzLmF4aXNBKTsKICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnhCLCByMy5heGlzQik7CiAgfQoKfQovKioNCiAqIFJvdGF0aW9uYWwgbW90b3IgY29uc3RyYWludC4gVHJpZXMgdG8ga2VlcCB0aGUgcmVsYXRpdmUgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGUgYm9kaWVzIHRvIGEgZ2l2ZW4gdmFsdWUuDQogKiBAY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24NCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlDQogKiBAZXh0ZW5kcyBFcXVhdGlvbg0KICovCgoKY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgLy8gV29ybGQgb3JpZW50ZWQgcm90YXRpb25hbCBheGlzLgogIC8vIFdvcmxkIG9yaWVudGVkIHJvdGF0aW9uYWwgYXhpcy4KICAvLyBNb3RvciB2ZWxvY2l0eS4KICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG1heEZvcmNlID0gMWU2KSB7CiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpOwogICAgdGhpcy5heGlzQSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmF4aXNCID0gbmV3IFZlYzMoKTsKICAgIHRoaXMudGFyZ2V0VmVsb2NpdHkgPSAwOwogIH0KCiAgY29tcHV0ZUIoaCkgewogICAgY29uc3QgYSA9IHRoaXMuYTsKICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0E7CiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7CiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOyAvLyBnID0gMAogICAgLy8gZ2RvdCA9IGF4aXNBICogd2kgLSBheGlzQiAqIHdqCiAgICAvLyBnZG90ID0gRyAqIFcgPSBHICogW3ZpIHdpIHZqIHdqXQogICAgLy8gPT4KICAgIC8vIEcgPSBbMCBheGlzQSAwIC1heGlzQl0KCiAgICBHQS5yb3RhdGlvbmFsLmNvcHkoYXhpc0EpOwogICAgYXhpc0IubmVnYXRlKEdCLnJvdGF0aW9uYWwpOwogICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpIC0gdGhpcy50YXJnZXRWZWxvY2l0eTsKICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICBjb25zdCBCID0gLUdXICogYiAtIGggKiBHaU1mOwogICAgcmV0dXJuIEI7CiAgfQoKfQovKioNCiAqIEhpbmdlIGNvbnN0cmFpbnQuIFRoaW5rIG9mIGl0IGFzIGEgZG9vciBoaW5nZS4gSXQgdHJpZXMgdG8ga2VlcCB0aGUgZG9vciBpbiB0aGUgY29ycmVjdCBwbGFjZSBhbmQgd2l0aCB0aGUgY29ycmVjdCBvcmllbnRhdGlvbi4NCiAqIEBjbGFzcyBIaW5nZUNvbnN0cmFpbnQNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZQ0KICogQHBhcmFtIHtCb2R5fSBib2R5QQ0KICogQHBhcmFtIHtCb2R5fSBib2R5Qg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEFdIEEgcG9pbnQgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLiBUaGlzIGRlZmluZXMgdGhlIG9mZnNldCBvZiBheGlzQS4NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdIEFuIGF4aXMgdGhhdCBib2R5QSBjYW4gcm90YXRlIGFyb3VuZCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEJdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXQ0KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl0NCiAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQNCiAqLwoKCmNsYXNzIEhpbmdlQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS4KICAvLyBSb3RhdGlvbiBheGlzLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUIuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsKICAgIGNvbnN0IHBpdm90QSA9IG9wdGlvbnMucGl2b3RBID8gb3B0aW9ucy5waXZvdEEuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICBjb25zdCBwaXZvdEIgPSBvcHRpb25zLnBpdm90QiA/IG9wdGlvbnMucGl2b3RCLmNsb25lKCkgOiBuZXcgVmVjMygpOwogICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApOwogICAgYXhpc0Eubm9ybWFsaXplKCk7CiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICBheGlzQi5ub3JtYWxpemUoKTsKICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9ICEhb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkOwogICAgY29uc3Qgcm90YXRpb25hbDEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICBjb25zdCByb3RhdGlvbmFsMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMiA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UpOwogICAgbW90b3IuZW5hYmxlZCA9IGZhbHNlOyAvLyBOb3QgZW5hYmxlZCBieSBkZWZhdWx0CiAgICAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXIKCiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHJvdGF0aW9uYWwxLCByb3RhdGlvbmFsMiwgbW90b3IpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBlbmFibGVNb3Rvcg0KICAgKi8KCgogIGVuYWJsZU1vdG9yKCkgewogICAgdGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQgPSB0cnVlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBkaXNhYmxlTW90b3INCiAgICovCgoKICBkaXNhYmxlTW90b3IoKSB7CiAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IGZhbHNlOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXRNb3RvclNwZWVkDQogICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZA0KICAgKi8KCgogIHNldE1vdG9yU3BlZWQoc3BlZWQpIHsKICAgIHRoaXMubW90b3JFcXVhdGlvbi50YXJnZXRWZWxvY2l0eSA9IHNwZWVkOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXRNb3Rvck1heEZvcmNlDQogICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhGb3JjZQ0KICAgKi8KCgogIHNldE1vdG9yTWF4Rm9yY2UobWF4Rm9yY2UpIHsKICAgIHRoaXMubW90b3JFcXVhdGlvbi5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgdGhpcy5tb3RvckVxdWF0aW9uLm1pbkZvcmNlID0gLW1heEZvcmNlOwogIH0KCiAgdXBkYXRlKCkgewogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb247CiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTsKICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yOwogICAgY29uc3Qgd29ybGRBeGlzQSA9IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMTsKICAgIGNvbnN0IHdvcmxkQXhpc0IgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzI7CiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0E7CiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7CiAgICBzdXBlci51cGRhdGUoKTsgLy8gR2V0IHdvcmxkIGF4ZXMKCiAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KGF4aXNBLCB3b3JsZEF4aXNBKTsKICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQoYXhpc0IsIHdvcmxkQXhpc0IpOwogICAgd29ybGRBeGlzQS50YW5nZW50cyhyMS5heGlzQSwgcjIuYXhpc0EpOwogICAgcjEuYXhpc0IuY29weSh3b3JsZEF4aXNCKTsKICAgIHIyLmF4aXNCLmNvcHkod29ybGRBeGlzQik7CgogICAgaWYgKHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkKSB7CiAgICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQSwgbW90b3IuYXhpc0EpOwogICAgICBib2R5Qi5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMuYXhpc0IsIG1vdG9yLmF4aXNCKTsKICAgIH0KICB9Cgp9Cgpjb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzEgPSBuZXcgVmVjMygpOwpjb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzIgPSBuZXcgVmVjMygpOwovKioNCiAqIENvbnN0cmFpbnMgdGhlIHNsaXBwaW5nIGluIGEgY29udGFjdCBhbG9uZyBhIHRhbmdlbnQNCiAqIEBjbGFzcyBGcmljdGlvbkVxdWF0aW9uDQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7TnVtYmVyfSBzbGlwRm9yY2Ugc2hvdWxkIGJlICstRl9mcmljdGlvbiA9ICstbXUgKiBGX25vcm1hbCA9ICstbXUgKiBtICogZw0KICogQGV4dGVuZHMgRXF1YXRpb24NCiAqLwoKY2xhc3MgRnJpY3Rpb25FcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAvLyBUYW5nZW50LgogIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgc2xpcEZvcmNlKSB7CiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1zbGlwRm9yY2UsIHNsaXBGb3JjZSk7CiAgICB0aGlzLnJpID0gbmV3IFZlYzMoKTsKICAgIHRoaXMucmogPSBuZXcgVmVjMygpOwogICAgdGhpcy50ID0gbmV3IFZlYzMoKTsKICB9CgogIGNvbXB1dGVCKGgpIHsKICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICBjb25zdCBiID0gdGhpcy5iOwogICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgY29uc3QgcmkgPSB0aGlzLnJpOwogICAgY29uc3QgcmogPSB0aGlzLnJqOwogICAgY29uc3Qgcml4dCA9IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDE7CiAgICBjb25zdCByanh0ID0gRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMjsKICAgIGNvbnN0IHQgPSB0aGlzLnQ7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgIHJpLmNyb3NzKHQsIHJpeHQpOwogICAgcmouY3Jvc3ModCwgcmp4dCk7IC8vIEcgPSBbLXQgLXJpeHQgdCByanh0XQogICAgLy8gQW5kIHJlbWVtYmVyLCB0aGlzIGlzIGEgcHVyZSB2ZWxvY2l0eSBjb25zdHJhaW50LCBnIGlzIGFsd2F5cyB6ZXJvIQoKICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICB0Lm5lZ2F0ZShHQS5zcGF0aWFsKTsKICAgIHJpeHQubmVnYXRlKEdBLnJvdGF0aW9uYWwpOwogICAgR0Iuc3BhdGlhbC5jb3B5KHQpOwogICAgR0Iucm90YXRpb25hbC5jb3B5KHJqeHQpOwogICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgIGNvbnN0IEIgPSAtR1cgKiBiIC0gaCAqIEdpTWY7CiAgICByZXR1cm4gQjsKICB9Cgp9Cgpjb25zdCBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxID0gbmV3IFZlYzMoKTsKY29uc3QgRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7Ci8qKg0KICogRGVmaW5lcyB3aGF0IGhhcHBlbnMgd2hlbiB0d28gbWF0ZXJpYWxzIG1lZXQuDQogKiBAY2xhc3MgQ29udGFjdE1hdGVyaWFsDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xDQogKiBAcGFyYW0ge01hdGVyaWFsfSBtMg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uPTAuM10NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yZXN0aXR1dGlvbj0wLjNdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzPTFlN10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uPTNdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcz0xZTddDQogKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb249M10NCiAqIEB0b2RvIFJlZmFjdG9yIG1hdGVyaWFscyB0byBtYXRlcmlhbEEgYW5kIG1hdGVyaWFsQg0KICovCgpjbGFzcyBDb250YWN0TWF0ZXJpYWwgewogIC8vIElkZW50aWZpZXIgb2YgdGhpcyBtYXRlcmlhbC4KICAvLyBQYXJ0aWNpcGF0aW5nIG1hdGVyaWFscy4KICAvLyBGcmljdGlvbiBjb2VmZmljaWVudC4KICAvLyBSZXN0aXR1dGlvbiBjb2VmZmljaWVudC4KICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGNvbnRhY3QgZXF1YXRpb25zLgogIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuCiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnMuCiAgLy8gUmVsYXhhdGlvbiB0aW1lIG9mIHRoZSBwcm9kdWNlZCBmcmljdGlvbiBlcXVhdGlvbnMKICBjb25zdHJ1Y3RvcihtMSwgbTIsIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgIGZyaWN0aW9uOiAwLjMsCiAgICAgIHJlc3RpdHV0aW9uOiAwLjMsCiAgICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWU3LAogICAgICBjb250YWN0RXF1YXRpb25SZWxheGF0aW9uOiAzLAogICAgICBmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsCiAgICAgIGZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uOiAzCiAgICB9KTsKICAgIHRoaXMuaWQgPSBDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyKys7CiAgICB0aGlzLm1hdGVyaWFscyA9IFttMSwgbTJdOwogICAgdGhpcy5mcmljdGlvbiA9IG9wdGlvbnMuZnJpY3Rpb247CiAgICB0aGlzLnJlc3RpdHV0aW9uID0gb3B0aW9ucy5yZXN0aXR1dGlvbjsKICAgIHRoaXMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M7CiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb247CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M7CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjsKICB9Cgp9CgpDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyID0gMDsKLyoqDQogKiBEZWZpbmVzIGEgcGh5c2ljcyBtYXRlcmlhbC4NCiAqIEBjbGFzcyBNYXRlcmlhbA0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdDQogKiBAYXV0aG9yIHNjaHRlcHBlDQogKi8KCmNsYXNzIE1hdGVyaWFsIHsKICAvLyBNYXRlcmlhbCBuYW1lLgogIC8vIE1hdGVyaWFsIGlkLgogIC8vIEZyaWN0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBmcmljdGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICAvLyBSZXN0aXR1dGlvbiBmb3IgdGhpcyBtYXRlcmlhbC4gSWYgbm9uLW5lZ2F0aXZlLCBpdCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgcmVzdGl0dXRpb24gZ2l2ZW4gYnkgQ29udGFjdE1hdGVyaWFscy4gSWYgdGhlcmUncyBubyBtYXRjaGluZyBDb250YWN0TWF0ZXJpYWwsIHRoZSB2YWx1ZSBmcm9tIC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsIGluIHRoZSBXb3JsZCB3aWxsIGJlIHVzZWQuCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICBsZXQgbmFtZSA9ICcnOyAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmaXgKCiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7CiAgICAgIG5hbWUgPSBvcHRpb25zOwogICAgICBvcHRpb25zID0ge307CiAgICB9CgogICAgdGhpcy5uYW1lID0gbmFtZTsKICAgIHRoaXMuaWQgPSBNYXRlcmlhbC5pZENvdW50ZXIrKzsKICAgIHRoaXMuZnJpY3Rpb24gPSB0eXBlb2Ygb3B0aW9ucy5mcmljdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZyaWN0aW9uIDogLTE7CiAgICB0aGlzLnJlc3RpdHV0aW9uID0gdHlwZW9mIG9wdGlvbnMucmVzdGl0dXRpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5yZXN0aXR1dGlvbiA6IC0xOwogIH0KCn0KCk1hdGVyaWFsLmlkQ291bnRlciA9IDA7Ci8qKg0KICogQSBzcHJpbmcsIGNvbm5lY3RpbmcgdHdvIGJvZGllcy4NCiAqDQogKiBAY2xhc3MgU3ByaW5nDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7Qm9keX0gYm9keUENCiAqIEBwYXJhbSB7Qm9keX0gYm9keUINCiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXN0TGVuZ3RoXSAgIEEgbnVtYmVyID4gMC4gRGVmYXVsdDogMQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0aWZmbmVzc10gICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMTAwDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ10gICAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxDQogKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckFdIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLg0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMud29ybGRBbmNob3JCXQ0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JBXSBXaGVyZSB0byBob29rIHRoZSBzcHJpbmcgdG8gYm9keSBBLCBpbiBsb2NhbCBib2R5IGNvb3JkaW5hdGVzLg0KICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JCXQ0KICovCgpjbGFzcyBTcHJpbmcgewogIC8vIFJlc3QgbGVuZ3RoIG9mIHRoZSBzcHJpbmcuCiAgLy8gU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuCiAgLy8gRGFtcGluZyBvZiB0aGUgc3ByaW5nLgogIC8vIEZpcnN0IGNvbm5lY3RlZCBib2R5LgogIC8vIFNlY29uZCBjb25uZWN0ZWQgYm9keS4KICAvLyBBbmNob3IgZm9yIGJvZHlBIGluIGxvY2FsIGJvZHlBIGNvb3JkaW5hdGVzLgogIC8vIEFuY2hvciBmb3IgYm9keUIgaW4gbG9jYWwgYm9keUIgY29vcmRpbmF0ZXMuCiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgIHRoaXMucmVzdExlbmd0aCA9IHR5cGVvZiBvcHRpb25zLnJlc3RMZW5ndGggPT09ICdudW1iZXInID8gb3B0aW9ucy5yZXN0TGVuZ3RoIDogMTsKICAgIHRoaXMuc3RpZmZuZXNzID0gb3B0aW9ucy5zdGlmZm5lc3MgfHwgMTAwOwogICAgdGhpcy5kYW1waW5nID0gb3B0aW9ucy5kYW1waW5nIHx8IDE7CiAgICB0aGlzLmJvZHlBID0gYm9keUE7CiAgICB0aGlzLmJvZHlCID0gYm9keUI7CiAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmxvY2FsQW5jaG9yQiA9IG5ldyBWZWMzKCk7CgogICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JBKSB7CiAgICAgIHRoaXMubG9jYWxBbmNob3JBLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckEpOwogICAgfQoKICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQikgewogICAgICB0aGlzLmxvY2FsQW5jaG9yQi5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JCKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckEpIHsKICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckEob3B0aW9ucy53b3JsZEFuY2hvckEpOwogICAgfQoKICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQikgewogICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQihvcHRpb25zLndvcmxkQW5jaG9yQik7CiAgICB9CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQQ0KICAgKi8KCgogIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHsKICAgIHRoaXMuYm9keUEucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JBLCB0aGlzLmxvY2FsQW5jaG9yQSk7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQg0KICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQg0KICAgKi8KCgogIHNldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpIHsKICAgIHRoaXMuYm9keUIucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JCLCB0aGlzLmxvY2FsQW5jaG9yQik7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLg0KICAgKiBAbWV0aG9kIGdldFdvcmxkQW5jaG9yQQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uDQogICAqLwoKCiAgZ2V0V29ybGRBbmNob3JBKHJlc3VsdCkgewogICAgdGhpcy5ib2R5QS5wb2ludFRvV29ybGRGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQSwgcmVzdWx0KTsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuDQogICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JCDQogICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4NCiAgICovCgoKICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7CiAgICB0aGlzLmJvZHlCLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JCLCByZXN1bHQpOwogIH0KICAvKioNCiAgICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy4NCiAgICogQG1ldGhvZCBhcHBseUZvcmNlDQogICAqLwoKCiAgYXBwbHlGb3JjZSgpIHsKICAgIGNvbnN0IGsgPSB0aGlzLnN0aWZmbmVzczsKICAgIGNvbnN0IGQgPSB0aGlzLmRhbXBpbmc7CiAgICBjb25zdCBsID0gdGhpcy5yZXN0TGVuZ3RoOwogICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgY29uc3QgciA9IGFwcGx5Rm9yY2VfcjsKICAgIGNvbnN0IHJfdW5pdCA9IGFwcGx5Rm9yY2Vfcl91bml0OwogICAgY29uc3QgdSA9IGFwcGx5Rm9yY2VfdTsKICAgIGNvbnN0IGYgPSBhcHBseUZvcmNlX2Y7CiAgICBjb25zdCB0bXAgPSBhcHBseUZvcmNlX3RtcDsKICAgIGNvbnN0IHdvcmxkQW5jaG9yQSA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBOwogICAgY29uc3Qgd29ybGRBbmNob3JCID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckI7CiAgICBjb25zdCByaSA9IGFwcGx5Rm9yY2Vfcmk7CiAgICBjb25zdCByaiA9IGFwcGx5Rm9yY2Vfcmo7CiAgICBjb25zdCByaV94X2YgPSBhcHBseUZvcmNlX3JpX3hfZjsKICAgIGNvbnN0IHJqX3hfZiA9IGFwcGx5Rm9yY2VfcmpfeF9mOyAvLyBHZXQgd29ybGQgYW5jaG9ycwoKICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7CiAgICB0aGlzLmdldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpOyAvLyBHZXQgb2Zmc2V0IHBvaW50cwoKICAgIHdvcmxkQW5jaG9yQS52c3ViKGJvZHlBLnBvc2l0aW9uLCByaSk7CiAgICB3b3JsZEFuY2hvckIudnN1Yihib2R5Qi5wb3NpdGlvbiwgcmopOyAvLyBDb21wdXRlIGRpc3RhbmNlIHZlY3RvciBiZXR3ZWVuIHdvcmxkIGFuY2hvciBwb2ludHMKCiAgICB3b3JsZEFuY2hvckIudnN1Yih3b3JsZEFuY2hvckEsIHIpOwogICAgY29uc3QgcmxlbiA9IHIubGVuZ3RoKCk7CiAgICByX3VuaXQuY29weShyKTsKICAgIHJfdW5pdC5ub3JtYWxpemUoKTsgLy8gQ29tcHV0ZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYW5jaG9yIHBvaW50cywgdQoKICAgIGJvZHlCLnZlbG9jaXR5LnZzdWIoYm9keUEudmVsb2NpdHksIHUpOyAvLyBBZGQgcm90YXRpb25hbCB2ZWxvY2l0eQoKICAgIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaiwgdG1wKTsKICAgIHUudmFkZCh0bXAsIHUpOwogICAgYm9keUEuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJpLCB0bXApOwogICAgdS52c3ViKHRtcCwgdSk7IC8vIEYgPSAtIGsgKiAoIHggLSBMICkgLSBEICogKCB1ICkKCiAgICByX3VuaXQuc2NhbGUoLWsgKiAocmxlbiAtIGwpIC0gZCAqIHUuZG90KHJfdW5pdCksIGYpOyAvLyBBZGQgZm9yY2VzIHRvIGJvZGllcwoKICAgIGJvZHlBLmZvcmNlLnZzdWIoZiwgYm9keUEuZm9yY2UpOwogICAgYm9keUIuZm9yY2UudmFkZChmLCBib2R5Qi5mb3JjZSk7IC8vIEFuZ3VsYXIgZm9yY2UKCiAgICByaS5jcm9zcyhmLCByaV94X2YpOwogICAgcmouY3Jvc3MoZiwgcmpfeF9mKTsKICAgIGJvZHlBLnRvcnF1ZS52c3ViKHJpX3hfZiwgYm9keUEudG9ycXVlKTsKICAgIGJvZHlCLnRvcnF1ZS52YWRkKHJqX3hfZiwgYm9keUIudG9ycXVlKTsKICB9Cgp9Cgpjb25zdCBhcHBseUZvcmNlX3IgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3JfdW5pdCA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfdSA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfZiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV93b3JsZEFuY2hvckIgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3JpID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV9yaiA9IG5ldyBWZWMzKCk7CmNvbnN0IGFwcGx5Rm9yY2VfcmlfeF9mID0gbmV3IFZlYzMoKTsKY29uc3QgYXBwbHlGb3JjZV9yal94X2YgPSBuZXcgVmVjMygpOwpjb25zdCBhcHBseUZvcmNlX3RtcCA9IG5ldyBWZWMzKCk7Ci8qKg0KICogQGNsYXNzIFdoZWVsSW5mbw0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdDQogKg0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWxdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZF0NCiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uTG9jYWxdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmRpcmVjdGlvbldvcmxkXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGxlTG9jYWxdDQogKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4bGVXb3JsZF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uUmVzdExlbmd0aD0xXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg9Ml0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yYWRpdXM9MV0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uU3RpZmZuZXNzPTEwMF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb249MTBdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ1JlbGF4YXRpb249MTBdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25TbGlwPTEwMDAwXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0ZWVyaW5nPTBdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucm90YXRpb249MF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kZWx0YVJvdGF0aW9uPTBdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucm9sbEluZmx1ZW5jZT0wLjAxXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25Gb3JjZV0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaXNGcm9udFdoZWVsPXRydWVdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uPTFdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk9MF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uRm9yY2U9MF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5za2lkSW5mbz0wXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25MZW5ndGg9MF0NCiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhTdXNwZW5zaW9uVHJhdmVsPTFdDQogKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ9ZmFsc2VdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD0tMC4xXQ0KICovCgpjbGFzcyBXaGVlbEluZm8gewogIC8vIE1heCB0cmF2ZWwgZGlzdGFuY2Ugb2YgdGhlIHN1c3BlbnNpb24sIGluIG1ldGVycy4KICAvLyBTcGVlZCB0byBhcHBseSB0byB0aGUgd2hlZWwgcm90YXRpb24gd2hlbiB0aGUgd2hlZWwgaXMgc2xpZGluZy4KICAvLyBJZiB0aGUgY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCBzaG91bGQgYmUgdXNlZC4KICAvLyBDb25uZWN0aW9uIHBvaW50LCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIGNoYXNzaXMgYm9keSBmcmFtZS4KICAvLyBSb3RhdGlvbiB2YWx1ZSwgaW4gcmFkaWFucy4KICAvLyBUaGUgcmVzdWx0IGZyb20gcmF5Y2FzdGluZy4KICAvLyBXaGVlbCB3b3JsZCB0cmFuc2Zvcm0uCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWw6IG5ldyBWZWMzKCksCiAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDogbmV3IFZlYzMoKSwKICAgICAgZGlyZWN0aW9uTG9jYWw6IG5ldyBWZWMzKCksCiAgICAgIGRpcmVjdGlvbldvcmxkOiBuZXcgVmVjMygpLAogICAgICBheGxlTG9jYWw6IG5ldyBWZWMzKCksCiAgICAgIGF4bGVXb3JsZDogbmV3IFZlYzMoKSwKICAgICAgc3VzcGVuc2lvblJlc3RMZW5ndGg6IDEsCiAgICAgIHN1c3BlbnNpb25NYXhMZW5ndGg6IDIsCiAgICAgIHJhZGl1czogMSwKICAgICAgc3VzcGVuc2lvblN0aWZmbmVzczogMTAwLAogICAgICBkYW1waW5nQ29tcHJlc3Npb246IDEwLAogICAgICBkYW1waW5nUmVsYXhhdGlvbjogMTAsCiAgICAgIGZyaWN0aW9uU2xpcDogMTAwMDAsCiAgICAgIHN0ZWVyaW5nOiAwLAogICAgICByb3RhdGlvbjogMCwKICAgICAgZGVsdGFSb3RhdGlvbjogMCwKICAgICAgcm9sbEluZmx1ZW5jZTogMC4wMSwKICAgICAgbWF4U3VzcGVuc2lvbkZvcmNlOiBOdW1iZXIuTUFYX1ZBTFVFLAogICAgICBpc0Zyb250V2hlZWw6IHRydWUsCiAgICAgIGNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbjogMSwKICAgICAgc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk6IDAsCiAgICAgIHN1c3BlbnNpb25Gb3JjZTogMCwKICAgICAgc2xpcEluZm86IDAsCiAgICAgIHNraWRJbmZvOiAwLAogICAgICBzdXNwZW5zaW9uTGVuZ3RoOiAwLAogICAgICBtYXhTdXNwZW5zaW9uVHJhdmVsOiAxLAogICAgICB1c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiBmYWxzZSwKICAgICAgY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDogLTAuMQogICAgfSk7CiAgICB0aGlzLm1heFN1c3BlbnNpb25UcmF2ZWwgPSBvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICB0aGlzLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgPSBvcHRpb25zLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ7CiAgICB0aGlzLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgPSBvcHRpb25zLnVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ7CiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTsKICAgIHRoaXMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsID0gb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwuY2xvbmUoKTsKICAgIHRoaXMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkID0gb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQuY2xvbmUoKTsKICAgIHRoaXMuZGlyZWN0aW9uTG9jYWwgPSBvcHRpb25zLmRpcmVjdGlvbkxvY2FsLmNsb25lKCk7CiAgICB0aGlzLmRpcmVjdGlvbldvcmxkID0gb3B0aW9ucy5kaXJlY3Rpb25Xb3JsZC5jbG9uZSgpOwogICAgdGhpcy5heGxlTG9jYWwgPSBvcHRpb25zLmF4bGVMb2NhbC5jbG9uZSgpOwogICAgdGhpcy5heGxlV29ybGQgPSBvcHRpb25zLmF4bGVXb3JsZC5jbG9uZSgpOwogICAgdGhpcy5zdXNwZW5zaW9uUmVzdExlbmd0aCA9IG9wdGlvbnMuc3VzcGVuc2lvblJlc3RMZW5ndGg7CiAgICB0aGlzLnN1c3BlbnNpb25NYXhMZW5ndGggPSBvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg7CiAgICB0aGlzLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzOwogICAgdGhpcy5zdXNwZW5zaW9uU3RpZmZuZXNzID0gb3B0aW9ucy5zdXNwZW5zaW9uU3RpZmZuZXNzOwogICAgdGhpcy5kYW1waW5nQ29tcHJlc3Npb24gPSBvcHRpb25zLmRhbXBpbmdDb21wcmVzc2lvbjsKICAgIHRoaXMuZGFtcGluZ1JlbGF4YXRpb24gPSBvcHRpb25zLmRhbXBpbmdSZWxheGF0aW9uOwogICAgdGhpcy5mcmljdGlvblNsaXAgPSBvcHRpb25zLmZyaWN0aW9uU2xpcDsKICAgIHRoaXMuc3RlZXJpbmcgPSAwOwogICAgdGhpcy5yb3RhdGlvbiA9IDA7CiAgICB0aGlzLmRlbHRhUm90YXRpb24gPSAwOwogICAgdGhpcy5yb2xsSW5mbHVlbmNlID0gb3B0aW9ucy5yb2xsSW5mbHVlbmNlOwogICAgdGhpcy5tYXhTdXNwZW5zaW9uRm9yY2UgPSBvcHRpb25zLm1heFN1c3BlbnNpb25Gb3JjZTsKICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwOwogICAgdGhpcy5icmFrZSA9IDA7CiAgICB0aGlzLmlzRnJvbnRXaGVlbCA9IG9wdGlvbnMuaXNGcm9udFdoZWVsOwogICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxOwogICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDA7CiAgICB0aGlzLnN1c3BlbnNpb25Gb3JjZSA9IDA7CiAgICB0aGlzLnNsaXBJbmZvID0gMDsKICAgIHRoaXMuc2tpZEluZm8gPSAwOwogICAgdGhpcy5zdXNwZW5zaW9uTGVuZ3RoID0gMDsKICAgIHRoaXMuc2lkZUltcHVsc2UgPSAwOwogICAgdGhpcy5mb3J3YXJkSW1wdWxzZSA9IDA7CiAgICB0aGlzLnJheWNhc3RSZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpOwogICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTsKICAgIHRoaXMuaXNJbkNvbnRhY3QgPSBmYWxzZTsKICB9CgogIHVwZGF0ZVdoZWVsKGNoYXNzaXMpIHsKICAgIGNvbnN0IHJheWNhc3RSZXN1bHQgPSB0aGlzLnJheWNhc3RSZXN1bHQ7CgogICAgaWYgKHRoaXMuaXNJbkNvbnRhY3QpIHsKICAgICAgY29uc3QgcHJvamVjdCA9IHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHJheWNhc3RSZXN1bHQuZGlyZWN0aW9uV29ybGQpOwogICAgICByYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzLnBvc2l0aW9uLCByZWxwb3MpOwogICAgICBjaGFzc2lzLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHJlbHBvcywgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpOwogICAgICBjb25zdCBwcm9qVmVsID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QoY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpOwoKICAgICAgaWYgKHByb2plY3QgPj0gLTAuMSkgewogICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwLjA7CiAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjAgLyAwLjE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgaW52ID0gLTEgLyBwcm9qZWN0OwogICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52OwogICAgICAgIHRoaXMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gaW52OwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyBOb3QgaW4gY29udGFjdCA6IHBvc2l0aW9uIHdoZWVsIGluIGEgbmljZSAocmVzdCBsZW5ndGgpIHBvc2l0aW9uCiAgICAgIHJheWNhc3RSZXN1bHQuc3VzcGVuc2lvbkxlbmd0aCA9IHRoaXMuc3VzcGVuc2lvblJlc3RMZW5ndGg7CiAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwLjA7CiAgICAgIHJheWNhc3RSZXN1bHQuZGlyZWN0aW9uV29ybGQuc2NhbGUoLTEsIHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpOwogICAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEuMDsKICAgIH0KICB9Cgp9Cgpjb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7CmNvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7Ci8qKg0KICogVmVoaWNsZSBoZWxwZXIgY2xhc3MgdGhhdCBjYXN0cyByYXlzIGZyb20gdGhlIHdoZWVsIHBvc2l0aW9ucyB0b3dhcmRzIHRoZSBncm91bmQgYW5kIGFwcGxpZXMgZm9yY2VzLg0KICogQGNsYXNzIFJheWNhc3RWZWhpY2xlDQogKiBAY29uc3RydWN0b3INCiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAqIEBwYXJhbSB7Qm9keX0gW29wdGlvbnMuY2hhc3Npc0JvZHldIFRoZSBjYXIgY2hhc3NpcyBib2R5Lg0KICogQHBhcmFtIHtpbnRlZ2VyfSBbb3B0aW9ucy5pbmRleFJpZ2h0QXhpc10gQXhpcyB0byB1c2UgZm9yIHJpZ2h0LiB4PTAsIHk9MSwgej0yDQogKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRpb25zLmluZGV4TGVmdEF4aXNdDQogKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRpb25zLmluZGV4VXBBeGlzXQ0KICovCgpjbGFzcyBSYXljYXN0VmVoaWNsZSB7CiAgLy8gV2lsbCBiZSBzZXQgdG8gdHJ1ZSBpZiB0aGUgY2FyIGlzIHNsaWRpbmcuCiAgLy8gSW5kZXggb2YgdGhlIHJpZ2h0IGF4aXMsIDA9eCwgMT15LCAyPXoKICAvLyBJbmRleCBvZiB0aGUgZm9yd2FyZCBheGlzLCAwPXgsIDE9eSwgMj16CiAgLy8gSW5kZXggb2YgdGhlIHVwIGF4aXMsIDA9eCwgMT15LCAyPXoKICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7CiAgICB0aGlzLmNoYXNzaXNCb2R5ID0gb3B0aW9ucy5jaGFzc2lzQm9keTsKICAgIHRoaXMud2hlZWxJbmZvcyA9IFtdOwogICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7CiAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgIHRoaXMuaW5kZXhSaWdodEF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5pbmRleFJpZ2h0QXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4UmlnaHRBeGlzIDogMTsKICAgIHRoaXMuaW5kZXhGb3J3YXJkQXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4Rm9yd2FyZEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleEZvcndhcmRBeGlzIDogMDsKICAgIHRoaXMuaW5kZXhVcEF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5pbmRleFVwQXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4VXBBeGlzIDogMjsKICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTsKCiAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHt9OwoKICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDA7CiAgfQogIC8qKg0KICAgKiBBZGQgYSB3aGVlbC4gRm9yIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvcHRpb25zLCBzZWUgV2hlZWxJbmZvLg0KICAgKiBAbWV0aG9kIGFkZFdoZWVsDQogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10NCiAgICovCgoKICBhZGRXaGVlbChvcHRpb25zID0ge30pIHsKICAgIGNvbnN0IGluZm8gPSBuZXcgV2hlZWxJbmZvKG9wdGlvbnMpOwogICAgY29uc3QgaW5kZXggPSB0aGlzLndoZWVsSW5mb3MubGVuZ3RoOwogICAgdGhpcy53aGVlbEluZm9zLnB1c2goaW5mbyk7CiAgICByZXR1cm4gaW5kZXg7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIHN0ZWVyaW5nIHZhbHVlIG9mIGEgd2hlZWwuDQogICAqIEBtZXRob2Qgc2V0U3RlZXJpbmdWYWx1ZQ0KICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUNCiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4DQogICAqLwoKCiAgc2V0U3RlZXJpbmdWYWx1ZSh2YWx1ZSwgd2hlZWxJbmRleCkgewogICAgY29uc3Qgd2hlZWwgPSB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF07CiAgICB3aGVlbC5zdGVlcmluZyA9IHZhbHVlOwogIH0KICAvKioNCiAgICogU2V0IHRoZSB3aGVlbCBmb3JjZSB0byBhcHBseSBvbiBvbmUgb2YgdGhlIHdoZWVscyBlYWNoIHRpbWUgc3RlcA0KICAgKiBAbWV0aG9kIGFwcGx5RW5naW5lRm9yY2UNCiAgICogQHBhcmFtICB7bnVtYmVyfSB2YWx1ZQ0KICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4DQogICAqLwoKCiAgYXBwbHlFbmdpbmVGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkgewogICAgdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdLmVuZ2luZUZvcmNlID0gdmFsdWU7CiAgfQogIC8qKg0KICAgKiBTZXQgdGhlIGJyYWtpbmcgZm9yY2Ugb2YgYSB3aGVlbA0KICAgKiBAbWV0aG9kIHNldEJyYWtlDQogICAqIEBwYXJhbSB7bnVtYmVyfSBicmFrZQ0KICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXgNCiAgICovCgoKICBzZXRCcmFrZShicmFrZSwgd2hlZWxJbmRleCkgewogICAgdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdLmJyYWtlID0gYnJha2U7CiAgfQogIC8qKg0KICAgKiBBZGQgdGhlIHZlaGljbGUgaW5jbHVkaW5nIGl0cyBjb25zdHJhaW50cyB0byB0aGUgd29ybGQuDQogICAqIEBtZXRob2QgYWRkVG9Xb3JsZA0KICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZA0KICAgKi8KCgogIGFkZFRvV29ybGQod29ybGQpIHsKICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50czsKICAgIHdvcmxkLmFkZEJvZHkodGhpcy5jaGFzc2lzQm9keSk7CiAgICBjb25zdCB0aGF0ID0gdGhpczsKCiAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHsKICAgICAgdGhhdC51cGRhdGVWZWhpY2xlKHdvcmxkLmR0KTsKICAgIH07CgogICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTsKICAgIHRoaXMud29ybGQgPSB3b3JsZDsKICB9CiAgLyoqDQogICAqIEdldCBvbmUgb2YgdGhlIHdoZWVsIGF4bGVzLCB3b3JsZC1vcmllbnRlZC4NCiAgICogQHByaXZhdGUNCiAgICogQG1ldGhvZCBnZXRWZWhpY2xlQXhpc1dvcmxkDQogICAqIEBwYXJhbSAge2ludGVnZXJ9IGF4aXNJbmRleA0KICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQNCiAgICovCgoKICBnZXRWZWhpY2xlQXhpc1dvcmxkKGF4aXNJbmRleCwgcmVzdWx0KSB7CiAgICByZXN1bHQuc2V0KGF4aXNJbmRleCA9PT0gMCA/IDEgOiAwLCBheGlzSW5kZXggPT09IDEgPyAxIDogMCwgYXhpc0luZGV4ID09PSAyID8gMSA6IDApOwogICAgdGhpcy5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUocmVzdWx0LCByZXN1bHQpOwogIH0KCiAgdXBkYXRlVmVoaWNsZSh0aW1lU3RlcCkgewogICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvczsKICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoOwogICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybShpKTsKICAgIH0KCiAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgPSAzLjYgKiBjaGFzc2lzQm9keS52ZWxvY2l0eS5sZW5ndGgoKTsKICAgIGNvbnN0IGZvcndhcmRXb3JsZCA9IG5ldyBWZWMzKCk7CiAgICB0aGlzLmdldFZlaGljbGVBeGlzV29ybGQodGhpcy5pbmRleEZvcndhcmRBeGlzLCBmb3J3YXJkV29ybGQpOwoKICAgIGlmIChmb3J3YXJkV29ybGQuZG90KGNoYXNzaXNCb2R5LnZlbG9jaXR5KSA8IDApIHsKICAgICAgdGhpcy5jdXJyZW50VmVoaWNsZVNwZWVkS21Ib3VyICo9IC0xOwogICAgfSAvLyBzaW11bGF0ZSBzdXNwZW5zaW9uCgoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgdGhpcy5jYXN0UmF5KHdoZWVsSW5mb3NbaV0pOwogICAgfQoKICAgIHRoaXMudXBkYXRlU3VzcGVuc2lvbih0aW1lU3RlcCk7CiAgICBjb25zdCBpbXB1bHNlID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAvL2FwcGx5IHN1c3BlbnNpb24gZm9yY2UKICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICBsZXQgc3VzcGVuc2lvbkZvcmNlID0gd2hlZWwuc3VzcGVuc2lvbkZvcmNlOwoKICAgICAgaWYgKHN1c3BlbnNpb25Gb3JjZSA+IHdoZWVsLm1heFN1c3BlbnNpb25Gb3JjZSkgewogICAgICAgIHN1c3BlbnNpb25Gb3JjZSA9IHdoZWVsLm1heFN1c3BlbnNpb25Gb3JjZTsKICAgICAgfQoKICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5zY2FsZShzdXNwZW5zaW9uRm9yY2UgKiB0aW1lU3RlcCwgaW1wdWxzZSk7CiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxwb3MpOwogICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVscG9zKTsKICAgIH0KCiAgICB0aGlzLnVwZGF0ZUZyaWN0aW9uKHRpbWVTdGVwKTsKICAgIGNvbnN0IGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2ogPSBuZXcgVmVjMygpOwogICAgY29uc3QgZndkID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHZlbCA9IG5ldyBWZWMzKCk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07IC8vY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTsKICAgICAgLy93aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQudnN1YihjaGFzc2lzQm9keS5wb3NpdGlvbiwgcmVscG9zKTsKCiAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgdmVsKTsgLy8gSGFjayB0byBnZXQgdGhlIHJvdGF0aW9uIGluIHRoZSBjb3JyZWN0IGRpcmVjdGlvbgoKICAgICAgbGV0IG0gPSAxOwoKICAgICAgc3dpdGNoICh0aGlzLmluZGV4VXBBeGlzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbSA9IC0xOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmICh3aGVlbC5pc0luQ29udGFjdCkgewogICAgICAgIHRoaXMuZ2V0VmVoaWNsZUF4aXNXb3JsZCh0aGlzLmluZGV4Rm9yd2FyZEF4aXMsIGZ3ZCk7CiAgICAgICAgY29uc3QgcHJvaiA9IGZ3ZC5kb3Qod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7CiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5zY2FsZShwcm9qLCBoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qKTsKICAgICAgICBmd2QudnN1YihoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qLCBmd2QpOwogICAgICAgIGNvbnN0IHByb2oyID0gZndkLmRvdCh2ZWwpOwogICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSBtICogcHJvajIgKiB0aW1lU3RlcCAvIHdoZWVsLnJhZGl1czsKICAgICAgfQoKICAgICAgaWYgKCh3aGVlbC5zbGlkaW5nIHx8ICF3aGVlbC5pc0luQ29udGFjdCkgJiYgd2hlZWwuZW5naW5lRm9yY2UgIT09IDAgJiYgd2hlZWwudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCkgewogICAgICAgIC8vIEFwcGx5IGN1c3RvbSByb3RhdGlvbiB3aGVuIGFjY2VsZXJhdGluZyBhbmQgc2xpZGluZwogICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAod2hlZWwuZW5naW5lRm9yY2UgPiAwID8gMSA6IC0xKSAqIHdoZWVsLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgKiB0aW1lU3RlcDsKICAgICAgfSAvLyBMb2NrIHdoZWVscwoKCiAgICAgIGlmIChNYXRoLmFicyh3aGVlbC5icmFrZSkgPiBNYXRoLmFicyh3aGVlbC5lbmdpbmVGb3JjZSkpIHsKICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gMDsKICAgICAgfQoKICAgICAgd2hlZWwucm90YXRpb24gKz0gd2hlZWwuZGVsdGFSb3RhdGlvbjsgLy8gVXNlIHRoZSBvbGQgdmFsdWUKCiAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gKj0gMC45OTsgLy8gZGFtcGluZyBvZiByb3RhdGlvbiB3aGVuIG5vdCBpbiBjb250YWN0CiAgICB9CiAgfQoKICB1cGRhdGVTdXNwZW5zaW9uKGRlbHRhVGltZSkgewogICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5OwogICAgY29uc3QgY2hhc3Npc01hc3MgPSBjaGFzc2lzQm9keS5tYXNzOwogICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvczsKICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoOwoKICAgIGZvciAobGV0IHdfaXQgPSAwOyB3X2l0IDwgbnVtV2hlZWxzOyB3X2l0KyspIHsKICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW3dfaXRdOwoKICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7CiAgICAgICAgbGV0IGZvcmNlOyAvLyBTcHJpbmcKCiAgICAgICAgY29uc3Qgc3VzcF9sZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aDsKICAgICAgICBjb25zdCBjdXJyZW50X2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25MZW5ndGg7CiAgICAgICAgY29uc3QgbGVuZ3RoX2RpZmYgPSBzdXNwX2xlbmd0aCAtIGN1cnJlbnRfbGVuZ3RoOwogICAgICAgIGZvcmNlID0gd2hlZWwuc3VzcGVuc2lvblN0aWZmbmVzcyAqIGxlbmd0aF9kaWZmICogd2hlZWwuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uOyAvLyBEYW1wZXIKCiAgICAgICAgY29uc3QgcHJvamVjdGVkX3JlbF92ZWwgPSB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eTsKICAgICAgICBsZXQgc3VzcF9kYW1waW5nOwoKICAgICAgICBpZiAocHJvamVjdGVkX3JlbF92ZWwgPCAwKSB7CiAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nQ29tcHJlc3Npb247CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN1c3BfZGFtcGluZyA9IHdoZWVsLmRhbXBpbmdSZWxheGF0aW9uOwogICAgICAgIH0KCiAgICAgICAgZm9yY2UgLT0gc3VzcF9kYW1waW5nICogcHJvamVjdGVkX3JlbF92ZWw7CiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gZm9yY2UgKiBjaGFzc2lzTWFzczsKCiAgICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA8IDApIHsKICAgICAgICAgIHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA9IDA7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA9IDA7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIFJlbW92ZSB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIGZyb20gdGhlIHdvcmxkLg0KICAgKiBAbWV0aG9kIHJlbW92ZUZyb21Xb3JsZA0KICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZA0KICAgKi8KCgogIHJlbW92ZUZyb21Xb3JsZCh3b3JsZCkgewogICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzOwogICAgd29ybGQucmVtb3ZlQm9keSh0aGlzLmNoYXNzaXNCb2R5KTsKICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB0aGlzLnByZVN0ZXBDYWxsYmFjayk7CiAgICB0aGlzLndvcmxkID0gbnVsbDsKICB9CgogIGNhc3RSYXkod2hlZWwpIHsKICAgIGNvbnN0IHJheXZlY3RvciA9IGNhc3RSYXlfcmF5dmVjdG9yOwogICAgY29uc3QgdGFyZ2V0ID0gY2FzdFJheV90YXJnZXQ7CiAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpOwogICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5OwogICAgbGV0IGRlcHRoID0gLTE7CiAgICBjb25zdCByYXlsZW4gPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIHdoZWVsLnJhZGl1czsKICAgIHdoZWVsLmRpcmVjdGlvbldvcmxkLnNjYWxlKHJheWxlbiwgcmF5dmVjdG9yKTsKICAgIGNvbnN0IHNvdXJjZSA9IHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDsKICAgIHNvdXJjZS52YWRkKHJheXZlY3RvciwgdGFyZ2V0KTsKICAgIGNvbnN0IHJheWNhc3RSZXN1bHQgPSB3aGVlbC5yYXljYXN0UmVzdWx0OwogICAgcmF5Y2FzdFJlc3VsdC5yZXNldCgpOyAvLyBUdXJuIG9mZiByYXkgY29sbGlzaW9uIHdpdGggdGhlIGNoYXNzaXMgdGVtcG9yYXJpbHkKCiAgICBjb25zdCBvbGRTdGF0ZSA9IGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlOwogICAgY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2UgPSBmYWxzZTsgLy8gQ2FzdCByYXkgYWdhaW5zdCB3b3JsZAoKICAgIHRoaXMud29ybGQucmF5VGVzdChzb3VyY2UsIHRhcmdldCwgcmF5Y2FzdFJlc3VsdCk7CiAgICBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZSA9IG9sZFN0YXRlOwogICAgY29uc3Qgb2JqZWN0ID0gcmF5Y2FzdFJlc3VsdC5ib2R5OwogICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5ncm91bmRPYmplY3QgPSAwOwoKICAgIGlmIChvYmplY3QpIHsKICAgICAgZGVwdGggPSByYXljYXN0UmVzdWx0LmRpc3RhbmNlOwogICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDsKICAgICAgd2hlZWwuaXNJbkNvbnRhY3QgPSB0cnVlOwogICAgICBjb25zdCBoaXREaXN0YW5jZSA9IHJheWNhc3RSZXN1bHQuZGlzdGFuY2U7CiAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBoaXREaXN0YW5jZSAtIHdoZWVsLnJhZGl1czsgLy8gY2xhbXAgb24gbWF4IHN1c3BlbnNpb24gdHJhdmVsCgogICAgICBjb25zdCBtaW5TdXNwZW5zaW9uTGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggLSB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsOwogICAgICBjb25zdCBtYXhTdXNwZW5zaW9uTGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsOwoKICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPCBtaW5TdXNwZW5zaW9uTGVuZ3RoKSB7CiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IG1pblN1c3BlbnNpb25MZW5ndGg7CiAgICAgIH0KCiAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID4gbWF4U3VzcGVuc2lvbkxlbmd0aCkgewogICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBtYXhTdXNwZW5zaW9uTGVuZ3RoOwogICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQucmVzZXQoKTsKICAgICAgfQoKICAgICAgY29uc3QgZGVub21pbmF0b3IgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdCh3aGVlbC5kaXJlY3Rpb25Xb3JsZCk7CiAgICAgIGNvbnN0IGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50ID0gbmV3IFZlYzMoKTsKICAgICAgY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7CiAgICAgIGNvbnN0IHByb2pWZWwgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdChjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7CgogICAgICBpZiAoZGVub21pbmF0b3IgPj0gLTAuMSkgewogICAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMDsKICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxIC8gMC4xOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGludiA9IC0xIC8gZGVub21pbmF0b3I7CiAgICAgICAgd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52OwogICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IGludjsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgLy9wdXQgd2hlZWwgaW5mbyBhcyBpbiByZXN0IHBvc2l0aW9uCiAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIDAgKiB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsOwogICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDsKICAgICAgd2hlZWwuZGlyZWN0aW9uV29ybGQuc2NhbGUoLTEsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpOwogICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7CiAgICB9CgogICAgcmV0dXJuIGRlcHRoOwogIH0KCiAgdXBkYXRlV2hlZWxUcmFuc2Zvcm1Xb3JsZCh3aGVlbCkgewogICAgd2hlZWwuaXNJbkNvbnRhY3QgPSBmYWxzZTsKICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKICAgIGNoYXNzaXNCb2R5LnBvaW50VG9Xb3JsZEZyYW1lKHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCwgd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkKTsKICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh3aGVlbC5kaXJlY3Rpb25Mb2NhbCwgd2hlZWwuZGlyZWN0aW9uV29ybGQpOwogICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmF4bGVMb2NhbCwgd2hlZWwuYXhsZVdvcmxkKTsKICB9CiAgLyoqDQogICAqIFVwZGF0ZSBvbmUgb2YgdGhlIHdoZWVsIHRyYW5zZm9ybS4NCiAgICogTm90ZSB3aGVuIHJlbmRlcmluZyB3aGVlbHM6IGR1cmluZyBlYWNoIHN0ZXAsIHdoZWVsIHRyYW5zZm9ybXMgYXJlIHVwZGF0ZWQgQkVGT1JFIHRoZSBjaGFzc2lzOyBpZS4gdGhlaXIgcG9zaXRpb24gYmVjb21lcyBpbnZhbGlkIGFmdGVyIHRoZSBzdGVwLiBUaHVzIHdoZW4geW91IHJlbmRlciB3aGVlbHMsIHlvdSBtdXN0IHVwZGF0ZSB3aGVlbCB0cmFuc2Zvcm1zIGJlZm9yZSByZW5kZXJpbmcgdGhlbS4gU2VlIHJheWNhc3RWZWhpY2xlIGRlbW8gZm9yIGFuIGV4YW1wbGUuDQogICAqIEBtZXRob2QgdXBkYXRlV2hlZWxUcmFuc2Zvcm0NCiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4IFRoZSB3aGVlbCBpbmRleCB0byB1cGRhdGUuDQogICAqLwoKCiAgdXBkYXRlV2hlZWxUcmFuc2Zvcm0od2hlZWxJbmRleCkgewogICAgY29uc3QgdXAgPSB0bXBWZWM0OwogICAgY29uc3QgcmlnaHQgPSB0bXBWZWM1OwogICAgY29uc3QgZndkID0gdG1wVmVjNjsKICAgIGNvbnN0IHdoZWVsID0gdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdOwogICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKTsKICAgIHdoZWVsLmRpcmVjdGlvbkxvY2FsLnNjYWxlKC0xLCB1cCk7CiAgICByaWdodC5jb3B5KHdoZWVsLmF4bGVMb2NhbCk7CiAgICB1cC5jcm9zcyhyaWdodCwgZndkKTsKICAgIGZ3ZC5ub3JtYWxpemUoKTsKICAgIHJpZ2h0Lm5vcm1hbGl6ZSgpOyAvLyBSb3RhdGUgYXJvdW5kIHN0ZWVyaW5nIG92ZXIgdGhlIHdoZWVsQXhsZQoKICAgIGNvbnN0IHN0ZWVyaW5nID0gd2hlZWwuc3RlZXJpbmc7CiAgICBjb25zdCBzdGVlcmluZ09ybiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICBzdGVlcmluZ09ybi5zZXRGcm9tQXhpc0FuZ2xlKHVwLCBzdGVlcmluZyk7CiAgICBjb25zdCByb3RhdGluZ09ybiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICByb3RhdGluZ09ybi5zZXRGcm9tQXhpc0FuZ2xlKHJpZ2h0LCB3aGVlbC5yb3RhdGlvbik7IC8vIFdvcmxkIHJvdGF0aW9uIG9mIHRoZSB3aGVlbAoKICAgIGNvbnN0IHEgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5xdWF0ZXJuaW9uOwogICAgdGhpcy5jaGFzc2lzQm9keS5xdWF0ZXJuaW9uLm11bHQoc3RlZXJpbmdPcm4sIHEpOwogICAgcS5tdWx0KHJvdGF0aW5nT3JuLCBxKTsKICAgIHEubm9ybWFsaXplKCk7IC8vIHdvcmxkIHBvc2l0aW9uIG9mIHRoZSB3aGVlbAoKICAgIGNvbnN0IHAgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5wb3NpdGlvbjsKICAgIHAuY29weSh3aGVlbC5kaXJlY3Rpb25Xb3JsZCk7CiAgICBwLnNjYWxlKHdoZWVsLnN1c3BlbnNpb25MZW5ndGgsIHApOwogICAgcC52YWRkKHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgcCk7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHdvcmxkIHRyYW5zZm9ybSBvZiBvbmUgb2YgdGhlIHdoZWVscw0KICAgKiBAbWV0aG9kIGdldFdoZWVsVHJhbnNmb3JtV29ybGQNCiAgICogQHBhcmFtICB7aW50ZWdlcn0gd2hlZWxJbmRleA0KICAgKiBAcmV0dXJuIHtUcmFuc2Zvcm19DQogICAqLwoKCiAgZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZCh3aGVlbEluZGV4KSB7CiAgICByZXR1cm4gdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdLndvcmxkVHJhbnNmb3JtOwogIH0KCiAgdXBkYXRlRnJpY3Rpb24odGltZVN0ZXApIHsKICAgIGNvbnN0IHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiA9IHVwZGF0ZUZyaWN0aW9uX3N1cmZOb3JtYWxXU19zY2FsZWRfcHJvajsgLy9jYWxjdWxhdGUgdGhlIGltcHVsc2UsIHNvIHRoYXQgdGhlIHdoZWVscyBkb24ndCBtb3ZlIHNpZGV3YXJkcwoKICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7CiAgICBjb25zdCBudW1XaGVlbHMgPSB3aGVlbEluZm9zLmxlbmd0aDsKICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKICAgIGNvbnN0IGZvcndhcmRXUyA9IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUzsKICAgIGNvbnN0IGF4bGUgPSB1cGRhdGVGcmljdGlvbl9heGxlOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7CiAgICAgIHdoZWVsLnNpZGVJbXB1bHNlID0gMDsKICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSAwOwoKICAgICAgaWYgKCFmb3J3YXJkV1NbaV0pIHsKICAgICAgICBmb3J3YXJkV1NbaV0gPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBpZiAoIWF4bGVbaV0pIHsKICAgICAgICBheGxlW2ldID0gbmV3IFZlYzMoKTsKICAgICAgfQogICAgfQoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7CgogICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7CiAgICAgICAgY29uc3QgYXhsZWkgPSBheGxlW2ldOwogICAgICAgIGNvbnN0IHdoZWVsVHJhbnMgPSB0aGlzLmdldFdoZWVsVHJhbnNmb3JtV29ybGQoaSk7IC8vIEdldCB3b3JsZCBheGxlCgogICAgICAgIHdoZWVsVHJhbnMudmVjdG9yVG9Xb3JsZEZyYW1lKGRpcmVjdGlvbnNbdGhpcy5pbmRleFJpZ2h0QXhpc10sIGF4bGVpKTsKICAgICAgICBjb25zdCBzdXJmTm9ybWFsV1MgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkOwogICAgICAgIGNvbnN0IHByb2ogPSBheGxlaS5kb3Qoc3VyZk5vcm1hbFdTKTsKICAgICAgICBzdXJmTm9ybWFsV1Muc2NhbGUocHJvaiwgc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qKTsKICAgICAgICBheGxlaS52c3ViKHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiwgYXhsZWkpOwogICAgICAgIGF4bGVpLm5vcm1hbGl6ZSgpOwogICAgICAgIHN1cmZOb3JtYWxXUy5jcm9zcyhheGxlaSwgZm9yd2FyZFdTW2ldKTsKICAgICAgICBmb3J3YXJkV1NbaV0ubm9ybWFsaXplKCk7CiAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsKGNoYXNzaXNCb2R5LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGdyb3VuZE9iamVjdCwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBheGxlaSk7CiAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgKj0gc2lkZUZyaWN0aW9uU3RpZmZuZXNzMjsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IHNpZGVGYWN0b3IgPSAxOwogICAgY29uc3QgZndkRmFjdG9yID0gMC41OwogICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgbGV0IHJvbGxpbmdGcmljdGlvbiA9IDA7CiAgICAgIHdoZWVsLnNsaXBJbmZvID0gMTsKCiAgICAgIGlmIChncm91bmRPYmplY3QpIHsKICAgICAgICBjb25zdCBkZWZhdWx0Um9sbGluZ0ZyaWN0aW9uSW1wdWxzZSA9IDA7CiAgICAgICAgY29uc3QgbWF4SW1wdWxzZSA9IHdoZWVsLmJyYWtlID8gd2hlZWwuYnJha2UgOiBkZWZhdWx0Um9sbGluZ0ZyaWN0aW9uSW1wdWxzZTsgLy8gYnRXaGVlbENvbnRhY3RQb2ludCBjb250YWN0UHQoY2hhc3Npc0JvZHksZ3JvdW5kT2JqZWN0LHdoZWVsSW5mcmF5Y2FzdEluZm8uaGl0UG9pbnRXb3JsZCxmb3J3YXJkV1Nbd2hlZWxdLG1heEltcHVsc2UpOwogICAgICAgIC8vIHJvbGxpbmdGcmljdGlvbiA9IGNhbGNSb2xsaW5nRnJpY3Rpb24oY29udGFjdFB0KTsKCiAgICAgICAgcm9sbGluZ0ZyaWN0aW9uID0gY2FsY1JvbGxpbmdGcmljdGlvbihjaGFzc2lzQm9keSwgZ3JvdW5kT2JqZWN0LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGZvcndhcmRXU1tpXSwgbWF4SW1wdWxzZSk7CiAgICAgICAgcm9sbGluZ0ZyaWN0aW9uICs9IHdoZWVsLmVuZ2luZUZvcmNlICogdGltZVN0ZXA7IC8vIHJvbGxpbmdGcmljdGlvbiA9IDA7CgogICAgICAgIGNvbnN0IGZhY3RvciA9IG1heEltcHVsc2UgLyByb2xsaW5nRnJpY3Rpb247CiAgICAgICAgd2hlZWwuc2xpcEluZm8gKj0gZmFjdG9yOwogICAgICB9IC8vc3dpdGNoIGJldHdlZW4gYWN0aXZlIHJvbGxpbmcgKHRocm90dGxlKSwgYnJha2luZyBhbmQgbm9uLWFjdGl2ZSByb2xsaW5nIGZyaWN0aW9uIChudGhyb3R0bGUvYnJlYWspCgoKICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSAwOwogICAgICB3aGVlbC5za2lkSW5mbyA9IDE7CgogICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7CiAgICAgICAgd2hlZWwuc2tpZEluZm8gPSAxOwogICAgICAgIGNvbnN0IG1heGltcCA9IHdoZWVsLnN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwICogd2hlZWwuZnJpY3Rpb25TbGlwOwogICAgICAgIGNvbnN0IG1heGltcFNpZGUgPSBtYXhpbXA7CiAgICAgICAgY29uc3QgbWF4aW1wU3F1YXJlZCA9IG1heGltcCAqIG1heGltcFNpZGU7CiAgICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSByb2xsaW5nRnJpY3Rpb247IC8vd2hlZWxJbmZvLmVuZ2luZUZvcmNlKiB0aW1lU3RlcDsKCiAgICAgICAgY29uc3QgeCA9IHdoZWVsLmZvcndhcmRJbXB1bHNlICogZndkRmFjdG9yOwogICAgICAgIGNvbnN0IHkgPSB3aGVlbC5zaWRlSW1wdWxzZSAqIHNpZGVGYWN0b3I7CiAgICAgICAgY29uc3QgaW1wdWxzZVNxdWFyZWQgPSB4ICogeCArIHkgKiB5OwogICAgICAgIHdoZWVsLnNsaWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKGltcHVsc2VTcXVhcmVkID4gbWF4aW1wU3F1YXJlZCkgewogICAgICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTsKICAgICAgICAgIHdoZWVsLnNsaWRpbmcgPSB0cnVlOwogICAgICAgICAgY29uc3QgZmFjdG9yID0gbWF4aW1wIC8gTWF0aC5zcXJ0KGltcHVsc2VTcXVhcmVkKTsKICAgICAgICAgIHdoZWVsLnNraWRJbmZvICo9IGZhY3RvcjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGhpcy5zbGlkaW5nKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CgogICAgICAgIGlmICh3aGVlbC5zaWRlSW1wdWxzZSAhPT0gMCkgewogICAgICAgICAgaWYgKHdoZWVsLnNraWRJbmZvIDwgMSkgewogICAgICAgICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSAqPSB3aGVlbC5za2lkSW5mbzsKICAgICAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgKj0gd2hlZWwuc2tpZEluZm87CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIGFwcGx5IHRoZSBpbXB1bHNlcwoKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsKICAgICAgY29uc3QgcmVsX3BvcyA9IG5ldyBWZWMzKCk7CiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxfcG9zKTsgLy8gY2Fubm9ucyBhcHBseWltcHVsc2UgaXMgdXNpbmcgd29ybGQgY29vcmQgZm9yIHRoZSBwb3NpdGlvbgogICAgICAvL3JlbF9wb3MuY29weSh3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQpOwoKICAgICAgaWYgKHdoZWVsLmZvcndhcmRJbXB1bHNlICE9PSAwKSB7CiAgICAgICAgY29uc3QgaW1wdWxzZSA9IG5ldyBWZWMzKCk7CiAgICAgICAgZm9yd2FyZFdTW2ldLnNjYWxlKHdoZWVsLmZvcndhcmRJbXB1bHNlLCBpbXB1bHNlKTsKICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsX3Bvcyk7CiAgICAgIH0KCiAgICAgIGlmICh3aGVlbC5zaWRlSW1wdWxzZSAhPT0gMCkgewogICAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgICBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7CiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoZ3JvdW5kT2JqZWN0LnBvc2l0aW9uLCByZWxfcG9zMik7IC8vcmVsX3BvczIuY29weSh3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQpOwoKICAgICAgICBjb25zdCBzaWRlSW1wID0gbmV3IFZlYzMoKTsKICAgICAgICBheGxlW2ldLnNjYWxlKHdoZWVsLnNpZGVJbXB1bHNlLCBzaWRlSW1wKTsgLy8gU2NhbGUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIGluIHRoZSB1cCBkaXJlY3Rpb24gd2l0aCByb2xsSW5mbHVlbmNlLgogICAgICAgIC8vIElmIHJvbGxJbmZsdWVuY2UgaXMgMSwgdGhlIGltcHVsc2Ugd2lsbCBiZSBhcHBsaWVkIG9uIHRoZSBoaXRQb2ludCAoZWFzeSB0byByb2xsIG92ZXIpLCBpZiBpdCBpcyB6ZXJvIGl0IHdpbGwgYmUgYXBwbGllZCBpbiB0aGUgc2FtZSBwbGFuZSBhcyB0aGUgY2VudGVyIG9mIG1hc3MgKG5vdCBlYXN5IHRvIHJvbGwgb3ZlcikuCgogICAgICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvTG9jYWxGcmFtZShyZWxfcG9zLCByZWxfcG9zKTsKICAgICAgICByZWxfcG9zWyd4eXonW3RoaXMuaW5kZXhVcEF4aXNdXSAqPSB3aGVlbC5yb2xsSW5mbHVlbmNlOwogICAgICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZWxfcG9zLCByZWxfcG9zKTsKICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2Uoc2lkZUltcCwgcmVsX3Bvcyk7IC8vYXBwbHkgZnJpY3Rpb24gaW1wdWxzZSBvbiB0aGUgZ3JvdW5kCgogICAgICAgIHNpZGVJbXAuc2NhbGUoLTEsIHNpZGVJbXApOwogICAgICAgIGdyb3VuZE9iamVjdC5hcHBseUltcHVsc2Uoc2lkZUltcCwgcmVsX3BvczIpOwogICAgICB9CiAgICB9CiAgfQoKfQoKY29uc3QgdG1wVmVjNCA9IG5ldyBWZWMzKCk7CmNvbnN0IHRtcFZlYzUgPSBuZXcgVmVjMygpOwpjb25zdCB0bXBWZWM2ID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wUmF5ID0gbmV3IFJheSgpOwpjb25zdCBjYXN0UmF5X3JheXZlY3RvciA9IG5ldyBWZWMzKCk7CmNvbnN0IGNhc3RSYXlfdGFyZ2V0ID0gbmV3IFZlYzMoKTsKY29uc3QgZGlyZWN0aW9ucyA9IFtuZXcgVmVjMygxLCAwLCAwKSwgbmV3IFZlYzMoMCwgMSwgMCksIG5ldyBWZWMzKDAsIDAsIDEpXTsKY29uc3QgdXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qID0gbmV3IFZlYzMoKTsKY29uc3QgdXBkYXRlRnJpY3Rpb25fYXhsZSA9IFtdOwpjb25zdCB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1MgPSBbXTsKY29uc3Qgc2lkZUZyaWN0aW9uU3RpZmZuZXNzMiA9IDE7CmNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMSA9IG5ldyBWZWMzKCk7CmNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMiA9IG5ldyBWZWMzKCk7CmNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsID0gbmV3IFZlYzMoKTsKCmZ1bmN0aW9uIGNhbGNSb2xsaW5nRnJpY3Rpb24oYm9keTAsIGJvZHkxLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkLCBtYXhJbXB1bHNlKSB7CiAgbGV0IGoxID0gMDsKICBjb25zdCBjb250YWN0UG9zV29ybGQgPSBmcmljdGlvblBvc1dvcmxkOyAvLyBjb25zdCByZWxfcG9zMSA9IG5ldyBWZWMzKCk7CiAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpOwoKICBjb25zdCB2ZWwxID0gY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxOwogIGNvbnN0IHZlbDIgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDI7CiAgY29uc3QgdmVsID0gY2FsY1JvbGxpbmdGcmljdGlvbl92ZWw7IC8vIGNvbnRhY3RQb3NXb3JsZC52c3ViKGJvZHkwLnBvc2l0aW9uLCByZWxfcG9zMSk7CiAgLy8gY29udGFjdFBvc1dvcmxkLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MyKTsKCiAgYm9keTAuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoY29udGFjdFBvc1dvcmxkLCB2ZWwxKTsKICBib2R5MS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChjb250YWN0UG9zV29ybGQsIHZlbDIpOwogIHZlbDEudnN1Yih2ZWwyLCB2ZWwpOwogIGNvbnN0IHZyZWwgPSBmcmljdGlvbkRpcmVjdGlvbldvcmxkLmRvdCh2ZWwpOwogIGNvbnN0IGRlbm9tMCA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keTAsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQpOwogIGNvbnN0IGRlbm9tMSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQpOwogIGNvbnN0IHJlbGF4YXRpb24gPSAxOwogIGNvbnN0IGphY0RpYWdBQkludiA9IHJlbGF4YXRpb24gLyAoZGVub20wICsgZGVub20xKTsgLy8gY2FsY3VsYXRlIGogdGhhdCBtb3ZlcyB1cyB0byB6ZXJvIHJlbGF0aXZlIHZlbG9jaXR5CgogIGoxID0gLXZyZWwgKiBqYWNEaWFnQUJJbnY7CgogIGlmIChtYXhJbXB1bHNlIDwgajEpIHsKICAgIGoxID0gbWF4SW1wdWxzZTsKICB9CgogIGlmIChqMSA8IC1tYXhJbXB1bHNlKSB7CiAgICBqMSA9IC1tYXhJbXB1bHNlOwogIH0KCiAgcmV0dXJuIGoxOwp9Cgpjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwID0gbmV3IFZlYzMoKTsKY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9jMCA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjID0gbmV3IFZlYzMoKTsKY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tID0gbmV3IFZlYzMoKTsKCmZ1bmN0aW9uIGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keSwgcG9zLCBub3JtYWwpIHsKICBjb25zdCByMCA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfcjA7CiAgY29uc3QgYzAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwOwogIGNvbnN0IHZlYyA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjOwogIGNvbnN0IG0gPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX207CiAgcG9zLnZzdWIoYm9keS5wb3NpdGlvbiwgcjApOwogIHIwLmNyb3NzKG5vcm1hbCwgYzApOwogIGJvZHkuaW52SW5lcnRpYVdvcmxkLnZtdWx0KGMwLCBtKTsKICBtLmNyb3NzKHIwLCB2ZWMpOwogIHJldHVybiBib2R5Lmludk1hc3MgKyBub3JtYWwuZG90KHZlYyk7Cn0KCmNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSA9IG5ldyBWZWMzKCk7CmNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMiA9IG5ldyBWZWMzKCk7CmNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsID0gbmV3IFZlYzMoKTsgLy9iaWxhdGVyYWwgY29uc3RyYWludCBiZXR3ZWVuIHR3byBkeW5hbWljIG9iamVjdHMKCmZ1bmN0aW9uIHJlc29sdmVTaW5nbGVCaWxhdGVyYWwoYm9keTEsIHBvczEsIGJvZHkyLCBwb3MyLCBub3JtYWwpIHsKICBjb25zdCBub3JtYWxMZW5TcXIgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpOwoKICBpZiAobm9ybWFsTGVuU3FyID4gMS4xKSB7CiAgICByZXR1cm4gMDsgLy8gbm8gaW1wdWxzZQogIH0gLy8gY29uc3QgcmVsX3BvczEgPSBuZXcgVmVjMygpOwogIC8vIGNvbnN0IHJlbF9wb3MyID0gbmV3IFZlYzMoKTsKICAvLyBwb3MxLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MxKTsKICAvLyBwb3MyLnZzdWIoYm9keTIucG9zaXRpb24sIHJlbF9wb3MyKTsKCgogIGNvbnN0IHZlbDEgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDE7CiAgY29uc3QgdmVsMiA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMjsKICBjb25zdCB2ZWwgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDsKICBib2R5MS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChwb3MxLCB2ZWwxKTsKICBib2R5Mi5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChwb3MyLCB2ZWwyKTsKICB2ZWwxLnZzdWIodmVsMiwgdmVsKTsKICBjb25zdCByZWxfdmVsID0gbm9ybWFsLmRvdCh2ZWwpOwogIGNvbnN0IGNvbnRhY3REYW1waW5nID0gMC4yOwogIGNvbnN0IG1hc3NUZXJtID0gMSAvIChib2R5MS5pbnZNYXNzICsgYm9keTIuaW52TWFzcyk7CiAgY29uc3QgaW1wdWxzZSA9IC1jb250YWN0RGFtcGluZyAqIHJlbF92ZWwgKiBtYXNzVGVybTsKICByZXR1cm4gaW1wdWxzZTsKfQovKioNCiAqIFNwaGVyaWNhbCBzaGFwZQ0KICogQGNsYXNzIFNwaGVyZQ0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBTaGFwZQ0KICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgcmFkaXVzIG9mIHRoZSBzcGhlcmUsIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4NCiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICovCgoKY2xhc3MgU3BoZXJlIGV4dGVuZHMgU2hhcGUgewogIGNvbnN0cnVjdG9yKHJhZGl1cykgewogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5TUEhFUkUKICAgIH0pOwogICAgdGhpcy5yYWRpdXMgPSByYWRpdXMgIT09IHVuZGVmaW5lZCA/IHJhZGl1cyA6IDEuMDsKCiAgICBpZiAodGhpcy5yYWRpdXMgPCAwKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNwaGVyZSByYWRpdXMgY2Fubm90IGJlIG5lZ2F0aXZlLicpOwogICAgfQoKICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICB9CgogIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICBjb25zdCBJID0gMi4wICogbWFzcyAqIHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXMgLyA1LjA7CiAgICB0YXJnZXQueCA9IEk7CiAgICB0YXJnZXQueSA9IEk7CiAgICB0YXJnZXQueiA9IEk7CiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCiAgdm9sdW1lKCkgewogICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiBNYXRoLnBvdyh0aGlzLnJhZGl1cywgMykgLyAzLjA7CiAgfQoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLnJhZGl1czsKICB9CgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICBjb25zdCByID0gdGhpcy5yYWRpdXM7CiAgICBjb25zdCBheGVzID0gWyd4JywgJ3knLCAneiddOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBheCA9IGF4ZXNbaV07CiAgICAgIG1pbltheF0gPSBwb3NbYXhdIC0gcjsKICAgICAgbWF4W2F4XSA9IHBvc1theF0gKyByOwogICAgfQogIH0KCn0KLyoqDQogKiBAY2xhc3MgQ3lsaW5kZXINCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGV4dGVuZHMgQ29udmV4UG9seWhlZHJvbg0KICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1RvcA0KICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c0JvdHRvbQ0KICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodA0KICogQHBhcmFtIHtOdW1iZXJ9IG51bVNlZ21lbnRzIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgdG8gYnVpbGQgdGhlIGN5bGluZGVyIG91dCBvZg0KICovCgpjbGFzcyBDeWxpbmRlciBleHRlbmRzIENvbnZleFBvbHloZWRyb24gewogIGNvbnN0cnVjdG9yKHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzKSB7CiAgICBjb25zdCBOID0gbnVtU2VnbWVudHM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IFtdOwogICAgY29uc3QgYXhlcyA9IFtdOwogICAgY29uc3QgZmFjZXMgPSBbXTsKICAgIGNvbnN0IGJvdHRvbWZhY2UgPSBbXTsKICAgIGNvbnN0IHRvcGZhY2UgPSBbXTsKICAgIGNvbnN0IGNvcyA9IE1hdGguY29zOwogICAgY29uc3Qgc2luID0gTWF0aC5zaW47IC8vIEZpcnN0IGJvdHRvbSBwb2ludAoKICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c0JvdHRvbSAqIHNpbigwKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKDApKSk7CiAgICBib3R0b21mYWNlLnB1c2goMCk7IC8vIEZpcnN0IHRvcCBwb2ludAoKICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c1RvcCAqIHNpbigwKSwgaGVpZ2h0ICogMC41LCByYWRpdXNUb3AgKiBjb3MoMCkpKTsKICAgIHRvcGZhY2UucHVzaCgxKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47IGkrKykgewogICAgICBjb25zdCB0aGV0YSA9IDIgKiBNYXRoLlBJIC8gTiAqIChpICsgMSk7CiAgICAgIGNvbnN0IHRoZXRhTiA9IDIgKiBNYXRoLlBJIC8gTiAqIChpICsgMC41KTsKCiAgICAgIGlmIChpIDwgTiAtIDEpIHsKICAgICAgICAvLyBCb3R0b20KICAgICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4odGhldGEpLCAtaGVpZ2h0ICogMC41LCByYWRpdXNCb3R0b20gKiBjb3ModGhldGEpKSk7CiAgICAgICAgYm90dG9tZmFjZS5wdXNoKDIgKiBpICsgMik7IC8vIFRvcAoKICAgICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNUb3AgKiBzaW4odGhldGEpLCBoZWlnaHQgKiAwLjUsIHJhZGl1c1RvcCAqIGNvcyh0aGV0YSkpKTsKICAgICAgICB0b3BmYWNlLnB1c2goMiAqIGkgKyAzKTsgLy8gRmFjZQoKICAgICAgICBmYWNlcy5wdXNoKFsyICogaSwgMiAqIGkgKyAxLCAyICogaSArIDMsIDIgKiBpICsgMl0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZhY2VzLnB1c2goWzIgKiBpLCAyICogaSArIDEsIDEsIDBdKTsgLy8gQ29ubmVjdAogICAgICB9IC8vIEF4aXM6IHdlIGNhbiBjdXQgb2ZmIGhhbGYgb2YgdGhlbSBpZiB3ZSBoYXZlIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzCgoKICAgICAgaWYgKE4gJSAyID09PSAxIHx8IGkgPCBOIC8gMikgewogICAgICAgIGF4ZXMucHVzaChuZXcgVmVjMygtc2luKHRoZXRhTiksIDAsIGNvcyh0aGV0YU4pKSk7CiAgICAgIH0KICAgIH0KCiAgICBmYWNlcy5wdXNoKGJvdHRvbWZhY2UpOwogICAgYXhlcy5wdXNoKG5ldyBWZWMzKDAsIDEsIDApKTsgLy8gUmVvcmRlciB0b3AgZmFjZQoKICAgIGNvbnN0IHRlbXAgPSBbXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvcGZhY2UubGVuZ3RoOyBpKyspIHsKICAgICAgdGVtcC5wdXNoKHRvcGZhY2VbdG9wZmFjZS5sZW5ndGggLSBpIC0gMV0pOwogICAgfQoKICAgIGZhY2VzLnB1c2godGVtcCk7CiAgICBzdXBlcih7CiAgICAgIHZlcnRpY2VzLAogICAgICBmYWNlcywKICAgICAgYXhlcwogICAgfSk7CiAgfQoKfQovKioNCiAqIFBhcnRpY2xlIHNoYXBlLg0KICogQGNsYXNzIFBhcnRpY2xlDQogKiBAY29uc3RydWN0b3INCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqIEBleHRlbmRzIFNoYXBlDQogKi8KCgpjbGFzcyBQYXJ0aWNsZSBleHRlbmRzIFNoYXBlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKHsKICAgICAgdHlwZTogU2hhcGUudHlwZXMuUEFSVElDTEUKICAgIH0pOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWENCiAgICogQHBhcmFtICB7TnVtYmVyfSBtYXNzDQogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIHZvbHVtZSgpIHsKICAgIHJldHVybiAwOwogIH0KCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDsKICB9CgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAvLyBHZXQgZWFjaCBheGlzIG1heAogICAgbWluLmNvcHkocG9zKTsKICAgIG1heC5jb3B5KHBvcyk7CiAgfQoKfQovKioNCiAqIEEgcGxhbmUsIGZhY2luZyBpbiB0aGUgWiBkaXJlY3Rpb24uIFRoZSBwbGFuZSBoYXMgaXRzIHN1cmZhY2UgYXQgej0wIGFuZCBldmVyeXRoaW5nIGJlbG93IHo9MCBpcyBhc3N1bWVkIHRvIGJlIHNvbGlkIHBsYW5lLiBUbyBtYWtlIHRoZSBwbGFuZSBmYWNlIGluIHNvbWUgb3RoZXIgZGlyZWN0aW9uIHRoYW4geiwgeW91IG11c3QgcHV0IGl0IGluc2lkZSBhIEJvZHkgYW5kIHJvdGF0ZSB0aGF0IGJvZHkuIFNlZSB0aGUgZGVtb3MuDQogKiBAY2xhc3MgUGxhbmUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGV4dGVuZHMgU2hhcGUNCiAqIEBhdXRob3Igc2NodGVwcGUNCiAqLwoKCmNsYXNzIFBsYW5lIGV4dGVuZHMgU2hhcGUgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoewogICAgICB0eXBlOiBTaGFwZS50eXBlcy5QTEFORQogICAgfSk7IC8vIFdvcmxkIG9yaWVudGVkIG5vcm1hbAoKICAgIHRoaXMud29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwogICAgdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBOdW1iZXIuTUFYX1ZBTFVFOwogIH0KCiAgY29tcHV0ZVdvcmxkTm9ybWFsKHF1YXQpIHsKICAgIGNvbnN0IG4gPSB0aGlzLndvcmxkTm9ybWFsOwogICAgbi5zZXQoMCwgMCwgMSk7CiAgICBxdWF0LnZtdWx0KG4sIG4pOwogICAgdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlID0gZmFsc2U7CiAgfQoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIHZvbHVtZSgpIHsKICAgIHJldHVybiAoLy8gVGhlIHBsYW5lIGlzIGluZmluaXRlLi4uCiAgICAgIE51bWJlci5NQVhfVkFMVUUKICAgICk7CiAgfQoKICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgLy8gVGhlIHBsYW5lIEFBQkIgaXMgaW5maW5pdGUsIGV4Y2VwdCBpZiB0aGUgbm9ybWFsIGlzIHBvaW50aW5nIGFsb25nIGFueSBheGlzCiAgICB0ZW1wTm9ybWFsLnNldCgwLCAwLCAxKTsgLy8gRGVmYXVsdCBwbGFuZSBub3JtYWwgaXMgegoKICAgIHF1YXQudm11bHQodGVtcE5vcm1hbCwgdGVtcE5vcm1hbCk7CiAgICBjb25zdCBtYXhWYWwgPSBOdW1iZXIuTUFYX1ZBTFVFOwogICAgbWluLnNldCgtbWF4VmFsLCAtbWF4VmFsLCAtbWF4VmFsKTsKICAgIG1heC5zZXQobWF4VmFsLCBtYXhWYWwsIG1heFZhbCk7CgogICAgaWYgKHRlbXBOb3JtYWwueCA9PT0gMSkgewogICAgICBtYXgueCA9IHBvcy54OwogICAgfSBlbHNlIGlmICh0ZW1wTm9ybWFsLnggPT09IC0xKSB7CiAgICAgIG1pbi54ID0gcG9zLng7CiAgICB9CgogICAgaWYgKHRlbXBOb3JtYWwueSA9PT0gMSkgewogICAgICBtYXgueSA9IHBvcy55OwogICAgfSBlbHNlIGlmICh0ZW1wTm9ybWFsLnkgPT09IC0xKSB7CiAgICAgIG1pbi55ID0gcG9zLnk7CiAgICB9CgogICAgaWYgKHRlbXBOb3JtYWwueiA9PT0gMSkgewogICAgICBtYXgueiA9IHBvcy56OwogICAgfSBlbHNlIGlmICh0ZW1wTm9ybWFsLnogPT09IC0xKSB7CiAgICAgIG1pbi56ID0gcG9zLno7CiAgICB9CiAgfQoKICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBOdW1iZXIuTUFYX1ZBTFVFOwogIH0KCn0KCmNvbnN0IHRlbXBOb3JtYWwgPSBuZXcgVmVjMygpOwovKioNCiAqIEhlaWdodGZpZWxkIHNoYXBlIGNsYXNzLiBIZWlnaHQgZGF0YSBpcyBnaXZlbiBhcyBhbiBhcnJheS4gVGhlc2UgZGF0YSBwb2ludHMgYXJlIHNwcmVhZCBvdXQgZXZlbmx5IHdpdGggYSBnaXZlbiBkaXN0YW5jZS4NCiAqIEBjbGFzcyBIZWlnaHRmaWVsZA0KICogQGV4dGVuZHMgU2hhcGUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtBcnJheX0gZGF0YSBBbiBhcnJheSBvZiBZIHZhbHVlcyB0aGF0IHdpbGwgYmUgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHRlcnJhaW4uDQogKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucw0KICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblZhbHVlXSBNaW5pbXVtIHZhbHVlIG9mIHRoZSBkYXRhIHBvaW50cyBpbiB0aGUgZGF0YSBhcnJheS4gV2lsbCBiZSBjb21wdXRlZCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBnaXZlbi4NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhWYWx1ZV0gTWF4aW11bSB2YWx1ZS4NCiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5lbGVtZW50U2l6ZT0wLjFdIFdvcmxkIHNwYWNpbmcgYmV0d2VlbiB0aGUgZGF0YSBwb2ludHMgaW4gWCBkaXJlY3Rpb24uDQogKiBAdG9kbyBTaG91bGQgYmUgcG9zc2libGUgdG8gdXNlIGFsb25nIGFsbCBheGVzLCBub3QganVzdCB5DQogKiBAdG9kbyBzaG91bGQgYmUgcG9zc2libGUgdG8gc2NhbGUgYWxvbmcgYWxsIGF4ZXMNCiAqIEB0b2RvIFJlZmFjdG9yIGVsZW1lbnRTaXplIHRvIGVsZW1lbnRTaXplWCBhbmQgZWxlbWVudFNpemVZDQogKg0KICogQGV4YW1wbGUNCiAqICAgICAvLyBHZW5lcmF0ZSBzb21lIGhlaWdodCBkYXRhICh5LXZhbHVlcykuDQogKiAgICAgY29uc3QgZGF0YSA9IFtdOw0KICogICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDAwOyBpKyspew0KICogICAgICAgICBjb25zdCB5ID0gMC41ICogTWF0aC5jb3MoMC4yICogaSk7DQogKiAgICAgICAgIGRhdGEucHVzaCh5KTsNCiAqICAgICB9DQogKg0KICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGUNCiAqICAgICBjb25zdCBoZWlnaHRmaWVsZFNoYXBlID0gbmV3IEhlaWdodGZpZWxkKGRhdGEsIHsNCiAqICAgICAgICAgZWxlbWVudFNpemU6IDEgLy8gRGlzdGFuY2UgYmV0d2VlbiB0aGUgZGF0YSBwb2ludHMgaW4gWCBhbmQgWSBkaXJlY3Rpb25zDQogKiAgICAgfSk7DQogKiAgICAgY29uc3QgaGVpZ2h0ZmllbGRCb2R5ID0gbmV3IEJvZHkoKTsNCiAqICAgICBoZWlnaHRmaWVsZEJvZHkuYWRkU2hhcGUoaGVpZ2h0ZmllbGRTaGFwZSk7DQogKiAgICAgd29ybGQuYWRkQm9keShoZWlnaHRmaWVsZEJvZHkpOw0KICovCgpjbGFzcyBIZWlnaHRmaWVsZCBleHRlbmRzIFNoYXBlIHsKICAvLyBBbiBhcnJheSBvZiBudW1iZXJzLCBvciBoZWlnaHQgdmFsdWVzLCB0aGF0IGFyZSBzcHJlYWQgb3V0IGFsb25nIHRoZSB4IGF4aXMuCiAgLy8gTWF4IHZhbHVlIG9mIHRoZSBkYXRhLgogIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS4KICAvLyBUaGUgd2lkdGggb2YgZWFjaCBlbGVtZW50LiBUbyBkbzogZWxlbWVudFNpemVYIGFuZCBZCiAgY29uc3RydWN0b3IoZGF0YSwgb3B0aW9ucyA9IHt9KSB7CiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICBtYXhWYWx1ZTogbnVsbCwKICAgICAgbWluVmFsdWU6IG51bGwsCiAgICAgIGVsZW1lbnRTaXplOiAxCiAgICB9KTsKICAgIHN1cGVyKHsKICAgICAgdHlwZTogU2hhcGUudHlwZXMuSEVJR0hURklFTEQKICAgIH0pOwogICAgdGhpcy5kYXRhID0gZGF0YTsKICAgIHRoaXMubWF4VmFsdWUgPSBvcHRpb25zLm1heFZhbHVlOwogICAgdGhpcy5taW5WYWx1ZSA9IG9wdGlvbnMubWluVmFsdWU7CiAgICB0aGlzLmVsZW1lbnRTaXplID0gb3B0aW9ucy5lbGVtZW50U2l6ZTsKCiAgICBpZiAob3B0aW9ucy5taW5WYWx1ZSA9PT0gbnVsbCkgewogICAgICB0aGlzLnVwZGF0ZU1pblZhbHVlKCk7CiAgICB9CgogICAgaWYgKG9wdGlvbnMubWF4VmFsdWUgPT09IG51bGwpIHsKICAgICAgdGhpcy51cGRhdGVNYXhWYWx1ZSgpOwogICAgfQoKICAgIHRoaXMuY2FjaGVFbmFibGVkID0gdHJ1ZTsKICAgIHRoaXMucGlsbGFyQ29udmV4ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTsKICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gbmV3IFZlYzMoKTsKICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsgLy8gImlfal9pc1VwcGVyIiA9PiB7IGNvbnZleDogLi4uLCBvZmZzZXQ6IC4uLiB9CiAgICAvLyBmb3IgZXhhbXBsZToKICAgIC8vIF9jYWNoZWRQaWxsYXJzWyIwXzJfMSJdCgogICAgdGhpcy5fY2FjaGVkUGlsbGFycyA9IHt9OwogIH0KICAvKioNCiAgICogQ2FsbCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBkYXRhIGFycmF5Lg0KICAgKiBAbWV0aG9kIHVwZGF0ZQ0KICAgKi8KCgogIHVwZGF0ZSgpIHsKICAgIHRoaXMuX2NhY2hlZFBpbGxhcnMgPSB7fTsKICB9CiAgLyoqDQogICAqIFVwZGF0ZSB0aGUgLm1pblZhbHVlIHByb3BlcnR5DQogICAqIEBtZXRob2QgdXBkYXRlTWluVmFsdWUNCiAgICovCgoKICB1cGRhdGVNaW5WYWx1ZSgpIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBsZXQgbWluVmFsdWUgPSBkYXRhWzBdWzBdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBkYXRhW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07CgogICAgICAgIGlmICh2IDwgbWluVmFsdWUpIHsKICAgICAgICAgIG1pblZhbHVlID0gdjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLm1pblZhbHVlID0gbWluVmFsdWU7CiAgfQogIC8qKg0KICAgKiBVcGRhdGUgdGhlIC5tYXhWYWx1ZSBwcm9wZXJ0eQ0KICAgKiBAbWV0aG9kIHVwZGF0ZU1heFZhbHVlDQogICAqLwoKCiAgdXBkYXRlTWF4VmFsdWUoKSB7CiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgbGV0IG1heFZhbHVlID0gZGF0YVswXVswXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykgewogICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZGF0YVtpXS5sZW5ndGg7IGorKykgewogICAgICAgIGNvbnN0IHYgPSBkYXRhW2ldW2pdOwoKICAgICAgICBpZiAodiA+IG1heFZhbHVlKSB7CiAgICAgICAgICBtYXhWYWx1ZSA9IHY7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5tYXhWYWx1ZSA9IG1heFZhbHVlOwogIH0KICAvKioNCiAgICogU2V0IHRoZSBoZWlnaHQgdmFsdWUgYXQgYW4gaW5kZXguIERvbid0IGZvcmdldCB0byB1cGRhdGUgbWF4VmFsdWUgYW5kIG1pblZhbHVlIGFmdGVyIHlvdSdyZSBkb25lLg0KICAgKiBAbWV0aG9kIHNldEhlaWdodFZhbHVlQXRJbmRleA0KICAgKiBAcGFyYW0ge2ludGVnZXJ9IHhpDQogICAqIEBwYXJhbSB7aW50ZWdlcn0geWkNCiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlDQogICAqLwoKCiAgc2V0SGVpZ2h0VmFsdWVBdEluZGV4KHhpLCB5aSwgdmFsdWUpIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBkYXRhW3hpXVt5aV0gPSB2YWx1ZTsgLy8gSW52YWxpZGF0ZSBjYWNoZQoKICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGZhbHNlKTsKCiAgICBpZiAoeGkgPiAwKSB7CiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCB0cnVlKTsKICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWksIGZhbHNlKTsKICAgIH0KCiAgICBpZiAoeWkgPiAwKSB7CiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWkgLSAxLCB0cnVlKTsKICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIGZhbHNlKTsKICAgIH0KCiAgICBpZiAoeWkgPiAwICYmIHhpID4gMCkgewogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSAtIDEsIHRydWUpOwogICAgfQogIH0KICAvKioNCiAgICogR2V0IG1heC9taW4gaW4gYSByZWN0YW5nbGUgaW4gdGhlIG1hdHJpeCBkYXRhDQogICAqIEBtZXRob2QgZ2V0UmVjdE1pbk1heA0KICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWluWA0KICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWluWQ0KICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWF4WA0KICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWF4WQ0KICAgKiBAcGFyYW0gIHthcnJheX0gW3Jlc3VsdF0gQW4gYXJyYXkgdG8gc3RvcmUgdGhlIHJlc3VsdHMgaW4uDQogICAqIEByZXR1cm4ge2FycmF5fSBUaGUgcmVzdWx0IGFycmF5LCBpZiBpdCB3YXMgcGFzc2VkIGluLiBNaW5pbXVtIHdpbGwgYmUgYXQgcG9zaXRpb24gMCBhbmQgbWF4IGF0IDEuDQogICAqLwoKCiAgZ2V0UmVjdE1pbk1heChpTWluWCwgaU1pblksIGlNYXhYLCBpTWF4WSwgcmVzdWx0ID0gW10pIHsKICAgIC8vIEdldCBtYXggYW5kIG1pbiBvZiB0aGUgZGF0YQogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsgLy8gU2V0IGZpcnN0IHZhbHVlCgogICAgbGV0IG1heCA9IHRoaXMubWluVmFsdWU7CgogICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDw9IGlNYXhYOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDw9IGlNYXhZOyBqKyspIHsKICAgICAgICBjb25zdCBoZWlnaHQgPSBkYXRhW2ldW2pdOwoKICAgICAgICBpZiAoaGVpZ2h0ID4gbWF4KSB7CiAgICAgICAgICBtYXggPSBoZWlnaHQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmVzdWx0WzBdID0gdGhpcy5taW5WYWx1ZTsKICAgIHJlc3VsdFsxXSA9IG1heDsKICB9CiAgLyoqDQogICAqIEdldCB0aGUgaW5kZXggb2YgYSBsb2NhbCBwb3NpdGlvbiBvbiB0aGUgaGVpZ2h0ZmllbGQuIFRoZSBpbmRleGVzIGluZGljYXRlIHRoZSByZWN0YW5nbGVzLCBzbyBpZiB5b3VyIHRlcnJhaW4gaXMgbWFkZSBvZiBOIHggTiBoZWlnaHQgZGF0YSBwb2ludHMsIHlvdSB3aWxsIGhhdmUgcmVjdGFuZ2xlIGluZGV4ZXMgcmFuZ2luZyBmcm9tIDAgdG8gTi0xLg0KICAgKiBAbWV0aG9kIGdldEluZGV4T2ZQb3NpdGlvbg0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHgNCiAgICogQHBhcmFtICB7bnVtYmVyfSB5DQogICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgVHdvLWVsZW1lbnQgYXJyYXkNCiAgICogQHBhcmFtICB7Ym9vbGVhbn0gY2xhbXAgSWYgdGhlIHBvc2l0aW9uIHNob3VsZCBiZSBjbGFtcGVkIHRvIHRoZSBoZWlnaHRmaWVsZCBlZGdlLg0KICAgKiBAcmV0dXJuIHtib29sZWFufQ0KICAgKi8KCgogIGdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCByZXN1bHQsIGNsYW1wKSB7CiAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKICAgIGNvbnN0IHcgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGxldCB4aSA9IE1hdGguZmxvb3IoeCAvIHcpOwogICAgbGV0IHlpID0gTWF0aC5mbG9vcih5IC8gdyk7CiAgICByZXN1bHRbMF0gPSB4aTsKICAgIHJlc3VsdFsxXSA9IHlpOwoKICAgIGlmIChjbGFtcCkgewogICAgICAvLyBDbGFtcCBpbmRleCB0byBlZGdlcwogICAgICBpZiAoeGkgPCAwKSB7CiAgICAgICAgeGkgPSAwOwogICAgICB9CgogICAgICBpZiAoeWkgPCAwKSB7CiAgICAgICAgeWkgPSAwOwogICAgICB9CgogICAgICBpZiAoeGkgPj0gZGF0YS5sZW5ndGggLSAxKSB7CiAgICAgICAgeGkgPSBkYXRhLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmICh5aSA+PSBkYXRhWzBdLmxlbmd0aCAtIDEpIHsKICAgICAgICB5aSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgICAgfQogICAgfSAvLyBCYWlsIG91dCBpZiB3ZSBhcmUgb3V0IG9mIHRoZSB0ZXJyYWluCgoKICAgIGlmICh4aSA8IDAgfHwgeWkgPCAwIHx8IHhpID49IGRhdGEubGVuZ3RoIC0gMSB8fCB5aSA+PSBkYXRhWzBdLmxlbmd0aCAtIDEpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpIHsKICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDsKICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTsKICAgIGxldCB4aSA9IGlkeFswXTsKICAgIGxldCB5aSA9IGlkeFsxXTsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CgogICAgaWYgKGVkZ2VDbGFtcCkgewogICAgICB4aSA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeGkpKTsKICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICB9CgogICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgY29uc3QgbG93ZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSB4aSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSB5aSkgKiogMjsKICAgIGNvbnN0IHVwcGVyRGlzdDIgPSAoeCAvIGVsZW1lbnRTaXplIC0gKHhpICsgMSkpICoqIDIgKyAoeSAvIGVsZW1lbnRTaXplIC0gKHlpICsgMSkpICoqIDI7CiAgICBjb25zdCB1cHBlciA9IGxvd2VyRGlzdDIgPiB1cHBlckRpc3QyOwogICAgdGhpcy5nZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKTsKICAgIHJldHVybiB1cHBlcjsKICB9CgogIGdldE5vcm1hbEF0KHgsIHksIGVkZ2VDbGFtcCwgcmVzdWx0KSB7CiAgICBjb25zdCBhID0gZ2V0Tm9ybWFsQXRfYTsKICAgIGNvbnN0IGIgPSBnZXROb3JtYWxBdF9iOwogICAgY29uc3QgYyA9IGdldE5vcm1hbEF0X2M7CiAgICBjb25zdCBlMCA9IGdldE5vcm1hbEF0X2UwOwogICAgY29uc3QgZTEgPSBnZXROb3JtYWxBdF9lMTsKICAgIHRoaXMuZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpOwogICAgYi52c3ViKGEsIGUwKTsKICAgIGMudnN1YihhLCBlMSk7CiAgICBlMC5jcm9zcyhlMSwgcmVzdWx0KTsKICAgIHJlc3VsdC5ub3JtYWxpemUoKTsKICB9CiAgLyoqDQogICAqIEdldCBhbiBBQUJCIG9mIGEgc3F1YXJlIGluIHRoZSBoZWlnaHRmaWVsZA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IHhpDQogICAqIEBwYXJhbSAge251bWJlcn0geWkNCiAgICogQHBhcmFtICB7QUFCQn0gcmVzdWx0DQogICAqLwoKCiAgZ2V0QWFiYkF0SW5kZXgoeGksIHlpLCB7CiAgICBsb3dlckJvdW5kLAogICAgdXBwZXJCb3VuZAogIH0pIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7CiAgICBsb3dlckJvdW5kLnNldCh4aSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aV0pOwogICAgdXBwZXJCb3VuZC5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0pOwogIH0KICAvKioNCiAgICogR2V0IHRoZSBoZWlnaHQgaW4gdGhlIGhlaWdodGZpZWxkIGF0IGEgZ2l2ZW4gcG9zaXRpb24NCiAgICogQHBhcmFtICB7bnVtYmVyfSB4DQogICAqIEBwYXJhbSAge251bWJlcn0geQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSBlZGdlQ2xhbXANCiAgICogQHJldHVybiB7bnVtYmVyfQ0KICAgKi8KCgogIGdldEhlaWdodEF0KHgsIHksIGVkZ2VDbGFtcCkgewogICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgIGNvbnN0IGEgPSBnZXRIZWlnaHRBdF9hOwogICAgY29uc3QgYiA9IGdldEhlaWdodEF0X2I7CiAgICBjb25zdCBjID0gZ2V0SGVpZ2h0QXRfYzsKICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDsKICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTsKICAgIGxldCB4aSA9IGlkeFswXTsKICAgIGxldCB5aSA9IGlkeFsxXTsKCiAgICBpZiAoZWRnZUNsYW1wKSB7CiAgICAgIHhpID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB4aSkpOwogICAgICB5aSA9IE1hdGgubWluKGRhdGFbMF0ubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeWkpKTsKICAgIH0KCiAgICBjb25zdCB1cHBlciA9IHRoaXMuZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpOwogICAgYmFyeWNlbnRyaWNXZWlnaHRzKHgsIHksIGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIGdldEhlaWdodEF0X3dlaWdodHMpOwogICAgY29uc3QgdyA9IGdldEhlaWdodEF0X3dlaWdodHM7CgogICAgaWYgKHVwcGVyKSB7CiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwogICAgICByZXR1cm4gZGF0YVt4aSArIDFdW3lpICsgMV0gKiB3LnggKyBkYXRhW3hpXVt5aSArIDFdICogdy55ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcuejsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwogICAgICByZXR1cm4gZGF0YVt4aV1beWldICogdy54ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcueSArIGRhdGFbeGldW3lpICsgMV0gKiB3Lno7CiAgICB9CiAgfQoKICBnZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgcmV0dXJuIHhpICsgIl8iICsgeWkgKyAiXyIgKyAoZ2V0VXBwZXJUcmlhbmdsZSA/IDEgOiAwKTsKICB9CgogIGdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgcmV0dXJuIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSldOwogIH0KCiAgc2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlLCBjb252ZXgsIG9mZnNldCkgewogICAgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV0gPSB7CiAgICAgIGNvbnZleCwKICAgICAgb2Zmc2V0CiAgICB9OwogIH0KCiAgY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgIGRlbGV0ZSB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXTsKICB9CiAgLyoqDQogICAqIEdldCBhIHRyaWFuZ2xlIGZyb20gdGhlIGhlaWdodGZpZWxkDQogICAqIEBwYXJhbSAge251bWJlcn0geGkNCiAgICogQHBhcmFtICB7bnVtYmVyfSB5aQ0KICAgKiBAcGFyYW0gIHtib29sZWFufSB1cHBlcg0KICAgKiBAcGFyYW0gIHtWZWMzfSBhDQogICAqIEBwYXJhbSAge1ZlYzN9IGINCiAgICogQHBhcmFtICB7VmVjM30gYw0KICAgKi8KCgogIGdldFRyaWFuZ2xlKHhpLCB5aSwgdXBwZXIsIGEsIGIsIGMpIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7CgogICAgaWYgKHVwcGVyKSB7CiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwogICAgICBhLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7CiAgICAgIGIuc2V0KHhpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0pOwogICAgICBjLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwogICAgICBhLnNldCh4aSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aV0pOwogICAgICBiLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTsKICAgICAgYy5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBHZXQgYSB0cmlhbmdsZSBpbiB0aGUgdGVycmFpbiBpbiB0aGUgZm9ybSBvZiBhIHRyaWFuZ3VsYXIgY29udmV4IHNoYXBlLg0KICAgKiBAbWV0aG9kIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyDQogICAqIEBwYXJhbSAge2ludGVnZXJ9IGkNCiAgICogQHBhcmFtICB7aW50ZWdlcn0gag0KICAgKiBAcGFyYW0gIHtib29sZWFufSBnZXRVcHBlclRyaWFuZ2xlDQogICAqLwoKCiAgZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICBsZXQgcmVzdWx0ID0gdGhpcy5waWxsYXJDb252ZXg7CiAgICBsZXQgb2Zmc2V0UmVzdWx0ID0gdGhpcy5waWxsYXJPZmZzZXQ7CgogICAgaWYgKHRoaXMuY2FjaGVFbmFibGVkKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSk7CgogICAgICBpZiAoZGF0YSkgewogICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gZGF0YS5jb252ZXg7CiAgICAgICAgdGhpcy5waWxsYXJPZmZzZXQgPSBkYXRhLm9mZnNldDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJlc3VsdCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7CiAgICAgIG9mZnNldFJlc3VsdCA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gcmVzdWx0OwogICAgICB0aGlzLnBpbGxhck9mZnNldCA9IG9mZnNldFJlc3VsdDsKICAgIH0KCiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgY29uc3QgZmFjZXMgPSByZXN1bHQuZmFjZXM7IC8vIFJldXNlIHZlcnRzIGlmIHBvc3NpYmxlCgogICAgcmVzdWx0LnZlcnRpY2VzLmxlbmd0aCA9IDY7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgaWYgKCFyZXN1bHQudmVydGljZXNbaV0pIHsKICAgICAgICByZXN1bHQudmVydGljZXNbaV0gPSBuZXcgVmVjMygpOwogICAgICB9CiAgICB9IC8vIFJldXNlIGZhY2VzIGlmIHBvc3NpYmxlCgoKICAgIGZhY2VzLmxlbmd0aCA9IDU7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHsKICAgICAgaWYgKCFmYWNlc1tpXSkgewogICAgICAgIGZhY2VzW2ldID0gW107CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCB2ZXJ0cyA9IHJlc3VsdC52ZXJ0aWNlczsKICAgIGNvbnN0IGggPSAoTWF0aC5taW4oZGF0YVt4aV1beWldLCBkYXRhW3hpICsgMV1beWldLCBkYXRhW3hpXVt5aSArIDFdLCBkYXRhW3hpICsgMV1beWkgKyAxXSkgLSB0aGlzLm1pblZhbHVlKSAvIDIgKyB0aGlzLm1pblZhbHVlOwoKICAgIGlmICghZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmUKICAgICAgb2Zmc2V0UmVzdWx0LnNldCgoeGkgKyAwLjI1KSAqIGVsZW1lbnRTaXplLCAvLyBzb3J0IG9mIGNlbnRlciBvZiBhIHRyaWFuZ2xlCiAgICAgICh5aSArIDAuMjUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyCiAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgdmVydHNbMF0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSAtIGgpOwogICAgICB2ZXJ0c1sxXS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldIC0gaCk7CiAgICAgIHZlcnRzWzJdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAwLjc1ICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0gLSBoKTsgLy8gYm90dG9tIHRyaWFuZ2xlIHZlcnRzCgogICAgICB2ZXJ0c1szXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTsKICAgICAgdmVydHNbNF0uc2V0KDAuNzUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTsKICAgICAgdmVydHNbNV0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIDAuNzUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTsgLy8gdG9wIHRyaWFuZ2xlCgogICAgICBmYWNlc1swXVswXSA9IDA7CiAgICAgIGZhY2VzWzBdWzFdID0gMTsKICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGUKCiAgICAgIGZhY2VzWzFdWzBdID0gNTsKICAgICAgZmFjZXNbMV1bMV0gPSA0OwogICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vIC14IGZhY2luZyBxdWFkCgogICAgICBmYWNlc1syXVswXSA9IDA7CiAgICAgIGZhY2VzWzJdWzFdID0gMjsKICAgICAgZmFjZXNbMl1bMl0gPSA1OwogICAgICBmYWNlc1syXVszXSA9IDM7IC8vIC15IGZhY2luZyBxdWFkCgogICAgICBmYWNlc1szXVswXSA9IDE7CiAgICAgIGZhY2VzWzNdWzFdID0gMDsKICAgICAgZmFjZXNbM11bMl0gPSAzOwogICAgICBmYWNlc1szXVszXSA9IDQ7IC8vICt4eSBmYWNpbmcgcXVhZAoKICAgICAgZmFjZXNbNF1bMF0gPSA0OwogICAgICBmYWNlc1s0XVsxXSA9IDU7CiAgICAgIGZhY2VzWzRdWzJdID0gMjsKICAgICAgZmFjZXNbNF1bM10gPSAxOwogICAgfSBlbHNlIHsKICAgICAgLy8gQ2VudGVyIG9mIHRoZSB0cmlhbmdsZSBwaWxsYXIgLSBhbGwgcG9seWdvbnMgYXJlIGdpdmVuIHJlbGF0aXZlIHRvIHRoaXMgb25lCiAgICAgIG9mZnNldFJlc3VsdC5zZXQoKHhpICsgMC43NSkgKiBlbGVtZW50U2l6ZSwgLy8gc29ydCBvZiBjZW50ZXIgb2YgYSB0cmlhbmdsZQogICAgICAoeWkgKyAwLjc1KSAqIGVsZW1lbnRTaXplLCBoIC8vIHZlcnRpY2FsIGNlbnRlcgogICAgICApOyAvLyBUb3AgdHJpYW5nbGUgdmVydHMKCiAgICAgIHZlcnRzWzBdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0gLSBoKTsKICAgICAgdmVydHNbMV0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpOwogICAgICB2ZXJ0c1syXS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAtMC43NSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldIC0gaCk7IC8vIGJvdHRvbSB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgdmVydHNbM10uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOwogICAgICB2ZXJ0c1s0XS5zZXQoLTAuNzUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOwogICAgICB2ZXJ0c1s1XS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAtMC43NSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOyAvLyBUb3AgdHJpYW5nbGUKCiAgICAgIGZhY2VzWzBdWzBdID0gMDsKICAgICAgZmFjZXNbMF1bMV0gPSAxOwogICAgICBmYWNlc1swXVsyXSA9IDI7IC8vIGJvdHRvbSB0cmlhbmdsZQoKICAgICAgZmFjZXNbMV1bMF0gPSA1OwogICAgICBmYWNlc1sxXVsxXSA9IDQ7CiAgICAgIGZhY2VzWzFdWzJdID0gMzsgLy8gK3ggZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzJdWzBdID0gMjsKICAgICAgZmFjZXNbMl1bMV0gPSA1OwogICAgICBmYWNlc1syXVsyXSA9IDM7CiAgICAgIGZhY2VzWzJdWzNdID0gMDsgLy8gK3kgZmFjaW5nIHF1YWQKCiAgICAgIGZhY2VzWzNdWzBdID0gMzsKICAgICAgZmFjZXNbM11bMV0gPSA0OwogICAgICBmYWNlc1szXVsyXSA9IDE7CiAgICAgIGZhY2VzWzNdWzNdID0gMDsgLy8gLXh5IGZhY2luZyBxdWFkCgogICAgICBmYWNlc1s0XVswXSA9IDE7CiAgICAgIGZhY2VzWzRdWzFdID0gNDsKICAgICAgZmFjZXNbNF1bMl0gPSA1OwogICAgICBmYWNlc1s0XVszXSA9IDI7CiAgICB9CgogICAgcmVzdWx0LmNvbXB1dGVOb3JtYWxzKCk7CiAgICByZXN1bHQuY29tcHV0ZUVkZ2VzKCk7CiAgICByZXN1bHQudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgIHRoaXMuc2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlLCByZXN1bHQsIG9mZnNldFJlc3VsdCk7CiAgfQoKICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgdGFyZ2V0LnNldCgwLCAwLCAwKTsKICAgIHJldHVybiB0YXJnZXQ7CiAgfQoKICB2b2x1bWUoKSB7CiAgICByZXR1cm4gKC8vIFRoZSB0ZXJyYWluIGlzIGluZmluaXRlCiAgICAgIE51bWJlci5NQVhfVkFMVUUKICAgICk7CiAgfQoKICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgLy8gVE9ETzogZG8gaXQgcHJvcGVybHkKICAgIG1pbi5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7CiAgICBtYXguc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpOwogIH0KCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAvLyBVc2UgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgbWluL21heCB2YWx1ZXMKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBjb25zdCBzID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBuZXcgVmVjMyhkYXRhLmxlbmd0aCAqIHMsIGRhdGFbMF0ubGVuZ3RoICogcywgTWF0aC5tYXgoTWF0aC5hYnModGhpcy5tYXhWYWx1ZSksIE1hdGguYWJzKHRoaXMubWluVmFsdWUpKSkubGVuZ3RoKCk7CiAgfQogIC8qKg0KICAgKiBTZXRzIHRoZSBoZWlnaHQgdmFsdWVzIGZyb20gYW4gaW1hZ2UuIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyLg0KICAgKiBAbWV0aG9kIHNldEhlaWdodHNGcm9tSW1hZ2UNCiAgICogQHBhcmFtIHtJbWFnZX0gaW1hZ2UNCiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZQ0KICAgKi8KCgogIHNldEhlaWdodHNGcm9tSW1hZ2UoaW1hZ2UsIHNjYWxlKSB7CiAgICBjb25zdCB7CiAgICAgIHgsCiAgICAgIHosCiAgICAgIHkKICAgIH0gPSBzY2FsZTsKICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7CiAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0OwogICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApOwogICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7CiAgICBjb25zdCBtYXRyaXggPSB0aGlzLmRhdGE7CiAgICBtYXRyaXgubGVuZ3RoID0gMDsKICAgIHRoaXMuZWxlbWVudFNpemUgPSBNYXRoLmFicyh4KSAvIGltYWdlRGF0YS53aWR0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5oZWlnaHQ7IGkrKykgewogICAgICBjb25zdCByb3cgPSBbXTsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW1hZ2VEYXRhLndpZHRoOyBqKyspIHsKICAgICAgICBjb25zdCBhID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0XTsKICAgICAgICBjb25zdCBiID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0ICsgMV07CiAgICAgICAgY29uc3QgYyA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDJdOwogICAgICAgIGNvbnN0IGhlaWdodCA9IChhICsgYiArIGMpIC8gNCAvIDI1NSAqIHo7CgogICAgICAgIGlmICh4IDwgMCkgewogICAgICAgICAgcm93LnB1c2goaGVpZ2h0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcm93LnVuc2hpZnQoaGVpZ2h0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh5IDwgMCkgewogICAgICAgIG1hdHJpeC51bnNoaWZ0KHJvdyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWF0cml4LnB1c2gocm93KTsKICAgICAgfQogICAgfQoKICAgIHRoaXMudXBkYXRlTWF4VmFsdWUoKTsKICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTsKICAgIHRoaXMudXBkYXRlKCk7CiAgfQoKfQoKY29uc3QgZ2V0SGVpZ2h0QXRfaWR4ID0gW107CmNvbnN0IGdldEhlaWdodEF0X3dlaWdodHMgPSBuZXcgVmVjMygpOwpjb25zdCBnZXRIZWlnaHRBdF9hID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0SGVpZ2h0QXRfYiA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldEhlaWdodEF0X2MgPSBuZXcgVmVjMygpOwpjb25zdCBnZXROb3JtYWxBdF9hID0gbmV3IFZlYzMoKTsKY29uc3QgZ2V0Tm9ybWFsQXRfYiA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldE5vcm1hbEF0X2MgPSBuZXcgVmVjMygpOwpjb25zdCBnZXROb3JtYWxBdF9lMCA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldE5vcm1hbEF0X2UxID0gbmV3IFZlYzMoKTsgLy8gZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXJ5Y2VudHJpY19jb29yZGluYXRlX3N5c3RlbQoKZnVuY3Rpb24gYmFyeWNlbnRyaWNXZWlnaHRzKHgsIHksIGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHJlc3VsdCkgewogIHJlc3VsdC54ID0gKChieSAtIGN5KSAqICh4IC0gY3gpICsgKGN4IC0gYngpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7CiAgcmVzdWx0LnkgPSAoKGN5IC0gYXkpICogKHggLSBjeCkgKyAoYXggLSBjeCkgKiAoeSAtIGN5KSkgLyAoKGJ5IC0gY3kpICogKGF4IC0gY3gpICsgKGN4IC0gYngpICogKGF5IC0gY3kpKTsKICByZXN1bHQueiA9IDEgLSByZXN1bHQueCAtIHJlc3VsdC55Owp9Ci8qKg0KICogQGNsYXNzIE9jdHJlZU5vZGUNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtPY3RyZWV9IFtvcHRpb25zLnJvb3RdDQogKiBAcGFyYW0ge0FBQkJ9IFtvcHRpb25zLmFhYmJdDQogKi8KCgpjbGFzcyBPY3RyZWVOb2RlIHsKICAvLyBUaGUgcm9vdCBub2RlCiAgLy8gQm91bmRhcnkgb2YgdGhpcyBub2RlCiAgLy8gQ29udGFpbmVkIGRhdGEgYXQgdGhlIGN1cnJlbnQgbm9kZSBsZXZlbAogIC8vIENoaWxkcmVuIHRvIHRoaXMgbm9kZQogIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgdGhpcy5yb290ID0gb3B0aW9ucy5yb290IHx8IG51bGw7CiAgICB0aGlzLmFhYmIgPSBvcHRpb25zLmFhYmIgPyBvcHRpb25zLmFhYmIuY2xvbmUoKSA6IG5ldyBBQUJCKCk7CiAgICB0aGlzLmRhdGEgPSBbXTsKICAgIHRoaXMuY2hpbGRyZW4gPSBbXTsKICB9CgogIHJlc2V0KCkgewogICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSB0aGlzLmRhdGEubGVuZ3RoID0gMDsKICB9CiAgLyoqDQogICAqIEluc2VydCBkYXRhIGludG8gdGhpcyBub2RlDQogICAqIEBtZXRob2QgaW5zZXJ0DQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICogQHBhcmFtICB7b2JqZWN0fSBlbGVtZW50RGF0YQ0KICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSBmYWxzZQ0KICAgKi8KCgogIGluc2VydChhYWJiLCBlbGVtZW50RGF0YSwgbGV2ZWwgPSAwKSB7CiAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZGF0YTsgLy8gSWdub3JlIG9iamVjdHMgdGhhdCBkbyBub3QgYmVsb25nIGluIHRoaXMgbm9kZQoKICAgIGlmICghdGhpcy5hYWJiLmNvbnRhaW5zKGFhYmIpKSB7CiAgICAgIHJldHVybiBmYWxzZTsgLy8gb2JqZWN0IGNhbm5vdCBiZSBhZGRlZAogICAgfQoKICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsKICAgIGNvbnN0IG1heERlcHRoID0gdGhpcy5tYXhEZXB0aCB8fCB0aGlzLnJvb3QubWF4RGVwdGg7CgogICAgaWYgKGxldmVsIDwgbWF4RGVwdGgpIHsKICAgICAgLy8gU3ViZGl2aWRlIGlmIHRoZXJlIGFyZSBubyBjaGlsZHJlbiB5ZXQKICAgICAgbGV0IHN1YmRpdmlkZWQgPSBmYWxzZTsKCiAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5zdWJkaXZpZGUoKTsKICAgICAgICBzdWJkaXZpZGVkID0gdHJ1ZTsKICAgICAgfSAvLyBhZGQgdG8gd2hpY2hldmVyIG5vZGUgd2lsbCBhY2NlcHQgaXQKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7CiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLmluc2VydChhYWJiLCBlbGVtZW50RGF0YSwgbGV2ZWwgKyAxKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoc3ViZGl2aWRlZCkgewogICAgICAgIC8vIE5vIGNoaWxkcmVuIGFjY2VwdGVkISBNaWdodCBhcyB3ZWxsIGp1c3QgcmVtb3ZlIGVtIHNpbmNlIHRoZXkgY29udGFpbiBub25lCiAgICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gMDsKICAgICAgfQogICAgfSAvLyBUb28gZGVlcCwgb3IgY2hpbGRyZW4gZGlkbnQgd2FudCBpdC4gYWRkIGl0IGluIGN1cnJlbnQgbm9kZQoKCiAgICBub2RlRGF0YS5wdXNoKGVsZW1lbnREYXRhKTsKICAgIHJldHVybiB0cnVlOwogIH0KICAvKioNCiAgICogQ3JlYXRlIDggZXF1YWxseSBzaXplZCBjaGlsZHJlbiBub2RlcyBhbmQgcHV0IHRoZW0gaW4gdGhlIC5jaGlsZHJlbiBhcnJheS4NCiAgICogQG1ldGhvZCBzdWJkaXZpZGUNCiAgICovCgoKICBzdWJkaXZpZGUoKSB7CiAgICBjb25zdCBhYWJiID0gdGhpcy5hYWJiOwogICAgY29uc3QgbCA9IGFhYmIubG93ZXJCb3VuZDsKICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7CiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47CiAgICBjaGlsZHJlbi5wdXNoKG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDAsIDApCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMCkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAxLCAwKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDEsIDEpCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMSkKICAgICAgfSkKICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAwLCAxKQogICAgICB9KQogICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDEpCiAgICAgIH0pCiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMCkKICAgICAgfSkKICAgIH0pKTsKICAgIHUudnN1YihsLCBoYWxmRGlhZ29uYWwpOwogICAgaGFsZkRpYWdvbmFsLnNjYWxlKDAuNSwgaGFsZkRpYWdvbmFsKTsKICAgIGNvbnN0IHJvb3QgPSB0aGlzLnJvb3QgfHwgdGhpczsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7CiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07IC8vIFNldCBjdXJyZW50IG5vZGUgYXMgcm9vdAoKICAgICAgY2hpbGQucm9vdCA9IHJvb3Q7IC8vIENvbXB1dGUgYm91bmRzCgogICAgICBjb25zdCBsb3dlckJvdW5kID0gY2hpbGQuYWFiYi5sb3dlckJvdW5kOwogICAgICBsb3dlckJvdW5kLnggKj0gaGFsZkRpYWdvbmFsLng7CiAgICAgIGxvd2VyQm91bmQueSAqPSBoYWxmRGlhZ29uYWwueTsKICAgICAgbG93ZXJCb3VuZC56ICo9IGhhbGZEaWFnb25hbC56OwogICAgICBsb3dlckJvdW5kLnZhZGQobCwgbG93ZXJCb3VuZCk7IC8vIFVwcGVyIGJvdW5kIGlzIGFsd2F5cyBsb3dlciBib3VuZCArIGhhbGZEaWFnb25hbAoKICAgICAgbG93ZXJCb3VuZC52YWRkKGhhbGZEaWFnb25hbCwgY2hpbGQuYWFiYi51cHBlckJvdW5kKTsKICAgIH0KICB9CiAgLyoqDQogICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgd2l0aGluIGFuIEFBQkINCiAgICogQG1ldGhvZCBhYWJiUXVlcnkNCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0DQogICAqIEByZXR1cm4ge2FycmF5fSBUaGUgInJlc3VsdCIgb2JqZWN0DQogICAqLwoKCiAgYWFiYlF1ZXJ5KGFhYmIsIHJlc3VsdCkgewogICAgY29uc3Qgbm9kZURhdGEgPSB0aGlzLmRhdGE7IC8vIGFib3J0IGlmIHRoZSByYW5nZSBkb2VzIG5vdCBpbnRlcnNlY3QgdGhpcyBub2RlCiAgICAvLyBpZiAoIXRoaXMuYWFiYi5vdmVybGFwcyhhYWJiKSl7CiAgICAvLyAgICAgcmV0dXJuIHJlc3VsdDsKICAgIC8vIH0KICAgIC8vIEFkZCBvYmplY3RzIGF0IHRoaXMgbGV2ZWwKICAgIC8vIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZURhdGEpOwogICAgLy8gQWRkIGNoaWxkIGRhdGEKICAgIC8vIEB0b2RvIHVud3JhcCByZWN1cnNpb24gaW50byBhIHF1ZXVlIC8gbG9vcCwgdGhhdCdzIGZhc3RlciBpbiBKUwoKICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsgLy8gZm9yIChsZXQgaSA9IDAsIE4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7CiAgICAvLyAgICAgY2hpbGRyZW5baV0uYWFiYlF1ZXJ5KGFhYmIsIHJlc3VsdCk7CiAgICAvLyB9CgogICAgY29uc3QgcXVldWUgPSBbdGhpc107CgogICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkgewogICAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7CgogICAgICBpZiAobm9kZS5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVzdWx0LCBub2RlLmRhdGEpOwogICAgICB9CgogICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShxdWV1ZSwgbm9kZS5jaGlsZHJlbik7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgLyoqDQogICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgaW50ZXJzZWN0ZWQgYnkgYSByYXkuDQogICAqIEBtZXRob2QgcmF5UXVlcnkNCiAgICogQHBhcmFtICB7UmF5fSByYXkNCiAgICogQHBhcmFtICB7VHJhbnNmb3JtfSB0cmVlVHJhbnNmb3JtDQogICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQNCiAgICogQHJldHVybiB7YXJyYXl9IFRoZSAicmVzdWx0IiBvYmplY3QNCiAgICovCgoKICByYXlRdWVyeShyYXksIHRyZWVUcmFuc2Zvcm0sIHJlc3VsdCkgewogICAgLy8gVXNlIGFhYmIgcXVlcnkgZm9yIG5vdy4KICAgIC8vIEB0b2RvIGltcGxlbWVudCByZWFsIHJheSBxdWVyeSB3aGljaCBuZWVkcyBsZXNzIGxvb2t1cHMKICAgIHJheS5nZXRBQUJCKHRtcEFBQkIkMSk7CiAgICB0bXBBQUJCJDEudG9Mb2NhbEZyYW1lKHRyZWVUcmFuc2Zvcm0sIHRtcEFBQkIkMSk7CiAgICB0aGlzLmFhYmJRdWVyeSh0bXBBQUJCJDEsIHJlc3VsdCk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICAvKioNCiAgICogQG1ldGhvZCByZW1vdmVFbXB0eU5vZGVzDQogICAqLwoKCiAgcmVtb3ZlRW1wdHlOb2RlcygpIHsKICAgIGZvciAobGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVtb3ZlRW1wdHlOb2RlcygpOwoKICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuW2ldLmNoaWxkcmVuLmxlbmd0aCAmJiAhdGhpcy5jaGlsZHJlbltpXS5kYXRhLmxlbmd0aCkgewogICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEpOwogICAgICB9CiAgICB9CiAgfQoKfQovKioNCiAqIEBjbGFzcyBPY3RyZWUNCiAqIEBwYXJhbSB7QUFCQn0gYWFiYiBUaGUgdG90YWwgQUFCQiBvZiB0aGUgdHJlZQ0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heERlcHRoPThdIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGgNCiAqIEBleHRlbmRzIE9jdHJlZU5vZGUNCiAqLwoKCmNsYXNzIE9jdHJlZSBleHRlbmRzIE9jdHJlZU5vZGUgewogIC8vIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGgKICBjb25zdHJ1Y3RvcihhYWJiLCBvcHRpb25zID0ge30pIHsKICAgIHN1cGVyKHsKICAgICAgcm9vdDogbnVsbCwKICAgICAgYWFiYgogICAgfSk7CiAgICB0aGlzLm1heERlcHRoID0gdHlwZW9mIG9wdGlvbnMubWF4RGVwdGggIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhEZXB0aCA6IDg7CiAgfQoKfQoKY29uc3QgaGFsZkRpYWdvbmFsID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wQUFCQiQxID0gbmV3IEFBQkIoKTsKLyoqDQogKiBAY2xhc3MgVHJpbWVzaA0KICogQGNvbnN0cnVjdG9yDQogKiBAcGFyYW0ge2FycmF5fSB2ZXJ0aWNlcw0KICogQHBhcmFtIHthcnJheX0gaW5kaWNlcw0KICogQGV4dGVuZHMgU2hhcGUNCiAqIEBleGFtcGxlDQogKiAgICAgLy8gSG93IHRvIG1ha2UgYSBtZXNoIHdpdGggYSBzaW5nbGUgdHJpYW5nbGUNCiAqICAgICBjb25zdCB2ZXJ0aWNlcyA9IFsNCiAqICAgICAgICAgMCwgMCwgMCwgLy8gdmVydGV4IDANCiAqICAgICAgICAgMSwgMCwgMCwgLy8gdmVydGV4IDENCiAqICAgICAgICAgMCwgMSwgMCAgLy8gdmVydGV4IDINCiAqICAgICBdOw0KICogICAgIGNvbnN0IGluZGljZXMgPSBbDQogKiAgICAgICAgIDAsIDEsIDIgIC8vIHRyaWFuZ2xlIDANCiAqICAgICBdOw0KICogICAgIGNvbnN0IHRyaW1lc2hTaGFwZSA9IG5ldyBUcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTsNCiAqLwoKY2xhc3MgVHJpbWVzaCBleHRlbmRzIFNoYXBlIHsKICAvLyBBcnJheSBvZiBpbnRlZ2VycywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIHRyaWFuZ2xlIGNvbnNpc3RzIG9mLiBUaGUgbGVuZ3RoIG9mIHRoaXMgYXJyYXkgaXMgdGh1cyAzIHRpbWVzIHRoZSBudW1iZXIgb2YgdHJpYW5nbGVzLgogIC8vIFRoZSBub3JtYWxzIGRhdGEuCiAgLy8gVGhlIGxvY2FsIEFBQkIgb2YgdGhlIG1lc2guCiAgLy8gUmVmZXJlbmNlcyB0byB2ZXJ0ZXggcGFpcnMsIG1ha2luZyB1cCBhbGwgdW5pcXVlIGVkZ2VzIGluIHRoZSB0cmltZXNoLgogIC8vIExvY2FsIHNjYWxpbmcgb2YgdGhlIG1lc2guIFVzZSAuc2V0U2NhbGUoKSB0byBzZXQgaXQuCiAgLy8gVGhlIGluZGV4ZWQgdHJpYW5nbGVzLiBVc2UgLnVwZGF0ZVRyZWUoKSB0byB1cGRhdGUgaXQuCiAgY29uc3RydWN0b3IodmVydGljZXMsIGluZGljZXMpIHsKICAgIHN1cGVyKHsKICAgICAgdHlwZTogU2hhcGUudHlwZXMuVFJJTUVTSAogICAgfSk7CiAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcyk7CiAgICB0aGlzLmluZGljZXMgPSBuZXcgSW50MTZBcnJheShpbmRpY2VzKTsKICAgIHRoaXMubm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoaW5kaWNlcy5sZW5ndGgpOwogICAgdGhpcy5hYWJiID0gbmV3IEFBQkIoKTsKICAgIHRoaXMuZWRnZXMgPSBudWxsOwogICAgdGhpcy5zY2FsZSA9IG5ldyBWZWMzKDEsIDEsIDEpOwogICAgdGhpcy50cmVlID0gbmV3IE9jdHJlZSgpOwogICAgdGhpcy51cGRhdGVFZGdlcygpOwogICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7CiAgICB0aGlzLnVwZGF0ZUFBQkIoKTsKICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgIHRoaXMudXBkYXRlVHJlZSgpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCB1cGRhdGVUcmVlDQogICAqLwoKCiAgdXBkYXRlVHJlZSgpIHsKICAgIGNvbnN0IHRyZWUgPSB0aGlzLnRyZWU7CiAgICB0cmVlLnJlc2V0KCk7CiAgICB0cmVlLmFhYmIuY29weSh0aGlzLmFhYmIpOwogICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOyAvLyBUaGUgbG9jYWwgbWVzaCBBQUJCIGlzIHNjYWxlZCwgYnV0IHRoZSBvY3RyZWUgQUFCQiBzaG91bGQgYmUgdW5zY2FsZWQKCiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54OwogICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueSAqPSAxIC8gc2NhbGUueTsKICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnogKj0gMSAvIHNjYWxlLno7CiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54OwogICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueSAqPSAxIC8gc2NhbGUueTsKICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnogKj0gMSAvIHNjYWxlLno7IC8vIEluc2VydCBhbGwgdHJpYW5nbGVzCgogICAgY29uc3QgdHJpYW5nbGVBQUJCID0gbmV3IEFBQkIoKTsKICAgIGNvbnN0IGEgPSBuZXcgVmVjMygpOwogICAgY29uc3QgYiA9IG5ldyBWZWMzKCk7CiAgICBjb25zdCBjID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IHBvaW50cyA9IFthLCBiLCBjXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHsKICAgICAgLy90aGlzLmdldFRyaWFuZ2xlVmVydGljZXMoaSwgYSwgYiwgYyk7CiAgICAgIC8vIEdldCB1bnNjYWxlZCB0cmlhbmdsZSB2ZXJ0cwogICAgICBjb25zdCBpMyA9IGkgKiAzOwoKICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7CgogICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAxXSwgYik7CgogICAgICB0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAyXSwgYyk7CgogICAgICB0cmlhbmdsZUFBQkIuc2V0RnJvbVBvaW50cyhwb2ludHMpOwogICAgICB0cmVlLmluc2VydCh0cmlhbmdsZUFBQkIsIGkpOwogICAgfQoKICAgIHRyZWUucmVtb3ZlRW1wdHlOb2RlcygpOwogIH0KICAvKioNCiAgICogR2V0IHRyaWFuZ2xlcyBpbiBhIGxvY2FsIEFBQkIgZnJvbSB0aGUgdHJpbWVzaC4NCiAgICogQG1ldGhvZCBnZXRUcmlhbmdsZXNJbkFBQkINCiAgICogQHBhcmFtICB7QUFCQn0gYWFiYg0KICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IG9mIGludGVnZXJzLCByZWZlcmVuY2luZyB0aGUgcXVlcmllZCB0cmlhbmdsZXMuDQogICAqLwoKCiAgZ2V0VHJpYW5nbGVzSW5BQUJCKGFhYmIsIHJlc3VsdCkgewogICAgdW5zY2FsZWRBQUJCLmNvcHkoYWFiYik7IC8vIFNjYWxlIGl0IHRvIGxvY2FsCgogICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOwogICAgY29uc3QgaXN4ID0gc2NhbGUueDsKICAgIGNvbnN0IGlzeSA9IHNjYWxlLnk7CiAgICBjb25zdCBpc3ogPSBzY2FsZS56OwogICAgY29uc3QgbCA9IHVuc2NhbGVkQUFCQi5sb3dlckJvdW5kOwogICAgY29uc3QgdSA9IHVuc2NhbGVkQUFCQi51cHBlckJvdW5kOwogICAgbC54IC89IGlzeDsKICAgIGwueSAvPSBpc3k7CiAgICBsLnogLz0gaXN6OwogICAgdS54IC89IGlzeDsKICAgIHUueSAvPSBpc3k7CiAgICB1LnogLz0gaXN6OwogICAgcmV0dXJuIHRoaXMudHJlZS5hYWJiUXVlcnkodW5zY2FsZWRBQUJCLCByZXN1bHQpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBzZXRTY2FsZQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlDQogICAqLwoKCiAgc2V0U2NhbGUoc2NhbGUpIHsKICAgIGNvbnN0IHdhc1VuaWZvcm0gPSB0aGlzLnNjYWxlLnggPT09IHRoaXMuc2NhbGUueSAmJiB0aGlzLnNjYWxlLnkgPT09IHRoaXMuc2NhbGUuejsKICAgIGNvbnN0IGlzVW5pZm9ybSA9IHNjYWxlLnggPT09IHNjYWxlLnkgJiYgc2NhbGUueSA9PT0gc2NhbGUuejsKCiAgICBpZiAoISh3YXNVbmlmb3JtICYmIGlzVW5pZm9ybSkpIHsKICAgICAgLy8gTm9uLXVuaWZvcm0gc2NhbGluZy4gTmVlZCB0byB1cGRhdGUgbm9ybWFscy4KICAgICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7CiAgICB9CgogICAgdGhpcy5zY2FsZS5jb3B5KHNjYWxlKTsKICAgIHRoaXMudXBkYXRlQUFCQigpOwogICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogIH0KICAvKioNCiAgICogQ29tcHV0ZSB0aGUgbm9ybWFscyBvZiB0aGUgZmFjZXMuIFdpbGwgc2F2ZSBpbiB0aGUgLm5vcm1hbHMgYXJyYXkuDQogICAqIEBtZXRob2QgdXBkYXRlTm9ybWFscw0KICAgKi8KCgogIHVwZGF0ZU5vcm1hbHMoKSB7CiAgICBjb25zdCBuID0gY29tcHV0ZU5vcm1hbHNfbjsgLy8gR2VuZXJhdGUgbm9ybWFscwoKICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLm5vcm1hbHM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmluZGljZXNbaTNdOwogICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07CiAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTsKICAgICAgdGhpcy5nZXRWZXJ0ZXgoYSwgdmEpOwogICAgICB0aGlzLmdldFZlcnRleChiLCB2Yik7CiAgICAgIHRoaXMuZ2V0VmVydGV4KGMsIHZjKTsKICAgICAgVHJpbWVzaC5jb21wdXRlTm9ybWFsKHZiLCB2YSwgdmMsIG4pOwogICAgICBub3JtYWxzW2kzXSA9IG4ueDsKICAgICAgbm9ybWFsc1tpMyArIDFdID0gbi55OwogICAgICBub3JtYWxzW2kzICsgMl0gPSBuLno7CiAgICB9CiAgfQogIC8qKg0KICAgKiBVcGRhdGUgdGhlIC5lZGdlcyBwcm9wZXJ0eQ0KICAgKiBAbWV0aG9kIHVwZGF0ZUVkZ2VzDQogICAqLwoKCiAgdXBkYXRlRWRnZXMoKSB7CiAgICBjb25zdCBlZGdlcyA9IHt9OwoKICAgIGNvbnN0IGFkZCA9IChhLCBiKSA9PiB7CiAgICAgIGNvbnN0IGtleSA9IGEgPCBiID8gYSArICJfIiArIGIgOiBiICsgIl8iICsgYTsKICAgICAgZWRnZXNba2V5XSA9IHRydWU7CiAgICB9OwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTsKICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdOwogICAgICBjb25zdCBjID0gdGhpcy5pbmRpY2VzW2kzICsgMl07CiAgICAgIGFkZChhLCBiKTsKICAgICAgYWRkKGIsIGMpOwogICAgICBhZGQoYywgYSk7CiAgICB9CgogICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VzKTsKICAgIHRoaXMuZWRnZXMgPSBuZXcgSW50MTZBcnJheShrZXlzLmxlbmd0aCAqIDIpOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBpbmRpY2VzID0ga2V5c1tpXS5zcGxpdCgnXycpOwogICAgICB0aGlzLmVkZ2VzWzIgKiBpXSA9IHBhcnNlSW50KGluZGljZXNbMF0sIDEwKTsKICAgICAgdGhpcy5lZGdlc1syICogaSArIDFdID0gcGFyc2VJbnQoaW5kaWNlc1sxXSwgMTApOwogICAgfQogIH0KICAvKioNCiAgICogR2V0IGFuIGVkZ2UgdmVydGV4DQogICAqIEBtZXRob2QgZ2V0RWRnZVZlcnRleA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVkZ2VJbmRleA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IGZpcnN0T3JTZWNvbmQgMCBvciAxLCBkZXBlbmRpbmcgb24gd2hpY2ggb25lIG9mIHRoZSB2ZXJ0aWNlcyB5b3UgbmVlZC4NCiAgICogQHBhcmFtICB7VmVjM30gdmVydGV4U3RvcmUgV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdA0KICAgKi8KCgogIGdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCBmaXJzdE9yU2Vjb25kLCB2ZXJ0ZXhTdG9yZSkgewogICAgY29uc3QgdmVydGV4SW5kZXggPSB0aGlzLmVkZ2VzW2VkZ2VJbmRleCAqIDIgKyAoZmlyc3RPclNlY29uZCA/IDEgOiAwKV07CiAgICB0aGlzLmdldFZlcnRleCh2ZXJ0ZXhJbmRleCwgdmVydGV4U3RvcmUpOwogIH0KICAvKioNCiAgICogR2V0IGEgdmVjdG9yIGFsb25nIGFuIGVkZ2UuDQogICAqIEBtZXRob2QgZ2V0RWRnZVZlY3Rvcg0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVkZ2VJbmRleA0KICAgKiBAcGFyYW0gIHtWZWMzfSB2ZWN0b3JTdG9yZQ0KICAgKi8KCgogIGdldEVkZ2VWZWN0b3IoZWRnZUluZGV4LCB2ZWN0b3JTdG9yZSkgewogICAgY29uc3QgdmEgPSBnZXRFZGdlVmVjdG9yX3ZhOwogICAgY29uc3QgdmIgPSBnZXRFZGdlVmVjdG9yX3ZiOwogICAgdGhpcy5nZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgMCwgdmEpOwogICAgdGhpcy5nZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgMSwgdmIpOwogICAgdmIudnN1Yih2YSwgdmVjdG9yU3RvcmUpOwogIH0KICAvKioNCiAgICogR2V0IHZlcnRleCBpLg0KICAgKiBAbWV0aG9kIGdldFZlcnRleA0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IGkNCiAgICogQHBhcmFtICB7VmVjM30gb3V0DQogICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAib3V0IiB2ZWN0b3Igb2JqZWN0DQogICAqLwoKCiAgZ2V0VmVydGV4KGksIG91dCkgewogICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOwoKICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KGksIG91dCk7CgogICAgb3V0LnggKj0gc2NhbGUueDsKICAgIG91dC55ICo9IHNjYWxlLnk7CiAgICBvdXQueiAqPSBzY2FsZS56OwogICAgcmV0dXJuIG91dDsKICB9CiAgLyoqDQogICAqIEdldCByYXcgdmVydGV4IGkNCiAgICogQHByaXZhdGUNCiAgICogQG1ldGhvZCBfZ2V0VW5zY2FsZWRWZXJ0ZXgNCiAgICogQHBhcmFtICB7bnVtYmVyfSBpDQogICAqIEBwYXJhbSAge1ZlYzN9IG91dA0KICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgIm91dCIgdmVjdG9yIG9iamVjdA0KICAgKi8KCgogIF9nZXRVbnNjYWxlZFZlcnRleChpLCBvdXQpIHsKICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICByZXR1cm4gb3V0LnNldCh2ZXJ0aWNlc1tpM10sIHZlcnRpY2VzW2kzICsgMV0sIHZlcnRpY2VzW2kzICsgMl0pOwogIH0KICAvKioNCiAgICogR2V0IGEgdmVydGV4IGZyb20gdGhlIHRyaW1lc2gsdHJhbnNmb3JtZWQgYnkgdGhlIGdpdmVuIHBvc2l0aW9uIGFuZCBxdWF0ZXJuaW9uLg0KICAgKiBAbWV0aG9kIGdldFdvcmxkVmVydGV4DQogICAqIEBwYXJhbSAge251bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBwb3MNCiAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdA0KICAgKiBAcGFyYW0gIHtWZWMzfSBvdXQNCiAgICogQHJldHVybiB7VmVjM30gVGhlICJvdXQiIHZlY3RvciBvYmplY3QNCiAgICovCgoKICBnZXRXb3JsZFZlcnRleChpLCBwb3MsIHF1YXQsIG91dCkgewogICAgdGhpcy5nZXRWZXJ0ZXgoaSwgb3V0KTsKICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3MsIHF1YXQsIG91dCwgb3V0KTsKICAgIHJldHVybiBvdXQ7CiAgfQogIC8qKg0KICAgKiBHZXQgdGhlIHRocmVlIHZlcnRpY2VzIGZvciB0cmlhbmdsZSBpLg0KICAgKiBAbWV0aG9kIGdldFRyaWFuZ2xlVmVydGljZXMNCiAgICogQHBhcmFtICB7bnVtYmVyfSBpDQogICAqIEBwYXJhbSAge1ZlYzN9IGENCiAgICogQHBhcmFtICB7VmVjM30gYg0KICAgKiBAcGFyYW0gIHtWZWMzfSBjDQogICAqLwoKCiAgZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKSB7CiAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7CiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAxXSwgYik7CiAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAyXSwgYyk7CiAgfQogIC8qKg0KICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgdHJpYW5nbGUgaS4NCiAgICogQG1ldGhvZCBnZXROb3JtYWwNCiAgICogQHBhcmFtICB7TnVtYmVyfSBpDQogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgInRhcmdldCIgdmVjdG9yIG9iamVjdA0KICAgKi8KCgogIGdldE5vcm1hbChpLCB0YXJnZXQpIHsKICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICByZXR1cm4gdGFyZ2V0LnNldCh0aGlzLm5vcm1hbHNbaTNdLCB0aGlzLm5vcm1hbHNbaTMgKyAxXSwgdGhpcy5ub3JtYWxzW2kzICsgMl0pOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWENCiAgICogQHBhcmFtICB7TnVtYmVyfSBtYXNzDQogICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldA0KICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgInRhcmdldCIgdmVjdG9yIG9iamVjdA0KICAgKi8KCgogIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHsKICAgIC8vIEFwcHJveGltYXRlIHdpdGggYm94IGluZXJ0aWEKICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdAogICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKGNsaV9hYWJiKTsKICAgIGNvbnN0IHggPSBjbGlfYWFiYi51cHBlckJvdW5kLnggLSBjbGlfYWFiYi5sb3dlckJvdW5kLng7CiAgICBjb25zdCB5ID0gY2xpX2FhYmIudXBwZXJCb3VuZC55IC0gY2xpX2FhYmIubG93ZXJCb3VuZC55OwogICAgY29uc3QgeiA9IGNsaV9hYWJiLnVwcGVyQm91bmQueiAtIGNsaV9hYWJiLmxvd2VyQm91bmQuejsKICAgIHJldHVybiB0YXJnZXQuc2V0KDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopLCAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHggKiAyICogeCkpOwogIH0KICAvKioNCiAgICogQ29tcHV0ZSB0aGUgbG9jYWwgQUFCQiBmb3IgdGhlIHRyaW1lc2gNCiAgICogQG1ldGhvZCBjb21wdXRlTG9jYWxBQUJCDQogICAqIEBwYXJhbSAge0FBQkJ9IGFhYmINCiAgICovCgoKICBjb21wdXRlTG9jYWxBQUJCKGFhYmIpIHsKICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICBjb25zdCB1ID0gYWFiYi51cHBlckJvdW5kOwogICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwogICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgY29uc3QgdiA9IGNvbXB1dGVMb2NhbEFBQkJfd29ybGRWZXJ0OwogICAgdGhpcy5nZXRWZXJ0ZXgoMCwgdik7CiAgICBsLmNvcHkodik7CiAgICB1LmNvcHkodik7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykgewogICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsKCiAgICAgIGlmICh2LnggPCBsLngpIHsKICAgICAgICBsLnggPSB2Lng7CiAgICAgIH0gZWxzZSBpZiAodi54ID4gdS54KSB7CiAgICAgICAgdS54ID0gdi54OwogICAgICB9CgogICAgICBpZiAodi55IDwgbC55KSB7CiAgICAgICAgbC55ID0gdi55OwogICAgICB9IGVsc2UgaWYgKHYueSA+IHUueSkgewogICAgICAgIHUueSA9IHYueTsKICAgICAgfQoKICAgICAgaWYgKHYueiA8IGwueikgewogICAgICAgIGwueiA9IHYuejsKICAgICAgfSBlbHNlIGlmICh2LnogPiB1LnopIHsKICAgICAgICB1LnogPSB2Lno7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIFVwZGF0ZSB0aGUgLmFhYmIgcHJvcGVydHkNCiAgICogQG1ldGhvZCB1cGRhdGVBQUJCDQogICAqLwoKCiAgdXBkYXRlQUFCQigpIHsKICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQih0aGlzLmFhYmIpOwogIH0KICAvKioNCiAgICogV2lsbCB1cGRhdGUgdGhlIC5ib3VuZGluZ1NwaGVyZVJhZGl1cyBwcm9wZXJ0eQ0KICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzDQogICAqLwoKCiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAvLyBBc3N1bWUgcG9pbnRzIGFyZSBkaXN0cmlidXRlZCB3aXRoIGxvY2FsICgwLDAsMCkgYXMgY2VudGVyCiAgICBsZXQgbWF4MiA9IDA7CiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICBjb25zdCB2ID0gbmV3IFZlYzMoKTsKCiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHZlcnRpY2VzLmxlbmd0aCAvIDM7IGkgIT09IE47IGkrKykgewogICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsKICAgICAgY29uc3Qgbm9ybTIgPSB2Lmxlbmd0aFNxdWFyZWQoKTsKCiAgICAgIGlmIChub3JtMiA+IG1heDIpIHsKICAgICAgICBtYXgyID0gbm9ybTI7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTWF0aC5zcXJ0KG1heDIpOwogIH0KICAvKioNCiAgICogQG1ldGhvZCBjYWxjdWxhdGVXb3JsZEFBQkINCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgcG9zDQogICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXQNCiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWluDQogICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1heA0KICAgKi8KCgogIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAvKg0KICAgICAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGggLyAzLA0KICAgICAgICAgICAgdmVydHMgPSB0aGlzLnZlcnRpY2VzOw0KICAgICAgICBjb25zdCBtaW54LG1pbnksbWlueixtYXh4LG1heHksbWF4ejsNCiAgICAgICAgICBjb25zdCB2ID0gdGVtcFdvcmxkVmVydGV4Ow0KICAgICAgICBmb3IobGV0IGk9MDsgaTxuOyBpKyspew0KICAgICAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7DQogICAgICAgICAgICBxdWF0LnZtdWx0KHYsIHYpOw0KICAgICAgICAgICAgcG9zLnZhZGQodiwgdik7DQogICAgICAgICAgICBpZiAodi54IDwgbWlueCB8fCBtaW54PT09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICBtaW54ID0gdi54Ow0KICAgICAgICAgICAgfSBlbHNlIGlmKHYueCA+IG1heHggfHwgbWF4eD09PXVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgbWF4eCA9IHYueDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgaWYgKHYueSA8IG1pbnkgfHwgbWlueT09PXVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgbWlueSA9IHYueTsNCiAgICAgICAgICAgIH0gZWxzZSBpZih2LnkgPiBtYXh5IHx8IG1heHk9PT11bmRlZmluZWQpew0KICAgICAgICAgICAgICAgIG1heHkgPSB2Lnk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAgIGlmICh2LnogPCBtaW56IHx8IG1pbno9PT11bmRlZmluZWQpew0KICAgICAgICAgICAgICAgIG1pbnogPSB2Lno7DQogICAgICAgICAgICB9IGVsc2UgaWYodi56ID4gbWF4eiB8fCBtYXh6PT09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICBtYXh6ID0gdi56Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIG1pbi5zZXQobWlueCxtaW55LG1pbnopOw0KICAgICAgICBtYXguc2V0KG1heHgsbWF4eSxtYXh6KTsNCiAgICAgICAgKi8KICAgIC8vIEZhc3RlciBhcHByb3hpbWF0aW9uIHVzaW5nIGxvY2FsIEFBQkIKICAgIGNvbnN0IGZyYW1lID0gY2FsY3VsYXRlV29ybGRBQUJCX2ZyYW1lOwogICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlV29ybGRBQUJCX2FhYmI7CiAgICBmcmFtZS5wb3NpdGlvbiA9IHBvczsKICAgIGZyYW1lLnF1YXRlcm5pb24gPSBxdWF0OwogICAgdGhpcy5hYWJiLnRvV29ybGRGcmFtZShmcmFtZSwgcmVzdWx0KTsKICAgIG1pbi5jb3B5KHJlc3VsdC5sb3dlckJvdW5kKTsKICAgIG1heC5jb3B5KHJlc3VsdC51cHBlckJvdW5kKTsKICB9CiAgLyoqDQogICAqIEdldCBhcHByb3hpbWF0ZSB2b2x1bWUNCiAgICogQG1ldGhvZCB2b2x1bWUNCiAgICogQHJldHVybiB7TnVtYmVyfQ0KICAgKi8KCgogIHZvbHVtZSgpIHsKICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyAvIDMuMDsKICB9Cgp9Cgpjb25zdCBjb21wdXRlTm9ybWFsc19uID0gbmV3IFZlYzMoKTsKY29uc3QgdW5zY2FsZWRBQUJCID0gbmV3IEFBQkIoKTsKY29uc3QgZ2V0RWRnZVZlY3Rvcl92YSA9IG5ldyBWZWMzKCk7CmNvbnN0IGdldEVkZ2VWZWN0b3JfdmIgPSBuZXcgVmVjMygpOwovKioNCiAqIEdldCBmYWNlIG5vcm1hbCBnaXZlbiAzIHZlcnRpY2VzDQogKiBAc3RhdGljDQogKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWwNCiAqIEBwYXJhbSB7VmVjM30gdmENCiAqIEBwYXJhbSB7VmVjM30gdmINCiAqIEBwYXJhbSB7VmVjM30gdmMNCiAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0DQogKi8KCmNvbnN0IGNiID0gbmV3IFZlYzMoKTsKY29uc3QgYWIgPSBuZXcgVmVjMygpOwoKVHJpbWVzaC5jb21wdXRlTm9ybWFsID0gKHZhLCB2YiwgdmMsIHRhcmdldCkgPT4gewogIHZiLnZzdWIodmEsIGFiKTsKICB2Yy52c3ViKHZiLCBjYik7CiAgY2IuY3Jvc3MoYWIsIHRhcmdldCk7CgogIGlmICghdGFyZ2V0LmlzWmVybygpKSB7CiAgICB0YXJnZXQubm9ybWFsaXplKCk7CiAgfQp9OwoKY29uc3QgdmEgPSBuZXcgVmVjMygpOwpjb25zdCB2YiA9IG5ldyBWZWMzKCk7CmNvbnN0IHZjID0gbmV3IFZlYzMoKTsKY29uc3QgY2xpX2FhYmIgPSBuZXcgQUFCQigpOwpjb25zdCBjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydCA9IG5ldyBWZWMzKCk7CmNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSA9IG5ldyBUcmFuc2Zvcm0oKTsKY29uc3QgY2FsY3VsYXRlV29ybGRBQUJCX2FhYmIgPSBuZXcgQUFCQigpOwovKioNCiAqIENyZWF0ZSBhIFRyaW1lc2ggaW5zdGFuY2UsIHNoYXBlZCBhcyBhIHRvcnVzLg0KICogQHN0YXRpYw0KICogQG1ldGhvZCBjcmVhdGVUb3J1cw0KICogQHBhcmFtICB7bnVtYmVyfSBbcmFkaXVzPTFdDQogKiBAcGFyYW0gIHtudW1iZXJ9IFt0dWJlPTAuNV0NCiAqIEBwYXJhbSAge251bWJlcn0gW3JhZGlhbFNlZ21lbnRzPThdDQogKiBAcGFyYW0gIHtudW1iZXJ9IFt0dWJ1bGFyU2VnbWVudHM9Nl0NCiAqIEBwYXJhbSAge251bWJlcn0gW2FyYz02LjI4MzE4NTMwNzE3OTU4Nl0NCiAqIEByZXR1cm4ge1RyaW1lc2h9IEEgdG9ydXMNCiAqLwoKVHJpbWVzaC5jcmVhdGVUb3J1cyA9IChyYWRpdXMgPSAxLCB0dWJlID0gMC41LCByYWRpYWxTZWdtZW50cyA9IDgsIHR1YnVsYXJTZWdtZW50cyA9IDYsIGFyYyA9IE1hdGguUEkgKiAyKSA9PiB7CiAgY29uc3QgdmVydGljZXMgPSBbXTsKICBjb25zdCBpbmRpY2VzID0gW107CgogIGZvciAobGV0IGogPSAwOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHR1YnVsYXJTZWdtZW50czsgaSsrKSB7CiAgICAgIGNvbnN0IHUgPSBpIC8gdHVidWxhclNlZ21lbnRzICogYXJjOwogICAgICBjb25zdCB2ID0gaiAvIHJhZGlhbFNlZ21lbnRzICogTWF0aC5QSSAqIDI7CiAgICAgIGNvbnN0IHggPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYpKSAqIE1hdGguY29zKHUpOwogICAgICBjb25zdCB5ID0gKHJhZGl1cyArIHR1YmUgKiBNYXRoLmNvcyh2KSkgKiBNYXRoLnNpbih1KTsKICAgICAgY29uc3QgeiA9IHR1YmUgKiBNYXRoLnNpbih2KTsKICAgICAgdmVydGljZXMucHVzaCh4LCB5LCB6KTsKICAgIH0KICB9CgogIGZvciAobGV0IGogPSAxOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHsKICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHR1YnVsYXJTZWdtZW50czsgaSsrKSB7CiAgICAgIGNvbnN0IGEgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiBqICsgaSAtIDE7CiAgICAgIGNvbnN0IGIgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaSAtIDE7CiAgICAgIGNvbnN0IGMgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaTsKICAgICAgY29uc3QgZCA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpOwogICAgICBpbmRpY2VzLnB1c2goYSwgYiwgZCk7CiAgICAgIGluZGljZXMucHVzaChiLCBjLCBkKTsKICAgIH0KICB9CgogIHJldHVybiBuZXcgVHJpbWVzaCh2ZXJ0aWNlcywgaW5kaWNlcyk7Cn07Ci8qKg0KICogQ29uc3RyYWludCBlcXVhdGlvbiBzb2x2ZXIgYmFzZSBjbGFzcy4NCiAqIEBjbGFzcyBTb2x2ZXINCiAqIEBjb25zdHJ1Y3Rvcg0KICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICovCgoKY2xhc3MgU29sdmVyIHsKICAvLyBBbGwgZXF1YXRpb25zIHRvIGJlIHNvbHZlZAogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5lcXVhdGlvbnMgPSBbXTsKICB9CiAgLyoqDQogICAqIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzc2VzIQ0KICAgKiBAbWV0aG9kIHNvbHZlDQogICAqIEBwYXJhbSAge051bWJlcn0gZHQNCiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkDQogICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkDQogICAqLwoKCiAgc29sdmUoZHQsIHdvcmxkKSB7CiAgICByZXR1cm4gKC8vIFNob3VsZCByZXR1cm4gdGhlIG51bWJlciBvZiBpdGVyYXRpb25zIGRvbmUhCiAgICAgIDAKICAgICk7CiAgfQogIC8qKg0KICAgKiBBZGQgYW4gZXF1YXRpb24NCiAgICogQG1ldGhvZCBhZGRFcXVhdGlvbg0KICAgKiBAcGFyYW0ge0VxdWF0aW9ufSBlcQ0KICAgKi8KCgogIGFkZEVxdWF0aW9uKGVxKSB7CiAgICBpZiAoZXEuZW5hYmxlZCkgewogICAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGVxKTsKICAgIH0KICB9CiAgLyoqDQogICAqIFJlbW92ZSBhbiBlcXVhdGlvbg0KICAgKiBAbWV0aG9kIHJlbW92ZUVxdWF0aW9uDQogICAqIEBwYXJhbSB7RXF1YXRpb259IGVxDQogICAqLwoKCiAgcmVtb3ZlRXF1YXRpb24oZXEpIHsKICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zOwogICAgY29uc3QgaSA9IGVxcy5pbmRleE9mKGVxKTsKCiAgICBpZiAoaSAhPT0gLTEpIHsKICAgICAgZXFzLnNwbGljZShpLCAxKTsKICAgIH0KICB9CiAgLyoqDQogICAqIEFkZCBhbGwgZXF1YXRpb25zDQogICAqIEBtZXRob2QgcmVtb3ZlQWxsRXF1YXRpb25zDQogICAqLwoKCiAgcmVtb3ZlQWxsRXF1YXRpb25zKCkgewogICAgdGhpcy5lcXVhdGlvbnMubGVuZ3RoID0gMDsKICB9Cgp9Ci8qKg0KICogQ29uc3RyYWludCBlcXVhdGlvbiBHYXVzcy1TZWlkZWwgc29sdmVyLg0KICogQGNsYXNzIEdTU29sdmVyDQogKiBAY29uc3RydWN0b3INCiAqIEB0b2RvIFRoZSBzcG9vayBwYXJhbWV0ZXJzIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIGVhY2ggY29uc3RyYWludCwgbm90IGdsb2JhbGx5Lg0KICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQ0KICogQHNlZSBodHRwczovL3d3dzguY3MudW11LnNlL2t1cnNlci81RFYwNTgvVlQwOS9sZWN0dXJlcy9zcG9va25vdGVzLnBkZg0KICogQGV4dGVuZHMgU29sdmVyDQogKi8KCgpjbGFzcyBHU1NvbHZlciBleHRlbmRzIFNvbHZlciB7CiAgLy8gVGhlIG51bWJlciBvZiBzb2x2ZXIgaXRlcmF0aW9ucyBkZXRlcm1pbmVzIHF1YWxpdHkgb2YgdGhlIGNvbnN0cmFpbnRzIGluIHRoZSB3b3JsZC4gVGhlIG1vcmUgaXRlcmF0aW9ucywgdGhlIG1vcmUgY29ycmVjdCBzaW11bGF0aW9uLiBNb3JlIGl0ZXJhdGlvbnMgbmVlZCBtb3JlIGNvbXB1dGF0aW9ucyB0aG91Z2guIElmIHlvdSBoYXZlIGEgbGFyZ2UgZ3Jhdml0eSBmb3JjZSBpbiB5b3VyIHdvcmxkLCB5b3Ugd2lsbCBuZWVkIG1vcmUgaXRlcmF0aW9ucy4KICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLgogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwOwogICAgdGhpcy50b2xlcmFuY2UgPSAxZS03OwogIH0KICAvKioNCiAgICogU29sdmUNCiAgICogQG1ldGhvZCBzb2x2ZQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0DQogICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZA0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZA0KICAgKi8KCgogIHNvbHZlKGR0LCB3b3JsZCkgewogICAgbGV0IGl0ZXIgPSAwOwogICAgY29uc3QgbWF4SXRlciA9IHRoaXMuaXRlcmF0aW9uczsKICAgIGNvbnN0IHRvbFNxdWFyZWQgPSB0aGlzLnRvbGVyYW5jZSAqIHRoaXMudG9sZXJhbmNlOwogICAgY29uc3QgZXF1YXRpb25zID0gdGhpcy5lcXVhdGlvbnM7CiAgICBjb25zdCBOZXEgPSBlcXVhdGlvbnMubGVuZ3RoOwogICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzOwogICAgY29uc3QgTmJvZGllcyA9IGJvZGllcy5sZW5ndGg7CiAgICBjb25zdCBoID0gZHQ7CiAgICBsZXQgQjsKICAgIGxldCBpbnZDOwogICAgbGV0IGRlbHRhbGFtYmRhOwogICAgbGV0IGRlbHRhbGFtYmRhVG90OwogICAgbGV0IEdXbGFtYmRhOwogICAgbGV0IGxhbWJkYWo7IC8vIFVwZGF0ZSBzb2x2ZSBtYXNzCgogICAgaWYgKE5lcSAhPT0gMCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7CiAgICAgICAgYm9kaWVzW2ldLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTsKICAgICAgfQogICAgfSAvLyBUaGluZ3MgdGhhdCBkb2VzIG5vdCBjaGFuZ2UgZHVyaW5nIGl0ZXJhdGlvbiBjYW4gYmUgY29tcHV0ZWQgb25jZQoKCiAgICBjb25zdCBpbnZDcyA9IEdTU29sdmVyX3NvbHZlX2ludkNzOwogICAgY29uc3QgQnMgPSBHU1NvbHZlcl9zb2x2ZV9CczsKICAgIGNvbnN0IGxhbWJkYSA9IEdTU29sdmVyX3NvbHZlX2xhbWJkYTsKICAgIGludkNzLmxlbmd0aCA9IE5lcTsKICAgIEJzLmxlbmd0aCA9IE5lcTsKICAgIGxhbWJkYS5sZW5ndGggPSBOZXE7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcTsgaSsrKSB7CiAgICAgIGNvbnN0IGMgPSBlcXVhdGlvbnNbaV07CiAgICAgIGxhbWJkYVtpXSA9IDAuMDsKICAgICAgQnNbaV0gPSBjLmNvbXB1dGVCKGgpOwogICAgICBpbnZDc1tpXSA9IDEuMCAvIGMuY29tcHV0ZUMoKTsKICAgIH0KCiAgICBpZiAoTmVxICE9PSAwKSB7CiAgICAgIC8vIFJlc2V0IHZsYW1iZGEKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykgewogICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgY29uc3QgdmxhbWJkYSA9IGIudmxhbWJkYTsKICAgICAgICBjb25zdCB3bGFtYmRhID0gYi53bGFtYmRhOwogICAgICAgIHZsYW1iZGEuc2V0KDAsIDAsIDApOwogICAgICAgIHdsYW1iZGEuc2V0KDAsIDAsIDApOwogICAgICB9IC8vIEl0ZXJhdGUgb3ZlciBlcXVhdGlvbnMKCgogICAgICBmb3IgKGl0ZXIgPSAwOyBpdGVyICE9PSBtYXhJdGVyOyBpdGVyKyspIHsKICAgICAgICAvLyBBY2N1bXVsYXRlIHRoZSB0b3RhbCBlcnJvciBmb3IgZWFjaCBpdGVyYXRpb24uCiAgICAgICAgZGVsdGFsYW1iZGFUb3QgPSAwLjA7CgogICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBOZXE7IGorKykgewogICAgICAgICAgY29uc3QgYyA9IGVxdWF0aW9uc1tqXTsgLy8gQ29tcHV0ZSBpdGVyYXRpb24KCiAgICAgICAgICBCID0gQnNbal07CiAgICAgICAgICBpbnZDID0gaW52Q3Nbal07CiAgICAgICAgICBsYW1iZGFqID0gbGFtYmRhW2pdOwogICAgICAgICAgR1dsYW1iZGEgPSBjLmNvbXB1dGVHV2xhbWJkYSgpOwogICAgICAgICAgZGVsdGFsYW1iZGEgPSBpbnZDICogKEIgLSBHV2xhbWJkYSAtIGMuZXBzICogbGFtYmRhaik7IC8vIENsYW1wIGlmIHdlIGFyZSBub3Qgd2l0aGluIHRoZSBtaW4vbWF4IGludGVydmFsCgogICAgICAgICAgaWYgKGxhbWJkYWogKyBkZWx0YWxhbWJkYSA8IGMubWluRm9yY2UpIHsKICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBjLm1pbkZvcmNlIC0gbGFtYmRhajsKICAgICAgICAgIH0gZWxzZSBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhID4gYy5tYXhGb3JjZSkgewogICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWF4Rm9yY2UgLSBsYW1iZGFqOwogICAgICAgICAgfQoKICAgICAgICAgIGxhbWJkYVtqXSArPSBkZWx0YWxhbWJkYTsKICAgICAgICAgIGRlbHRhbGFtYmRhVG90ICs9IGRlbHRhbGFtYmRhID4gMC4wID8gZGVsdGFsYW1iZGEgOiAtZGVsdGFsYW1iZGE7IC8vIGFicyhkZWx0YWxhbWJkYSkKCiAgICAgICAgICBjLmFkZFRvV2xhbWJkYShkZWx0YWxhbWJkYSk7CiAgICAgICAgfSAvLyBJZiB0aGUgdG90YWwgZXJyb3IgaXMgc21hbGwgZW5vdWdoIC0gc3RvcCBpdGVyYXRlCgoKICAgICAgICBpZiAoZGVsdGFsYW1iZGFUb3QgKiBkZWx0YWxhbWJkYVRvdCA8IHRvbFNxdWFyZWQpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSAvLyBBZGQgcmVzdWx0IHRvIHZlbG9jaXR5CgoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykgewogICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgY29uc3QgdiA9IGIudmVsb2NpdHk7CiAgICAgICAgY29uc3QgdyA9IGIuYW5ndWxhclZlbG9jaXR5OwogICAgICAgIGIudmxhbWJkYS52bXVsKGIubGluZWFyRmFjdG9yLCBiLnZsYW1iZGEpOwogICAgICAgIHYudmFkZChiLnZsYW1iZGEsIHYpOwogICAgICAgIGIud2xhbWJkYS52bXVsKGIuYW5ndWxhckZhY3RvciwgYi53bGFtYmRhKTsKICAgICAgICB3LnZhZGQoYi53bGFtYmRhLCB3KTsKICAgICAgfSAvLyBTZXQgdGhlIC5tdWx0aXBsaWVyIHByb3BlcnR5IG9mIGVhY2ggZXF1YXRpb24KCgogICAgICBsZXQgbCA9IGVxdWF0aW9ucy5sZW5ndGg7CiAgICAgIGNvbnN0IGludkR0ID0gMSAvIGg7CgogICAgICB3aGlsZSAobC0tKSB7CiAgICAgICAgZXF1YXRpb25zW2xdLm11bHRpcGxpZXIgPSBsYW1iZGFbbF0gKiBpbnZEdDsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBpdGVyOwogIH0KCn0KCmNvbnN0IEdTU29sdmVyX3NvbHZlX2xhbWJkYSA9IFtdOyAvLyBKdXN0IHRlbXBvcmFyeSBudW1iZXIgaG9sZGVycyB0aGF0IHdlIHdhbnQgdG8gcmV1c2UgZWFjaCBzb2x2ZS4KCmNvbnN0IEdTU29sdmVyX3NvbHZlX2ludkNzID0gW107CmNvbnN0IEdTU29sdmVyX3NvbHZlX0JzID0gW107Ci8qKg0KICogRm9yIHBvb2xpbmcgb2JqZWN0cyB0aGF0IGNhbiBiZSByZXVzZWQuDQogKiBAY2xhc3MgUG9vbA0KICogQGNvbnN0cnVjdG9yDQogKi8KCgpjbGFzcyBQb29sIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMub2JqZWN0cyA9IFtdOwogICAgdGhpcy50eXBlID0gT2JqZWN0OwogIH0KICAvKioNCiAgICogUmVsZWFzZSBhbiBvYmplY3QgYWZ0ZXIgdXNlDQogICAqIEBtZXRob2QgcmVsZWFzZQ0KICAgKiBAcGFyYW0ge09iamVjdH0gb2JqDQogICAqLwoKCiAgcmVsZWFzZSguLi5hcmdzKSB7CiAgICBjb25zdCBOYXJncyA9IGFyZ3MubGVuZ3RoOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYXJnczsgaSsrKSB7CiAgICAgIHRoaXMub2JqZWN0cy5wdXNoKGFyZ3NbaV0pOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KICAvKioNCiAgICogR2V0IGFuIG9iamVjdA0KICAgKiBAbWV0aG9kIGdldA0KICAgKiBAcmV0dXJuIHttaXhlZH0NCiAgICovCgoKICBnZXQoKSB7CiAgICBpZiAodGhpcy5vYmplY3RzLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RPYmplY3QoKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0aGlzLm9iamVjdHMucG9wKCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBDb25zdHJ1Y3QgYW4gb2JqZWN0LiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gZWFjaCBzdWJjbGFzcy4NCiAgICogQG1ldGhvZCBjb25zdHJ1Y3RPYmplY3QNCiAgICogQHJldHVybiB7bWl4ZWR9DQogICAqLwoKCiAgY29uc3RydWN0T2JqZWN0KCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdjb25zdHJ1Y3RPYmplY3QoKSBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBQb29sIHN1YmNsYXNzIHlldCEnKTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgcmVzaXplDQogICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplDQogICAqIEByZXR1cm4ge1Bvb2x9IFNlbGYsIGZvciBjaGFpbmluZw0KICAgKi8KCgogIHJlc2l6ZShzaXplKSB7CiAgICBjb25zdCBvYmplY3RzID0gdGhpcy5vYmplY3RzOwoKICAgIHdoaWxlIChvYmplY3RzLmxlbmd0aCA+IHNpemUpIHsKICAgICAgb2JqZWN0cy5wb3AoKTsKICAgIH0KCiAgICB3aGlsZSAob2JqZWN0cy5sZW5ndGggPCBzaXplKSB7CiAgICAgIG9iamVjdHMucHVzaCh0aGlzLmNvbnN0cnVjdE9iamVjdCgpKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9Cgp9Ci8qKg0KICogQGNsYXNzIFZlYzNQb29sDQogKiBAY29uc3RydWN0b3INCiAqIEBleHRlbmRzIFBvb2wNCiAqLwoKCmNsYXNzIFZlYzNQb29sIGV4dGVuZHMgUG9vbCB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy50eXBlID0gVmVjMzsKICB9CiAgLyoqDQogICAqIENvbnN0cnVjdCBhIHZlY3Rvcg0KICAgKiBAbWV0aG9kIGNvbnN0cnVjdE9iamVjdA0KICAgKiBAcmV0dXJuIHtWZWMzfQ0KICAgKi8KCgogIGNvbnN0cnVjdE9iamVjdCgpIHsKICAgIHJldHVybiBuZXcgVmVjMygpOwogIH0KCn0KCmNvbnN0IENPTExJU0lPTl9UWVBFUyA9IHsKICBzcGhlcmVTcGhlcmU6IFNoYXBlLnR5cGVzLlNQSEVSRSwKICBzcGhlcmVQbGFuZTogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuUExBTkUsCiAgYm94Qm94OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5CT1gsCiAgc3BoZXJlQm94OiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5CT1gsCiAgcGxhbmVCb3g6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuQk9YLAogIGNvbnZleENvbnZleDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICBzcGhlcmVDb252ZXg6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgcGxhbmVDb252ZXg6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICBib3hDb252ZXg6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgc3BoZXJlSGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELAogIGJveEhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCwKICBjb252ZXhIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELAogIHNwaGVyZVBhcnRpY2xlOiBTaGFwZS50eXBlcy5QQVJUSUNMRSB8IFNoYXBlLnR5cGVzLlNQSEVSRSwKICBwbGFuZVBhcnRpY2xlOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlBBUlRJQ0xFLAogIGJveFBhcnRpY2xlOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5QQVJUSUNMRSwKICBjb252ZXhQYXJ0aWNsZTogU2hhcGUudHlwZXMuUEFSVElDTEUgfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLAogIHNwaGVyZVRyaW1lc2g6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLlRSSU1FU0gsCiAgcGxhbmVUcmltZXNoOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlRSSU1FU0gKfTsKLyoqDQogKiBIZWxwZXIgY2xhc3MgZm9yIHRoZSBXb3JsZC4gR2VuZXJhdGVzIENvbnRhY3RFcXVhdGlvbnMuDQogKiBAY2xhc3MgTmFycm93cGhhc2UNCiAqIEBjb25zdHJ1Y3Rvcg0KICogQHRvZG8gU3BoZXJlLUNvbnZleFBvbHloZWRyb24gY29udGFjdHMNCiAqIEB0b2RvIENvbnRhY3QgcmVkdWN0aW9uDQogKiBAdG9kbyBzaG91bGQgbW92ZSBtZXRob2RzIHRvIHByb3RvdHlwZQ0KICovCgpjbGFzcyBOYXJyb3dwaGFzZSB7CiAgLy8gSW50ZXJuYWwgc3RvcmFnZSBvZiBwb29sZWQgY29udGFjdCBwb2ludHMuCiAgLy8gUG9vbGVkIHZlY3RvcnMuCiAgY29uc3RydWN0b3Iod29ybGQpIHsKICAgIHRoaXMuY29udGFjdFBvaW50UG9vbCA9IFtdOwogICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IFtdOwogICAgdGhpcy5yZXN1bHQgPSBbXTsKICAgIHRoaXMuZnJpY3Rpb25SZXN1bHQgPSBbXTsKICAgIHRoaXMudjNwb29sID0gbmV3IFZlYzNQb29sKCk7CiAgICB0aGlzLndvcmxkID0gd29ybGQ7CiAgICB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiA9IGZhbHNlOwogIH0KICAvKioNCiAgICogTWFrZSBhIGNvbnRhY3Qgb2JqZWN0LCBieSB1c2luZyB0aGUgaW50ZXJuYWwgcG9vbCBvciBjcmVhdGluZyBhIG5ldyBvbmUuDQogICAqIEBtZXRob2QgY3JlYXRlQ29udGFjdEVxdWF0aW9uDQogICAqIEBwYXJhbSB7Qm9keX0gYmkNCiAgICogQHBhcmFtIHtCb2R5fSBiag0KICAgKiBAcGFyYW0ge1NoYXBlfSBzaQ0KICAgKiBAcGFyYW0ge1NoYXBlfSBzag0KICAgKiBAcGFyYW0ge1NoYXBlfSBvdmVycmlkZVNoYXBlQQ0KICAgKiBAcGFyYW0ge1NoYXBlfSBvdmVycmlkZVNoYXBlQg0KICAgKiBAcmV0dXJuIHtDb250YWN0RXF1YXRpb259DQogICAqLwoKCiAgY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCBvdmVycmlkZVNoYXBlQSwgb3ZlcnJpZGVTaGFwZUIpIHsKICAgIGxldCBjOwoKICAgIGlmICh0aGlzLmNvbnRhY3RQb2ludFBvb2wubGVuZ3RoKSB7CiAgICAgIGMgPSB0aGlzLmNvbnRhY3RQb2ludFBvb2wucG9wKCk7CiAgICAgIGMuYmkgPSBiaTsKICAgICAgYy5iaiA9IGJqOwogICAgfSBlbHNlIHsKICAgICAgYyA9IG5ldyBDb250YWN0RXF1YXRpb24oYmksIGJqKTsKICAgIH0KCiAgICBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTsKICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsOwogICAgYy5yZXN0aXR1dGlvbiA9IGNtLnJlc3RpdHV0aW9uOwogICAgYy5zZXRTcG9va1BhcmFtcyhjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sIHRoaXMud29ybGQuZHQpOwogICAgY29uc3QgbWF0QSA9IHNpLm1hdGVyaWFsIHx8IGJpLm1hdGVyaWFsOwogICAgY29uc3QgbWF0QiA9IHNqLm1hdGVyaWFsIHx8IGJqLm1hdGVyaWFsOwoKICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5yZXN0aXR1dGlvbiA+PSAwICYmIG1hdEIucmVzdGl0dXRpb24gPj0gMCkgewogICAgICBjLnJlc3RpdHV0aW9uID0gbWF0QS5yZXN0aXR1dGlvbiAqIG1hdEIucmVzdGl0dXRpb247CiAgICB9CgogICAgYy5zaSA9IG92ZXJyaWRlU2hhcGVBIHx8IHNpOwogICAgYy5zaiA9IG92ZXJyaWRlU2hhcGVCIHx8IHNqOwogICAgcmV0dXJuIGM7CiAgfQoKICBjcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KGNvbnRhY3RFcXVhdGlvbiwgb3V0QXJyYXkpIHsKICAgIGNvbnN0IGJvZHlBID0gY29udGFjdEVxdWF0aW9uLmJpOwogICAgY29uc3QgYm9keUIgPSBjb250YWN0RXF1YXRpb24uYmo7CiAgICBjb25zdCBzaGFwZUEgPSBjb250YWN0RXF1YXRpb24uc2k7CiAgICBjb25zdCBzaGFwZUIgPSBjb250YWN0RXF1YXRpb24uc2o7CiAgICBjb25zdCB3b3JsZCA9IHRoaXMud29ybGQ7CiAgICBjb25zdCBjbSA9IHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbDsgLy8gSWYgZnJpY3Rpb24gb3IgcmVzdGl0dXRpb24gd2VyZSBzcGVjaWZpZWQgaW4gdGhlIG1hdGVyaWFsLCB1c2UgdGhlbQoKICAgIGxldCBmcmljdGlvbiA9IGNtLmZyaWN0aW9uOwogICAgY29uc3QgbWF0QSA9IHNoYXBlQS5tYXRlcmlhbCB8fCBib2R5QS5tYXRlcmlhbDsKICAgIGNvbnN0IG1hdEIgPSBzaGFwZUIubWF0ZXJpYWwgfHwgYm9keUIubWF0ZXJpYWw7CgogICAgaWYgKG1hdEEgJiYgbWF0QiAmJiBtYXRBLmZyaWN0aW9uID49IDAgJiYgbWF0Qi5mcmljdGlvbiA+PSAwKSB7CiAgICAgIGZyaWN0aW9uID0gbWF0QS5mcmljdGlvbiAqIG1hdEIuZnJpY3Rpb247CiAgICB9CgogICAgaWYgKGZyaWN0aW9uID4gMCkgewogICAgICAvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9ucwogICAgICBjb25zdCBtdWcgPSBmcmljdGlvbiAqIHdvcmxkLmdyYXZpdHkubGVuZ3RoKCk7CiAgICAgIGxldCByZWR1Y2VkTWFzcyA9IGJvZHlBLmludk1hc3MgKyBib2R5Qi5pbnZNYXNzOwoKICAgICAgaWYgKHJlZHVjZWRNYXNzID4gMCkgewogICAgICAgIHJlZHVjZWRNYXNzID0gMSAvIHJlZHVjZWRNYXNzOwogICAgICB9CgogICAgICBjb25zdCBwb29sID0gdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbDsKICAgICAgY29uc3QgYzEgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihib2R5QSwgYm9keUIsIG11ZyAqIHJlZHVjZWRNYXNzKTsKICAgICAgY29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihib2R5QSwgYm9keUIsIG11ZyAqIHJlZHVjZWRNYXNzKTsKICAgICAgYzEuYmkgPSBjMi5iaSA9IGJvZHlBOwogICAgICBjMS5iaiA9IGMyLmJqID0gYm9keUI7CiAgICAgIGMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnICogcmVkdWNlZE1hc3M7CiAgICAgIGMxLm1heEZvcmNlID0gYzIubWF4Rm9yY2UgPSBtdWcgKiByZWR1Y2VkTWFzczsgLy8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzCgogICAgICBjMS5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7CiAgICAgIGMxLnJqLmNvcHkoY29udGFjdEVxdWF0aW9uLnJqKTsKICAgICAgYzIucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpOwogICAgICBjMi5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7IC8vIENvbnN0cnVjdCB0YW5nZW50cwoKICAgICAgY29udGFjdEVxdWF0aW9uLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpOyAvLyBTZXQgc3Bvb2sgcGFyYW1zCgogICAgICBjMS5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgd29ybGQuZHQpOwogICAgICBjMi5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgd29ybGQuZHQpOwogICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGNvbnRhY3RFcXVhdGlvbi5lbmFibGVkOwogICAgICBvdXRBcnJheS5wdXNoKGMxLCBjMik7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9IC8vIFRha2UgdGhlIGF2ZXJhZ2UgTiBsYXRlc3QgY29udGFjdCBwb2ludCBvbiB0aGUgcGxhbmUuCgoKICBjcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKSB7CiAgICAvLyBUaGUgbGFzdCBjb250YWN0RXF1YXRpb24KICAgIGxldCBjID0gdGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoIC0gMV07IC8vIENyZWF0ZSB0aGUgcmVzdWx0OiB0d28gImF2ZXJhZ2UiIGZyaWN0aW9uIGVxdWF0aW9ucwoKICAgIGlmICghdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KGMsIHRoaXMuZnJpY3Rpb25SZXN1bHQpIHx8IG51bUNvbnRhY3RzID09PSAxKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBmMSA9IHRoaXMuZnJpY3Rpb25SZXN1bHRbdGhpcy5mcmljdGlvblJlc3VsdC5sZW5ndGggLSAyXTsKICAgIGNvbnN0IGYyID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDFdOwogICAgYXZlcmFnZU5vcm1hbC5zZXRaZXJvKCk7CiAgICBhdmVyYWdlQ29udGFjdFBvaW50QS5zZXRaZXJvKCk7CiAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi5zZXRaZXJvKCk7CiAgICBjb25zdCBib2R5QSA9IGMuYmk7CiAgICBjb25zdCBib2R5QiA9IGMuYmo7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG51bUNvbnRhY3RzOyBpKyspIHsKICAgICAgYyA9IHRoaXMucmVzdWx0W3RoaXMucmVzdWx0Lmxlbmd0aCAtIDEgLSBpXTsKCiAgICAgIGlmIChjLmJpICE9PSBib2R5QSkgewogICAgICAgIGF2ZXJhZ2VOb3JtYWwudmFkZChjLm5pLCBhdmVyYWdlTm9ybWFsKTsKICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTsKICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhdmVyYWdlTm9ybWFsLnZzdWIoYy5uaSwgYXZlcmFnZU5vcm1hbCk7CiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEudmFkZChjLnJqLCBhdmVyYWdlQ29udGFjdFBvaW50QSk7CiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEIudmFkZChjLnJpLCBhdmVyYWdlQ29udGFjdFBvaW50Qik7CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCBpbnZOdW1Db250YWN0cyA9IDEgLyBudW1Db250YWN0czsKICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaSk7CiAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi5zY2FsZShpbnZOdW1Db250YWN0cywgZjEucmopOwogICAgZjIucmkuY29weShmMS5yaSk7IC8vIFNob3VsZCBiZSB0aGUgc2FtZQoKICAgIGYyLnJqLmNvcHkoZjEucmopOwogICAgYXZlcmFnZU5vcm1hbC5ub3JtYWxpemUoKTsKICAgIGF2ZXJhZ2VOb3JtYWwudGFuZ2VudHMoZjEudCwgZjIudCk7IC8vIHJldHVybiBlcTsKICB9CiAgLyoqDQogICAqIEdlbmVyYXRlIGFsbCBjb250YWN0cyBiZXR3ZWVuIGEgbGlzdCBvZiBib2R5IHBhaXJzDQogICAqIEBtZXRob2QgZ2V0Q29udGFjdHMNCiAgICogQHBhcmFtIHthcnJheX0gcDEgQXJyYXkgb2YgYm9keSBpbmRpY2VzDQogICAqIEBwYXJhbSB7YXJyYXl9IHAyIEFycmF5IG9mIGJvZHkgaW5kaWNlcw0KICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZA0KICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQXJyYXkgdG8gc3RvcmUgZ2VuZXJhdGVkIGNvbnRhY3RzDQogICAqIEBwYXJhbSB7YXJyYXl9IG9sZGNvbnRhY3RzIE9wdGlvbmFsLiBBcnJheSBvZiByZXVzYWJsZSBjb250YWN0IG9iamVjdHMNCiAgICovCgoKICBnZXRDb250YWN0cyhwMSwgcDIsIHdvcmxkLCByZXN1bHQsIG9sZGNvbnRhY3RzLCBmcmljdGlvblJlc3VsdCwgZnJpY3Rpb25Qb29sKSB7CiAgICAvLyBTYXZlIG9sZCBjb250YWN0IG9iamVjdHMKICAgIHRoaXMuY29udGFjdFBvaW50UG9vbCA9IG9sZGNvbnRhY3RzOwogICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IGZyaWN0aW9uUG9vbDsKICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgdGhpcy5mcmljdGlvblJlc3VsdCA9IGZyaWN0aW9uUmVzdWx0OwogICAgY29uc3QgcWkgPSB0bXBRdWF0MTsKICAgIGNvbnN0IHFqID0gdG1wUXVhdDI7CiAgICBjb25zdCB4aSA9IHRtcFZlYzEkMjsKICAgIGNvbnN0IHhqID0gdG1wVmVjMiQyOwoKICAgIGZvciAobGV0IGsgPSAwLCBOID0gcDEubGVuZ3RoOyBrICE9PSBOOyBrKyspIHsKICAgICAgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGJvZGllcwogICAgICBjb25zdCBiaSA9IHAxW2tdOwogICAgICBjb25zdCBiaiA9IHAyW2tdOyAvLyBHZXQgY29udGFjdCBtYXRlcmlhbAoKICAgICAgbGV0IGJvZHlDb250YWN0TWF0ZXJpYWwgPSBudWxsOwoKICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgYm9keUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChiaS5tYXRlcmlhbCwgYmoubWF0ZXJpYWwpIHx8IG51bGw7CiAgICAgIH0KCiAgICAgIGNvbnN0IGp1c3RUZXN0ID0gYmkudHlwZSAmIEJvZHkuS0lORU1BVElDICYmIGJqLnR5cGUgJiBCb2R5LlNUQVRJQyB8fCBiaS50eXBlICYgQm9keS5TVEFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDIHx8IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5LSU5FTUFUSUM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpLnNoYXBlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGJpLnF1YXRlcm5pb24ubXVsdChiaS5zaGFwZU9yaWVudGF0aW9uc1tpXSwgcWkpOwogICAgICAgIGJpLnF1YXRlcm5pb24udm11bHQoYmkuc2hhcGVPZmZzZXRzW2ldLCB4aSk7CiAgICAgICAgeGkudmFkZChiaS5wb3NpdGlvbiwgeGkpOwogICAgICAgIGNvbnN0IHNpID0gYmkuc2hhcGVzW2ldOwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJqLnNoYXBlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgLy8gQ29tcHV0ZSB3b3JsZCB0cmFuc2Zvcm0gb2Ygc2hhcGVzCiAgICAgICAgICBiai5xdWF0ZXJuaW9uLm11bHQoYmouc2hhcGVPcmllbnRhdGlvbnNbal0sIHFqKTsKICAgICAgICAgIGJqLnF1YXRlcm5pb24udm11bHQoYmouc2hhcGVPZmZzZXRzW2pdLCB4aik7CiAgICAgICAgICB4ai52YWRkKGJqLnBvc2l0aW9uLCB4aik7CiAgICAgICAgICBjb25zdCBzaiA9IGJqLnNoYXBlc1tqXTsKCiAgICAgICAgICBpZiAoIShzaS5jb2xsaXNpb25GaWx0ZXJNYXNrICYgc2ouY29sbGlzaW9uRmlsdGVyR3JvdXAgJiYgc2ouY29sbGlzaW9uRmlsdGVyTWFzayAmIHNpLmNvbGxpc2lvbkZpbHRlckdyb3VwKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfSAvLyBHZXQgY29sbGlzaW9uIG1hdGVyaWFsCgoKICAgICAgICAgIGxldCBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IG51bGw7CgogICAgICAgICAgaWYgKHNpLm1hdGVyaWFsICYmIHNqLm1hdGVyaWFsKSB7CiAgICAgICAgICAgIHNoYXBlQ29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKHNpLm1hdGVyaWFsLCBzai5tYXRlcmlhbCkgfHwgbnVsbDsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWwgPSBzaGFwZUNvbnRhY3RNYXRlcmlhbCB8fCBib2R5Q29udGFjdE1hdGVyaWFsIHx8IHdvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7IC8vIEdldCBjb250YWN0cwoKICAgICAgICAgIGNvbnN0IHJlc29sdmVySW5kZXggPSBzaS50eXBlIHwgc2oudHlwZTsKICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpc1tyZXNvbHZlckluZGV4XTsKCiAgICAgICAgICBpZiAocmVzb2x2ZXIpIHsKICAgICAgICAgICAgbGV0IHJldHZhbCA9IGZhbHNlOyAvLyBUTyBETzogaW52ZXN0aWdhdGUgd2h5IHNwaGVyZVBhcnRpY2xlIGFuZCBjb252ZXhQYXJ0aWNsZQogICAgICAgICAgICAvLyByZXNvbHZlcnMgZXhwZWN0IHNpIGFuZCBzaiBzaGFwZXMgdG8gYmUgaW4gcmV2ZXJzZSBvcmRlcgogICAgICAgICAgICAvLyAoaS5lLiBsYXJnZXIgaW50ZWdlciB2YWx1ZSB0eXBlIGZpcnN0IGluc3RlYWQgb2Ygc21hbGxlciBmaXJzdCkKCiAgICAgICAgICAgIGlmIChzaS50eXBlIDwgc2oudHlwZSkgewogICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR2YWwgPSByZXNvbHZlci5jYWxsKHRoaXMsIHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChyZXR2YWwgJiYganVzdFRlc3QpIHsKICAgICAgICAgICAgICAvLyBSZWdpc3RlciBvdmVybGFwCiAgICAgICAgICAgICAgd29ybGQuc2hhcGVPdmVybGFwS2VlcGVyLnNldChzaS5pZCwgc2ouaWQpOwogICAgICAgICAgICAgIHdvcmxkLmJvZHlPdmVybGFwS2VlcGVyLnNldChiaS5pZCwgYmouaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBzcGhlcmVTcGhlcmUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGlmIChqdXN0VGVzdCkgewogICAgICByZXR1cm4geGkuZGlzdGFuY2VTcXVhcmVkKHhqKSA8IChzaS5yYWRpdXMgKyBzai5yYWRpdXMpICoqIDI7CiAgICB9IC8vIFdlIHdpbGwgaGF2ZSBvbmx5IG9uZSBjb250YWN0IGluIHRoaXMgY2FzZQoKCiAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsgLy8gQ29udGFjdCBub3JtYWwKCiAgICB4ai52c3ViKHhpLCByLm5pKTsKICAgIHIubmkubm9ybWFsaXplKCk7IC8vIENvbnRhY3QgcG9pbnQgbG9jYXRpb25zCgogICAgci5yaS5jb3B5KHIubmkpOwogICAgci5yai5jb3B5KHIubmkpOwogICAgci5yaS5zY2FsZShzaS5yYWRpdXMsIHIucmkpOwogICAgci5yai5zY2FsZSgtc2oucmFkaXVzLCByLnJqKTsKICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7CiAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogIH0KCiAgc3BoZXJlUGxhbmUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIC8vIFdlIHdpbGwgaGF2ZSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2UKICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOyAvLyBDb250YWN0IG5vcm1hbAoKICAgIHIubmkuc2V0KDAsIDAsIDEpOwogICAgcWoudm11bHQoci5uaSwgci5uaSk7CiAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gYm9keSBpIGlzIHRoZSBzcGhlcmUsIGZsaXAgbm9ybWFsCgogICAgci5uaS5ub3JtYWxpemUoKTsgLy8gTmVlZGVkPwogICAgLy8gVmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0IHBvaW50CgogICAgci5uaS5zY2FsZShzaS5yYWRpdXMsIHIucmkpOyAvLyBQcm9qZWN0IGRvd24gc3BoZXJlIG9uIHBsYW5lCgogICAgeGkudnN1Yih4aiwgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlKTsKICAgIHIubmkuc2NhbGUoci5uaS5kb3QocG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlKSwgcGxhbmVfdG9fc3BoZXJlX29ydGhvKTsKICAgIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZS52c3ViKHBsYW5lX3RvX3NwaGVyZV9vcnRobywgci5yaik7IC8vIFRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHBsYW5lCgogICAgaWYgKC1wb2ludF9vbl9wbGFuZV90b19zcGhlcmUuZG90KHIubmkpIDw9IHNpLnJhZGl1cykgewogICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSAvLyBNYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSBib2R5CgoKICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICBjb25zdCByaiA9IHIucmo7CiAgICAgIHJpLnZhZGQoeGksIHJpKTsKICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICByai52YWRkKHhqLCByaik7CiAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTsKICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgfQogIH0KCiAgYm94Qm94KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsOwogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzai5jb2xsaXNpb25SZXNwb25zZTsKICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgfQoKICBzcGhlcmVCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGNvbnN0IHYzcG9vbCA9IHRoaXMudjNwb29sOyAvLyB3ZSByZWZlciB0byB0aGUgYm94IGFzIGJvZHkgagoKICAgIGNvbnN0IHNpZGVzID0gc3BoZXJlQm94X3NpZGVzOwogICAgeGkudnN1Yih4aiwgYm94X3RvX3NwaGVyZSk7CiAgICBzai5nZXRTaWRlTm9ybWFscyhzaWRlcywgcWopOwogICAgY29uc3QgUiA9IHNpLnJhZGl1czsKICAgIGxldCBmb3VuZCA9IGZhbHNlOyAvLyBTdG9yZSB0aGUgcmVzdWx0aW5nIHNpZGUgcGVuZXRyYXRpb24gaW5mbwoKICAgIGNvbnN0IHNpZGVfbnMgPSBzcGhlcmVCb3hfc2lkZV9uczsKICAgIGNvbnN0IHNpZGVfbnMxID0gc3BoZXJlQm94X3NpZGVfbnMxOwogICAgY29uc3Qgc2lkZV9uczIgPSBzcGhlcmVCb3hfc2lkZV9uczI7CiAgICBsZXQgc2lkZV9oID0gbnVsbDsKICAgIGxldCBzaWRlX3BlbmV0cmF0aW9ucyA9IDA7CiAgICBsZXQgc2lkZV9kb3QxID0gMDsKICAgIGxldCBzaWRlX2RvdDIgPSAwOwogICAgbGV0IHNpZGVfZGlzdGFuY2UgPSBudWxsOwoKICAgIGZvciAobGV0IGlkeCA9IDAsIG5zaWRlcyA9IHNpZGVzLmxlbmd0aDsgaWR4ICE9PSBuc2lkZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpZHgrKykgewogICAgICAvLyBHZXQgdGhlIHBsYW5lIHNpZGUgbm9ybWFsIChucykKICAgICAgY29uc3QgbnMgPSBzcGhlcmVCb3hfbnM7CiAgICAgIG5zLmNvcHkoc2lkZXNbaWR4XSk7CiAgICAgIGNvbnN0IGggPSBucy5sZW5ndGgoKTsKICAgICAgbnMubm9ybWFsaXplKCk7IC8vIFRoZSBub3JtYWwvZGlzdGFuY2UgZG90IHByb2R1Y3QgdGVsbHMgd2hpY2ggc2lkZSBvZiB0aGUgcGxhbmUgd2UgYXJlCgogICAgICBjb25zdCBkb3QgPSBib3hfdG9fc3BoZXJlLmRvdChucyk7CgogICAgICBpZiAoZG90IDwgaCArIFIgJiYgZG90ID4gMCkgewogICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayB0aGUgb3RoZXIgdHdvIGRpbWVuc2lvbnMKICAgICAgICBjb25zdCBuczEgPSBzcGhlcmVCb3hfbnMxOwogICAgICAgIGNvbnN0IG5zMiA9IHNwaGVyZUJveF9uczI7CiAgICAgICAgbnMxLmNvcHkoc2lkZXNbKGlkeCArIDEpICUgM10pOwogICAgICAgIG5zMi5jb3B5KHNpZGVzWyhpZHggKyAyKSAlIDNdKTsKICAgICAgICBjb25zdCBoMSA9IG5zMS5sZW5ndGgoKTsKICAgICAgICBjb25zdCBoMiA9IG5zMi5sZW5ndGgoKTsKICAgICAgICBuczEubm9ybWFsaXplKCk7CiAgICAgICAgbnMyLm5vcm1hbGl6ZSgpOwogICAgICAgIGNvbnN0IGRvdDEgPSBib3hfdG9fc3BoZXJlLmRvdChuczEpOwogICAgICAgIGNvbnN0IGRvdDIgPSBib3hfdG9fc3BoZXJlLmRvdChuczIpOwoKICAgICAgICBpZiAoZG90MSA8IGgxICYmIGRvdDEgPiAtaDEgJiYgZG90MiA8IGgyICYmIGRvdDIgPiAtaDIpIHsKICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmFicyhkb3QgLSBoIC0gUik7CgogICAgICAgICAgaWYgKHNpZGVfZGlzdGFuY2UgPT09IG51bGwgfHwgZGlzdCA8IHNpZGVfZGlzdGFuY2UpIHsKICAgICAgICAgICAgc2lkZV9kaXN0YW5jZSA9IGRpc3Q7CiAgICAgICAgICAgIHNpZGVfZG90MSA9IGRvdDE7CiAgICAgICAgICAgIHNpZGVfZG90MiA9IGRvdDI7CiAgICAgICAgICAgIHNpZGVfaCA9IGg7CiAgICAgICAgICAgIHNpZGVfbnMuY29weShucyk7CiAgICAgICAgICAgIHNpZGVfbnMxLmNvcHkobnMxKTsKICAgICAgICAgICAgc2lkZV9uczIuY29weShuczIpOwogICAgICAgICAgICBzaWRlX3BlbmV0cmF0aW9ucysrOwoKICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc2lkZV9wZW5ldHJhdGlvbnMpIHsKICAgICAgZm91bmQgPSB0cnVlOwogICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgc2lkZV9ucy5zY2FsZSgtUiwgci5yaSk7IC8vIFNwaGVyZSByCgogICAgICByLm5pLmNvcHkoc2lkZV9ucyk7CiAgICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBOb3JtYWwgc2hvdWxkIGJlIG91dCBvZiBzcGhlcmUKCiAgICAgIHNpZGVfbnMuc2NhbGUoc2lkZV9oLCBzaWRlX25zKTsKICAgICAgc2lkZV9uczEuc2NhbGUoc2lkZV9kb3QxLCBzaWRlX25zMSk7CiAgICAgIHNpZGVfbnMudmFkZChzaWRlX25zMSwgc2lkZV9ucyk7CiAgICAgIHNpZGVfbnMyLnNjYWxlKHNpZGVfZG90Miwgc2lkZV9uczIpOwogICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczIsIHIucmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsKICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgfSAvLyBDaGVjayBjb3JuZXJzCgoKICAgIGxldCByaiA9IHYzcG9vbC5nZXQoKTsKICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lcjsKCiAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gMiAmJiAhZm91bmQ7IGorKykgewogICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gMiAmJiAhZm91bmQ7IGsrKykgewogICAgICAgIGZvciAobGV0IGwgPSAwOyBsICE9PSAyICYmICFmb3VuZDsgbCsrKSB7CiAgICAgICAgICByai5zZXQoMCwgMCwgMCk7CgogICAgICAgICAgaWYgKGopIHsKICAgICAgICAgICAgcmoudmFkZChzaWRlc1swXSwgcmopOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmoudnN1YihzaWRlc1swXSwgcmopOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChrKSB7CiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMV0sIHJqKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMV0sIHJqKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobCkgewogICAgICAgICAgICByai52YWRkKHNpZGVzWzJdLCByaik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByai52c3ViKHNpZGVzWzJdLCByaik7CiAgICAgICAgICB9IC8vIFdvcmxkIHBvc2l0aW9uIG9mIGNvcm5lcgoKCiAgICAgICAgICB4ai52YWRkKHJqLCBzcGhlcmVfdG9fY29ybmVyKTsKICAgICAgICAgIHNwaGVyZV90b19jb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7CgogICAgICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHsKICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTsKICAgICAgICAgICAgci5yaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgci5uaS5jb3B5KHIucmkpOwogICAgICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpOwogICAgICAgICAgICByLnJqLmNvcHkocmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsKICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHYzcG9vbC5yZWxlYXNlKHJqKTsKICAgIHJqID0gbnVsbDsgLy8gQ2hlY2sgZWRnZXMKCiAgICBjb25zdCBlZGdlVGFuZ2VudCA9IHYzcG9vbC5nZXQoKTsKICAgIGNvbnN0IGVkZ2VDZW50ZXIgPSB2M3Bvb2wuZ2V0KCk7CiAgICBjb25zdCByID0gdjNwb29sLmdldCgpOyAvLyByID0gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlcgoKICAgIGNvbnN0IG9ydGhvZ29uYWwgPSB2M3Bvb2wuZ2V0KCk7CiAgICBjb25zdCBkaXN0ID0gdjNwb29sLmdldCgpOwogICAgY29uc3QgTnNpZGVzID0gc2lkZXMubGVuZ3RoOwoKICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBOc2lkZXMgJiYgIWZvdW5kOyBqKyspIHsKICAgICAgZm9yIChsZXQgayA9IDA7IGsgIT09IE5zaWRlcyAmJiAhZm91bmQ7IGsrKykgewogICAgICAgIGlmIChqICUgMyAhPT0gayAlIDMpIHsKICAgICAgICAgIC8vIEdldCBlZGdlIHRhbmdlbnQKICAgICAgICAgIHNpZGVzW2tdLmNyb3NzKHNpZGVzW2pdLCBlZGdlVGFuZ2VudCk7CiAgICAgICAgICBlZGdlVGFuZ2VudC5ub3JtYWxpemUoKTsKICAgICAgICAgIHNpZGVzW2pdLnZhZGQoc2lkZXNba10sIGVkZ2VDZW50ZXIpOwogICAgICAgICAgci5jb3B5KHhpKTsKICAgICAgICAgIHIudnN1YihlZGdlQ2VudGVyLCByKTsKICAgICAgICAgIHIudnN1Yih4aiwgcik7CiAgICAgICAgICBjb25zdCBvcnRob25vcm0gPSByLmRvdChlZGdlVGFuZ2VudCk7IC8vIGRpc3RhbmNlIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlciBpbiB0aGUgdGFuZ2VudCBkaXJlY3Rpb24KCiAgICAgICAgICBlZGdlVGFuZ2VudC5zY2FsZShvcnRob25vcm0sIG9ydGhvZ29uYWwpOyAvLyBWZWN0b3IgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvbgogICAgICAgICAgLy8gRmluZCB0aGUgdGhpcmQgc2lkZSBvcnRob2dvbmFsIHRvIHRoaXMgb25lCgogICAgICAgICAgbGV0IGwgPSAwOwoKICAgICAgICAgIHdoaWxlIChsID09PSBqICUgMyB8fCBsID09PSBrICUgMykgewogICAgICAgICAgICBsKys7CiAgICAgICAgICB9IC8vIHZlYyBmcm9tIGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBwcm9qZWN0ZWQgdG8gdGhlIHBsYW5lIG9ydGhvZ29uYWwgdG8gdGhlIGVkZ2UgdGFuZ2VudAoKCiAgICAgICAgICBkaXN0LmNvcHkoeGkpOwogICAgICAgICAgZGlzdC52c3ViKG9ydGhvZ29uYWwsIGRpc3QpOwogICAgICAgICAgZGlzdC52c3ViKGVkZ2VDZW50ZXIsIGRpc3QpOwogICAgICAgICAgZGlzdC52c3ViKHhqLCBkaXN0KTsgLy8gRGlzdGFuY2VzIGluIHRhbmdlbnQgZGlyZWN0aW9uIGFuZCBkaXN0YW5jZSBpbiB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byBpdAoKICAgICAgICAgIGNvbnN0IHRkaXN0ID0gTWF0aC5hYnMob3J0aG9ub3JtKTsKICAgICAgICAgIGNvbnN0IG5kaXN0ID0gZGlzdC5sZW5ndGgoKTsKCiAgICAgICAgICBpZiAodGRpc3QgPCBzaWRlc1tsXS5sZW5ndGgoKSAmJiBuZGlzdCA8IFIpIHsKICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgICAgZWRnZUNlbnRlci52YWRkKG9ydGhvZ29uYWwsIHJlcy5yaik7IC8vIGJveCByagoKICAgICAgICAgICAgcmVzLnJqLmNvcHkocmVzLnJqKTsKICAgICAgICAgICAgZGlzdC5uZWdhdGUocmVzLm5pKTsKICAgICAgICAgICAgcmVzLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICByZXMucmkuY29weShyZXMucmopOwogICAgICAgICAgICByZXMucmkudmFkZCh4aiwgcmVzLnJpKTsKICAgICAgICAgICAgcmVzLnJpLnZzdWIoeGksIHJlcy5yaSk7CiAgICAgICAgICAgIHJlcy5yaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgcmVzLnJpLnNjYWxlKFIsIHJlcy5yaSk7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgICAgICByZXMucmkudmFkZCh4aSwgcmVzLnJpKTsKICAgICAgICAgICAgcmVzLnJpLnZzdWIoYmkucG9zaXRpb24sIHJlcy5yaSk7CiAgICAgICAgICAgIHJlcy5yai52YWRkKHhqLCByZXMucmopOwogICAgICAgICAgICByZXMucmoudnN1Yihiai5wb3NpdGlvbiwgcmVzLnJqKTsKICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyZXMpOwogICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QocmVzLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB2M3Bvb2wucmVsZWFzZShlZGdlVGFuZ2VudCwgZWRnZUNlbnRlciwgciwgb3J0aG9nb25hbCwgZGlzdCk7CiAgfQoKICBwbGFuZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2oubWF0ZXJpYWw7CiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzai5jb2xsaXNpb25SZXNwb25zZTsKICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5pZCA9IHNqLmlkOwogICAgcmV0dXJuIHRoaXMucGxhbmVDb252ZXgoc2ksIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgfQoKICBjb252ZXhDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7CiAgICBjb25zdCBzZXBBeGlzID0gY29udmV4Q29udmV4X3NlcEF4aXM7CgogICAgaWYgKHhpLmRpc3RhbmNlVG8oeGopID4gc2kuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzai5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHNpLmZpbmRTZXBhcmF0aW5nQXhpcyhzaiwgeGksIHFpLCB4aiwgcWosIHNlcEF4aXMsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSkgewogICAgICBjb25zdCByZXMgPSBbXTsKICAgICAgY29uc3QgcSA9IGNvbnZleENvbnZleF9xOwogICAgICBzaS5jbGlwQWdhaW5zdEh1bGwoeGksIHFpLCBzaiwgeGosIHFqLCBzZXBBeGlzLCAtMTAwLCAxMDAsIHJlcyk7CiAgICAgIGxldCBudW1Db250YWN0cyA9IDA7CgogICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gcmVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIGNvbnN0IHJpID0gci5yaTsKICAgICAgICBjb25zdCByaiA9IHIucmo7CiAgICAgICAgc2VwQXhpcy5uZWdhdGUoci5uaSk7CiAgICAgICAgcmVzW2pdLm5vcm1hbC5uZWdhdGUocSk7CiAgICAgICAgcS5zY2FsZShyZXNbal0uZGVwdGgsIHEpOwogICAgICAgIHJlc1tqXS5wb2ludC52YWRkKHEsIHJpKTsKICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7IC8vIENvbnRhY3QgcG9pbnRzIGFyZSBpbiB3b3JsZCBjb29yZGluYXRlcy4gVHJhbnNmb3JtIGJhY2sgdG8gcmVsYXRpdmUKCiAgICAgICAgcmkudnN1Yih4aSwgcmkpOwogICAgICAgIHJqLnZzdWIoeGosIHJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKCiAgICAgICAgcmkudmFkZCh4aSwgcmkpOwogICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTsKICAgICAgICByai52YWRkKHhqLCByaik7CiAgICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopOwogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgbnVtQ29udGFjdHMrKzsKCiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiAmJiBudW1Db250YWN0cykgewogICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cyk7CiAgICAgIH0KICAgIH0KICB9CgogIHNwaGVyZUNvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3QgdjNwb29sID0gdGhpcy52M3Bvb2w7CiAgICB4aS52c3ViKHhqLCBjb252ZXhfdG9fc3BoZXJlKTsKICAgIGNvbnN0IG5vcm1hbHMgPSBzai5mYWNlTm9ybWFsczsKICAgIGNvbnN0IGZhY2VzID0gc2ouZmFjZXM7CiAgICBjb25zdCB2ZXJ0cyA9IHNqLnZlcnRpY2VzOwogICAgY29uc3QgUiA9IHNpLnJhZGl1czsgLy8gICAgIHJldHVybjsKICAgIC8vIH0KCiAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gQ2hlY2sgY29ybmVycwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB2ZXJ0cy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIFdvcmxkIHBvc2l0aW9uIG9mIGNvcm5lcgoKICAgICAgY29uc3Qgd29ybGRDb3JuZXIgPSBzcGhlcmVDb252ZXhfd29ybGRDb3JuZXI7CiAgICAgIHFqLnZtdWx0KHYsIHdvcmxkQ29ybmVyKTsKICAgICAgeGoudmFkZCh3b3JsZENvcm5lciwgd29ybGRDb3JuZXIpOwogICAgICBjb25zdCBzcGhlcmVfdG9fY29ybmVyID0gc3BoZXJlQ29udmV4X3NwaGVyZVRvQ29ybmVyOwogICAgICB3b3JsZENvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTsKCiAgICAgIGlmIChzcGhlcmVfdG9fY29ybmVyLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7CiAgICAgICAgci5yaS5ub3JtYWxpemUoKTsKICAgICAgICByLm5pLmNvcHkoci5yaSk7CiAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTsKICAgICAgICB3b3JsZENvcm5lci52c3ViKHhqLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfSAvLyBDaGVjayBzaWRlIChwbGFuZSkgaW50ZXJzZWN0aW9ucwoKCiAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpKyspIHsKICAgICAgY29uc3Qgbm9ybWFsID0gbm9ybWFsc1tpXTsKICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ldOyAvLyBHZXQgd29ybGQtdHJhbnNmb3JtZWQgbm9ybWFsIG9mIHRoZSBmYWNlCgogICAgICBjb25zdCB3b3JsZE5vcm1hbCA9IHNwaGVyZUNvbnZleF93b3JsZE5vcm1hbDsKICAgICAgcWoudm11bHQobm9ybWFsLCB3b3JsZE5vcm1hbCk7IC8vIEdldCBhIHdvcmxkIHZlcnRleCBmcm9tIHRoZSBmYWNlCgogICAgICBjb25zdCB3b3JsZFBvaW50ID0gc3BoZXJlQ29udmV4X3dvcmxkUG9pbnQ7CiAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbMF1dLCB3b3JsZFBvaW50KTsKICAgICAgd29ybGRQb2ludC52YWRkKHhqLCB3b3JsZFBvaW50KTsgLy8gR2V0IGEgcG9pbnQgb24gdGhlIHNwaGVyZSwgY2xvc2VzdCB0byB0aGUgZmFjZSBub3JtYWwKCiAgICAgIGNvbnN0IHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSA9IHNwaGVyZUNvbnZleF93b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmU7CiAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpOwogICAgICB4aS52YWRkKHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSwgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lKTsgLy8gVmVjdG9yIGZyb20gYSBmYWNlIHBvaW50IHRvIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzcGhlcmUKCiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjID0gc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjOwogICAgICB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUudnN1Yih3b3JsZFBvaW50LCBwZW5ldHJhdGlvblZlYyk7IC8vIFRoZSBwZW5ldHJhdGlvbi4gTmVnYXRpdmUgdmFsdWUgbWVhbnMgb3ZlcmxhcC4KCiAgICAgIGNvbnN0IHBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb25WZWMuZG90KHdvcmxkTm9ybWFsKTsKICAgICAgY29uc3Qgd29ybGRQb2ludFRvU3BoZXJlID0gc3BoZXJlQ29udmV4X3NwaGVyZVRvV29ybGRQb2ludDsKICAgICAgeGkudnN1Yih3b3JsZFBvaW50LCB3b3JsZFBvaW50VG9TcGhlcmUpOwoKICAgICAgaWYgKHBlbmV0cmF0aW9uIDwgMCAmJiB3b3JsZFBvaW50VG9TcGhlcmUuZG90KHdvcmxkTm9ybWFsKSA+IDApIHsKICAgICAgICAvLyBJbnRlcnNlY3RzIHBsYW5lLiBOb3cgY2hlY2sgaWYgdGhlIHNwaGVyZSBpcyBpbnNpZGUgdGhlIGZhY2UgcG9seWdvbgogICAgICAgIGNvbnN0IGZhY2VWZXJ0cyA9IFtdOyAvLyBGYWNlIHZlcnRpY2VzLCBpbiB3b3JsZCBjb29yZHMKCiAgICAgICAgZm9yIChsZXQgaiA9IDAsIE52ZXJ0cyA9IGZhY2UubGVuZ3RoOyBqICE9PSBOdmVydHM7IGorKykgewogICAgICAgICAgY29uc3Qgd29ybGRWZXJ0ZXggPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlW2pdXSwgd29ybGRWZXJ0ZXgpOwogICAgICAgICAgeGoudmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpOwogICAgICAgICAgZmFjZVZlcnRzLnB1c2god29ybGRWZXJ0ZXgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHBvaW50SW5Qb2x5Z29uKGZhY2VWZXJ0cywgd29ybGROb3JtYWwsIHhpKSkgewogICAgICAgICAgLy8gSXMgdGhlIHNwaGVyZSBjZW50ZXIgaW4gdGhlIGZhY2UgcG9seWdvbj8KICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCByLnJpKTsgLy8gQ29udGFjdCBvZmZzZXQsIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0CgogICAgICAgICAgd29ybGROb3JtYWwubmVnYXRlKHIubmkpOyAvLyBOb3JtYWwgcG9pbnRpbmcgb3V0IG9mIHNwaGVyZQoKICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjMiA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1wZW5ldHJhdGlvbiwgcGVuZXRyYXRpb25WZWMyKTsKICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgcGVuZXRyYXRpb25TcGhlcmVQb2ludCk7IC8veGkudnN1Yih4aikudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50KS52YWRkKHBlbmV0cmF0aW9uVmVjMiAsIHIucmopOwoKICAgICAgICAgIHhpLnZzdWIoeGosIHIucmopOwogICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQsIHIucmopOwogICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uVmVjMiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgdjNwb29sLnJlbGVhc2UocGVuZXRyYXRpb25WZWMyKTsKICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpOwogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKICAgICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7CiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuOyAvLyBXZSBvbmx5IGV4cGVjdCAqb25lKiBmYWNlIGNvbnRhY3QKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gRWRnZT8KICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBmYWNlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIC8vIEdldCB0d28gd29ybGQgdHJhbnNmb3JtZWQgdmVydGljZXMKICAgICAgICAgICAgY29uc3QgdjEgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIGNvbnN0IHYyID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMSkgJSBmYWNlLmxlbmd0aF1dLCB2MSk7CiAgICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbKGogKyAyKSAlIGZhY2UubGVuZ3RoXV0sIHYyKTsKICAgICAgICAgICAgeGoudmFkZCh2MSwgdjEpOwogICAgICAgICAgICB4ai52YWRkKHYyLCB2Mik7IC8vIENvbnN0cnVjdCBlZGdlIHZlY3RvcgoKICAgICAgICAgICAgY29uc3QgZWRnZSA9IHNwaGVyZUNvbnZleF9lZGdlOwogICAgICAgICAgICB2Mi52c3ViKHYxLCBlZGdlKTsgLy8gQ29uc3RydWN0IHRoZSBzYW1lIHZlY3RvciwgYnV0IG5vcm1hbGl6ZWQKCiAgICAgICAgICAgIGNvbnN0IGVkZ2VVbml0ID0gc3BoZXJlQ29udmV4X2VkZ2VVbml0OwogICAgICAgICAgICBlZGdlLnVuaXQoZWRnZVVuaXQpOyAvLyBwIGlzIHhpIHByb2plY3RlZCBvbnRvIHRoZSBlZGdlCgogICAgICAgICAgICBjb25zdCBwID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICBjb25zdCB2MV90b194aSA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgeGkudnN1Yih2MSwgdjFfdG9feGkpOwogICAgICAgICAgICBjb25zdCBkb3QgPSB2MV90b194aS5kb3QoZWRnZVVuaXQpOwogICAgICAgICAgICBlZGdlVW5pdC5zY2FsZShkb3QsIHApOwogICAgICAgICAgICBwLnZhZGQodjEsIHApOyAvLyBDb21wdXRlIGEgdmVjdG9yIGZyb20gcCB0byB0aGUgY2VudGVyIG9mIHRoZSBzcGhlcmUKCiAgICAgICAgICAgIGNvbnN0IHhpX3RvX3AgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIHAudnN1Yih4aSwgeGlfdG9fcCk7IC8vIENvbGxpc2lvbiBpZiB0aGUgZWRnZS1zcGhlcmUgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIHRoZSByYWRpdXMKICAgICAgICAgICAgLy8gQU5EIGlmIHAgaXMgaW4gYmV0d2VlbiB2MSBhbmQgdjIKCiAgICAgICAgICAgIGlmIChkb3QgPiAwICYmIGRvdCAqIGRvdCA8IGVkZ2UubGVuZ3RoU3F1YXJlZCgpICYmIHhpX3RvX3AubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHsKICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzCiAgICAgICAgICAgICAgLy8gRWRnZSBjb250YWN0IQogICAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgICAgICBwLnZzdWIoeGosIHIucmopOwogICAgICAgICAgICAgIHAudnN1Yih4aSwgci5uaSk7CiAgICAgICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgICByLm5pLnNjYWxlKFIsIHIucmkpOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7IC8vIFJlbGVhc2Ugd29ybGQgdmVydGljZXMKCiAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjIpOwogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHApOwogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApOwogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxX3RvX3hpKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjIpOwogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoeGlfdG9fcCk7CiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxX3RvX3hpKTsKICAgICAgICAgIH0KICAgICAgICB9IC8vIFJlbGVhc2Ugd29ybGQgdmVydGljZXMKCgogICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7CiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShmYWNlVmVydHNbal0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgcGxhbmVDb252ZXgocGxhbmVTaGFwZSwgY29udmV4U2hhcGUsIHBsYW5lUG9zaXRpb24sIGNvbnZleFBvc2l0aW9uLCBwbGFuZVF1YXQsIGNvbnZleFF1YXQsIHBsYW5lQm9keSwgY29udmV4Qm9keSwgc2ksIHNqLCBqdXN0VGVzdCkgewogICAgLy8gU2ltcGx5IHJldHVybiB0aGUgcG9pbnRzIGJlaGluZCB0aGUgcGxhbmUuCiAgICBjb25zdCB3b3JsZFZlcnRleCA9IHBsYW5lQ29udmV4X3Y7CiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IHBsYW5lQ29udmV4X25vcm1hbDsKICAgIHdvcmxkTm9ybWFsLnNldCgwLCAwLCAxKTsKICAgIHBsYW5lUXVhdC52bXVsdCh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmUgb3JpZW50YXRpb24KCiAgICBsZXQgbnVtQ29udGFjdHMgPSAwOwogICAgY29uc3QgcmVscG9zID0gcGxhbmVDb252ZXhfcmVscG9zOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBjb252ZXhTaGFwZS52ZXJ0aWNlcy5sZW5ndGg7IGkrKykgewogICAgICAvLyBHZXQgd29ybGQgY29udmV4IHZlcnRleAogICAgICB3b3JsZFZlcnRleC5jb3B5KGNvbnZleFNoYXBlLnZlcnRpY2VzW2ldKTsKICAgICAgY29udmV4UXVhdC52bXVsdCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpOwogICAgICBjb252ZXhQb3NpdGlvbi52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgIHdvcmxkVmVydGV4LnZzdWIocGxhbmVQb3NpdGlvbiwgcmVscG9zKTsKICAgICAgY29uc3QgZG90ID0gd29ybGROb3JtYWwuZG90KHJlbHBvcyk7CgogICAgICBpZiAoZG90IDw9IDAuMCkgewogICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LCBjb252ZXhCb2R5LCBwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgc2ksIHNqKTsgLy8gR2V0IHZlcnRleCBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVDb252ZXhfcHJvamVjdGVkOwogICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKHdvcmxkTm9ybWFsLmRvdChyZWxwb3MpLCBwcm9qZWN0ZWQpOwogICAgICAgIHdvcmxkVmVydGV4LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOwogICAgICAgIHByb2plY3RlZC52c3ViKHBsYW5lUG9zaXRpb24sIHIucmkpOyAvLyBGcm9tIHBsYW5lIHRvIHZlcnRleCBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgci5uaS5jb3B5KHdvcmxkTm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbCBvdXQgZnJvbSBwbGFuZQogICAgICAgIC8vIHJqIGlzIG5vdyBqdXN0IHRoZSB2ZWN0b3IgZnJvbSB0aGUgY29udmV4IGNlbnRlciB0byB0aGUgdmVydGV4CgogICAgICAgIHdvcmxkVmVydGV4LnZzdWIoY29udmV4UG9zaXRpb24sIHIucmopOyAvLyBNYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSBib2R5CgogICAgICAgIHIucmkudmFkZChwbGFuZVBvc2l0aW9uLCByLnJpKTsKICAgICAgICByLnJpLnZzdWIocGxhbmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICByLnJqLnZhZGQoY29udmV4UG9zaXRpb24sIHIucmopOwogICAgICAgIHIucmoudnN1Yihjb252ZXhCb2R5LnBvc2l0aW9uLCByLnJqKTsKICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgIG51bUNvbnRhY3RzKys7CgogICAgICAgIGlmICghdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbikgewogICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICh0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uICYmIG51bUNvbnRhY3RzKSB7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cyk7CiAgICB9CiAgfQoKICBib3hDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsOwogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICByZXR1cm4gdGhpcy5jb252ZXhDb252ZXgoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgfQoKICBzcGhlcmVIZWlnaHRmaWVsZChzcGhlcmVTaGFwZSwgaGZTaGFwZSwgc3BoZXJlUG9zLCBoZlBvcywgc3BoZXJlUXVhdCwgaGZRdWF0LCBzcGhlcmVCb2R5LCBoZkJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgY29uc3QgZGF0YSA9IGhmU2hhcGUuZGF0YTsKICAgIGNvbnN0IHJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1czsKICAgIGNvbnN0IHcgPSBoZlNoYXBlLmVsZW1lbnRTaXplOwogICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBzcGhlcmVIZWlnaHRmaWVsZF90bXAyOyAvLyBHZXQgc3BoZXJlIHBvc2l0aW9uIHRvIGhlaWdodGZpZWxkIGxvY2FsIQoKICAgIGNvbnN0IGxvY2FsU3BoZXJlUG9zID0gc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMTsKICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShoZlBvcywgaGZRdWF0LCBzcGhlcmVQb3MsIGxvY2FsU3BoZXJlUG9zKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0CgogICAgbGV0IGlNaW5YID0gTWF0aC5mbG9vcigobG9jYWxTcGhlcmVQb3MueCAtIHJhZGl1cykgLyB3KSAtIDE7CiAgICBsZXQgaU1heFggPSBNYXRoLmNlaWwoKGxvY2FsU3BoZXJlUG9zLnggKyByYWRpdXMpIC8gdykgKyAxOwogICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxTcGhlcmVQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7CiAgICBsZXQgaU1heFkgPSBNYXRoLmNlaWwoKGxvY2FsU3BoZXJlUG9zLnkgKyByYWRpdXMpIC8gdykgKyAxOyAvLyBCYWlsIG91dCBpZiB3ZSBhcmUgb3V0IG9mIHRoZSB0ZXJyYWluCgogICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgIHJldHVybjsKICAgIH0gLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXMKCgogICAgaWYgKGlNaW5YIDwgMCkgewogICAgICBpTWluWCA9IDA7CiAgICB9CgogICAgaWYgKGlNYXhYIDwgMCkgewogICAgICBpTWF4WCA9IDA7CiAgICB9CgogICAgaWYgKGlNaW5ZIDwgMCkgewogICAgICBpTWluWSA9IDA7CiAgICB9CgogICAgaWYgKGlNYXhZIDwgMCkgewogICAgICBpTWF4WSA9IDA7CiAgICB9CgogICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7CiAgICAgIGlNaW5YID0gZGF0YS5sZW5ndGggLSAxOwogICAgfQoKICAgIGlmIChpTWF4WCA+PSBkYXRhLmxlbmd0aCkgewogICAgICBpTWF4WCA9IGRhdGEubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBpZiAoaU1heFkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICB9CgogICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgIGlNaW5ZID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgfQoKICAgIGNvbnN0IG1pbk1heCA9IFtdOwogICAgaGZTaGFwZS5nZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCBtaW5NYXgpOwogICAgY29uc3QgbWluID0gbWluTWF4WzBdOwogICAgY29uc3QgbWF4ID0gbWluTWF4WzFdOyAvLyBCYWlsIG91dCBpZiB3ZSBjYW4ndCB0b3VjaCB0aGUgYm91bmRpbmcgaGVpZ2h0IGJveAoKICAgIGlmIChsb2NhbFNwaGVyZVBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsU3BoZXJlUG9zLnogKyByYWRpdXMgPCBtaW4pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVzdWx0OwoKICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykgewogICAgICAgIGNvbnN0IG51bUNvbnRhY3RzQmVmb3JlID0gcmVzdWx0Lmxlbmd0aDsKICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlCgogICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICBpZiAoc3BoZXJlUG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzcGhlcmVTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTsKICAgICAgICB9CgogICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGUKCgogICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLnNwaGVyZUNvbnZleChzcGhlcmVTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIHNwaGVyZVBvcywgd29ybGRQaWxsYXJPZmZzZXQsIHNwaGVyZVF1YXQsIGhmUXVhdCwgc3BoZXJlQm9keSwgaGZCb2R5LCBzcGhlcmVTaGFwZSwgaGZTaGFwZSwganVzdFRlc3QpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBudW1Db250YWN0cyA9IHJlc3VsdC5sZW5ndGggLSBudW1Db250YWN0c0JlZm9yZTsKCiAgICAgICAgaWYgKG51bUNvbnRhY3RzID4gMikgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvKg0KICAgICAgICAgIC8vIFNraXAgYWxsIGJ1dCAxDQogICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBudW1Db250YWN0cyAtIDE7IGsrKykgew0KICAgICAgICAgICAgICByZXN1bHQucG9wKCk7DQogICAgICAgICAgfQ0KICAgICAgICAqLwoKICAgICAgfQogICAgfQogIH0KCiAgYm94SGVpZ2h0ZmllbGQoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsOwogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICByZXR1cm4gdGhpcy5jb252ZXhIZWlnaHRmaWVsZChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICB9CgogIGNvbnZleEhlaWdodGZpZWxkKGNvbnZleFNoYXBlLCBoZlNoYXBlLCBjb252ZXhQb3MsIGhmUG9zLCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhOwogICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7CiAgICBjb25zdCByYWRpdXMgPSBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1czsKICAgIGNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gY29udmV4SGVpZ2h0ZmllbGRfdG1wMjsKICAgIGNvbnN0IGZhY2VMaXN0ID0gY29udmV4SGVpZ2h0ZmllbGRfZmFjZUxpc3Q7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhCgogICAgY29uc3QgbG9jYWxDb252ZXhQb3MgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAxOwogICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIGNvbnZleFBvcywgbG9jYWxDb252ZXhQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICBsZXQgaU1pblggPSBNYXRoLmZsb29yKChsb2NhbENvbnZleFBvcy54IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxDb252ZXhQb3MueCArIHJhZGl1cykgLyB3KSArIDE7CiAgICBsZXQgaU1pblkgPSBNYXRoLmZsb29yKChsb2NhbENvbnZleFBvcy55IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgIGxldCBpTWF4WSA9IE1hdGguY2VpbCgobG9jYWxDb252ZXhQb3MueSArIHJhZGl1cykgLyB3KSArIDE7IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW4KCiAgICBpZiAoaU1heFggPCAwIHx8IGlNYXhZIDwgMCB8fCBpTWluWCA+IGRhdGEubGVuZ3RoIHx8IGlNaW5ZID4gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlcwoKCiAgICBpZiAoaU1pblggPCAwKSB7CiAgICAgIGlNaW5YID0gMDsKICAgIH0KCiAgICBpZiAoaU1heFggPCAwKSB7CiAgICAgIGlNYXhYID0gMDsKICAgIH0KCiAgICBpZiAoaU1pblkgPCAwKSB7CiAgICAgIGlNaW5ZID0gMDsKICAgIH0KCiAgICBpZiAoaU1heFkgPCAwKSB7CiAgICAgIGlNYXhZID0gMDsKICAgIH0KCiAgICBpZiAoaU1pblggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgaU1pblggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICB9CgogICAgaWYgKGlNYXhYID49IGRhdGEubGVuZ3RoKSB7CiAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxOwogICAgfQoKICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICBpTWF4WSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgIH0KCiAgICBpZiAoaU1pblkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgaU1pblkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICB9CgogICAgY29uc3QgbWluTWF4ID0gW107CiAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7CiAgICBjb25zdCBtaW4gPSBtaW5NYXhbMF07CiAgICBjb25zdCBtYXggPSBtaW5NYXhbMV07IC8vIEJhaWwgb3V0IGlmIHdlJ3JlIGNhbnQgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3gKCiAgICBpZiAobG9jYWxDb252ZXhQb3MueiAtIHJhZGl1cyA+IG1heCB8fCBsb2NhbENvbnZleFBvcy56ICsgcmFkaXVzIDwgbWluKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7CiAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHsKICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlCgogICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5jb252ZXhDb252ZXgoY29udmV4U2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBjb252ZXhQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgbnVsbCwgbnVsbCwganVzdFRlc3QsIGZhY2VMaXN0LCBudWxsKTsKICAgICAgICB9CgogICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGUKCgogICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgIGlmIChjb252ZXhQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBzcGhlcmVQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgLy8gVGhlIG5vcm1hbCBpcyB0aGUgdW5pdCB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHBhcnRpY2xlIGNlbnRlcgogICAgY29uc3Qgbm9ybWFsID0gcGFydGljbGVTcGhlcmVfbm9ybWFsOwogICAgbm9ybWFsLnNldCgwLCAwLCAxKTsKICAgIHhpLnZzdWIoeGosIG5vcm1hbCk7CiAgICBjb25zdCBsZW5ndGhTcXVhcmVkID0gbm9ybWFsLmxlbmd0aFNxdWFyZWQoKTsKCiAgICBpZiAobGVuZ3RoU3F1YXJlZCA8PSBzai5yYWRpdXMgKiBzai5yYWRpdXMpIHsKICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgIHIucmouY29weShub3JtYWwpOwogICAgICByLnJqLnNjYWxlKHNqLnJhZGl1cywgci5yaik7CiAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbAoKICAgICAgci5uaS5uZWdhdGUoci5uaSk7CiAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGUKCiAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgIH0KICB9CgogIHBsYW5lUGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGNvbnN0IG5vcm1hbCA9IHBhcnRpY2xlUGxhbmVfbm9ybWFsOwogICAgbm9ybWFsLnNldCgwLCAwLCAxKTsKICAgIGJqLnF1YXRlcm5pb24udm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmUgb3JpZW50YXRpb24KCiAgICBjb25zdCByZWxwb3MgPSBwYXJ0aWNsZVBsYW5lX3JlbHBvczsKICAgIHhpLnZzdWIoYmoucG9zaXRpb24sIHJlbHBvcyk7CiAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7CgogICAgaWYgKGRvdCA8PSAwLjApIHsKICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbAoKICAgICAgci5uaS5uZWdhdGUoci5uaSk7CiAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGUKICAgICAgLy8gR2V0IHBhcnRpY2xlIHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgY29uc3QgcHJvamVjdGVkID0gcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQ7CiAgICAgIG5vcm1hbC5zY2FsZShub3JtYWwuZG90KHhpKSwgcHJvamVjdGVkKTsKICAgICAgeGkudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vcHJvamVjdGVkLnZhZGQoYmoucG9zaXRpb24scHJvamVjdGVkKTsKICAgICAgLy8gcmogaXMgbm93IHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb24KCiAgICAgIHIucmouY29weShwcm9qZWN0ZWQpOwogICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICB9CiAgfQoKICBib3hQYXJ0aWNsZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgIHJldHVybiB0aGlzLmNvbnZleFBhcnRpY2xlKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogIH0KCiAgY29udmV4UGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGxldCBwZW5ldHJhdGVkRmFjZUluZGV4ID0gLTE7CiAgICBjb25zdCBwZW5ldHJhdGVkRmFjZU5vcm1hbCA9IGNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsOwogICAgY29uc3Qgd29ybGRQZW5ldHJhdGlvblZlYyA9IGNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWM7CiAgICBsZXQgbWluUGVuZXRyYXRpb24gPSBudWxsOwogICAgY29uc3QgbG9jYWwgPSBjb252ZXhQYXJ0aWNsZV9sb2NhbDsKICAgIGxvY2FsLmNvcHkoeGkpOwogICAgbG9jYWwudnN1Yih4aiwgbG9jYWwpOyAvLyBDb252ZXJ0IHBvc2l0aW9uIHRvIHJlbGF0aXZlIHRoZSBjb252ZXggb3JpZ2luCgogICAgcWouY29uanVnYXRlKGNxaik7CiAgICBjcWoudm11bHQobG9jYWwsIGxvY2FsKTsKCiAgICBpZiAoc2oucG9pbnRJc0luc2lkZShsb2NhbCkpIHsKICAgICAgaWYgKHNqLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSkgewogICAgICAgIHNqLmNvbXB1dGVXb3JsZFZlcnRpY2VzKHhqLCBxaik7CiAgICAgIH0KCiAgICAgIGlmIChzai53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUpIHsKICAgICAgICBzai5jb21wdXRlV29ybGRGYWNlTm9ybWFscyhxaik7CiAgICAgIH0gLy8gRm9yIGVhY2ggd29ybGQgcG9seWdvbiBpbiB0aGUgcG9seWhlZHJhCgoKICAgICAgZm9yIChsZXQgaSA9IDAsIG5mYWNlcyA9IHNqLmZhY2VzLmxlbmd0aDsgaSAhPT0gbmZhY2VzOyBpKyspIHsKICAgICAgICAvLyBDb25zdHJ1Y3Qgd29ybGQgZmFjZSB2ZXJ0aWNlcwogICAgICAgIGNvbnN0IHZlcnRzID0gW3NqLndvcmxkVmVydGljZXNbc2ouZmFjZXNbaV1bMF1dXTsKICAgICAgICBjb25zdCBub3JtYWwgPSBzai53b3JsZEZhY2VOb3JtYWxzW2ldOyAvLyBDaGVjayBob3cgbXVjaCB0aGUgcGFydGljbGUgcGVuZXRyYXRlcyB0aGUgcG9seWdvbiBwbGFuZS4KCiAgICAgICAgeGkudnN1Yih2ZXJ0c1swXSwgY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSk7CiAgICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSAtbm9ybWFsLmRvdChjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTsKCiAgICAgICAgaWYgKG1pblBlbmV0cmF0aW9uID09PSBudWxsIHx8IE1hdGguYWJzKHBlbmV0cmF0aW9uKSA8IE1hdGguYWJzKG1pblBlbmV0cmF0aW9uKSkgewogICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIG1pblBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb247CiAgICAgICAgICBwZW5ldHJhdGVkRmFjZUluZGV4ID0gaTsKICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLmNvcHkobm9ybWFsKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwZW5ldHJhdGVkRmFjZUluZGV4ICE9PSAtMSkgewogICAgICAgIC8vIFNldHVwIGNvbnRhY3QKICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5zY2FsZShtaW5QZW5ldHJhdGlvbiwgd29ybGRQZW5ldHJhdGlvblZlYyk7IC8vIHJqIGlzIHRoZSBwYXJ0aWNsZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIGZhY2UKCiAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52YWRkKHhpLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTsKICAgICAgICB3b3JsZFBlbmV0cmF0aW9uVmVjLnZzdWIoeGosIHdvcmxkUGVuZXRyYXRpb25WZWMpOwogICAgICAgIHIucmouY29weSh3b3JsZFBlbmV0cmF0aW9uVmVjKTsgLy9jb25zdCBwcm9qZWN0ZWRUb0ZhY2UgPSB4aS52c3ViKHhqKS52YWRkKHdvcmxkUGVuZXRyYXRpb25WZWMpOwogICAgICAgIC8vcHJvamVjdGVkVG9GYWNlLmNvcHkoci5yaik7CiAgICAgICAgLy9xai52bXVsdChyLnJqLHIucmopOwoKICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5uZWdhdGUoci5uaSk7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGUKCiAgICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICAgIGNvbnN0IHJqID0gci5yajsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKCiAgICAgICAgcmkudmFkZCh4aSwgcmkpOwogICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTsKICAgICAgICByai52YWRkKHhqLCByaik7CiAgICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopOwogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUud2FybignUG9pbnQgZm91bmQgaW5zaWRlIGNvbnZleCwgYnV0IGRpZCBub3QgZmluZCBwZW5ldHJhdGluZyBmYWNlIScpOwogICAgICB9CiAgICB9CiAgfQoKICBzcGhlcmVUcmltZXNoKHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHNwaGVyZVBvcywgdHJpbWVzaFBvcywgc3BoZXJlUXVhdCwgdHJpbWVzaFF1YXQsIHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIGNvbnN0IGVkZ2VWZXJ0ZXhBID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QTsKICAgIGNvbnN0IGVkZ2VWZXJ0ZXhCID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QjsKICAgIGNvbnN0IGVkZ2VWZWN0b3IgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3I7CiAgICBjb25zdCBlZGdlVmVjdG9yVW5pdCA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvclVuaXQ7CiAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3M7CiAgICBjb25zdCB0bXAgPSBzcGhlcmVUcmltZXNoX3RtcDsKICAgIGNvbnN0IGxvY2FsU3BoZXJlQUFCQiA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVBQUJCOwogICAgY29uc3QgdjIgPSBzcGhlcmVUcmltZXNoX3YyOwogICAgY29uc3QgcmVscG9zID0gc3BoZXJlVHJpbWVzaF9yZWxwb3M7CiAgICBjb25zdCB0cmlhbmdsZXMgPSBzcGhlcmVUcmltZXNoX3RyaWFuZ2xlczsgLy8gQ29udmVydCBzcGhlcmUgcG9zaXRpb24gdG8gbG9jYWwgaW4gdGhlIHRyaW1lc2gKCiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGFhYmIgb2YgdGhlIHNwaGVyZSBsb2NhbGx5IGluIHRoZSB0cmltZXNoCgogICAgY29uc3Qgc3BoZXJlUmFkaXVzID0gc3BoZXJlU2hhcGUucmFkaXVzOwogICAgbG9jYWxTcGhlcmVBQUJCLmxvd2VyQm91bmQuc2V0KGxvY2FsU3BoZXJlUG9zLnggLSBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnkgLSBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnogLSBzcGhlcmVSYWRpdXMpOwogICAgbG9jYWxTcGhlcmVBQUJCLnVwcGVyQm91bmQuc2V0KGxvY2FsU3BoZXJlUG9zLnggKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnkgKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnogKyBzcGhlcmVSYWRpdXMpOwogICAgdHJpbWVzaFNoYXBlLmdldFRyaWFuZ2xlc0luQUFCQihsb2NhbFNwaGVyZUFBQkIsIHRyaWFuZ2xlcyk7IC8vZm9yIChsZXQgaSA9IDA7IGkgPCB0cmltZXNoU2hhcGUuaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHRyaWFuZ2xlcy5wdXNoKGkpOyAvLyBBbGwKICAgIC8vIFZlcnRpY2VzCgogICAgY29uc3QgdiA9IHNwaGVyZVRyaW1lc2hfdjsKICAgIGNvbnN0IHJhZGl1c1NxdWFyZWQgPSBzcGhlcmVTaGFwZS5yYWRpdXMgKiBzcGhlcmVTaGFwZS5yYWRpdXM7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgdik7IC8vIENoZWNrIHZlcnRleCBvdmVybGFwIGluIHNwaGVyZQoKICAgICAgICB2LnZzdWIobG9jYWxTcGhlcmVQb3MsIHJlbHBvcyk7CgogICAgICAgIGlmIChyZWxwb3MubGVuZ3RoU3F1YXJlZCgpIDw9IHJhZGl1c1NxdWFyZWQpIHsKICAgICAgICAgIC8vIFNhZmUgdXAKICAgICAgICAgIHYyLmNvcHkodik7CiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsKICAgICAgICAgIHYudnN1YihzcGhlcmVQb3MsIHJlbHBvcyk7CgogICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGxldCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICAgIHIubmkuY29weShyZWxwb3MpOwogICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsgLy8gcmkgaXMgdGhlIHZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gdGhlIHNwaGVyZSBzdXJmYWNlCgogICAgICAgICAgci5yaS5jb3B5KHIubmkpOwogICAgICAgICAgci5yaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpOwogICAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7CiAgICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICByLnJqLmNvcHkodik7CiAgICAgICAgICByLnJqLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopOyAvLyBTdG9yZSByZXN1bHQKCiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgIH0KICAgICAgfQogICAgfSAvLyBDaGVjayBhbGwgZWRnZXMKCgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgZWRnZVZlcnRleEEpOwogICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIChqICsgMSkgJSAzXSwgZWRnZVZlcnRleEIpOwogICAgICAgIGVkZ2VWZXJ0ZXhCLnZzdWIoZWRnZVZlcnRleEEsIGVkZ2VWZWN0b3IpOyAvLyBQcm9qZWN0IHNwaGVyZSBwb3NpdGlvbiB0byB0aGUgZWRnZQoKICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhCLCB0bXApOwogICAgICAgIGNvbnN0IHBvc2l0aW9uQWxvbmdFZGdlQiA9IHRtcC5kb3QoZWRnZVZlY3Rvcik7CiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QSwgdG1wKTsKICAgICAgICBsZXQgcG9zaXRpb25BbG9uZ0VkZ2VBID0gdG1wLmRvdChlZGdlVmVjdG9yKTsKCiAgICAgICAgaWYgKHBvc2l0aW9uQWxvbmdFZGdlQSA+IDAgJiYgcG9zaXRpb25BbG9uZ0VkZ2VCIDwgMCkgewogICAgICAgICAgLy8gTm93IGNoZWNrIHRoZSBvcnRob2dvbmFsIGRpc3RhbmNlIGZyb20gZWRnZSB0byBzcGhlcmUgY2VudGVyCiAgICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhBLCB0bXApOwogICAgICAgICAgZWRnZVZlY3RvclVuaXQuY29weShlZGdlVmVjdG9yKTsKICAgICAgICAgIGVkZ2VWZWN0b3JVbml0Lm5vcm1hbGl6ZSgpOwogICAgICAgICAgcG9zaXRpb25BbG9uZ0VkZ2VBID0gdG1wLmRvdChlZGdlVmVjdG9yVW5pdCk7CiAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5zY2FsZShwb3NpdGlvbkFsb25nRWRnZUEsIHRtcCk7CiAgICAgICAgICB0bXAudmFkZChlZGdlVmVydGV4QSwgdG1wKTsgLy8gdG1wIGlzIG5vdyB0aGUgc3BoZXJlIGNlbnRlciBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIGVkZ2UsIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgdHJpbWVzaCBmcmFtZQoKICAgICAgICAgIGNvbnN0IGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7CgogICAgICAgICAgaWYgKGRpc3QgPCBzcGhlcmVTaGFwZS5yYWRpdXMpIHsKICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7CiAgICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7CiAgICAgICAgICAgIHIubmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTsKICAgICAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7CiAgICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB0bXAsIHRtcCk7CiAgICAgICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsKICAgICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7CiAgICAgICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIucmksIHIucmkpOwogICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIFRyaWFuZ2xlIGZhY2VzCgoKICAgIGNvbnN0IHZhID0gc3BoZXJlVHJpbWVzaF92YTsKICAgIGNvbnN0IHZiID0gc3BoZXJlVHJpbWVzaF92YjsKICAgIGNvbnN0IHZjID0gc3BoZXJlVHJpbWVzaF92YzsKICAgIGNvbnN0IG5vcm1hbCA9IHNwaGVyZVRyaW1lc2hfbm9ybWFsOwoKICAgIGZvciAobGV0IGkgPSAwLCBOID0gdHJpYW5nbGVzLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIHRyaW1lc2hTaGFwZS5nZXRUcmlhbmdsZVZlcnRpY2VzKHRyaWFuZ2xlc1tpXSwgdmEsIHZiLCB2Yyk7CiAgICAgIHRyaW1lc2hTaGFwZS5nZXROb3JtYWwodHJpYW5nbGVzW2ldLCBub3JtYWwpOwogICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKHZhLCB0bXApOwogICAgICBsZXQgZGlzdCA9IHRtcC5kb3Qobm9ybWFsKTsKICAgICAgbm9ybWFsLnNjYWxlKGRpc3QsIHRtcCk7CiAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIodG1wLCB0bXApOyAvLyB0bXAgaXMgbm93IHRoZSBzcGhlcmUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSB0cmlhbmdsZSBwbGFuZQoKICAgICAgZGlzdCA9IHRtcC5kaXN0YW5jZVRvKGxvY2FsU3BoZXJlUG9zKTsKCiAgICAgIGlmIChSYXkucG9pbnRJblRyaWFuZ2xlKHRtcCwgdmEsIHZiLCB2YykgJiYgZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykgewogICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgdG1wLnZzdWIobG9jYWxTcGhlcmVQb3MsIHIubmkpOwogICAgICAgIHIubmkubm9ybWFsaXplKCk7CiAgICAgICAgci5uaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpOwogICAgICAgIHIucmkudmFkZChzcGhlcmVQb3MsIHIucmkpOwogICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHRtcCwgdG1wKTsKICAgICAgICB0bXAudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7CiAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5yaSwgci5yaSk7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KCiAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDsKICB9CgogIHBsYW5lVHJpbWVzaChwbGFuZVNoYXBlLCB0cmltZXNoU2hhcGUsIHBsYW5lUG9zLCB0cmltZXNoUG9zLCBwbGFuZVF1YXQsIHRyaW1lc2hRdWF0LCBwbGFuZUJvZHksIHRyaW1lc2hCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgIC8vIE1ha2UgY29udGFjdHMhCiAgICBjb25zdCB2ID0gbmV3IFZlYzMoKTsKICAgIGNvbnN0IG5vcm1hbCA9IHBsYW5lVHJpbWVzaF9ub3JtYWw7CiAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgcGxhbmVRdWF0LnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lCgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmltZXNoU2hhcGUudmVydGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgIC8vIEdldCB3b3JsZCB2ZXJ0ZXggZnJvbSB0cmltZXNoCiAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgoaSwgdik7IC8vIFNhZmUgdXAKCiAgICAgIGNvbnN0IHYyID0gbmV3IFZlYzMoKTsKICAgICAgdjIuY29weSh2KTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB2Miwgdik7IC8vIENoZWNrIHBsYW5lIHNpZGUKCiAgICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lVHJpbWVzaF9yZWxwb3M7CiAgICAgIHYudnN1YihwbGFuZVBvcywgcmVscG9zKTsKICAgICAgY29uc3QgZG90ID0gbm9ybWFsLmRvdChyZWxwb3MpOwoKICAgICAgaWYgKGRvdCA8PSAwLjApIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgdHJpbWVzaEJvZHksIHBsYW5lU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsCiAgICAgICAgLy8gR2V0IHZlcnRleCBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVUcmltZXNoX3Byb2plY3RlZDsKICAgICAgICBub3JtYWwuc2NhbGUocmVscG9zLmRvdChub3JtYWwpLCBwcm9qZWN0ZWQpOwogICAgICAgIHYudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vIHJpIGlzIHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb24KCiAgICAgICAgci5yaS5jb3B5KHByb2plY3RlZCk7CiAgICAgICAgci5yaS52c3ViKHBsYW5lQm9keS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgci5yai5jb3B5KHYpOwogICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdAoKICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgfQogICAgfQogIH0gLy8gY29udmV4VHJpbWVzaCgKICAvLyAgIHNpOiBDb252ZXhQb2x5aGVkcm9uLCBzajogVHJpbWVzaCwgeGk6IFZlYzMsIHhqOiBWZWMzLCBxaTogUXVhdGVybmlvbiwgcWo6IFF1YXRlcm5pb24sCiAgLy8gICBiaTogQm9keSwgYmo6IEJvZHksIHJzaT86IFNoYXBlIHwgbnVsbCwgcnNqPzogU2hhcGUgfCBudWxsLAogIC8vICAgZmFjZUxpc3RBPzogbnVtYmVyW10gfCBudWxsLCBmYWNlTGlzdEI/OiBudW1iZXJbXSB8IG51bGwsCiAgLy8gKSB7CiAgLy8gICBjb25zdCBzZXBBeGlzID0gY29udmV4Q29udmV4X3NlcEF4aXM7CiAgLy8gICBpZih4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpewogIC8vICAgICAgIHJldHVybjsKICAvLyAgIH0KICAvLyAgIC8vIENvbnN0cnVjdCBhIHRlbXAgaHVsbCBmb3IgZWFjaCB0cmlhbmdsZQogIC8vICAgY29uc3QgaHVsbEIgPSBuZXcgQ29udmV4UG9seWhlZHJvbigpOwogIC8vICAgaHVsbEIuZmFjZXMgPSBbWzAsMSwyXV07CiAgLy8gICBjb25zdCB2YSA9IG5ldyBWZWMzKCk7CiAgLy8gICBjb25zdCB2YiA9IG5ldyBWZWMzKCk7CiAgLy8gICBjb25zdCB2YyA9IG5ldyBWZWMzKCk7CiAgLy8gICBodWxsQi52ZXJ0aWNlcyA9IFsKICAvLyAgICAgICB2YSwKICAvLyAgICAgICB2YiwKICAvLyAgICAgICB2YwogIC8vICAgXTsKICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2ouaW5kaWNlcy5sZW5ndGggLyAzOyBpKyspIHsKICAvLyAgICAgICBjb25zdCB0cmlhbmdsZU5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgLy8gICAgICAgc2ouZ2V0Tm9ybWFsKGksIHRyaWFuZ2xlTm9ybWFsKTsKICAvLyAgICAgICBodWxsQi5mYWNlTm9ybWFscyA9IFt0cmlhbmdsZU5vcm1hbF07CiAgLy8gICAgICAgc2ouZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCB2YSwgdmIsIHZjKTsKICAvLyAgICAgICBsZXQgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopOwogIC8vICAgICAgIGlmKCFkKXsKICAvLyAgICAgICAgICAgdHJpYW5nbGVOb3JtYWwuc2NhbGUoLTEsIHRyaWFuZ2xlTm9ybWFsKTsKICAvLyAgICAgICAgICAgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopOwogIC8vICAgICAgICAgICBpZighZCl7CiAgLy8gICAgICAgICAgICAgICBjb250aW51ZTsKICAvLyAgICAgICAgICAgfQogIC8vICAgICAgIH0KICAvLyAgICAgICBjb25zdCByZXM6IENvbnZleFBvbHloZWRyb25Db250YWN0UG9pbnRbXSA9IFtdOwogIC8vICAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTsKICAvLyAgICAgICBzaS5jbGlwQWdhaW5zdEh1bGwoeGkscWksaHVsbEIseGoscWosdHJpYW5nbGVOb3JtYWwsLTEwMCwxMDAscmVzKTsKICAvLyAgICAgICBmb3IobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspewogIC8vICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksYmosc2ksc2oscnNpLHJzaiksCiAgLy8gICAgICAgICAgICAgICByaSA9IHIucmksCiAgLy8gICAgICAgICAgICAgICByaiA9IHIucmo7CiAgLy8gICAgICAgICAgIHIubmkuY29weSh0cmlhbmdsZU5vcm1hbCk7CiAgLy8gICAgICAgICAgIHIubmkubmVnYXRlKHIubmkpOwogIC8vICAgICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTsKICAvLyAgICAgICAgICAgcS5tdWx0KHJlc1tqXS5kZXB0aCwgcSk7CiAgLy8gICAgICAgICAgIHJlc1tqXS5wb2ludC52YWRkKHEsIHJpKTsKICAvLyAgICAgICAgICAgcmouY29weShyZXNbal0ucG9pbnQpOwogIC8vICAgICAgICAgICAvLyBDb250YWN0IHBvaW50cyBhcmUgaW4gd29ybGQgY29vcmRpbmF0ZXMuIFRyYW5zZm9ybSBiYWNrIHRvIHJlbGF0aXZlCiAgLy8gICAgICAgICAgIHJpLnZzdWIoeGkscmkpOwogIC8vICAgICAgICAgICByai52c3ViKHhqLHJqKTsKICAvLyAgICAgICAgICAgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKICAvLyAgICAgICAgICAgcmkudmFkZCh4aSwgcmkpOwogIC8vICAgICAgICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7CiAgLy8gICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAvLyAgICAgICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopOwogIC8vICAgICAgICAgICByZXN1bHQucHVzaChyKTsKICAvLyAgICAgICB9CiAgLy8gICB9CiAgLy8gfQoKCn0KCmNvbnN0IGF2ZXJhZ2VOb3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QSA9IG5ldyBWZWMzKCk7CmNvbnN0IGF2ZXJhZ2VDb250YWN0UG9pbnRCID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wVmVjMSQyID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wVmVjMiQyID0gbmV3IFZlYzMoKTsKY29uc3QgdG1wUXVhdDEgPSBuZXcgUXVhdGVybmlvbigpOwpjb25zdCB0bXBRdWF0MiA9IG5ldyBRdWF0ZXJuaW9uKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Qm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hCb3g7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hDb252ZXg7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94UGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveFBhcnRpY2xlOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVNwaGVyZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlU3BoZXJlOwpjb25zdCBwbGFuZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgcGxhbmVUcmltZXNoX3JlbHBvcyA9IG5ldyBWZWMzKCk7CmNvbnN0IHBsYW5lVHJpbWVzaF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVUcmltZXNoOwpjb25zdCBzcGhlcmVUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF92ID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF92MiA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEEgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdCA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3MgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3RtcCA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfdmEgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVUcmltZXNoX3ZiID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF92YyA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVBQUJCID0gbmV3IEFBQkIoKTsKY29uc3Qgc3BoZXJlVHJpbWVzaF90cmlhbmdsZXMgPSBbXTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVUcmltZXNoXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVUcmltZXNoOwpjb25zdCBwb2ludF9vbl9wbGFuZV90b19zcGhlcmUgPSBuZXcgVmVjMygpOwpjb25zdCBwbGFuZV90b19zcGhlcmVfb3J0aG8gPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVBsYW5lXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVQbGFuZTsgLy8gU2VlIGh0dHA6Ly9idWxsZXRwaHlzaWNzLmNvbS9CdWxsZXQvQnVsbGV0RnVsbC9TcGhlcmVUcmlhbmdsZURldGVjdG9yXzhjcHBfc291cmNlLmh0bWwKCmNvbnN0IHBvaW50SW5Qb2x5Z29uX2VkZ2UgPSBuZXcgVmVjMygpOwpjb25zdCBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTsKY29uc3QgcG9pbnRJblBvbHlnb25fdnRwID0gbmV3IFZlYzMoKTsKCmZ1bmN0aW9uIHBvaW50SW5Qb2x5Z29uKHZlcnRzLCBub3JtYWwsIHApIHsKICBsZXQgcG9zaXRpdmVSZXN1bHQgPSBudWxsOwogIGNvbnN0IE4gPSB2ZXJ0cy5sZW5ndGg7CgogIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gR2V0IGVkZ2UgdG8gdGhlIG5leHQgdmVydGV4CgogICAgY29uc3QgZWRnZSA9IHBvaW50SW5Qb2x5Z29uX2VkZ2U7CiAgICB2ZXJ0c1soaSArIDEpICUgTl0udnN1Yih2LCBlZGdlKTsgLy8gR2V0IGNyb3NzIHByb2R1Y3QgYmV0d2VlbiBwb2x5Z29uIG5vcm1hbCBhbmQgdGhlIGVkZ2UKCiAgICBjb25zdCBlZGdlX3hfbm9ybWFsID0gcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbDsgLy9jb25zdCBlZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTsKCiAgICBlZGdlLmNyb3NzKG5vcm1hbCwgZWRnZV94X25vcm1hbCk7IC8vIEdldCB2ZWN0b3IgYmV0d2VlbiBwb2ludCBhbmQgY3VycmVudCB2ZXJ0ZXgKCiAgICBjb25zdCB2ZXJ0ZXhfdG9fcCA9IHBvaW50SW5Qb2x5Z29uX3Z0cDsKICAgIHAudnN1Yih2LCB2ZXJ0ZXhfdG9fcCk7IC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgIGNvbnN0IHIgPSBlZGdlX3hfbm9ybWFsLmRvdCh2ZXJ0ZXhfdG9fcCk7IC8vIElmIGFsbCBzdWNoIGRvdCBwcm9kdWN0cyBoYXZlIHNhbWUgc2lnbiwgd2UgYXJlIGluc2lkZSB0aGUgcG9seWdvbi4KCiAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwgfHwgciA+IDAgJiYgcG9zaXRpdmVSZXN1bHQgPT09IHRydWUgfHwgciA8PSAwICYmIHBvc2l0aXZlUmVzdWx0ID09PSBmYWxzZSkgewogICAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwpIHsKICAgICAgICBwb3NpdGl2ZVJlc3VsdCA9IHIgPiAwOwogICAgICB9CgogICAgICBjb250aW51ZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LgogICAgfQogIH0gLy8gSWYgd2UgZ290IGhlcmUsIGFsbCBkb3QgcHJvZHVjdHMgd2VyZSBvZiB0aGUgc2FtZSBzaWduLgoKCiAgcmV0dXJuIHRydWU7Cn0KCmNvbnN0IGJveF90b19zcGhlcmUgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVCb3hfbnMgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVCb3hfbnMxID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQm94X25zMiA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9zaWRlcyA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTsKY29uc3Qgc3BoZXJlQm94X3NwaGVyZV90b19jb3JuZXIgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVCb3hfc2lkZV9ucyA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9zaWRlX25zMSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUJveF9zaWRlX25zMiA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVCb3g7CmNvbnN0IGNvbnZleF90b19zcGhlcmUgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVDb252ZXhfZWRnZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF9lZGdlVW5pdCA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lciA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZENvcm5lciA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFBvaW50ID0gbmV3IFZlYzMoKTsKY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYyA9IG5ldyBWZWMzKCk7CmNvbnN0IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUNvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlQ29udmV4OwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZUJveDsKY29uc3QgcGxhbmVDb252ZXhfdiA9IG5ldyBWZWMzKCk7CmNvbnN0IHBsYW5lQ29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IHBsYW5lQ29udmV4X3JlbHBvcyA9IG5ldyBWZWMzKCk7CmNvbnN0IHBsYW5lQ29udmV4X3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQ29udmV4Owpjb25zdCBjb252ZXhDb252ZXhfc2VwQXhpcyA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbnZleENvbnZleF9xID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleENvbnZleDsgLy8gTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhUcmltZXNoXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhUcmltZXNoCgpjb25zdCBwYXJ0aWNsZVBsYW5lX25vcm1hbCA9IG5ldyBWZWMzKCk7CmNvbnN0IHBhcnRpY2xlUGxhbmVfcmVscG9zID0gbmV3IFZlYzMoKTsKY29uc3QgcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lUGFydGljbGU7CmNvbnN0IHBhcnRpY2xlU3BoZXJlX25vcm1hbCA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBhcnRpY2xlOyAvLyBXSVAKCmNvbnN0IGNxaiA9IG5ldyBRdWF0ZXJuaW9uKCk7CmNvbnN0IGNvbnZleFBhcnRpY2xlX2xvY2FsID0gbmV3IFZlYzMoKTsKY29uc3QgY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWwgPSBuZXcgVmVjMygpOwpjb25zdCBjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlID0gbmV3IFZlYzMoKTsKY29uc3QgY29udmV4UGFydGljbGVfd29ybGRQZW5ldHJhdGlvblZlYyA9IG5ldyBWZWMzKCk7Ck5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY29udmV4UGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleFBhcnRpY2xlOwpOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hIZWlnaHRmaWVsZDsKY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfdG1wMSA9IG5ldyBWZWMzKCk7CmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpOwpjb25zdCBjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdCA9IFswXTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4SGVpZ2h0ZmllbGQ7CmNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDEgPSBuZXcgVmVjMygpOwpjb25zdCBzcGhlcmVIZWlnaHRmaWVsZF90bXAyID0gbmV3IFZlYzMoKTsKTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlSGVpZ2h0ZmllbGQ7Ci8qKg0KICogQGNsYXNzIE92ZXJsYXBLZWVwZXINCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgpjbGFzcyBPdmVybGFwS2VlcGVyIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuY3VycmVudCA9IFtdOwogICAgdGhpcy5wcmV2aW91cyA9IFtdOwogIH0KCiAgZ2V0S2V5KGksIGopIHsKICAgIGlmIChqIDwgaSkgewogICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgaiA9IGk7CiAgICAgIGkgPSB0ZW1wOwogICAgfQoKICAgIHJldHVybiBpIDw8IDE2IHwgajsKICB9CiAgLyoqDQogICAqIEBtZXRob2Qgc2V0DQogICAqIEBwYXJhbSB7TnVtYmVyfSBpDQogICAqIEBwYXJhbSB7TnVtYmVyfSBqDQogICAqLwoKCiAgc2V0KGksIGopIHsKICAgIC8vIEluc2VydGlvbiBzb3J0LiBUaGlzIHdheSB0aGUgZGlmZiB3aWxsIGhhdmUgbGluZWFyIGNvbXBsZXhpdHkuCiAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleShpLCBqKTsKICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7CiAgICBsZXQgaW5kZXggPSAwOwoKICAgIHdoaWxlIChrZXkgPiBjdXJyZW50W2luZGV4XSkgewogICAgICBpbmRleCsrOwogICAgfQoKICAgIGlmIChrZXkgPT09IGN1cnJlbnRbaW5kZXhdKSB7CiAgICAgIHJldHVybjsgLy8gUGFpciB3YXMgYWxyZWFkeSBhZGRlZAogICAgfQoKICAgIGZvciAobGV0IGogPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGogPj0gaW5kZXg7IGotLSkgewogICAgICBjdXJyZW50W2ogKyAxXSA9IGN1cnJlbnRbal07CiAgICB9CgogICAgY3VycmVudFtpbmRleF0gPSBrZXk7CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIHRpY2sNCiAgICovCgoKICB0aWNrKCkgewogICAgY29uc3QgdG1wID0gdGhpcy5jdXJyZW50OwogICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wcmV2aW91czsKICAgIHRoaXMucHJldmlvdXMgPSB0bXA7CiAgICB0aGlzLmN1cnJlbnQubGVuZ3RoID0gMDsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgZ2V0RGlmZg0KICAgKiBAcGFyYW0gIHthcnJheX0gYWRkaXRpb25zDQogICAqIEBwYXJhbSAge2FycmF5fSByZW1vdmFscw0KICAgKi8KCgogIGdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscykgewogICAgY29uc3QgYSA9IHRoaXMuY3VycmVudDsKICAgIGNvbnN0IGIgPSB0aGlzLnByZXZpb3VzOwogICAgY29uc3QgYWwgPSBhLmxlbmd0aDsKICAgIGNvbnN0IGJsID0gYi5sZW5ndGg7CiAgICBsZXQgaiA9IDA7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbDsgaSsrKSB7CiAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICBjb25zdCBrZXlBID0gYVtpXTsKCiAgICAgIHdoaWxlIChrZXlBID4gYltqXSkgewogICAgICAgIGorKzsKICAgICAgfQoKICAgICAgZm91bmQgPSBrZXlBID09PSBiW2pdOwoKICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgIHVucGFja0FuZFB1c2goYWRkaXRpb25zLCBrZXlBKTsKICAgICAgfQogICAgfQoKICAgIGogPSAwOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmw7IGkrKykgewogICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgY29uc3Qga2V5QiA9IGJbaV07CgogICAgICB3aGlsZSAoa2V5QiA+IGFbal0pIHsKICAgICAgICBqKys7CiAgICAgIH0KCiAgICAgIGZvdW5kID0gYVtqXSA9PT0ga2V5QjsKCiAgICAgIGlmICghZm91bmQpIHsKICAgICAgICB1bnBhY2tBbmRQdXNoKHJlbW92YWxzLCBrZXlCKTsKICAgICAgfQogICAgfQogIH0KCn0KCmZ1bmN0aW9uIHVucGFja0FuZFB1c2goYXJyYXksIGtleSkgewogIGFycmF5LnB1c2goKGtleSAmIDB4ZmZmZjAwMDApID4+IDE2LCBrZXkgJiAweDAwMDBmZmZmKTsKfQovKioNCiAqIEBjbGFzcyBUdXBsZURpY3Rpb25hcnkNCiAqIEBjb25zdHJ1Y3Rvcg0KICovCgoKY2xhc3MgVHVwbGVEaWN0aW9uYXJ5IHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuZGF0YSA9IHsKICAgICAga2V5czogW10KICAgIH07CiAgfQogIC8qKg0KICAgKiBAbWV0aG9kIGdldA0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGkNCiAgICogQHBhcmFtICB7TnVtYmVyfSBqDQogICAqIEByZXR1cm4ge09iamVjdH0NCiAgICovCgoKICBnZXQoaSwgaikgewogICAgaWYgKGkgPiBqKSB7CiAgICAgIC8vIHN3YXAKICAgICAgY29uc3QgdGVtcCA9IGo7CiAgICAgIGogPSBpOwogICAgICBpID0gdGVtcDsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5kYXRhW2kgKyAiLSIgKyBqXTsKICB9CiAgLyoqDQogICAqIEBtZXRob2Qgc2V0DQogICAqIEBwYXJhbSAge051bWJlcn0gaQ0KICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGoNCiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlDQogICAqLwoKCiAgc2V0KGksIGosIHZhbHVlKSB7CiAgICBpZiAoaSA+IGopIHsKICAgICAgY29uc3QgdGVtcCA9IGo7CiAgICAgIGogPSBpOwogICAgICBpID0gdGVtcDsKICAgIH0KCiAgICBjb25zdCBrZXkgPSBpICsgIi0iICsgajsgLy8gQ2hlY2sgaWYga2V5IGFscmVhZHkgZXhpc3RzCgogICAgaWYgKCF0aGlzLmdldChpLCBqKSkgewogICAgICB0aGlzLmRhdGEua2V5cy5wdXNoKGtleSk7CiAgICB9CgogICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTsKICB9CiAgLyoqDQogICAqIEBtZXRob2QgcmVzZXQNCiAgICovCgoKICByZXNldCgpIHsKICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICBjb25zdCBrZXlzID0gZGF0YS5rZXlzOwoKICAgIHdoaWxlIChrZXlzLmxlbmd0aCA+IDApIHsKICAgICAgY29uc3Qga2V5ID0ga2V5cy5wb3AoKTsKICAgICAgZGVsZXRlIGRhdGFba2V5XTsKICAgIH0KICB9Cgp9Ci8qKg0KICogVGhlIHBoeXNpY3Mgd29ybGQNCiAqIEBjbGFzcyBXb3JsZA0KICogQGNvbnN0cnVjdG9yDQogKiBAZXh0ZW5kcyBFdmVudFRhcmdldA0KICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQ0KICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5ncmF2aXR5XQ0KICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd1NsZWVwXQ0KICogQHBhcmFtIHtCcm9hZHBoYXNlfSBbb3B0aW9ucy5icm9hZHBoYXNlXQ0KICogQHBhcmFtIHtTb2x2ZXJ9IFtvcHRpb25zLnNvbHZlcl0NCiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucXVhdE5vcm1hbGl6ZUZhc3RdDQogKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXBdDQogKi8KCgpjbGFzcyBXb3JsZCBleHRlbmRzIEV2ZW50VGFyZ2V0IHsKICAvLyBDdXJyZW50bHkgLyBsYXN0IHVzZWQgdGltZXN0ZXAuIElzIHNldCB0byAtMSBpZiBub3QgYXZhaWxhYmxlLiBUaGlzIHZhbHVlIGlzIHVwZGF0ZWQgYmVmb3JlIGVhY2ggaW50ZXJuYWwgc3RlcCwgd2hpY2ggbWVhbnMgdGhhdCBpdCBpcyAiZnJlc2giIGluc2lkZSBldmVudCBjYWxsYmFja3MuCiAgLy8gTWFrZXMgYm9kaWVzIGdvIHRvIHNsZWVwIHdoZW4gdGhleSd2ZSBiZWVuIGluYWN0aXZlLgogIC8vIEFsbCB0aGUgY3VycmVudCBjb250YWN0cyAoaW5zdGFuY2VzIG9mIENvbnRhY3RFcXVhdGlvbikgaW4gdGhlIHdvcmxkLgogIC8vIEhvdyBvZnRlbiB0byBub3JtYWxpemUgcXVhdGVybmlvbnMuIFNldCB0byAwIGZvciBldmVyeSBzdGVwLCAxIGZvciBldmVyeSBzZWNvbmQgZXRjLi4gQSBsYXJnZXIgdmFsdWUgaW5jcmVhc2VzIHBlcmZvcm1hbmNlLiBJZiBib2RpZXMgdGVuZCB0byBleHBsb2RlLCBzZXQgdG8gYSBzbWFsbGVyIHZhbHVlICh6ZXJvIHRvIGJlIHN1cmUgbm90aGluZyBjYW4gZ28gd3JvbmcpLgogIC8vIFNldCB0byB0cnVlIHRvIHVzZSBmYXN0IHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbi4gSXQgaXMgb2Z0ZW4gZW5vdWdoIGFjY3VyYXRlIHRvIHVzZS4gSWYgYm9kaWVzIHRlbmQgdG8gZXhwbG9kZSwgc2V0IHRvIGZhbHNlLgogIC8vIFRoZSB3YWxsLWNsb2NrIHRpbWUgc2luY2Ugc2ltdWxhdGlvbiBzdGFydC4KICAvLyBOdW1iZXIgb2YgdGltZXN0ZXBzIHRha2VuIHNpbmNlIHN0YXJ0LgogIC8vIERlZmF1bHQgYW5kIGxhc3QgdGltZXN0ZXAgc2l6ZXMuCiAgLy8gVGhlIGJyb2FkcGhhc2UgYWxnb3JpdGhtIHRvIHVzZS4gRGVmYXVsdCBpcyBOYWl2ZUJyb2FkcGhhc2UuCiAgLy8gQWxsIGJvZGllcyBpbiB0aGlzIHdvcmxkCiAgLy8gVHJ1ZSBpZiBhbnkgYm9kaWVzIGFyZSBub3Qgc2xlZXBpbmcsIGZhbHNlIGlmIGV2ZXJ5IGJvZHkgaXMgc2xlZXBpbmcuCiAgLy8gVGhlIHNvbHZlciBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIEdTU29sdmVyLgogIC8vIENvbGxpc2lvbk1hdHJpeCBmcm9tIHRoZSBwcmV2aW91cyBzdGVwLgogIC8vIEFsbCBhZGRlZCBtYXRlcmlhbHMuCiAgLy8gVXNlZCB0byBsb29rIHVwIGEgQ29udGFjdE1hdGVyaWFsIGdpdmVuIHR3byBpbnN0YW5jZXMgb2YgTWF0ZXJpYWwuCiAgLy8gVGhpcyBjb250YWN0IG1hdGVyaWFsIGlzIHVzZWQgaWYgbm8gc3VpdGFibGUgY29udGFjdG1hdGVyaWFsIGlzIGZvdW5kIGZvciBhIGNvbnRhY3QuCiAgLy8gVGltZSBhY2N1bXVsYXRvciBmb3IgaW50ZXJwb2xhdGlvbi4gU2VlIGh0dHA6Ly9nYWZmZXJvbmdhbWVzLmNvbS9nYW1lLXBoeXNpY3MvZml4LXlvdXItdGltZXN0ZXAvCiAgLy8gRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHdvcmxkLgogIC8vIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgd29ybGQuCiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5kdCA9IC0xOwogICAgdGhpcy5hbGxvd1NsZWVwID0gISFvcHRpb25zLmFsbG93U2xlZXA7CiAgICB0aGlzLmNvbnRhY3RzID0gW107CiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zID0gW107CiAgICB0aGlzLnF1YXROb3JtYWxpemVTa2lwID0gb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcCA6IDA7CiAgICB0aGlzLnF1YXROb3JtYWxpemVGYXN0ID0gb3B0aW9ucy5xdWF0Tm9ybWFsaXplRmFzdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5xdWF0Tm9ybWFsaXplRmFzdCA6IGZhbHNlOwogICAgdGhpcy50aW1lID0gMC4wOwogICAgdGhpcy5zdGVwbnVtYmVyID0gMDsKICAgIHRoaXMuZGVmYXVsdF9kdCA9IDEgLyA2MDsKICAgIHRoaXMubmV4dElkID0gMDsKICAgIHRoaXMuZ3Jhdml0eSA9IG5ldyBWZWMzKCk7CgogICAgaWYgKG9wdGlvbnMuZ3Jhdml0eSkgewogICAgICB0aGlzLmdyYXZpdHkuY29weShvcHRpb25zLmdyYXZpdHkpOwogICAgfQoKICAgIHRoaXMuYnJvYWRwaGFzZSA9IG9wdGlvbnMuYnJvYWRwaGFzZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5icm9hZHBoYXNlIDogbmV3IE5haXZlQnJvYWRwaGFzZSgpOwogICAgdGhpcy5ib2RpZXMgPSBbXTsKICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7CiAgICB0aGlzLnNvbHZlciA9IG9wdGlvbnMuc29sdmVyICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNvbHZlciA6IG5ldyBHU1NvbHZlcigpOwogICAgdGhpcy5jb25zdHJhaW50cyA9IFtdOwogICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTsKICAgIHRoaXMuY29sbGlzaW9uTWF0cml4ID0gbmV3IEFycmF5Q29sbGlzaW9uTWF0cml4KCk7CiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzID0gbmV3IEFycmF5Q29sbGlzaW9uTWF0cml4KCk7CiAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTsKICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTsKICAgIHRoaXMubWF0ZXJpYWxzID0gW107CiAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMgPSBbXTsKICAgIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUgPSBuZXcgVHVwbGVEaWN0aW9uYXJ5KCk7CiAgICB0aGlzLmRlZmF1bHRNYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgnZGVmYXVsdCcpOwogICAgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsID0gbmV3IENvbnRhY3RNYXRlcmlhbCh0aGlzLmRlZmF1bHRNYXRlcmlhbCwgdGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHsKICAgICAgZnJpY3Rpb246IDAuMywKICAgICAgcmVzdGl0dXRpb246IDAuMAogICAgfSk7CiAgICB0aGlzLmRvUHJvZmlsaW5nID0gZmFsc2U7CiAgICB0aGlzLnByb2ZpbGUgPSB7CiAgICAgIHNvbHZlOiAwLAogICAgICBtYWtlQ29udGFjdENvbnN0cmFpbnRzOiAwLAogICAgICBicm9hZHBoYXNlOiAwLAogICAgICBpbnRlZ3JhdGU6IDAsCiAgICAgIG5hcnJvd3BoYXNlOiAwCiAgICB9OwogICAgdGhpcy5hY2N1bXVsYXRvciA9IDA7CiAgICB0aGlzLnN1YnN5c3RlbXMgPSBbXTsKICAgIHRoaXMuYWRkQm9keUV2ZW50ID0gewogICAgICB0eXBlOiAnYWRkQm9keScsCiAgICAgIGJvZHk6IG51bGwKICAgIH07CiAgICB0aGlzLnJlbW92ZUJvZHlFdmVudCA9IHsKICAgICAgdHlwZTogJ3JlbW92ZUJvZHknLAogICAgICBib2R5OiBudWxsCiAgICB9OwogICAgdGhpcy5pZFRvQm9keU1hcCA9IHt9OwogICAgdGhpcy5icm9hZHBoYXNlLnNldFdvcmxkKHRoaXMpOwogIH0KICAvKioNCiAgICogR2V0IHRoZSBjb250YWN0IG1hdGVyaWFsIGJldHdlZW4gbWF0ZXJpYWxzIG0xIGFuZCBtMg0KICAgKiBAbWV0aG9kIGdldENvbnRhY3RNYXRlcmlhbA0KICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMQ0KICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMg0KICAgKiBAcmV0dXJuIHtDb250YWN0TWF0ZXJpYWx9IFRoZSBjb250YWN0IG1hdGVyaWFsIGlmIGl0IHdhcyBmb3VuZC4NCiAgICovCgoKICBnZXRDb250YWN0TWF0ZXJpYWwobTEsIG0yKSB7CiAgICByZXR1cm4gdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5nZXQobTEuaWQsIG0yLmlkKTsKICB9CiAgLyoqDQogICAqIEdldCBudW1iZXIgb2Ygb2JqZWN0cyBpbiB0aGUgd29ybGQuDQogICAqIEBtZXRob2QgbnVtT2JqZWN0cw0KICAgKiBAcmV0dXJuIHtOdW1iZXJ9DQogICAqIEBkZXByZWNhdGVkDQogICAqLwoKCiAgbnVtT2JqZWN0cygpIHsKICAgIHJldHVybiB0aGlzLmJvZGllcy5sZW5ndGg7CiAgfQogIC8qKg0KICAgKiBTdG9yZSBvbGQgY29sbGlzaW9uIHN0YXRlIGluZm8NCiAgICogQG1ldGhvZCBjb2xsaXNpb25NYXRyaXhUaWNrDQogICAqLwoKCiAgY29sbGlzaW9uTWF0cml4VGljaygpIHsKICAgIGNvbnN0IHRlbXAgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzOwogICAgdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cyA9IHRoaXMuY29sbGlzaW9uTWF0cml4OwogICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSB0ZW1wOwogICAgdGhpcy5jb2xsaXNpb25NYXRyaXgucmVzZXQoKTsKICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIudGljaygpOwogICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIudGljaygpOwogIH0KICAvKioNCiAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgc2ltdWxhdGlvbi4NCiAgICogQG1ldGhvZCBhZGRDb25zdHJhaW50DQogICAqIEBwYXJhbSB7Q29uc3RyYWludH0gYw0KICAgKi8KCgogIGFkZENvbnN0cmFpbnQoYykgewogICAgdGhpcy5jb25zdHJhaW50cy5wdXNoKGMpOwogIH0KICAvKioNCiAgICogUmVtb3ZlcyBhIGNvbnN0cmFpbnQNCiAgICogQG1ldGhvZCByZW1vdmVDb25zdHJhaW50DQogICAqIEBwYXJhbSB7Q29uc3RyYWludH0gYw0KICAgKi8KCgogIHJlbW92ZUNvbnN0cmFpbnQoYykgewogICAgY29uc3QgaWR4ID0gdGhpcy5jb25zdHJhaW50cy5pbmRleE9mKGMpOwoKICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgIHRoaXMuY29uc3RyYWludHMuc3BsaWNlKGlkeCwgMSk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBSYXljYXN0IHRlc3QNCiAgICogQG1ldGhvZCByYXlUZXN0DQogICAqIEBwYXJhbSB7VmVjM30gZnJvbQ0KICAgKiBAcGFyYW0ge1ZlYzN9IHRvDQogICAqIEBwYXJhbSB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0DQogICAqIEBkZXByZWNhdGVkIFVzZSAucmF5Y2FzdEFsbCwgLnJheWNhc3RDbG9zZXN0IG9yIC5yYXljYXN0QW55IGluc3RlYWQuDQogICAqLwoKCiAgcmF5VGVzdChmcm9tLCB0bywgcmVzdWx0KSB7CiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUmF5Y2FzdFJlc3VsdCkgewogICAgICAvLyBEbyByYXljYXN0Q2xvc2VzdAogICAgICB0aGlzLnJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCB7CiAgICAgICAgc2tpcEJhY2tmYWNlczogdHJ1ZQogICAgICB9LCByZXN1bHQpOwogICAgfSBlbHNlIHsKICAgICAgLy8gRG8gcmF5Y2FzdEFsbAogICAgICB0aGlzLnJheWNhc3RBbGwoZnJvbSwgdG8sIHsKICAgICAgICBza2lwQmFja2ZhY2VzOiB0cnVlCiAgICAgIH0sIHJlc3VsdCk7CiAgICB9CiAgfQogIC8qKg0KICAgKiBSYXkgY2FzdCBhZ2FpbnN0IGFsbCBib2RpZXMuIFRoZSBwcm92aWRlZCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGhpdCB3aXRoIGEgUmF5Y2FzdFJlc3VsdCBhcyBzaW5nbGUgYXJndW1lbnQuDQogICAqIEBtZXRob2QgcmF5Y2FzdEFsbA0KICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tDQogICAqIEBwYXJhbSAge1ZlYzN9IHRvDQogICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucw0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdDQogICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdDQogICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0NCiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrDQogICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC4NCiAgICovCgoKICByYXljYXN0QWxsKGZyb20sIHRvLCBvcHRpb25zID0ge30sIGNhbGxiYWNrKSB7CiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQUxMOwogICAgb3B0aW9ucy5mcm9tID0gZnJvbTsKICAgIG9wdGlvbnMudG8gPSB0bzsKICAgIG9wdGlvbnMuY2FsbGJhY2sgPSBjYWxsYmFjazsKICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTsKICB9CiAgLyoqDQogICAqIFJheSBjYXN0LCBhbmQgc3RvcCBhdCB0aGUgZmlyc3QgcmVzdWx0LiBOb3RlIHRoYXQgdGhlIG9yZGVyIGlzIHJhbmRvbSAtIGJ1dCB0aGUgbWV0aG9kIGlzIGZhc3QuDQogICAqIEBtZXRob2QgcmF5Y2FzdEFueQ0KICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tDQogICAqIEBwYXJhbSAge1ZlYzN9IHRvDQogICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucw0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdDQogICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdDQogICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0NCiAgICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0DQogICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC4NCiAgICovCgoKICByYXljYXN0QW55KGZyb20sIHRvLCBvcHRpb25zID0ge30sIHJlc3VsdCkgewogICAgb3B0aW9ucy5tb2RlID0gUmF5LkFOWTsKICAgIG9wdGlvbnMuZnJvbSA9IGZyb207CiAgICBvcHRpb25zLnRvID0gdG87CiAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDsKICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTsKICB9CiAgLyoqDQogICAqIFJheSBjYXN0LCBhbmQgcmV0dXJuIGluZm9ybWF0aW9uIG9mIHRoZSBjbG9zZXN0IGhpdC4NCiAgICogQG1ldGhvZCByYXljYXN0Q2xvc2VzdA0KICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tDQogICAqIEBwYXJhbSAge1ZlYzN9IHRvDQogICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucw0KICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdDQogICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdDQogICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdDQogICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0NCiAgICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0DQogICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC4NCiAgICovCgoKICByYXljYXN0Q2xvc2VzdChmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHsKICAgIG9wdGlvbnMubW9kZSA9IFJheS5DTE9TRVNUOwogICAgb3B0aW9ucy5mcm9tID0gZnJvbTsKICAgIG9wdGlvbnMudG8gPSB0bzsKICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0OwogICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogIH0KICAvKioNCiAgICogQWRkIGEgcmlnaWQgYm9keSB0byB0aGUgc2ltdWxhdGlvbi4NCiAgICogQG1ldGhvZCBhZGQNCiAgICogQHBhcmFtIHtCb2R5fSBib2R5DQogICAqIEB0b2RvIElmIHRoZSBzaW11bGF0aW9uIGhhcyBub3QgeWV0IHN0YXJ0ZWQsIHdoeSByZWNyZXRlIGFuZCBjb3B5IGFycmF5cyBmb3IgZWFjaCBib2R5PyBBY2N1bXVsYXRlIGluIGR5bmFtaWMgYXJyYXlzIGluIHRoaXMgY2FzZS4NCiAgICogQHRvZG8gQWRkaW5nIGFuIGFycmF5IG9mIGJvZGllcyBzaG91bGQgYmUgcG9zc2libGUuIFRoaXMgd291bGQgc2F2ZSBzb21lIGxvb3BzIHRvbw0KICAgKi8KCgogIGFkZEJvZHkoYm9keSkgewogICAgaWYgKHRoaXMuYm9kaWVzLmluY2x1ZGVzKGJvZHkpKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBib2R5LmluZGV4ID0gdGhpcy5ib2RpZXMubGVuZ3RoOwogICAgdGhpcy5ib2RpZXMucHVzaChib2R5KTsKICAgIGJvZHkud29ybGQgPSB0aGlzOwogICAgYm9keS5pbml0UG9zaXRpb24uY29weShib2R5LnBvc2l0aW9uKTsKICAgIGJvZHkuaW5pdFZlbG9jaXR5LmNvcHkoYm9keS52ZWxvY2l0eSk7CiAgICBib2R5LnRpbWVMYXN0U2xlZXB5ID0gdGhpcy50aW1lOwoKICAgIGlmIChib2R5IGluc3RhbmNlb2YgQm9keSkgewogICAgICBib2R5LmluaXRBbmd1bGFyVmVsb2NpdHkuY29weShib2R5LmFuZ3VsYXJWZWxvY2l0eSk7CiAgICAgIGJvZHkuaW5pdFF1YXRlcm5pb24uY29weShib2R5LnF1YXRlcm5pb24pOwogICAgfQoKICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnNldE51bU9iamVjdHModGhpcy5ib2RpZXMubGVuZ3RoKTsKICAgIHRoaXMuYWRkQm9keUV2ZW50LmJvZHkgPSBib2R5OwogICAgdGhpcy5pZFRvQm9keU1hcFtib2R5LmlkXSA9IGJvZHk7CiAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5hZGRCb2R5RXZlbnQpOwogIH0KICAvKioNCiAgICogUmVtb3ZlIGEgcmlnaWQgYm9keSBmcm9tIHRoZSBzaW11bGF0aW9uLg0KICAgKiBAbWV0aG9kIHJlbW92ZQ0KICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkNCiAgICovCgoKICByZW1vdmVCb2R5KGJvZHkpIHsKICAgIGJvZHkud29ybGQgPSBudWxsOwogICAgY29uc3QgbiA9IHRoaXMuYm9kaWVzLmxlbmd0aCAtIDE7CiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKICAgIGNvbnN0IGlkeCA9IGJvZGllcy5pbmRleE9mKGJvZHkpOwoKICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgIGJvZGllcy5zcGxpY2UoaWR4LCAxKTsgLy8gVG9kbzogc2hvdWxkIHVzZSBhIGdhcmJhZ2UgZnJlZSBtZXRob2QKICAgICAgLy8gUmVjb21wdXRlIGluZGV4CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYm9kaWVzW2ldLmluZGV4ID0gaTsKICAgICAgfQoKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyhuKTsKICAgICAgdGhpcy5yZW1vdmVCb2R5RXZlbnQuYm9keSA9IGJvZHk7CiAgICAgIGRlbGV0ZSB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdOwogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5yZW1vdmVCb2R5RXZlbnQpOwogICAgfQogIH0KCiAgZ2V0Qm9keUJ5SWQoaWQpIHsKICAgIHJldHVybiB0aGlzLmlkVG9Cb2R5TWFwW2lkXTsKICB9IC8vIFRPRE8gTWFrZSBhIGZhc3RlciBtYXAKCgogIGdldFNoYXBlQnlJZChpZCkgewogICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CgogICAgZm9yIChsZXQgaSA9IDAsIGJsID0gYm9kaWVzLmxlbmd0aDsgaSA8IGJsOyBpKyspIHsKICAgICAgY29uc3Qgc2hhcGVzID0gYm9kaWVzW2ldLnNoYXBlczsKCiAgICAgIGZvciAobGV0IGogPSAwLCBzbCA9IHNoYXBlcy5sZW5ndGg7IGogPCBzbDsgaisrKSB7CiAgICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbal07CgogICAgICAgIGlmIChzaGFwZS5pZCA9PT0gaWQpIHsKICAgICAgICAgIHJldHVybiBzaGFwZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLyoqDQogICAqIEFkZHMgYSBtYXRlcmlhbCB0byB0aGUgV29ybGQuDQogICAqIEBtZXRob2QgYWRkTWF0ZXJpYWwNCiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbQ0KICAgKiBAdG9kbyBOZWNlc3Nhcnk/DQogICAqLwoKCiAgYWRkTWF0ZXJpYWwobSkgewogICAgdGhpcy5tYXRlcmlhbHMucHVzaChtKTsKICB9CiAgLyoqDQogICAqIEFkZHMgYSBjb250YWN0IG1hdGVyaWFsIHRvIHRoZSBXb3JsZA0KICAgKiBAbWV0aG9kIGFkZENvbnRhY3RNYXRlcmlhbA0KICAgKiBAcGFyYW0ge0NvbnRhY3RNYXRlcmlhbH0gY21hdA0KICAgKi8KCgogIGFkZENvbnRhY3RNYXRlcmlhbChjbWF0KSB7CiAgICAvLyBBZGQgY29udGFjdCBtYXRlcmlhbAogICAgdGhpcy5jb250YWN0bWF0ZXJpYWxzLnB1c2goY21hdCk7IC8vIEFkZCBjdXJyZW50IGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIG1hdGVyaWFsIHRhYmxlCgogICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5zZXQoY21hdC5tYXRlcmlhbHNbMF0uaWQsIGNtYXQubWF0ZXJpYWxzWzFdLmlkLCBjbWF0KTsKICB9CiAgLyoqDQogICAqIFN0ZXAgdGhlIHBoeXNpY3Mgd29ybGQgZm9yd2FyZCBpbiB0aW1lLg0KICAgKg0KICAgKiBUaGVyZSBhcmUgdHdvIG1vZGVzLiBUaGUgc2ltcGxlIG1vZGUgaXMgZml4ZWQgdGltZXN0ZXBwaW5nIHdpdGhvdXQgaW50ZXJwb2xhdGlvbi4gSW4gdGhpcyBjYXNlIHlvdSBvbmx5IHVzZSB0aGUgZmlyc3QgYXJndW1lbnQuIFRoZSBzZWNvbmQgY2FzZSB1c2VzIGludGVycG9sYXRpb24uIEluIHRoYXQgeW91IGFsc28gcHJvdmlkZSB0aGUgdGltZSBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgdXNlZCwgYXMgd2VsbCBhcyB0aGUgbWF4aW11bSBmaXhlZCB0aW1lc3RlcHMgdG8gdGFrZS4NCiAgICoNCiAgICogQG1ldGhvZCBzdGVwDQogICAqIEBwYXJhbSB7TnVtYmVyfSBkdCAgICAgICAgICAgICAgICAgICAgICAgVGhlIGZpeGVkIHRpbWUgc3RlcCBzaXplIHRvIHVzZS4NCiAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lU2luY2VMYXN0Q2FsbGVkXSAgICBUaGUgdGltZSBlbGFwc2VkIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCBjYWxsZWQuDQogICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4U3ViU3RlcHM9MTBdICAgICAgICAgTWF4aW11bSBudW1iZXIgb2YgZml4ZWQgc3RlcHMgdG8gdGFrZSBwZXIgZnVuY3Rpb24gY2FsbC4NCiAgICoNCiAgICogQGV4YW1wbGUNCiAgICogICAgIC8vIGZpeGVkIHRpbWVzdGVwcGluZyB3aXRob3V0IGludGVycG9sYXRpb24NCiAgICogICAgIHdvcmxkLnN0ZXAoMS82MCk7DQogICAqDQogICAqIEBzZWUgaHR0cDovL2J1bGxldHBoeXNpY3Mub3JnL21lZGlhd2lraS0xLjUuOC9pbmRleC5waHAvU3RlcHBpbmdfVGhlX1dvcmxkDQogICAqLwoKCiAgc3RlcChkdCwgdGltZVNpbmNlTGFzdENhbGxlZCwgbWF4U3ViU3RlcHMgPSAxMCkgewogICAgaWYgKHRpbWVTaW5jZUxhc3RDYWxsZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAvLyBGaXhlZCwgc2ltcGxlIHN0ZXBwaW5nCiAgICAgIHRoaXMuaW50ZXJuYWxTdGVwKGR0KTsgLy8gSW5jcmVtZW50IHRpbWUKCiAgICAgIHRoaXMudGltZSArPSBkdDsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYWNjdW11bGF0b3IgKz0gdGltZVNpbmNlTGFzdENhbGxlZDsKICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgbGV0IHN1YnN0ZXBzID0gMDsKCiAgICAgIHdoaWxlICh0aGlzLmFjY3VtdWxhdG9yID49IGR0ICYmIHN1YnN0ZXBzIDwgbWF4U3ViU3RlcHMpIHsKICAgICAgICAvLyBEbyBmaXhlZCBzdGVwcyB0byBjYXRjaCB1cAogICAgICAgIHRoaXMuaW50ZXJuYWxTdGVwKGR0KTsKICAgICAgICB0aGlzLmFjY3VtdWxhdG9yIC09IGR0OwogICAgICAgIHN1YnN0ZXBzKys7CgogICAgICAgIGlmIChwZXJmb3JtYW5jZS5ub3coKSAtIHQwID4gZHQgKiAyICogMTAwMCkgewogICAgICAgICAgLy8gVGhlIGZyYW1lcmF0ZSBpcyBub3QgaW50ZXJhY3RpdmUgYW55bW9yZS4KICAgICAgICAgIC8vIFdlIGFyZSBhdCBoYWxmIG9mIHRoZSB0YXJnZXQgZnJhbWVyYXRlLgogICAgICAgICAgLy8gQmV0dGVyIGJhaWwgb3V0LgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9IC8vIFJlbW92ZSB0aGUgZXhjZXNzIGFjY3VtdWxhdG9yLCBzaW5jZSB3ZSBtYXkgbm90CiAgICAgIC8vIGhhdmUgaGFkIGVub3VnaCBzdWJzdGVwcyBhdmFpbGFibGUgdG8gY2F0Y2ggdXAKCgogICAgICB0aGlzLmFjY3VtdWxhdG9yID0gdGhpcy5hY2N1bXVsYXRvciAlIGR0OwogICAgICBjb25zdCB0ID0gdGhpcy5hY2N1bXVsYXRvciAvIGR0OwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IHRoaXMuYm9kaWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgY29uc3QgYiA9IHRoaXMuYm9kaWVzW2pdOwogICAgICAgIGIucHJldmlvdXNQb3NpdGlvbi5sZXJwKGIucG9zaXRpb24sIHQsIGIuaW50ZXJwb2xhdGVkUG9zaXRpb24pOwogICAgICAgIGIucHJldmlvdXNRdWF0ZXJuaW9uLnNsZXJwKGIucXVhdGVybmlvbiwgdCwgYi5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uKTsKICAgICAgICBiLnByZXZpb3VzUXVhdGVybmlvbi5ub3JtYWxpemUoKTsKICAgICAgfQoKICAgICAgdGhpcy50aW1lICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7CiAgICB9CiAgfQoKICBpbnRlcm5hbFN0ZXAoZHQpIHsKICAgIHRoaXMuZHQgPSBkdDsKICAgIGNvbnN0IGNvbnRhY3RzID0gdGhpcy5jb250YWN0czsKICAgIGNvbnN0IHAxID0gV29ybGRfc3RlcF9wMTsKICAgIGNvbnN0IHAyID0gV29ybGRfc3RlcF9wMjsKICAgIGNvbnN0IE4gPSB0aGlzLm51bU9iamVjdHMoKTsKICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwogICAgY29uc3Qgc29sdmVyID0gdGhpcy5zb2x2ZXI7CiAgICBjb25zdCBncmF2aXR5ID0gdGhpcy5ncmF2aXR5OwogICAgY29uc3QgZG9Qcm9maWxpbmcgPSB0aGlzLmRvUHJvZmlsaW5nOwogICAgY29uc3QgcHJvZmlsZSA9IHRoaXMucHJvZmlsZTsKICAgIGNvbnN0IERZTkFNSUMgPSBCb2R5LkRZTkFNSUM7CiAgICBsZXQgcHJvZmlsaW5nU3RhcnQgPSAtSW5maW5pdHk7CiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7CiAgICBjb25zdCBmcmljdGlvbkVxdWF0aW9uUG9vbCA9IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2w7CiAgICBjb25zdCBnbm9ybSA9IGdyYXZpdHkubGVuZ3RoKCk7CiAgICBjb25zdCBneCA9IGdyYXZpdHkueDsKICAgIGNvbnN0IGd5ID0gZ3Jhdml0eS55OwogICAgY29uc3QgZ3ogPSBncmF2aXR5Lno7CiAgICBsZXQgaSA9IDA7CgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICB9IC8vIEFkZCBncmF2aXR5IHRvIGFsbCBvYmplY3RzCgoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgIGlmIChiaS50eXBlID09PSBEWU5BTUlDKSB7CiAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXMKICAgICAgICBjb25zdCBmID0gYmkuZm9yY2U7CiAgICAgICAgY29uc3QgbSA9IGJpLm1hc3M7CiAgICAgICAgZi54ICs9IG0gKiBneDsKICAgICAgICBmLnkgKz0gbSAqIGd5OwogICAgICAgIGYueiArPSBtICogZ3o7CiAgICAgIH0KICAgIH0gLy8gVXBkYXRlIHN1YnN5c3RlbXMKCgogICAgZm9yIChsZXQgaSA9IDAsIE5zdWJzeXN0ZW1zID0gdGhpcy5zdWJzeXN0ZW1zLmxlbmd0aDsgaSAhPT0gTnN1YnN5c3RlbXM7IGkrKykgewogICAgICB0aGlzLnN1YnN5c3RlbXNbaV0udXBkYXRlKCk7CiAgICB9IC8vIENvbGxpc2lvbiBkZXRlY3Rpb24KCgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICB9CgogICAgcDEubGVuZ3RoID0gMDsgLy8gQ2xlYW4gdXAgcGFpciBhcnJheXMgZnJvbSBsYXN0IHN0ZXAKCiAgICBwMi5sZW5ndGggPSAwOwogICAgdGhpcy5icm9hZHBoYXNlLmNvbGxpc2lvblBhaXJzKHRoaXMsIHAxLCBwMik7CgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGUuYnJvYWRwaGFzZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICB9IC8vIFJlbW92ZSBjb25zdHJhaW5lZCBwYWlycyB3aXRoIGNvbGxpZGVDb25uZWN0ZWQgPT0gZmFsc2UKCgogICAgbGV0IE5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzLmxlbmd0aDsKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOY29uc3RyYWludHM7IGkrKykgewogICAgICBjb25zdCBjID0gY29uc3RyYWludHNbaV07CgogICAgICBpZiAoIWMuY29sbGlkZUNvbm5lY3RlZCkgewogICAgICAgIGZvciAobGV0IGogPSBwMS5sZW5ndGggLSAxOyBqID49IDA7IGogLT0gMSkgewogICAgICAgICAgaWYgKGMuYm9keUEgPT09IHAxW2pdICYmIGMuYm9keUIgPT09IHAyW2pdIHx8IGMuYm9keUIgPT09IHAxW2pdICYmIGMuYm9keUEgPT09IHAyW2pdKSB7CiAgICAgICAgICAgIHAxLnNwbGljZShqLCAxKTsKICAgICAgICAgICAgcDIuc3BsaWNlKGosIDEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHRoaXMuY29sbGlzaW9uTWF0cml4VGljaygpOyAvLyBHZW5lcmF0ZSBjb250YWN0cwoKICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgfQoKICAgIGNvbnN0IG9sZGNvbnRhY3RzID0gV29ybGRfc3RlcF9vbGRDb250YWN0czsKICAgIGNvbnN0IE5vbGRDb250YWN0cyA9IGNvbnRhY3RzLmxlbmd0aDsKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOb2xkQ29udGFjdHM7IGkrKykgewogICAgICBvbGRjb250YWN0cy5wdXNoKGNvbnRhY3RzW2ldKTsKICAgIH0KCiAgICBjb250YWN0cy5sZW5ndGggPSAwOyAvLyBUcmFuc2ZlciBGcmljdGlvbkVxdWF0aW9uIGZyb20gY3VycmVudCBsaXN0IHRvIHRoZSBwb29sIGZvciByZXVzZQoKICAgIGNvbnN0IE5vbGRGcmljdGlvbkVxdWF0aW9ucyA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE5vbGRGcmljdGlvbkVxdWF0aW9uczsgaSsrKSB7CiAgICAgIGZyaWN0aW9uRXF1YXRpb25Qb29sLnB1c2godGhpcy5mcmljdGlvbkVxdWF0aW9uc1tpXSk7CiAgICB9CgogICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGggPSAwOwogICAgdGhpcy5uYXJyb3dwaGFzZS5nZXRDb250YWN0cyhwMSwgcDIsIHRoaXMsIGNvbnRhY3RzLCBvbGRjb250YWN0cywgLy8gVG8gYmUgcmV1c2VkCiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLCBmcmljdGlvbkVxdWF0aW9uUG9vbCk7CgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGUubmFycm93cGhhc2UgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgfSAvLyBMb29wIG92ZXIgYWxsIGNvbGxpc2lvbnMKCgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICB9IC8vIEFkZCBhbGwgZnJpY3Rpb24gZXFzCgoKICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgIHNvbHZlci5hZGRFcXVhdGlvbih0aGlzLmZyaWN0aW9uRXF1YXRpb25zW2ldKTsKICAgIH0KCiAgICBjb25zdCBuY29udGFjdHMgPSBjb250YWN0cy5sZW5ndGg7CgogICAgZm9yIChsZXQgayA9IDA7IGsgIT09IG5jb250YWN0czsgaysrKSB7CiAgICAgIC8vIEN1cnJlbnQgY29udGFjdAogICAgICBjb25zdCBjID0gY29udGFjdHNba107IC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBpbmRlY2VzCgogICAgICBjb25zdCBiaSA9IGMuYmk7CiAgICAgIGNvbnN0IGJqID0gYy5iajsKICAgICAgY29uc3Qgc2kgPSBjLnNpOwogICAgICBjb25zdCBzaiA9IGMuc2o7IC8vIEdldCBjb2xsaXNpb24gcHJvcGVydGllcwoKICAgICAgbGV0IGNtOwoKICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgY20gPSB0aGlzLmdldENvbnRhY3RNYXRlcmlhbChiaS5tYXRlcmlhbCwgYmoubWF0ZXJpYWwpIHx8IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsKICAgICAgfSBlbHNlIHsKICAgICAgICBjbSA9IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsKICAgICAgfSAvLyBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTsKCgogICAgICBsZXQgbXUgPSBjbS5mcmljdGlvbjsgLy8gYy5yZXN0aXR1dGlvbiA9IGNtLnJlc3RpdHV0aW9uOwogICAgICAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtCgogICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHsKICAgICAgICBpZiAoYmkubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCAmJiBiai5tYXRlcmlhbC5mcmljdGlvbiA+PSAwKSB7CiAgICAgICAgICBtdSA9IGJpLm1hdGVyaWFsLmZyaWN0aW9uICogYmoubWF0ZXJpYWwuZnJpY3Rpb247CiAgICAgICAgfQoKICAgICAgICBpZiAoYmkubWF0ZXJpYWwucmVzdGl0dXRpb24gPj0gMCAmJiBiai5tYXRlcmlhbC5yZXN0aXR1dGlvbiA+PSAwKSB7CiAgICAgICAgICBjLnJlc3RpdHV0aW9uID0gYmkubWF0ZXJpYWwucmVzdGl0dXRpb24gKiBiai5tYXRlcmlhbC5yZXN0aXR1dGlvbjsKICAgICAgICB9CiAgICAgIH0gLy8gYy5zZXRTcG9va1BhcmFtcygKICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcywKICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sCiAgICAgIC8vICAgICAgICAgICBkdAogICAgICAvLyAgICAgICApOwoKCiAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihjKTsgLy8gLy8gQWRkIGZyaWN0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb24KICAgICAgLy8gaWYobXUgPiAwKXsKICAgICAgLy8gCS8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zCiAgICAgIC8vIAljb25zdCBtdWcgPSBtdSAqIGdub3JtOwogICAgICAvLyAJY29uc3QgcmVkdWNlZE1hc3MgPSAoYmkuaW52TWFzcyArIGJqLmludk1hc3MpOwogICAgICAvLyAJaWYocmVkdWNlZE1hc3MgPiAwKXsKICAgICAgLy8gCQlyZWR1Y2VkTWFzcyA9IDEvcmVkdWNlZE1hc3M7CiAgICAgIC8vIAl9CiAgICAgIC8vIAljb25zdCBwb29sID0gZnJpY3Rpb25FcXVhdGlvblBvb2w7CiAgICAgIC8vIAljb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJpLGJqLG11ZypyZWR1Y2VkTWFzcyk7CiAgICAgIC8vIAljb25zdCBjMiA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJpLGJqLG11ZypyZWR1Y2VkTWFzcyk7CiAgICAgIC8vIAl0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2goYzEsIGMyKTsKICAgICAgLy8gCWMxLmJpID0gYzIuYmkgPSBiaTsKICAgICAgLy8gCWMxLmJqID0gYzIuYmogPSBiajsKICAgICAgLy8gCWMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnKnJlZHVjZWRNYXNzOwogICAgICAvLyAJYzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZypyZWR1Y2VkTWFzczsKICAgICAgLy8gCS8vIENvcHkgb3ZlciB0aGUgcmVsYXRpdmUgdmVjdG9ycwogICAgICAvLyAJYzEucmkuY29weShjLnJpKTsKICAgICAgLy8gCWMxLnJqLmNvcHkoYy5yaik7CiAgICAgIC8vIAljMi5yaS5jb3B5KGMucmkpOwogICAgICAvLyAJYzIucmouY29weShjLnJqKTsKICAgICAgLy8gCS8vIENvbnN0cnVjdCB0YW5nZW50cwogICAgICAvLyAJYy5uaS50YW5nZW50cyhjMS50LCBjMi50KTsKICAgICAgLy8gICAgICAgICAgIC8vIFNldCBzcG9vayBwYXJhbXMKICAgICAgLy8gICAgICAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7CiAgICAgIC8vICAgICAgICAgICBjMi5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgZHQpOwogICAgICAvLyAgICAgICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjLmVuYWJsZWQ7CiAgICAgIC8vIAkvLyBBZGQgZXF1YXRpb25zIHRvIHNvbHZlcgogICAgICAvLyAJc29sdmVyLmFkZEVxdWF0aW9uKGMxKTsKICAgICAgLy8gCXNvbHZlci5hZGRFcXVhdGlvbihjMik7CiAgICAgIC8vIH0KCiAgICAgIGlmIChiaS5hbGxvd1NsZWVwICYmIGJpLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJiBiaS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJqLnNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgYmoudHlwZSAhPT0gQm9keS5TVEFUSUMpIHsKICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWRCID0gYmoudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgYmouYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEIgPSBiai5zbGVlcFNwZWVkTGltaXQgKiogMjsKCiAgICAgICAgaWYgKHNwZWVkU3F1YXJlZEIgPj0gc3BlZWRMaW1pdFNxdWFyZWRCICogMikgewogICAgICAgICAgYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoYmouYWxsb3dTbGVlcCAmJiBiai50eXBlID09PSBCb2R5LkRZTkFNSUMgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBiaS5zbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIGJpLnR5cGUgIT09IEJvZHkuU1RBVElDKSB7CiAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQSA9IGJpLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJpLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7CiAgICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWRBID0gYmkuc2xlZXBTcGVlZExpbWl0ICoqIDI7CgogICAgICAgIGlmIChzcGVlZFNxdWFyZWRBID49IHNwZWVkTGltaXRTcXVhcmVkQSAqIDIpIHsKICAgICAgICAgIGJqLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSAvLyBOb3cgd2Uga25vdyB0aGF0IGkgYW5kIGogYXJlIGluIGNvbnRhY3QuIFNldCBjb2xsaXNpb24gbWF0cml4IHN0YXRlCgoKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0KGJpLCBiaiwgdHJ1ZSk7CgogICAgICBpZiAoIXRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMuZ2V0KGJpLCBiaikpIHsKICAgICAgICAvLyBGaXJzdCBjb250YWN0IQogICAgICAgIC8vIFdlIHJldXNlIHRoZSBjb2xsaWRlRXZlbnQgb2JqZWN0LCBvdGhlcndpc2Ugd2Ugd2lsbCBlbmQgdXAgY3JlYXRpbmcgbmV3IG9iamVjdHMgZm9yIGVhY2ggbmV3IGNvbnRhY3QsIGV2ZW4gaWYgdGhlcmUncyBubyBldmVudCBsaXN0ZW5lciBhdHRhY2hlZC4KICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmo7CiAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuY29udGFjdCA9IGM7CiAgICAgICAgYmkuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCk7CiAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuYm9keSA9IGJpOwogICAgICAgIGJqLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQpOwogICAgICB9CgogICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnNldChiaS5pZCwgYmouaWQpOwogICAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoc2kuaWQsIHNqLmlkKTsKICAgIH0KCiAgICB0aGlzLmVtaXRDb250YWN0RXZlbnRzKCk7CgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGUubWFrZUNvbnRhY3RDb25zdHJhaW50cyA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICB9IC8vIFdha2UgdXAgYm9kaWVzCgoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgIGlmIChiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlKSB7CiAgICAgICAgYmkud2FrZVVwKCk7CiAgICAgICAgYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogICAgICB9CiAgICB9IC8vIEFkZCB1c2VyLWFkZGVkIGNvbnN0cmFpbnRzCgoKICAgIE5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzLmxlbmd0aDsKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOY29uc3RyYWludHM7IGkrKykgewogICAgICBjb25zdCBjID0gY29uc3RyYWludHNbaV07CiAgICAgIGMudXBkYXRlKCk7CgogICAgICBmb3IgKGxldCBqID0gMCwgTmVxID0gYy5lcXVhdGlvbnMubGVuZ3RoOyBqICE9PSBOZXE7IGorKykgewogICAgICAgIGNvbnN0IGVxID0gYy5lcXVhdGlvbnNbal07CiAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGVxKTsKICAgICAgfQogICAgfSAvLyBTb2x2ZSB0aGUgY29uc3RyYWluZWQgc3lzdGVtCgoKICAgIHNvbHZlci5zb2x2ZShkdCwgdGhpcyk7CgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGUuc29sdmUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgfSAvLyBSZW1vdmUgYWxsIGNvbnRhY3RzIGZyb20gc29sdmVyCgoKICAgIHNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTsgLy8gQXBwbHkgZGFtcGluZywgc2VlIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9idWxsZXQvaXNzdWVzL2RldGFpbD9pZD03NCBmb3IgZGV0YWlscwoKICAgIGNvbnN0IHBvdyA9IE1hdGgucG93OwoKICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgIGlmIChiaS50eXBlICYgRFlOQU1JQykgewogICAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMgYm9kaWVzCiAgICAgICAgY29uc3QgbGQgPSBwb3coMS4wIC0gYmkubGluZWFyRGFtcGluZywgZHQpOwogICAgICAgIGNvbnN0IHYgPSBiaS52ZWxvY2l0eTsKICAgICAgICB2LnNjYWxlKGxkLCB2KTsKICAgICAgICBjb25zdCBhdiA9IGJpLmFuZ3VsYXJWZWxvY2l0eTsKCiAgICAgICAgaWYgKGF2KSB7CiAgICAgICAgICBjb25zdCBhZCA9IHBvdygxLjAgLSBiaS5hbmd1bGFyRGFtcGluZywgZHQpOwogICAgICAgICAgYXYuc2NhbGUoYWQsIGF2KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQpOyAvLyBJbnZva2UgcHJlLXN0ZXAgY2FsbGJhY2tzCgogICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgaWYgKGJpLnByZVN0ZXApIHsKICAgICAgICBiaS5wcmVTdGVwLmNhbGwoYmkpOwogICAgICB9CiAgICB9IC8vIExlYXAgZnJvZwogICAgLy8gdm5ldyA9IHYgKyBoKmYvbQogICAgLy8geG5ldyA9IHggKyBoKnZuZXcKCgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICB9CgogICAgY29uc3Qgc3RlcG51bWJlciA9IHRoaXMuc3RlcG51bWJlcjsKICAgIGNvbnN0IHF1YXROb3JtYWxpemUgPSBzdGVwbnVtYmVyICUgKHRoaXMucXVhdE5vcm1hbGl6ZVNraXAgKyAxKSA9PT0gMDsKICAgIGNvbnN0IHF1YXROb3JtYWxpemVGYXN0ID0gdGhpcy5xdWF0Tm9ybWFsaXplRmFzdDsKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgYm9kaWVzW2ldLmludGVncmF0ZShkdCwgcXVhdE5vcm1hbGl6ZSwgcXVhdE5vcm1hbGl6ZUZhc3QpOwogICAgfQoKICAgIHRoaXMuY2xlYXJGb3JjZXMoKTsKICAgIHRoaXMuYnJvYWRwaGFzZS5kaXJ0eSA9IHRydWU7CgogICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgIHByb2ZpbGUuaW50ZWdyYXRlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgIH0gLy8gVXBkYXRlIHdvcmxkIHRpbWUKCgogICAgdGhpcy50aW1lICs9IGR0OwogICAgdGhpcy5zdGVwbnVtYmVyICs9IDE7CiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50KTsgLy8gSW52b2tlIHBvc3Qtc3RlcCBjYWxsYmFja3MKCiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CiAgICAgIGNvbnN0IHBvc3RTdGVwID0gYmkucG9zdFN0ZXA7CgogICAgICBpZiAocG9zdFN0ZXApIHsKICAgICAgICBwb3N0U3RlcC5jYWxsKGJpKTsKICAgICAgfQogICAgfSAvLyBTbGVlcGluZyB1cGRhdGUKCgogICAgbGV0IGhhc0FjdGl2ZUJvZGllcyA9IHRydWU7CgogICAgaWYgKHRoaXMuYWxsb3dTbGVlcCkgewogICAgICBoYXNBY3RpdmVCb2RpZXMgPSBmYWxzZTsKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwogICAgICAgIGJpLnNsZWVwVGljayh0aGlzLnRpbWUpOwoKICAgICAgICBpZiAoYmkuc2xlZXBTdGF0ZSAhPT0gQm9keS5TTEVFUElORykgewogICAgICAgICAgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmhhc0FjdGl2ZUJvZGllcyA9IGhhc0FjdGl2ZUJvZGllczsKICB9CiAgLyoqDQogICAqIFNldHMgYWxsIGJvZHkgZm9yY2VzIGluIHRoZSB3b3JsZCB0byB6ZXJvLg0KICAgKiBAbWV0aG9kIGNsZWFyRm9yY2VzDQogICAqLwoKCiAgY2xlYXJGb3JjZXMoKSB7CiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwoKICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgY29uc3QgZm9yY2UgPSBiLmZvcmNlOwogICAgICBjb25zdCB0YXUgPSBiLnRvcnF1ZTsKICAgICAgYi5mb3JjZS5zZXQoMCwgMCwgMCk7CiAgICAgIGIudG9ycXVlLnNldCgwLCAwLCAwKTsKICAgIH0KICB9Cgp9IC8vIFRlbXAgc3R1ZmYKCgpjb25zdCB0bXBBQUJCMSA9IG5ldyBBQUJCKCk7CmNvbnN0IHRtcFJheSQxID0gbmV3IFJheSgpOyAvLyBwZXJmb3JtYW5jZS5ub3coKSBmYWxsYmFjayBvbiBEYXRlLm5vdygpCgpjb25zdCBwZXJmb3JtYW5jZSA9IGdsb2JhbFRoaXMucGVyZm9ybWFuY2UgfHwge307CgppZiAoIXBlcmZvcm1hbmNlLm5vdykgewogIGxldCBub3dPZmZzZXQgPSBEYXRlLm5vdygpOwoKICBpZiAocGVyZm9ybWFuY2UudGltaW5nICYmIHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQpIHsKICAgIG5vd09mZnNldCA9IHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ7CiAgfQoKICBwZXJmb3JtYW5jZS5ub3cgPSAoKSA9PiBEYXRlLm5vdygpIC0gbm93T2Zmc2V0Owp9IC8vIFJldXNhYmxlIGV2ZW50IG9iamVjdHMgdG8gc2F2ZSBtZW1vcnkuCgoKY29uc3QgV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50ID0gewogIHR5cGU6ICdwb3N0U3RlcCcKfTsgLy8gRGlzcGF0Y2hlZCBiZWZvcmUgdGhlIHdvcmxkIHN0ZXBzIGZvcndhcmQgaW4gdGltZS4KCmNvbnN0IFdvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50ID0gewogIHR5cGU6ICdwcmVTdGVwJwp9Owpjb25zdCBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCA9IHsKICB0eXBlOiBCb2R5LkNPTExJREVfRVZFTlRfTkFNRSwKICBib2R5OiBudWxsLAogIGNvbnRhY3Q6IG51bGwKfTsgLy8gUG9vbHMgZm9yIHVudXNlZCBvYmplY3RzCgpjb25zdCBXb3JsZF9zdGVwX29sZENvbnRhY3RzID0gW107CmNvbnN0IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBbXTsgLy8gUmV1c2FibGUgYXJyYXlzIGZvciBjb2xsaXNpb24gcGFpcnMKCmNvbnN0IFdvcmxkX3N0ZXBfcDEgPSBbXTsKY29uc3QgV29ybGRfc3RlcF9wMiA9IFtdOwoKV29ybGQucHJvdG90eXBlLmVtaXRDb250YWN0RXZlbnRzID0gKCgpID0+IHsKICBjb25zdCBhZGRpdGlvbnMgPSBbXTsKICBjb25zdCByZW1vdmFscyA9IFtdOwogIGNvbnN0IGJlZ2luQ29udGFjdEV2ZW50ID0gewogICAgdHlwZTogJ2JlZ2luQ29udGFjdCcsCiAgICBib2R5QTogbnVsbCwKICAgIGJvZHlCOiBudWxsCiAgfTsKICBjb25zdCBlbmRDb250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnZW5kQ29udGFjdCcsCiAgICBib2R5QTogbnVsbCwKICAgIGJvZHlCOiBudWxsCiAgfTsKICBjb25zdCBiZWdpblNoYXBlQ29udGFjdEV2ZW50ID0gewogICAgdHlwZTogJ2JlZ2luU2hhcGVDb250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwsCiAgICBzaGFwZUE6IG51bGwsCiAgICBzaGFwZUI6IG51bGwKICB9OwogIGNvbnN0IGVuZFNoYXBlQ29udGFjdEV2ZW50ID0gewogICAgdHlwZTogJ2VuZFNoYXBlQ29udGFjdCcsCiAgICBib2R5QTogbnVsbCwKICAgIGJvZHlCOiBudWxsLAogICAgc2hhcGVBOiBudWxsLAogICAgc2hhcGVCOiBudWxsCiAgfTsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgY29uc3QgaGFzQmVnaW5Db250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdiZWdpbkNvbnRhY3QnKTsKICAgIGNvbnN0IGhhc0VuZENvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2VuZENvbnRhY3QnKTsKCiAgICBpZiAoaGFzQmVnaW5Db250YWN0IHx8IGhhc0VuZENvbnRhY3QpIHsKICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpOwogICAgfQoKICAgIGlmIChoYXNCZWdpbkNvbnRhY3QpIHsKICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhZGRpdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7CiAgICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUEgPSB0aGlzLmdldEJvZHlCeUlkKGFkZGl0aW9uc1tpXSk7CiAgICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKGFkZGl0aW9uc1tpICsgMV0pOwogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpbkNvbnRhY3RFdmVudCk7CiAgICAgIH0KCiAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlBID0gYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSBudWxsOwogICAgfQoKICAgIGlmIChoYXNFbmRDb250YWN0KSB7CiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVtb3ZhbHMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7CiAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChyZW1vdmFsc1tpXSk7CiAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlCID0gdGhpcy5nZXRCb2R5QnlJZChyZW1vdmFsc1tpICsgMV0pOwogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlbmRDb250YWN0RXZlbnQpOwogICAgICB9CgogICAgICBlbmRDb250YWN0RXZlbnQuYm9keUEgPSBlbmRDb250YWN0RXZlbnQuYm9keUIgPSBudWxsOwogICAgfQoKICAgIGFkZGl0aW9ucy5sZW5ndGggPSByZW1vdmFscy5sZW5ndGggPSAwOwogICAgY29uc3QgaGFzQmVnaW5TaGFwZUNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luU2hhcGVDb250YWN0Jyk7CiAgICBjb25zdCBoYXNFbmRTaGFwZUNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2VuZFNoYXBlQ29udGFjdCcpOwoKICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCB8fCBoYXNFbmRTaGFwZUNvbnRhY3QpIHsKICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIuZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKTsKICAgIH0KCiAgICBpZiAoaGFzQmVnaW5TaGFwZUNvbnRhY3QpIHsKICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhZGRpdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7CiAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2ldKTsKICAgICAgICBjb25zdCBzaGFwZUIgPSB0aGlzLmdldFNoYXBlQnlJZChhZGRpdGlvbnNbaSArIDFdKTsKICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IHNoYXBlQTsKICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjsKICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gc2hhcGVBLmJvZHk7CiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IHNoYXBlQi5ib2R5OwogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpblNoYXBlQ29udGFjdEV2ZW50KTsKICAgICAgfQoKICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDsKICAgIH0KCiAgICBpZiAoaGFzRW5kU2hhcGVDb250YWN0KSB7CiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVtb3ZhbHMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7CiAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaV0pOwogICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKHJlbW92YWxzW2kgKyAxXSk7CiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gc2hhcGVBOwogICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjsKICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5OwogICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gc2hhcGVCLmJvZHk7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZFNoYXBlQ29udGFjdEV2ZW50KTsKICAgICAgfQoKICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IG51bGw7CiAgICB9CiAgfTsKfSkoKTsKCmxldCBib2RpZXMgPSB7fTsKY29uc3QgdmVoaWNsZXMgPSB7fTsKY29uc3Qgc3ByaW5ncyA9IHt9Owpjb25zdCByYXlzID0ge307CmNvbnN0IHdvcmxkID0gbmV3IFdvcmxkKCk7CmNvbnN0IGNvbmZpZyA9IHsKICBzdGVwOiAxIC8gNjAKfTsKY29uc3Qgc3Vic2NyaXB0aW9ucyA9IHt9Owpjb25zdCB0ZW1wVmVjdG9yID0gbmV3IFZlYzMoKTsKCmZ1bmN0aW9uIGNyZWF0ZVNoYXBlKHR5cGUsIGFyZ3MpIHsKICBzd2l0Y2ggKHR5cGUpIHsKICAgIGNhc2UgJ0JveCc6CiAgICAgIHJldHVybiBuZXcgQm94KG5ldyBWZWMzKC4uLmFyZ3MubWFwKHYgPT4gdiAvIDIpKSk7CiAgICAvLyBleHRlbnRzID0+IGhhbGZFeHRlbnRzCgogICAgY2FzZSAnQ29udmV4UG9seWhlZHJvbic6CiAgICAgIGNvbnN0IFt2LCBmLCBuXSA9IGFyZ3M7CiAgICAgIHJldHVybiBuZXcgQ29udmV4UG9seWhlZHJvbih7CiAgICAgICAgdmVydGljZXM6IHYubWFwKChbeCwgeSwgel0pID0+IG5ldyBWZWMzKHgsIHksIHopKSwKICAgICAgICBub3JtYWxzOiBuID8gbi5tYXAoKFt4LCB5LCB6XSkgPT4gbmV3IFZlYzMoeCwgeSwgeikpIDogbnVsbCwKICAgICAgICBmYWNlczogZgogICAgICB9KTsKCiAgICBjYXNlICdDeWxpbmRlcic6CiAgICAgIHJldHVybiBuZXcgQ3lsaW5kZXIoLi4uYXJncyk7CiAgICAvLyBbIHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzIF0gPSBhcmdzCgogICAgY2FzZSAnSGVpZ2h0ZmllbGQnOgogICAgICByZXR1cm4gbmV3IEhlaWdodGZpZWxkKC4uLmFyZ3MpOwogICAgLy8gWyBBcnJheSBkYXRhLCBvcHRpb25zOiB7bWluVmFsdWUsIG1heFZhbHVlLCBlbGVtZW50U2l6ZX0gIF0gPSBhcmdzCgogICAgY2FzZSAnUGFydGljbGUnOgogICAgICByZXR1cm4gbmV3IFBhcnRpY2xlKCk7CiAgICAvLyBubyBhcmdzCgogICAgY2FzZSAnUGxhbmUnOgogICAgICByZXR1cm4gbmV3IFBsYW5lKCk7CiAgICAvLyBubyBhcmdzLCBpbmZpbml0ZSB4IGFuZCB5CgogICAgY2FzZSAnU3BoZXJlJzoKICAgICAgcmV0dXJuIG5ldyBTcGhlcmUoLi4uYXJncyk7CiAgICAvLyBbcmFkaXVzXSA9IGFyZ3MKCiAgICBjYXNlICdUcmltZXNoJzoKICAgICAgcmV0dXJuIG5ldyBUcmltZXNoKC4uLmFyZ3MpOwogICAgLy8gW3ZlcnRpY2VzLCBpbmRpY2VzXSA9IGFyZ3MKICB9Cn0KCmZ1bmN0aW9uIHN5bmNCb2RpZXMoKSB7CiAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICBvcDogJ3N5bmMnLAogICAgYm9kaWVzOiB3b3JsZC5ib2RpZXMubWFwKGJvZHkgPT4gYm9keS51dWlkKQogIH0pOwogIGJvZGllcyA9IHdvcmxkLmJvZGllcy5yZWR1Y2UoKGFjYywgYm9keSkgPT4gX2V4dGVuZHMoe30sIGFjYywgewogICAgW2JvZHkudXVpZF06IGJvZHkKICB9KSwge30pOwp9CgpzZWxmLm9ubWVzc2FnZSA9IGUgPT4gewogIGNvbnN0IHsKICAgIG9wLAogICAgdXVpZCwKICAgIHR5cGUsCiAgICBwb3NpdGlvbnMsCiAgICBxdWF0ZXJuaW9ucywKICAgIHByb3BzCiAgfSA9IGUuZGF0YTsKCiAgc3dpdGNoIChvcCkgewogICAgY2FzZSAnaW5pdCc6CiAgICAgIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBncmF2aXR5LAogICAgICAgICAgdG9sZXJhbmNlLAogICAgICAgICAgc3RlcCwKICAgICAgICAgIGl0ZXJhdGlvbnMsCiAgICAgICAgICBhbGxvd1NsZWVwLAogICAgICAgICAgYnJvYWRwaGFzZSwKICAgICAgICAgIGF4aXNJbmRleCwKICAgICAgICAgIGRlZmF1bHRDb250YWN0TWF0ZXJpYWwKICAgICAgICB9ID0gcHJvcHM7CiAgICAgICAgY29uc3QgYnJvYWRwaGFzZXMgPSB7CiAgICAgICAgICBOYWl2ZUJyb2FkcGhhc2UsCiAgICAgICAgICBTQVBCcm9hZHBoYXNlCiAgICAgICAgfTsKICAgICAgICB3b3JsZC5hbGxvd1NsZWVwID0gYWxsb3dTbGVlcDsKICAgICAgICB3b3JsZC5ncmF2aXR5LnNldChncmF2aXR5WzBdLCBncmF2aXR5WzFdLCBncmF2aXR5WzJdKTsKICAgICAgICB3b3JsZC5zb2x2ZXIudG9sZXJhbmNlID0gdG9sZXJhbmNlOwogICAgICAgIHdvcmxkLnNvbHZlci5pdGVyYXRpb25zID0gaXRlcmF0aW9uczsKICAgICAgICB3b3JsZC5icm9hZHBoYXNlID0gbmV3IChicm9hZHBoYXNlc1ticm9hZHBoYXNlICsgJ0Jyb2FkcGhhc2UnXSB8fCBOYWl2ZUJyb2FkcGhhc2UpKHdvcmxkKTsKICAgICAgICB3b3JsZC5icm9hZHBoYXNlLmF4aXNJbmRleCA9IGF4aXNJbmRleCAhPSBudWxsID8gYXhpc0luZGV4IDogMDsgLy8gZGVmYXVsdENvbnRhY3RNYXRlcmlhbC5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uID0gNDsKICAgICAgICAvLyBkZWZhdWx0Q29udGFjdE1hdGVyaWFsLmZyaWN0aW9uID0gMC4wMDE7CgogICAgICAgIE9iamVjdC5hc3NpZ24od29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCwgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCk7IC8vIHZhciBncm91bmRNYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgnZ3JvdW5kJykKICAgICAgICAvLyB2YXIgd2hlZWxNYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgnd2hlZWwnKQogICAgICAgIC8vIHZhciB3aGVlbEdyb3VuZENvbnRhY3RNYXRlcmlhbCA9IG5ldyBDb250YWN0TWF0ZXJpYWwoCiAgICAgICAgLy8gICB3aGVlbE1hdGVyaWFsLAogICAgICAgIC8vICAgZ3JvdW5kTWF0ZXJpYWwsCiAgICAgICAgLy8gICB7CiAgICAgICAgLy8gICAgIGZyaWN0aW9uOiAwLjMsCiAgICAgICAgLy8gICAgIHJlc3RpdHV0aW9uOiAwLjEsCiAgICAgICAgLy8gICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWUzLAogICAgICAgIC8vICAgfQogICAgICAgIC8vICkKICAgICAgICAvLyAvLyBXZSBtdXN0IGFkZCB0aGUgY29udGFjdCBtYXRlcmlhbHMgdG8gdGhlIHdvcmxkCiAgICAgICAgLy8gd29ybGQuYWRkQ29udGFjdE1hdGVyaWFsKHdoZWVsR3JvdW5kQ29udGFjdE1hdGVyaWFsKQoKICAgICAgICBjb25maWcuc3RlcCA9IHN0ZXA7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdzdGVwJzoKICAgICAgewogICAgICAgIHdvcmxkLnN0ZXAoY29uZmlnLnN0ZXApOwogICAgICAgIGNvbnN0IG51bWJlck9mQm9kaWVzID0gd29ybGQuYm9kaWVzLmxlbmd0aDsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJvZGllczsgaSsrKSB7CiAgICAgICAgICBsZXQgYiA9IHdvcmxkLmJvZGllc1tpXSwKICAgICAgICAgICAgICBwID0gYi5wb3NpdGlvbiwKICAgICAgICAgICAgICBxID0gYi5xdWF0ZXJuaW9uOwogICAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMF0gPSBwLng7CiAgICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAxXSA9IHAueTsKICAgICAgICAgIHBvc2l0aW9uc1szICogaSArIDJdID0gcC56OwogICAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAwXSA9IHEueDsKICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMV0gPSBxLnk7CiAgICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDJdID0gcS56OwogICAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAzXSA9IHEudzsKICAgICAgICB9CgogICAgICAgIGNvbnN0IG9ic2VydmF0aW9ucyA9IFtdOwoKICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIE9iamVjdC5rZXlzKHN1YnNjcmlwdGlvbnMpKSB7CiAgICAgICAgICBjb25zdCBbdXVpZCwgdHlwZV0gPSBzdWJzY3JpcHRpb25zW2lkXTsKICAgICAgICAgIGxldCB2YWx1ZSA9IGJvZGllc1t1dWlkXVt0eXBlXTsKICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFZlYzMpIHZhbHVlID0gdmFsdWUudG9BcnJheSgpO2Vsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgUXVhdGVybmlvbikgewogICAgICAgICAgICB2YWx1ZS50b0V1bGVyKHRlbXBWZWN0b3IpOwogICAgICAgICAgICB2YWx1ZSA9IHRlbXBWZWN0b3IudG9BcnJheSgpOwogICAgICAgICAgfQogICAgICAgICAgb2JzZXJ2YXRpb25zLnB1c2goW2lkLCB2YWx1ZV0pOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgICAgICBvcDogJ2ZyYW1lJywKICAgICAgICAgIHBvc2l0aW9ucywKICAgICAgICAgIHF1YXRlcm5pb25zLAogICAgICAgICAgb2JzZXJ2YXRpb25zLAogICAgICAgICAgYWN0aXZlOiB3b3JsZC5oYXNBY3RpdmVCb2RpZXMKICAgICAgICB9LCBbcG9zaXRpb25zLmJ1ZmZlciwgcXVhdGVybmlvbnMuYnVmZmVyXSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdhZGRCb2RpZXMnOgogICAgICB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dWlkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBfcHJvcHMkaSA9IHByb3BzW2ldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICBhcmdzID0gW10sCiAgICAgICAgICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdLAogICAgICAgICAgICByb3RhdGlvbiA9IFswLCAwLCAwXSwKICAgICAgICAgICAgc2NhbGUgPSBbMSwgMSwgMV0sCiAgICAgICAgICAgIHZlbG9jaXR5ID0gWzAsIDAsIDBdLAogICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHkgPSBbMCwgMCwgMF0sCiAgICAgICAgICAgIGxpbmVhckZhY3RvciA9IFsxLCAxLCAxXSwKICAgICAgICAgICAgYW5ndWxhckZhY3RvciA9IFsxLCAxLCAxXSwKICAgICAgICAgICAgdHlwZTogYm9keVR5cGUsCiAgICAgICAgICAgIG1hc3MsCiAgICAgICAgICAgIG1hdGVyaWFsLAogICAgICAgICAgICBzaGFwZXMsCiAgICAgICAgICAgIG9uQ29sbGlkZQogICAgICAgICAgfSA9IF9wcm9wcyRpLAogICAgICAgICAgICAgICAgZXh0cmEgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcHJvcHMkaSwgWyJhcmdzIiwgInBvc2l0aW9uIiwgInJvdGF0aW9uIiwgInNjYWxlIiwgInZlbG9jaXR5IiwgImFuZ3VsYXJWZWxvY2l0eSIsICJsaW5lYXJGYWN0b3IiLCAiYW5ndWxhckZhY3RvciIsICJ0eXBlIiwgIm1hc3MiLCAibWF0ZXJpYWwiLCAic2hhcGVzIiwgIm9uQ29sbGlkZSJdKTsKCiAgICAgICAgICBjb25zdCBib2R5ID0gbmV3IEJvZHkoX2V4dGVuZHMoe30sIGV4dHJhLCB7CiAgICAgICAgICAgIG1hc3M6IGJvZHlUeXBlID09PSAnU3RhdGljJyA/IDAgOiBtYXNzLAogICAgICAgICAgICB0eXBlOiBib2R5VHlwZSA/IEJvZHlbYm9keVR5cGUudG9VcHBlckNhc2UoKV0gOiB1bmRlZmluZWQsCiAgICAgICAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbCA/IG5ldyBNYXRlcmlhbChtYXRlcmlhbCkgOiB1bmRlZmluZWQKICAgICAgICAgIH0pKTsKICAgICAgICAgIGJvZHkudXVpZCA9IHV1aWRbaV07CgogICAgICAgICAgaWYgKHR5cGUgPT09ICdDb21wb3VuZCcpIHsKICAgICAgICAgICAgc2hhcGVzLmZvckVhY2goKF9yZWYpID0+IHsKICAgICAgICAgICAgICBsZXQgewogICAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICAgIGFyZ3MsCiAgICAgICAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgICAgICAgIHJvdGF0aW9uLAogICAgICAgICAgICAgICAgbWF0ZXJpYWwKICAgICAgICAgICAgICB9ID0gX3JlZiwKICAgICAgICAgICAgICAgICAgZXh0cmEgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBbInR5cGUiLCAiYXJncyIsICJwb3NpdGlvbiIsICJyb3RhdGlvbiIsICJtYXRlcmlhbCJdKTsKCiAgICAgICAgICAgICAgY29uc3Qgc2hhcGVCb2R5ID0gYm9keS5hZGRTaGFwZShjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSwgcG9zaXRpb24gPyBuZXcgVmVjMyguLi5wb3NpdGlvbikgOiB1bmRlZmluZWQsIHJvdGF0aW9uID8gbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tRXVsZXIoLi4ucm90YXRpb24pIDogdW5kZWZpbmVkKTsKICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwpIHNoYXBlQm9keS5tYXRlcmlhbCA9IG5ldyBNYXRlcmlhbChtYXRlcmlhbCk7CiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzaGFwZUJvZHksIGV4dHJhKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBib2R5LmFkZFNoYXBlKGNyZWF0ZVNoYXBlKHR5cGUsIGFyZ3MpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBib2R5LnBvc2l0aW9uLnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTsKICAgICAgICAgIGJvZHkucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocm90YXRpb25bMF0sIHJvdGF0aW9uWzFdLCByb3RhdGlvblsyXSk7CiAgICAgICAgICBib2R5LnZlbG9jaXR5LnNldCh2ZWxvY2l0eVswXSwgdmVsb2NpdHlbMV0sIHZlbG9jaXR5WzJdKTsKICAgICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5LnNldChhbmd1bGFyVmVsb2NpdHlbMF0sIGFuZ3VsYXJWZWxvY2l0eVsxXSwgYW5ndWxhclZlbG9jaXR5WzJdKTsKICAgICAgICAgIGJvZHkubGluZWFyRmFjdG9yLnNldChsaW5lYXJGYWN0b3JbMF0sIGxpbmVhckZhY3RvclsxXSwgbGluZWFyRmFjdG9yWzJdKTsKICAgICAgICAgIGJvZHkuYW5ndWxhckZhY3Rvci5zZXQoYW5ndWxhckZhY3RvclswXSwgYW5ndWxhckZhY3RvclsxXSwgYW5ndWxhckZhY3RvclsyXSk7CiAgICAgICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpOwogICAgICAgICAgaWYgKG9uQ29sbGlkZSkgYm9keS5hZGRFdmVudExpc3RlbmVyKCdjb2xsaWRlJywgKHsKICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgdGFyZ2V0LAogICAgICAgICAgICBjb250YWN0CiAgICAgICAgICB9KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgICBuaSwKICAgICAgICAgICAgICByaSwKICAgICAgICAgICAgICByagogICAgICAgICAgICB9ID0gY29udGFjdDsKICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgb3A6ICdldmVudCcsCiAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICBib2R5OiBib2R5LnV1aWQsCiAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQudXVpZCwKICAgICAgICAgICAgICBjb250YWN0OiB7CiAgICAgICAgICAgICAgICBuaTogbmkudG9BcnJheSgpLAogICAgICAgICAgICAgICAgcmk6IHJpLnRvQXJyYXkoKSwKICAgICAgICAgICAgICAgIHJqOiByai50b0FycmF5KCksCiAgICAgICAgICAgICAgICBpbXBhY3RWZWxvY2l0eTogY29udGFjdC5nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCkKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcnM6IHsKICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJHcm91cDogYm9keS5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJNYXNrOiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2ssCiAgICAgICAgICAgICAgICB0YXJnZXRGaWx0ZXJHcm91cDogdGFyZ2V0LmNvbGxpc2lvbkZpbHRlckdyb3VwLAogICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyTWFzazogdGFyZ2V0LmNvbGxpc2lvbkZpbHRlck1hc2sKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBzeW5jQm9kaWVzKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdyZW1vdmVCb2RpZXMnOgogICAgICB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1dWlkLmxlbmd0aDsgaSsrKSB3b3JsZC5yZW1vdmVCb2R5KGJvZGllc1t1dWlkW2ldXSk7CgogICAgICAgIHN5bmNCb2RpZXMoKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ3N1YnNjcmliZSc6CiAgICAgIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBpZCwKICAgICAgICAgIHR5cGUKICAgICAgICB9ID0gcHJvcHM7CiAgICAgICAgc3Vic2NyaXB0aW9uc1tpZF0gPSBbdXVpZCwgdHlwZV07CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICd1bnN1YnNjcmliZSc6CiAgICAgIHsKICAgICAgICBkZWxldGUgc3Vic2NyaXB0aW9uc1twcm9wc107CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdzZXRQb3NpdGlvbic6CiAgICAgIGJvZGllc1t1dWlkXS5wb3NpdGlvbi5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldFF1YXRlcm5pb24nOgogICAgICBib2RpZXNbdXVpZF0ucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldFZlbG9jaXR5JzoKICAgICAgYm9kaWVzW3V1aWRdLnZlbG9jaXR5LnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0QW5ndWxhclZlbG9jaXR5JzoKICAgICAgYm9kaWVzW3V1aWRdLmFuZ3VsYXJWZWxvY2l0eS5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldExpbmVhckZhY3Rvcic6CiAgICAgIGJvZGllc1t1dWlkXS5saW5lYXJGYWN0b3Iuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRBbmd1bGFyRmFjdG9yJzoKICAgICAgYm9kaWVzW3V1aWRdLmFuZ3VsYXJGYWN0b3Iuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRNYXNzJzoKICAgICAgYm9kaWVzW3V1aWRdLm1hc3MgPSBwcm9wczsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0TGluZWFyRGFtcGluZyc6CiAgICAgIGJvZGllc1t1dWlkXS5saW5lYXJEYW1waW5nID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldEFuZ3VsYXJEYW1waW5nJzoKICAgICAgYm9kaWVzW3V1aWRdLmFuZ3VsYXJEYW1waW5nID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldEFsbG93U2xlZXAnOgogICAgICBib2RpZXNbdXVpZF0uYWxsb3dTbGVlcCA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRTbGVlcFNwZWVkTGltaXQnOgogICAgICBib2RpZXNbdXVpZF0uc2xlZXBTcGVlZExpbWl0ID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldFNsZWVwVGltZUxpbWl0JzoKICAgICAgYm9kaWVzW3V1aWRdLnNsZWVwVGltZUxpbWl0ID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlckdyb3VwJzoKICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlck1hc2snOgogICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyTWFzayA9IHByb3BzOwogICAgICBicmVhazsKCiAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzoKICAgICAgYm9kaWVzW3V1aWRdLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBwcm9wczsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnc2V0Rml4ZWRSb3RhdGlvbic6CiAgICAgIGJvZGllc1t1dWlkXS5maXhlZFJvdGF0aW9uID0gcHJvcHM7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2FwcGx5Rm9yY2UnOgogICAgICBib2RpZXNbdXVpZF0uYXBwbHlGb3JjZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2FwcGx5SW1wdWxzZSc6CiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUltcHVsc2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdhcHBseUxvY2FsRm9yY2UnOgogICAgICBib2RpZXNbdXVpZF0uYXBwbHlMb2NhbEZvcmNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnYXBwbHlMb2NhbEltcHVsc2UnOgogICAgICBib2RpZXNbdXVpZF0uYXBwbHlMb2NhbEltcHVsc2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdhZGRDb25zdHJhaW50JzoKICAgICAgewogICAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzOwoKICAgICAgICBsZXQgewogICAgICAgICAgcGl2b3RBLAogICAgICAgICAgcGl2b3RCLAogICAgICAgICAgYXhpc0EsCiAgICAgICAgICBheGlzQgogICAgICAgIH0gPSBvcHRucywKICAgICAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKG9wdG5zLCBbInBpdm90QSIsICJwaXZvdEIiLCAiYXhpc0EiLCAiYXhpc0IiXSk7IC8vIGlzIHRoZXJlIGEgYmV0dGVyIHdheSB0byBlbmZvcmNlIGRlZmF1bHRzPwoKCiAgICAgICAgcGl2b3RBID0gQXJyYXkuaXNBcnJheShwaXZvdEEpID8gbmV3IFZlYzMoLi4ucGl2b3RBKSA6IHVuZGVmaW5lZDsKICAgICAgICBwaXZvdEIgPSBBcnJheS5pc0FycmF5KHBpdm90QikgPyBuZXcgVmVjMyguLi5waXZvdEIpIDogdW5kZWZpbmVkOwogICAgICAgIGF4aXNBID0gQXJyYXkuaXNBcnJheShheGlzQSkgPyBuZXcgVmVjMyguLi5heGlzQSkgOiB1bmRlZmluZWQ7CiAgICAgICAgYXhpc0IgPSBBcnJheS5pc0FycmF5KGF4aXNCKSA/IG5ldyBWZWMzKC4uLmF4aXNCKSA6IHVuZGVmaW5lZDsKICAgICAgICBsZXQgY29uc3RyYWludDsKCiAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICBjYXNlICdQb2ludFRvUG9pbnQnOgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgcGl2b3RBLCBib2RpZXNbYm9keUJdLCBwaXZvdEIsIG9wdG5zLm1heEZvcmNlKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnQ29uZVR3aXN0JzoKICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25lVHdpc3RDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIF9leHRlbmRzKHsKICAgICAgICAgICAgICBwaXZvdEEsCiAgICAgICAgICAgICAgcGl2b3RCLAogICAgICAgICAgICAgIGF4aXNBLAogICAgICAgICAgICAgIGF4aXNCCiAgICAgICAgICAgIH0sIG9wdGlvbnMpKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnSGluZ2UnOgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCBfZXh0ZW5kcyh7CiAgICAgICAgICAgICAgcGl2b3RBLAogICAgICAgICAgICAgIHBpdm90QiwKICAgICAgICAgICAgICBheGlzQSwKICAgICAgICAgICAgICBheGlzQgogICAgICAgICAgICB9LCBvcHRpb25zKSk7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0Rpc3RhbmNlJzoKICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBEaXN0YW5jZUNvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgb3B0bnMuZGlzdGFuY2UsIG9wdG5zLm1heEZvcmNlKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnTG9jayc6CiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgTG9ja0NvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgb3B0bnMpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgb3B0bnMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGNvbnN0cmFpbnQudXVpZCA9IHV1aWQ7CiAgICAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ3JlbW92ZUNvbnN0cmFpbnQnOgogICAgICB3b3JsZC5yZW1vdmVDb25zdHJhaW50KHV1aWQpOwogICAgICBicmVhazsKCiAgICBjYXNlICdlbmFibGVDb25zdHJhaW50JzoKICAgICAgd29ybGQuY29uc3RyYWludHMuZmlsdGVyKCh7CiAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gYy5lbmFibGUoKSk7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ2Rpc2FibGVDb25zdHJhaW50JzoKICAgICAgd29ybGQuY29uc3RyYWludHMuZmlsdGVyKCh7CiAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gYy5kaXNhYmxlKCkpOwogICAgICBicmVhazsKCiAgICBjYXNlICdhZGRTcHJpbmcnOgogICAgICB7CiAgICAgICAgY29uc3QgW2JvZHlBLCBib2R5Qiwgb3B0bnNdID0gcHJvcHM7CiAgICAgICAgbGV0IHsKICAgICAgICAgIHdvcmxkQW5jaG9yQSwKICAgICAgICAgIHdvcmxkQW5jaG9yQiwKICAgICAgICAgIGxvY2FsQW5jaG9yQSwKICAgICAgICAgIGxvY2FsQW5jaG9yQiwKICAgICAgICAgIHJlc3RMZW5ndGgsCiAgICAgICAgICBzdGlmZm5lc3MsCiAgICAgICAgICBkYW1waW5nCiAgICAgICAgfSA9IG9wdG5zOwogICAgICAgIHdvcmxkQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkod29ybGRBbmNob3JBKSA/IG5ldyBWZWMzKC4uLndvcmxkQW5jaG9yQSkgOiB1bmRlZmluZWQ7CiAgICAgICAgd29ybGRBbmNob3JCID0gQXJyYXkuaXNBcnJheSh3b3JsZEFuY2hvckIpID8gbmV3IFZlYzMoLi4ud29ybGRBbmNob3JCKSA6IHVuZGVmaW5lZDsKICAgICAgICBsb2NhbEFuY2hvckEgPSBBcnJheS5pc0FycmF5KGxvY2FsQW5jaG9yQSkgPyBuZXcgVmVjMyguLi5sb2NhbEFuY2hvckEpIDogdW5kZWZpbmVkOwogICAgICAgIGxvY2FsQW5jaG9yQiA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JCKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQikgOiB1bmRlZmluZWQ7CiAgICAgICAgbGV0IHNwcmluZyA9IG5ldyBTcHJpbmcoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgewogICAgICAgICAgd29ybGRBbmNob3JBLAogICAgICAgICAgd29ybGRBbmNob3JCLAogICAgICAgICAgbG9jYWxBbmNob3JBLAogICAgICAgICAgbG9jYWxBbmNob3JCLAogICAgICAgICAgcmVzdExlbmd0aCwKICAgICAgICAgIHN0aWZmbmVzcywKICAgICAgICAgIGRhbXBpbmcKICAgICAgICB9KTsKICAgICAgICBzcHJpbmcudXVpZCA9IHV1aWQ7CgogICAgICAgIGxldCBwb3N0U3RlcFNwcmluZyA9IGUgPT4gc3ByaW5nLmFwcGx5Rm9yY2UoKTsKCiAgICAgICAgc3ByaW5nc1t1dWlkXSA9IHBvc3RTdGVwU3ByaW5nOyAvLyBDb21wdXRlIHRoZSBmb3JjZSBhZnRlciBlYWNoIHN0ZXAKCiAgICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzcHJpbmdzW3V1aWRdKTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgJ3JlbW92ZVNwcmluZyc6CiAgICAgIHsKICAgICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHNwcmluZ3NbdXVpZF0pOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnYWRkUmF5JzoKICAgICAgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGZyb20sCiAgICAgICAgICB0bwogICAgICAgIH0gPSBwcm9wcywKICAgICAgICAgICAgICBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFsiZnJvbSIsICJ0byJdKTsKCiAgICAgICAgY29uc3QgcmF5ID0gbmV3IFJheShmcm9tID8gbmV3IFZlYzMoLi4uZnJvbSkgOiB1bmRlZmluZWQsIHRvID8gbmV3IFZlYzMoLi4udG8pIDogdW5kZWZpbmVkKTsKICAgICAgICBvcHRpb25zLm1vZGUgPSBSYXlbb3B0aW9ucy5tb2RlLnRvVXBwZXJDYXNlKCldOwogICAgICAgIG9wdGlvbnMucmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTsKCiAgICAgICAgcmF5c1t1dWlkXSA9ICgpID0+IHsKICAgICAgICAgIHJheS5pbnRlcnNlY3RXb3JsZCh3b3JsZCwgb3B0aW9ucyk7CgogICAgICAgICAgY29uc3QgX29wdGlvbnMkcmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgIGJvZHksCiAgICAgICAgICAgIHNoYXBlLAogICAgICAgICAgICByYXlGcm9tV29ybGQsCiAgICAgICAgICAgIHJheVRvV29ybGQsCiAgICAgICAgICAgIGhpdE5vcm1hbFdvcmxkLAogICAgICAgICAgICBoaXRQb2ludFdvcmxkCiAgICAgICAgICB9ID0gX29wdGlvbnMkcmVzdWx0LAogICAgICAgICAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9vcHRpb25zJHJlc3VsdCwgWyJib2R5IiwgInNoYXBlIiwgInJheUZyb21Xb3JsZCIsICJyYXlUb1dvcmxkIiwgImhpdE5vcm1hbFdvcmxkIiwgImhpdFBvaW50V29ybGQiXSk7CgogICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShfZXh0ZW5kcyh7CiAgICAgICAgICAgIG9wOiAnZXZlbnQnLAogICAgICAgICAgICB0eXBlOiAncmF5aGl0JywKICAgICAgICAgICAgcmF5OiB7CiAgICAgICAgICAgICAgZnJvbSwKICAgICAgICAgICAgICB0bywKICAgICAgICAgICAgICBkaXJlY3Rpb246IHJheS5kaXJlY3Rpb24udG9BcnJheSgpLAogICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlckdyb3VwOiByYXkuY29sbGlzaW9uRmlsdGVyR3JvdXAsCiAgICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyTWFzazogcmF5LmNvbGxpc2lvbkZpbHRlck1hc2ssCiAgICAgICAgICAgICAgdXVpZAogICAgICAgICAgICB9LAogICAgICAgICAgICBib2R5OiBib2R5ID8gYm9keS51dWlkIDogbnVsbCwKICAgICAgICAgICAgc2hhcGU6IHNoYXBlID8gX2V4dGVuZHMoe30sIHNoYXBlLCB7CiAgICAgICAgICAgICAgYm9keTogYm9keS51dWlkCiAgICAgICAgICAgIH0pIDogbnVsbCwKICAgICAgICAgICAgcmF5RnJvbVdvcmxkOiByYXlGcm9tV29ybGQudG9BcnJheSgpLAogICAgICAgICAgICByYXlUb1dvcmxkOiByYXlUb1dvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgaGl0Tm9ybWFsV29ybGQ6IGhpdE5vcm1hbFdvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgaGl0UG9pbnRXb3JsZDogaGl0UG9pbnRXb3JsZC50b0FycmF5KCkKICAgICAgICAgIH0sIHJlc3QpKTsKICAgICAgICB9OwoKICAgICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgcmF5c1t1dWlkXSk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdyZW1vdmVSYXknOgogICAgICB7CiAgICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHJheXNbdXVpZF0pOwogICAgICAgIGRlbGV0ZSByYXlzW3V1aWRdOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnYWRkUmF5Y2FzdFZlaGljbGUnOgogICAgICB7CiAgICAgICAgY29uc3QgW2NoYXNzaXNCb2R5LCB3aGVlbHMsIHdoZWVsSW5mb3MsIGluZGV4Rm9yd2FyZEF4aXMsIGluZGV4UmlnaHRBeGlzLCBpbmRleFVwQXhpc10gPSBwcm9wczsKICAgICAgICBjb25zdCB2ZWhpY2xlID0gbmV3IFJheWNhc3RWZWhpY2xlKHsKICAgICAgICAgIGNoYXNzaXNCb2R5OiBib2RpZXNbY2hhc3Npc0JvZHldLAogICAgICAgICAgaW5kZXhGb3J3YXJkQXhpczogaW5kZXhGb3J3YXJkQXhpcywKICAgICAgICAgIGluZGV4UmlnaHRBeGlzOiBpbmRleFJpZ2h0QXhpcywKICAgICAgICAgIGluZGV4VXBBeGlzOiBpbmRleFVwQXhpcwogICAgICAgIH0pOwogICAgICAgIHZlaGljbGUud29ybGQgPSB3b3JsZDsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aGVlbEluZm9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCB3aGVlbEluZm8gPSB3aGVlbEluZm9zW2ldOwogICAgICAgICAgd2hlZWxJbmZvLmRpcmVjdGlvbkxvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmRpcmVjdGlvbkxvY2FsKTsKICAgICAgICAgIHdoZWVsSW5mby5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwgPSBuZXcgVmVjMyguLi53aGVlbEluZm8uY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsKTsKICAgICAgICAgIHdoZWVsSW5mby5heGxlTG9jYWwgPSBuZXcgVmVjMyguLi53aGVlbEluZm8uYXhsZUxvY2FsKTsKICAgICAgICAgIHZlaGljbGUuYWRkV2hlZWwod2hlZWxJbmZvKTsKICAgICAgICAgIGNvbnN0IHdoZWVsQm9keSA9IGJvZGllc1t3aGVlbHNbaV1dOwogICAgICAgIH0KCiAgICAgICAgdmVoaWNsZXNbdXVpZF0gPSB7CiAgICAgICAgICB2ZWhpY2xlOiB2ZWhpY2xlLAogICAgICAgICAgd2hlZWxzOiB3aGVlbHMsCiAgICAgICAgICBwcmVTdGVwOiAoKSA9PiB7CiAgICAgICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUudXBkYXRlVmVoaWNsZSh3b3JsZC5kdCk7CiAgICAgICAgICB9LAogICAgICAgICAgcG9zdFN0ZXA6ICgpID0+IHsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLndoZWVsSW5mb3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLnVwZGF0ZVdoZWVsVHJhbnNmb3JtKGkpOwogICAgICAgICAgICAgIGNvbnN0IHQgPSB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLndoZWVsSW5mb3NbaV0ud29ybGRUcmFuc2Zvcm07CiAgICAgICAgICAgICAgY29uc3Qgd2hlZWxCb2R5ID0gYm9kaWVzW3ZlaGljbGVzW3V1aWRdLndoZWVsc1tpXV07CiAgICAgICAgICAgICAgd2hlZWxCb2R5LnBvc2l0aW9uLmNvcHkodC5wb3NpdGlvbik7CiAgICAgICAgICAgICAgd2hlZWxCb2R5LnF1YXRlcm5pb24uY29weSh0LnF1YXRlcm5pb24pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgdmVoaWNsZXNbdXVpZF0ucHJlU3RlcCk7CiAgICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wb3N0U3RlcCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlICdyZW1vdmVSYXljYXN0VmVoaWNsZSc6CiAgICAgIHsKICAgICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgdmVoaWNsZXNbdXVpZF0ucHJlU3RlcCk7CiAgICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wb3N0U3RlcCk7CiAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS53b3JsZCA9IG51bGw7CiAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZSA9IG51bGw7CiAgICAgICAgZGVsZXRlIHZlaGljbGVzW3V1aWRdOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnc2V0UmF5Y2FzdFZlaGljbGVTdGVlcmluZ1ZhbHVlJzoKICAgICAgewogICAgICAgIGNvbnN0IFt2YWx1ZSwgd2hlZWxJbmRleF0gPSBwcm9wczsKICAgICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLnNldFN0ZWVyaW5nVmFsdWUodmFsdWUsIHdoZWVsSW5kZXgpOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnYXBwbHlSYXljYXN0VmVoaWNsZUVuZ2luZUZvcmNlJzoKICAgICAgewogICAgICAgIGNvbnN0IFt2YWx1ZSwgd2hlZWxJbmRleF0gPSBwcm9wczsKICAgICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLmFwcGx5RW5naW5lRm9yY2UodmFsdWUsIHdoZWVsSW5kZXgpOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSAnc2V0UmF5Y2FzdFZlaGljbGVCcmFrZSc6CiAgICAgIHsKICAgICAgICBjb25zdCBbYnJha2UsIHdoZWVsSW5kZXhdID0gcHJvcHM7CiAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5zZXRCcmFrZShicmFrZSwgd2hlZWxJbmRleCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICB9Cn07Cgo=', 'data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLmpzIiwic291cmNlcyI6WyJub2RlX21vZHVsZXMvY2Fubm9uLWVzL2Rpc3QvY2Fubm9uLWVzLmpzIiwic3JjL3dvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUmVjb3JkcyB3aGF0IG9iamVjdHMgYXJlIGNvbGxpZGluZyB3aXRoIGVhY2ggb3RoZXJcclxuICogQGNsYXNzIE9iamVjdENvbGxpc2lvbk1hdHJpeFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBPYmplY3RDb2xsaXNpb25NYXRyaXgge1xuICAvLyBUaGUgbWF0cml4IHN0b3JhZ2UuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWF0cml4ID0ge307XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBnZXRcclxuICAgKiBAcGFyYW0gIHtCb2R5fSBpXHJcbiAgICogQHBhcmFtICB7Qm9keX0galxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICovXG5cblxuICBnZXQoYmksIGJqKSB7XG4gICAgbGV0IHtcbiAgICAgIGlkOiBpXG4gICAgfSA9IGJpO1xuICAgIGxldCB7XG4gICAgICBpZDogalxuICAgIH0gPSBiajtcblxuICAgIGlmIChqID4gaSkge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiBpICsgXCItXCIgKyBqIGluIHRoaXMubWF0cml4O1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2Qgc2V0XHJcbiAgICogQHBhcmFtICB7Qm9keX0gaVxyXG4gICAqIEBwYXJhbSAge0JvZHl9IGpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXHJcbiAgICovXG5cblxuICBzZXQoYmksIGJqLCB2YWx1ZSkge1xuICAgIGxldCB7XG4gICAgICBpZDogaVxuICAgIH0gPSBiaTtcbiAgICBsZXQge1xuICAgICAgaWQ6IGpcbiAgICB9ID0gYmo7XG5cbiAgICBpZiAoaiA+IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMubWF0cml4W2kgKyBcIi1cIiArIGpdID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRoaXMubWF0cml4W2kgKyBcIi1cIiArIGpdO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBFbXB0eSB0aGUgbWF0cml4XHJcbiAgICogQG1ldGhvZCByZXNldFxyXG4gICAqL1xuXG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5tYXRyaXggPSB7fTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgbWF4IG51bWJlciBvZiBvYmplY3RzXHJcbiAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5cclxuICAgKi9cblxuXG4gIHNldE51bU9iamVjdHMobikge31cblxufVxuXG4vKipcclxuICogQSAzeDMgbWF0cml4LlxyXG4gKiBAY2xhc3MgTWF0M1xyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgQSB2ZWN0b3Igb2YgbGVuZ3RoIDksIGNvbnRhaW5pbmcgYWxsIG1hdHJpeCBlbGVtZW50cy4gT3B0aW9uYWwuXHJcbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxyXG4gKi9cbmNsYXNzIE1hdDMge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50cyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSkge1xuICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgfVxuICAvKipcclxuICAgKiBTZXRzIHRoZSBtYXRyaXggdG8gaWRlbnRpdHlcclxuICAgKiBAbWV0aG9kIGlkZW50aXR5XHJcbiAgICogQHRvZG8gU2hvdWxkIHBlcmhhcHMgYmUgcmVuYW1lZCB0byBzZXRJZGVudGl0eSgpIHRvIGJlIG1vcmUgY2xlYXIuXHJcbiAgICogQHRvZG8gQ3JlYXRlIGFub3RoZXIgZnVuY3Rpb24gdGhhdCBpbW1lZGlhdGVseSBjcmVhdGVzIGFuIGlkZW50aXR5IG1hdHJpeCBlZy4gZXllKClcclxuICAgKi9cblxuXG4gIGlkZW50aXR5KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzO1xuICAgIGVbMF0gPSAxO1xuICAgIGVbMV0gPSAwO1xuICAgIGVbMl0gPSAwO1xuICAgIGVbM10gPSAwO1xuICAgIGVbNF0gPSAxO1xuICAgIGVbNV0gPSAwO1xuICAgIGVbNl0gPSAwO1xuICAgIGVbN10gPSAwO1xuICAgIGVbOF0gPSAxO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCBhbGwgZWxlbWVudHMgdG8gemVyb1xyXG4gICAqIEBtZXRob2Qgc2V0WmVyb1xyXG4gICAqL1xuXG5cbiAgc2V0WmVybygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBlWzBdID0gMDtcbiAgICBlWzFdID0gMDtcbiAgICBlWzJdID0gMDtcbiAgICBlWzNdID0gMDtcbiAgICBlWzRdID0gMDtcbiAgICBlWzVdID0gMDtcbiAgICBlWzZdID0gMDtcbiAgICBlWzddID0gMDtcbiAgICBlWzhdID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBTZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHMgZnJvbSBhIFZlYzNcclxuICAgKiBAbWV0aG9kIHNldFRyYWNlXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2ZWMzXHJcbiAgICovXG5cblxuICBzZXRUcmFjZSh2ZWN0b3IpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBlWzBdID0gdmVjdG9yLng7XG4gICAgZVs0XSA9IHZlY3Rvci55O1xuICAgIGVbOF0gPSB2ZWN0b3IuejtcbiAgfVxuICAvKipcclxuICAgKiBHZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHNcclxuICAgKiBAbWV0aG9kIGdldFRyYWNlXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIGdldFRyYWNlKHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICB0YXJnZXQueCA9IGVbMF07XG4gICAgdGFyZ2V0LnkgPSBlWzRdO1xuICAgIHRhcmdldC56ID0gZVs4XTtcbiAgfVxuICAvKipcclxuICAgKiBNYXRyaXgtVmVjdG9yIG11bHRpcGxpY2F0aW9uXHJcbiAgICogQG1ldGhvZCB2bXVsdFxyXG4gICAqIEBwYXJhbSB7VmVjM30gdiBUaGUgdmVjdG9yIHRvIG11bHRpcGx5IHdpdGhcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCwgdGFyZ2V0IHRvIHNhdmUgdGhlIHJlc3VsdCBpbi5cclxuICAgKi9cblxuXG4gIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBjb25zdCB4ID0gdi54O1xuICAgIGNvbnN0IHkgPSB2Lnk7XG4gICAgY29uc3QgeiA9IHYuejtcbiAgICB0YXJnZXQueCA9IGVbMF0gKiB4ICsgZVsxXSAqIHkgKyBlWzJdICogejtcbiAgICB0YXJnZXQueSA9IGVbM10gKiB4ICsgZVs0XSAqIHkgKyBlWzVdICogejtcbiAgICB0YXJnZXQueiA9IGVbNl0gKiB4ICsgZVs3XSAqIHkgKyBlWzhdICogejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIE1hdHJpeC1zY2FsYXIgbXVsdGlwbGljYXRpb25cclxuICAgKiBAbWV0aG9kIHNtdWx0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNcclxuICAgKi9cblxuXG4gIHNtdWx0KHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbaV0gKj0gcztcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogTWF0cml4IG11bHRpcGxpY2F0aW9uXHJcbiAgICogQG1ldGhvZCBtbXVsdFxyXG4gICAqIEBwYXJhbSB7TWF0M30gbWF0cml4IE1hdHJpeCB0byBtdWx0aXBseSB3aXRoIGZyb20gbGVmdCBzaWRlLlxyXG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuXHJcbiAgICovXG5cblxuICBtbXVsdChtYXRyaXgsIHRhcmdldCA9IG5ldyBNYXQzKCkpIHtcbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50c1xuICAgIH0gPSBtYXRyaXg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgbGV0IHN1bSA9IDAuMDtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7IGsrKykge1xuICAgICAgICAgIHN1bSArPSBlbGVtZW50c1tpICsgayAqIDNdICogdGhpcy5lbGVtZW50c1trICsgaiAqIDNdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0LmVsZW1lbnRzW2kgKyBqICogM10gPSBzdW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBTY2FsZSBlYWNoIGNvbHVtbiBvZiB0aGUgbWF0cml4XHJcbiAgICogQG1ldGhvZCBzY2FsZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdlxyXG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuXHJcbiAgICovXG5cblxuICBzY2FsZSh2ZWN0b3IsIHRhcmdldCA9IG5ldyBNYXQzKCkpIHtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBjb25zdCB0ID0gdGFyZ2V0LmVsZW1lbnRzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDM7IGkrKykge1xuICAgICAgdFszICogaSArIDBdID0gdmVjdG9yLnggKiBlWzMgKiBpICsgMF07XG4gICAgICB0WzMgKiBpICsgMV0gPSB2ZWN0b3IueSAqIGVbMyAqIGkgKyAxXTtcbiAgICAgIHRbMyAqIGkgKyAyXSA9IHZlY3Rvci56ICogZVszICogaSArIDJdO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU29sdmUgQXg9YlxyXG4gICAqIEBtZXRob2Qgc29sdmVcclxuICAgKiBAcGFyYW0ge1ZlYzN9IGIgVGhlIHJpZ2h0IGhhbmQgc2lkZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdmVjdG9yIHRvIHNhdmUgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM30gVGhlIHNvbHV0aW9uIHhcclxuICAgKiBAdG9kbyBzaG91bGQgcmV1c2UgYXJyYXlzXHJcbiAgICovXG5cblxuICBzb2x2ZShiLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgLy8gQ29uc3RydWN0IGVxdWF0aW9uc1xuICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3NcblxuICAgIGNvbnN0IG5jID0gNDsgLy8gbnVtIGNvbHNcblxuICAgIGNvbnN0IGVxbnMgPSBbXTtcbiAgICBsZXQgaTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBuciAqIG5jOyBpKyspIHtcbiAgICAgIGVxbnMucHVzaCgwKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgIGVxbnNbaSArIG5jICogal0gPSB0aGlzLmVsZW1lbnRzW2kgKyAzICogal07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXFuc1szICsgNCAqIDBdID0gYi54O1xuICAgIGVxbnNbMyArIDQgKiAxXSA9IGIueTtcbiAgICBlcW5zWzMgKyA0ICogMl0gPSBiLno7IC8vIENvbXB1dGUgcmlnaHQgdXBwZXIgdHJpYW5ndWxhciB2ZXJzaW9uIG9mIHRoZSBtYXRyaXggLSBHYXVzcyBlbGltaW5hdGlvblxuXG4gICAgbGV0IG4gPSAzO1xuICAgIGNvbnN0IGsgPSBuO1xuICAgIGxldCBucDtcbiAgICBjb25zdCBrcCA9IDQ7IC8vIG51bSByb3dzXG5cbiAgICBsZXQgcDtcblxuICAgIGRvIHtcbiAgICAgIGkgPSBrIC0gbjtcblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gPT09IDApIHtcbiAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXNcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBqXSAhPT0gMCkge1xuICAgICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAvLyBkbyBsaWduZSggaSApID0gbGlnbmUoIGkgKSArIGxpZ25lKCBrIClcbiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7XG4gICAgICAgICAgICAgIGVxbnNbcCArIG5jICogaV0gKz0gZXFuc1twICsgbmMgKiBqXTtcbiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHtcbiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICAgICAgbnAgPSBrcDtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIGRvIGxpZ25lKCBrICkgPSBsaWduZSggayApIC0gbXVsdGlwbGllciAqIGxpZ25lKCBpIClcbiAgICAgICAgICAgIHAgPSBrcCAtIG5wO1xuICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgfSB3aGlsZSAoLS1ucCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IHdoaWxlICgtLW4pOyAvLyBHZXQgdGhlIHNvbHV0aW9uXG5cblxuICAgIHRhcmdldC56ID0gZXFuc1syICogbmMgKyAzXSAvIGVxbnNbMiAqIG5jICsgMl07XG4gICAgdGFyZ2V0LnkgPSAoZXFuc1sxICogbmMgKyAzXSAtIGVxbnNbMSAqIG5jICsgMl0gKiB0YXJnZXQueikgLyBlcW5zWzEgKiBuYyArIDFdO1xuICAgIHRhcmdldC54ID0gKGVxbnNbMCAqIG5jICsgM10gLSBlcW5zWzAgKiBuYyArIDJdICogdGFyZ2V0LnogLSBlcW5zWzAgKiBuYyArIDFdICogdGFyZ2V0LnkpIC8gZXFuc1swICogbmMgKyAwXTtcblxuICAgIGlmIChpc05hTih0YXJnZXQueCkgfHwgaXNOYU4odGFyZ2V0LnkpIHx8IGlzTmFOKHRhcmdldC56KSB8fCB0YXJnZXQueCA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnkgPT09IEluZmluaXR5IHx8IHRhcmdldC56ID09PSBJbmZpbml0eSkge1xuICAgICAgdGhyb3cgXCJDb3VsZCBub3Qgc29sdmUgZXF1YXRpb24hIEdvdCB4PVtcIiArIHRhcmdldC50b1N0cmluZygpICsgXCJdLCBiPVtcIiArIGIudG9TdHJpbmcoKSArIFwiXSwgQT1bXCIgKyB0aGlzLnRvU3RyaW5nKCkgKyBcIl1cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhbiBlbGVtZW50IGluIHRoZSBtYXRyaXggYnkgaW5kZXguIEluZGV4IHN0YXJ0cyBhdCAwLCBub3QgMSEhIVxyXG4gICAqIEBtZXRob2QgZVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByb3dcclxuICAgKiBAcGFyYW0ge051bWJlcn0gY29sdW1uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIE9wdGlvbmFsLiBJZiBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50IHdpbGwgYmUgc2V0IHRvIHRoaXMgdmFsdWUuXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZShyb3csIGNvbHVtbiwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbY29sdW1uICsgMyAqIHJvd107XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNldCB2YWx1ZVxuICAgICAgdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDb3B5IGFub3RoZXIgbWF0cml4IGludG8gdGhpcyBtYXRyaXggb2JqZWN0LlxyXG4gICAqIEBtZXRob2QgY29weVxyXG4gICAqIEBwYXJhbSB7TWF0M30gc291cmNlXHJcbiAgICogQHJldHVybiB7TWF0M30gdGhpc1xyXG4gICAqL1xuXG5cbiAgY29weShtYXRyaXgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdHJpeC5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5lbGVtZW50c1tpXSA9IG1hdHJpeC5lbGVtZW50c1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXguXHJcbiAgICogQG1ldGhvZCB0b1N0cmluZ1xyXG4gICAqIEByZXR1cm4gc3RyaW5nXHJcbiAgICovXG5cblxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgciA9ICcnO1xuICAgIGNvbnN0IHNlcCA9ICcsJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICByICs9IHRoaXMuZWxlbWVudHNbaV0gKyBzZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgLyoqXHJcbiAgICogcmV2ZXJzZSB0aGUgbWF0cml4XHJcbiAgICogQG1ldGhvZCByZXZlcnNlXHJcbiAgICogQHBhcmFtIHtNYXQzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCBtYXRyaXggdG8gc2F2ZSBpbi5cclxuICAgKiBAcmV0dXJuIHtNYXQzfSBUaGUgc29sdXRpb24geFxyXG4gICAqL1xuXG5cbiAgcmV2ZXJzZSh0YXJnZXQgPSBuZXcgTWF0MygpKSB7XG4gICAgLy8gQ29uc3RydWN0IGVxdWF0aW9uc1xuICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3NcblxuICAgIGNvbnN0IG5jID0gNjsgLy8gbnVtIGNvbHNcblxuICAgIGNvbnN0IGVxbnMgPSBbXTtcbiAgICBsZXQgaTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBuciAqIG5jOyBpKyspIHtcbiAgICAgIGVxbnMucHVzaCgwKTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgIGVxbnNbaSArIG5jICogal0gPSB0aGlzLmVsZW1lbnRzW2kgKyAzICogal07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXFuc1szICsgNiAqIDBdID0gMTtcbiAgICBlcW5zWzMgKyA2ICogMV0gPSAwO1xuICAgIGVxbnNbMyArIDYgKiAyXSA9IDA7XG4gICAgZXFuc1s0ICsgNiAqIDBdID0gMDtcbiAgICBlcW5zWzQgKyA2ICogMV0gPSAxO1xuICAgIGVxbnNbNCArIDYgKiAyXSA9IDA7XG4gICAgZXFuc1s1ICsgNiAqIDBdID0gMDtcbiAgICBlcW5zWzUgKyA2ICogMV0gPSAwO1xuICAgIGVxbnNbNSArIDYgKiAyXSA9IDE7IC8vIENvbXB1dGUgcmlnaHQgdXBwZXIgdHJpYW5ndWxhciB2ZXJzaW9uIG9mIHRoZSBtYXRyaXggLSBHYXVzcyBlbGltaW5hdGlvblxuXG4gICAgbGV0IG4gPSAzO1xuICAgIGNvbnN0IGsgPSBuO1xuICAgIGxldCBucDtcbiAgICBjb25zdCBrcCA9IG5jOyAvLyBudW0gcm93c1xuXG4gICAgbGV0IHA7XG5cbiAgICBkbyB7XG4gICAgICBpID0gayAtIG47XG5cbiAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldID09PSAwKSB7XG4gICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzXG4gICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgaWYgKGVxbnNbaSArIG5jICogal0gIT09IDApIHtcbiAgICAgICAgICAgIG5wID0ga3A7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgLy8gZG8gbGluZSggaSApID0gbGluZSggaSApICsgbGluZSggayApXG4gICAgICAgICAgICAgIHAgPSBrcCAtIG5wO1xuICAgICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGldICs9IGVxbnNbcCArIG5jICogal07XG4gICAgICAgICAgICB9IHdoaWxlICgtLW5wKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldICE9PSAwKSB7XG4gICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldO1xuICAgICAgICAgIG5wID0ga3A7XG5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBkbyBsaW5lKCBrICkgPSBsaW5lKCBrICkgLSBtdWx0aXBsaWVyICogbGluZSggaSApXG4gICAgICAgICAgICBwID0ga3AgLSBucDtcbiAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyO1xuICAgICAgICAgIH0gd2hpbGUgKC0tbnApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAoLS1uKTsgLy8gZWxpbWluYXRlIHRoZSB1cHBlciBsZWZ0IHRyaWFuZ2xlIG9mIHRoZSBtYXRyaXhcblxuXG4gICAgaSA9IDI7XG5cbiAgICBkbyB7XG4gICAgICBqID0gaSAtIDE7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldO1xuICAgICAgICBucCA9IG5jO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBwID0gbmMgLSBucDtcbiAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyO1xuICAgICAgICB9IHdoaWxlICgtLW5wKTtcbiAgICAgIH0gd2hpbGUgKGotLSk7XG4gICAgfSB3aGlsZSAoLS1pKTsgLy8gb3BlcmF0aW9ucyBvbiB0aGUgZGlhZ29uYWxcblxuXG4gICAgaSA9IDI7XG5cbiAgICBkbyB7XG4gICAgICBjb25zdCBtdWx0aXBsaWVyID0gMSAvIGVxbnNbaSArIG5jICogaV07XG4gICAgICBucCA9IG5jO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHAgPSBuYyAtIG5wO1xuICAgICAgICBlcW5zW3AgKyBuYyAqIGldID0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7XG4gICAgICB9IHdoaWxlICgtLW5wKTtcbiAgICB9IHdoaWxlIChpLS0pO1xuXG4gICAgaSA9IDI7XG5cbiAgICBkbyB7XG4gICAgICBqID0gMjtcblxuICAgICAgZG8ge1xuICAgICAgICBwID0gZXFuc1tuciArIGogKyBuYyAqIGldO1xuXG4gICAgICAgIGlmIChpc05hTihwKSB8fCBwID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHRocm93IFwiQ291bGQgbm90IHJldmVyc2UhIEE9W1wiICsgdGhpcy50b1N0cmluZygpICsgXCJdXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQuZShpLCBqLCBwKTtcbiAgICAgIH0gd2hpbGUgKGotLSk7XG4gICAgfSB3aGlsZSAoaS0tKTtcblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvblxyXG4gICAqIEBtZXRob2Qgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvblxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcVxyXG4gICAqL1xuXG5cbiAgc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKSB7XG4gICAgY29uc3QgeCA9IHEueDtcbiAgICBjb25zdCB5ID0gcS55O1xuICAgIGNvbnN0IHogPSBxLno7XG4gICAgY29uc3QgdyA9IHEudztcbiAgICBjb25zdCB4MiA9IHggKyB4O1xuICAgIGNvbnN0IHkyID0geSArIHk7XG4gICAgY29uc3QgejIgPSB6ICsgejtcbiAgICBjb25zdCB4eCA9IHggKiB4MjtcbiAgICBjb25zdCB4eSA9IHggKiB5MjtcbiAgICBjb25zdCB4eiA9IHggKiB6MjtcbiAgICBjb25zdCB5eSA9IHkgKiB5MjtcbiAgICBjb25zdCB5eiA9IHkgKiB6MjtcbiAgICBjb25zdCB6eiA9IHogKiB6MjtcbiAgICBjb25zdCB3eCA9IHcgKiB4MjtcbiAgICBjb25zdCB3eSA9IHcgKiB5MjtcbiAgICBjb25zdCB3eiA9IHcgKiB6MjtcbiAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50cztcbiAgICBlWzMgKiAwICsgMF0gPSAxIC0gKHl5ICsgenopO1xuICAgIGVbMyAqIDAgKyAxXSA9IHh5IC0gd3o7XG4gICAgZVszICogMCArIDJdID0geHogKyB3eTtcbiAgICBlWzMgKiAxICsgMF0gPSB4eSArIHd6O1xuICAgIGVbMyAqIDEgKyAxXSA9IDEgLSAoeHggKyB6eik7XG4gICAgZVszICogMSArIDJdID0geXogLSB3eDtcbiAgICBlWzMgKiAyICsgMF0gPSB4eiAtIHd5O1xuICAgIGVbMyAqIDIgKyAxXSA9IHl6ICsgd3g7XG4gICAgZVszICogMiArIDJdID0gMSAtICh4eCArIHl5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBUcmFuc3Bvc2UgdGhlIG1hdHJpeFxyXG4gICAqIEBtZXRob2QgdHJhbnNwb3NlXHJcbiAgICogQHBhcmFtICB7TWF0M30gdGFyZ2V0IE9wdGlvbmFsLiBXaGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0LlxyXG4gICAqIEByZXR1cm4ge01hdDN9IFRoZSB0YXJnZXQgTWF0Mywgb3IgYSBuZXcgTWF0MyBpZiB0YXJnZXQgd2FzIG9taXR0ZWQuXHJcbiAgICovXG5cblxuICB0cmFuc3Bvc2UodGFyZ2V0ID0gbmV3IE1hdDMoKSkge1xuICAgIGNvbnN0IE10ID0gdGFyZ2V0LmVsZW1lbnRzO1xuICAgIGNvbnN0IE0gPSB0aGlzLmVsZW1lbnRzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDM7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IDM7IGorKykge1xuICAgICAgICBNdFszICogaSArIGpdID0gTVszICogaiArIGldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxufVxuXG4vKipcclxuICogMy1kaW1lbnNpb25hbCB2ZWN0b3JcclxuICogQGNsYXNzIFZlYzNcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6XHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQGV4YW1wbGVcclxuICogICAgIGNvbnN0IHYgPSBuZXcgVmVjMygxLCAyLCAzKTtcclxuICogICAgIGNvbnNvbGUubG9nKCd4PScgKyB2LngpOyAvLyB4PTFcclxuICovXG5cbmNsYXNzIFZlYzMge1xuICBjb25zdHJ1Y3Rvcih4ID0gMC4wLCB5ID0gMC4wLCB6ID0gMC4wKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHo7XG4gIH1cbiAgLyoqXHJcbiAgICogVmVjdG9yIGNyb3NzIHByb2R1Y3RcclxuICAgKiBAbWV0aG9kIGNyb3NzXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB0byBzYXZlIGluLlxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjcm9zcyh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCB2eCA9IHZlY3Rvci54O1xuICAgIGNvbnN0IHZ5ID0gdmVjdG9yLnk7XG4gICAgY29uc3QgdnogPSB2ZWN0b3IuejtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICB0YXJnZXQueCA9IHkgKiB2eiAtIHogKiB2eTtcbiAgICB0YXJnZXQueSA9IHogKiB2eCAtIHggKiB2ejtcbiAgICB0YXJnZXQueiA9IHggKiB2eSAtIHkgKiB2eDtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgdmVjdG9ycycgMyBlbGVtZW50c1xyXG4gICAqIEBtZXRob2Qgc2V0XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHhcclxuICAgKiBAcGFyYW0ge051bWJlcn0geVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB6XHJcbiAgICogQHJldHVybiBWZWMzXHJcbiAgICovXG5cblxuICBzZXQoeCwgeSwgeikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnogPSB6O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCBhbGwgY29tcG9uZW50cyBvZiB0aGUgdmVjdG9yIHRvIHplcm8uXHJcbiAgICogQG1ldGhvZCBzZXRaZXJvXHJcbiAgICovXG5cblxuICBzZXRaZXJvKCkge1xuICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogVmVjdG9yIGFkZGl0aW9uXHJcbiAgICogQG1ldGhvZCB2YWRkXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHZhZGQodmVjdG9yLCB0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICB0YXJnZXQueCA9IHZlY3Rvci54ICsgdGhpcy54O1xuICAgICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSArIHRoaXMueTtcbiAgICAgIHRhcmdldC56ID0gdmVjdG9yLnogKyB0aGlzLno7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggKyB2ZWN0b3IueCwgdGhpcy55ICsgdmVjdG9yLnksIHRoaXMueiArIHZlY3Rvci56KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogVmVjdG9yIHN1YnRyYWN0aW9uXHJcbiAgICogQG1ldGhvZCB2c3ViXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB0byBzYXZlIGluLlxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICB2c3ViKHZlY3RvciwgdGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGFyZ2V0LnggPSB0aGlzLnggLSB2ZWN0b3IueDtcbiAgICAgIHRhcmdldC55ID0gdGhpcy55IC0gdmVjdG9yLnk7XG4gICAgICB0YXJnZXQueiA9IHRoaXMueiAtIHZlY3Rvci56O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54IC0gdmVjdG9yLngsIHRoaXMueSAtIHZlY3Rvci55LCB0aGlzLnogLSB2ZWN0b3Iueik7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgY3Jvc3MgcHJvZHVjdCBtYXRyaXggYV9jcm9zcyBmcm9tIGEgdmVjdG9yLCBzdWNoIHRoYXQgYSB4IGIgPSBhX2Nyb3NzICogYiA9IGNcclxuICAgKiBAbWV0aG9kIGNyb3NzbWF0XHJcbiAgICogQHNlZSBodHRwOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyL1REQkQyNC9WVDA2L2xlY3R1cmVzL0xlY3R1cmU2LnBkZlxyXG4gICAqIEByZXR1cm4ge01hdDN9XHJcbiAgICovXG5cblxuICBjcm9zc21hdCgpIHtcbiAgICByZXR1cm4gbmV3IE1hdDMoWzAsIC10aGlzLnosIHRoaXMueSwgdGhpcy56LCAwLCAtdGhpcy54LCAtdGhpcy55LCB0aGlzLngsIDBdKTtcbiAgfVxuICAvKipcclxuICAgKiBOb3JtYWxpemUgdGhlIHZlY3Rvci4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIGluIHRoZSB2ZWN0b3IuXHJcbiAgICogQG1ldGhvZCBub3JtYWxpemVcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFJldHVybnMgdGhlIG5vcm0gb2YgdGhlIHZlY3RvclxyXG4gICAqL1xuXG5cbiAgbm9ybWFsaXplKCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcblxuICAgIGlmIChuID4gMC4wKSB7XG4gICAgICBjb25zdCBpbnZOID0gMSAvIG47XG4gICAgICB0aGlzLnggKj0gaW52TjtcbiAgICAgIHRoaXMueSAqPSBpbnZOO1xuICAgICAgdGhpcy56ICo9IGludk47XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1ha2Ugc29tZXRoaW5nIHVwXG4gICAgICB0aGlzLnggPSAwO1xuICAgICAgdGhpcy55ID0gMDtcbiAgICAgIHRoaXMueiA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG47XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSB2ZXJzaW9uIG9mIHRoaXMgdmVjdG9yIHRoYXQgaXMgb2YgbGVuZ3RoIDEuXHJcbiAgICogQG1ldGhvZCB1bml0XHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW5cclxuICAgKiBAcmV0dXJuIHtWZWMzfSBSZXR1cm5zIHRoZSB1bml0IHZlY3RvclxyXG4gICAqL1xuXG5cbiAgdW5pdCh0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgbGV0IG5pbnYgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcblxuICAgIGlmIChuaW52ID4gMC4wKSB7XG4gICAgICBuaW52ID0gMS4wIC8gbmludjtcbiAgICAgIHRhcmdldC54ID0geCAqIG5pbnY7XG4gICAgICB0YXJnZXQueSA9IHkgKiBuaW52O1xuICAgICAgdGFyZ2V0LnogPSB6ICogbmludjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0LnggPSAxO1xuICAgICAgdGFyZ2V0LnkgPSAwO1xuICAgICAgdGFyZ2V0LnogPSAwO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvclxyXG4gICAqIEBtZXRob2QgbGVuZ3RoXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgbGVuZ3RoKCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IuXHJcbiAgICogQG1ldGhvZCBsZW5ndGhTcXVhcmVkXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgbGVuZ3RoU3F1YXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kb3QodGhpcyk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50XHJcbiAgICogQG1ldGhvZCBkaXN0YW5jZVRvXHJcbiAgICogQHBhcmFtICB7VmVjM30gcFxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGRpc3RhbmNlVG8ocCkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIGNvbnN0IHB4ID0gcC54O1xuICAgIGNvbnN0IHB5ID0gcC55O1xuICAgIGNvbnN0IHB6ID0gcC56O1xuICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgc3F1YXJlZCBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludFxyXG4gICAqIEBtZXRob2QgZGlzdGFuY2VTcXVhcmVkXHJcbiAgICogQHBhcmFtICB7VmVjM30gcFxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGRpc3RhbmNlU3F1YXJlZChwKSB7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgcHggPSBwLng7XG4gICAgY29uc3QgcHkgPSBwLnk7XG4gICAgY29uc3QgcHogPSBwLno7XG4gICAgcmV0dXJuIChweCAtIHgpICogKHB4IC0geCkgKyAocHkgLSB5KSAqIChweSAtIHkpICsgKHB6IC0geikgKiAocHogLSB6KTtcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSBhbGwgdGhlIGNvbXBvbmVudHMgb2YgdGhlIHZlY3RvciB3aXRoIGEgc2NhbGFyLlxyXG4gICAqIEBtZXRob2Qgc2NhbGVcclxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uXHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHNjYWxlKHNjYWxhciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIHRhcmdldC54ID0gc2NhbGFyICogeDtcbiAgICB0YXJnZXQueSA9IHNjYWxhciAqIHk7XG4gICAgdGFyZ2V0LnogPSBzY2FsYXIgKiB6O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgdGhlIHZlY3RvciB3aXRoIGFuIG90aGVyIHZlY3RvciwgY29tcG9uZW50LXdpc2UuXHJcbiAgICogQG1ldGhvZCB2bXVsdFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZWN0b3JcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi5cclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgdm11bCh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQueCA9IHZlY3Rvci54ICogdGhpcy54O1xuICAgIHRhcmdldC55ID0gdmVjdG9yLnkgKiB0aGlzLnk7XG4gICAgdGFyZ2V0LnogPSB2ZWN0b3IueiAqIHRoaXMuejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIFNjYWxlIGEgdmVjdG9yIGFuZCBhZGQgaXQgdG8gdGhpcyB2ZWN0b3IuIFNhdmUgdGhlIHJlc3VsdCBpbiBcInRhcmdldFwiLiAodGFyZ2V0ID0gdGhpcyArIHZlY3RvciAqIHNjYWxhcilcclxuICAgKiBAbWV0aG9kIGFkZFNjYWxlZFZlY3RvclxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvclxyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLlxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBhZGRTY2FsZWRWZWN0b3Ioc2NhbGFyLCB2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQueCA9IHRoaXMueCArIHNjYWxhciAqIHZlY3Rvci54O1xuICAgIHRhcmdldC55ID0gdGhpcy55ICsgc2NhbGFyICogdmVjdG9yLnk7XG4gICAgdGFyZ2V0LnogPSB0aGlzLnogKyBzY2FsYXIgKiB2ZWN0b3IuejtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIC8qKlxyXG4gICAqIENhbGN1bGF0ZSBkb3QgcHJvZHVjdFxyXG4gICAqIEBtZXRob2QgZG90XHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZG90KHZlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLnggKiB2ZWN0b3IueCArIHRoaXMueSAqIHZlY3Rvci55ICsgdGhpcy56ICogdmVjdG9yLno7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBpc1plcm9cclxuICAgKiBAcmV0dXJuIGJvb2xcclxuICAgKi9cblxuXG4gIGlzWmVybygpIHtcbiAgICByZXR1cm4gdGhpcy54ID09PSAwICYmIHRoaXMueSA9PT0gMCAmJiB0aGlzLnogPT09IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogTWFrZSB0aGUgdmVjdG9yIHBvaW50IGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uXHJcbiAgICogQG1ldGhvZCBuZWdhdGVcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpblxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBuZWdhdGUodGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRhcmdldC54ID0gLXRoaXMueDtcbiAgICB0YXJnZXQueSA9IC10aGlzLnk7XG4gICAgdGFyZ2V0LnogPSAtdGhpcy56O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0d28gYXJ0aWZpY2lhbCB0YW5nZW50cyB0byB0aGUgdmVjdG9yXHJcbiAgICogQG1ldGhvZCB0YW5nZW50c1xyXG4gICAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0MiBWZWN0b3Igb2JqZWN0IHRvIHNhdmUgdGhlIHNlY29uZCB0YW5nZW50IGluXHJcbiAgICovXG5cblxuICB0YW5nZW50cyh0MSwgdDIpIHtcbiAgICBjb25zdCBub3JtID0gdGhpcy5sZW5ndGgoKTtcblxuICAgIGlmIChub3JtID4gMC4wKSB7XG4gICAgICBjb25zdCBuID0gVmVjM190YW5nZW50c19uO1xuICAgICAgY29uc3QgaW5vcm0gPSAxIC8gbm9ybTtcbiAgICAgIG4uc2V0KHRoaXMueCAqIGlub3JtLCB0aGlzLnkgKiBpbm9ybSwgdGhpcy56ICogaW5vcm0pO1xuICAgICAgY29uc3QgcmFuZFZlYyA9IFZlYzNfdGFuZ2VudHNfcmFuZFZlYztcblxuICAgICAgaWYgKE1hdGguYWJzKG4ueCkgPCAwLjkpIHtcbiAgICAgICAgcmFuZFZlYy5zZXQoMSwgMCwgMCk7XG4gICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFuZFZlYy5zZXQoMCwgMSwgMCk7XG4gICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpO1xuICAgICAgfVxuXG4gICAgICBuLmNyb3NzKHQxLCB0Mik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBub3JtYWwgbGVuZ3RoIGlzIHplcm8sIG1ha2Ugc29tZXRoaW5nIHVwXG4gICAgICB0MS5zZXQoMSwgMCwgMCk7XG4gICAgICB0Mi5zZXQoMCwgMSwgMCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnRzIHRvIGEgbW9yZSByZWFkYWJsZSBmb3JtYXRcclxuICAgKiBAbWV0aG9kIHRvU3RyaW5nXHJcbiAgICogQHJldHVybiBzdHJpbmdcclxuICAgKi9cblxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiLFwiICsgdGhpcy56O1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnRzIHRvIGFuIGFycmF5XHJcbiAgICogQG1ldGhvZCB0b0FycmF5XHJcbiAgICogQHJldHVybiBBcnJheVxyXG4gICAqL1xuXG5cbiAgdG9BcnJheSgpIHtcbiAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55LCB0aGlzLnpdO1xuICB9XG4gIC8qKlxyXG4gICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyB2ZWN0b3IuXHJcbiAgICogQG1ldGhvZCBjb3B5XHJcbiAgICogQHBhcmFtIHtWZWMzfSBzb3VyY2VcclxuICAgKiBAcmV0dXJuIHtWZWMzfSB0aGlzXHJcbiAgICovXG5cblxuICBjb3B5KHZlY3Rvcikge1xuICAgIHRoaXMueCA9IHZlY3Rvci54O1xuICAgIHRoaXMueSA9IHZlY3Rvci55O1xuICAgIHRoaXMueiA9IHZlY3Rvci56O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjdG9yc1xyXG4gICAqIEBtZXRob2QgbGVycFxyXG4gICAqIEBwYXJhbSB7VmVjM30gdlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gMCB3aWxsIG1ha2UgdGhpcyBmdW5jdGlvbiByZXR1cm4gdSwgYW5kIDEgd2lsbCBtYWtlIGl0IHJldHVybiB2LiBOdW1iZXJzIGluIGJldHdlZW4gd2lsbCBnZW5lcmF0ZSBhIHZlY3RvciBpbiBiZXR3ZWVuIHRoZW0uXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcclxuICAgKi9cblxuXG4gIGxlcnAodmVjdG9yLCB0LCB0YXJnZXQpIHtcbiAgICBjb25zdCB4ID0gdGhpcy54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnk7XG4gICAgY29uc3QgeiA9IHRoaXMuejtcbiAgICB0YXJnZXQueCA9IHggKyAodmVjdG9yLnggLSB4KSAqIHQ7XG4gICAgdGFyZ2V0LnkgPSB5ICsgKHZlY3Rvci55IC0geSkgKiB0O1xuICAgIHRhcmdldC56ID0geiArICh2ZWN0b3IueiAtIHopICogdDtcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiBhIHZlY3RvciBlcXVhbHMgaXMgYWxtb3N0IGVxdWFsIHRvIGFub3RoZXIgb25lLlxyXG4gICAqIEBtZXRob2QgYWxtb3N0RXF1YWxzXHJcbiAgICogQHBhcmFtIHtWZWMzfSB2XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHByZWNpc2lvblxyXG4gICAqIEByZXR1cm4gYm9vbFxyXG4gICAqL1xuXG5cbiAgYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uID0gMWUtNikge1xuICAgIGlmIChNYXRoLmFicyh0aGlzLnggLSB2ZWN0b3IueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55IC0gdmVjdG9yLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueiAtIHZlY3Rvci56KSA+IHByZWNpc2lvbikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGFsbW9zdCB6ZXJvXHJcbiAgICogQG1ldGhvZCBhbG1vc3RaZXJvXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHByZWNpc2lvblxyXG4gICAqL1xuXG5cbiAgYWxtb3N0WmVybyhwcmVjaXNpb24gPSAxZS02KSB7XG4gICAgaWYgKE1hdGguYWJzKHRoaXMueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnopID4gcHJlY2lzaW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLlxyXG4gICAqIEBtZXRob2QgaXNBbnRpcGFyYWxsZWxUb1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9ICB2XHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSAgcHJlY2lzaW9uIFNldCB0byB6ZXJvIGZvciBleGFjdCBjb21wYXJpc29uc1xyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBpc0FudGlwYXJhbGxlbFRvKHZlY3RvciwgcHJlY2lzaW9uKSB7XG4gICAgdGhpcy5uZWdhdGUoYW50aXBfbmVnKTtcbiAgICByZXR1cm4gYW50aXBfbmVnLmFsbW9zdEVxdWFscyh2ZWN0b3IsIHByZWNpc2lvbik7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2xvbmUgdGhlIHZlY3RvclxyXG4gICAqIEBtZXRob2QgY2xvbmVcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCwgdGhpcy55LCB0aGlzLnopO1xuICB9XG5cbn1cblZlYzMuWkVSTyA9IG5ldyBWZWMzKDAsIDAsIDApO1xuVmVjMy5VTklUX1ggPSBuZXcgVmVjMygxLCAwLCAwKTtcblZlYzMuVU5JVF9ZID0gbmV3IFZlYzMoMCwgMSwgMCk7XG5WZWMzLlVOSVRfWiA9IG5ldyBWZWMzKDAsIDAsIDEpO1xuLyoqXHJcbiAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3RvclxyXG4gKiBAbWV0aG9kIHRhbmdlbnRzXHJcbiAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluXHJcbiAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpblxyXG4gKi9cblxuY29uc3QgVmVjM190YW5nZW50c19uID0gbmV3IFZlYzMoKTtcbmNvbnN0IFZlYzNfdGFuZ2VudHNfcmFuZFZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBhbnRpcF9uZWcgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQXhpcyBhbGlnbmVkIGJvdW5kaW5nIGJveCBjbGFzcy5cclxuICogQGNsYXNzIEFBQkJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtWZWMzfSAgIFtvcHRpb25zLnVwcGVyQm91bmRdIFRoZSB1cHBlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94LlxyXG4gKiBAcGFyYW0ge1ZlYzN9ICAgW29wdGlvbnMubG93ZXJCb3VuZF0gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3hcclxuICovXG5jbGFzcyBBQUJCIHtcbiAgLy8gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3hcbiAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3hcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5sb3dlckJvdW5kID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMubG93ZXJCb3VuZCkge1xuICAgICAgdGhpcy5sb3dlckJvdW5kLmNvcHkob3B0aW9ucy5sb3dlckJvdW5kKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy51cHBlckJvdW5kKSB7XG4gICAgICB0aGlzLnVwcGVyQm91bmQuY29weShvcHRpb25zLnVwcGVyQm91bmQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIEFBQkIgYm91bmRzIGZyb20gYSBzZXQgb2YgcG9pbnRzLlxyXG4gICAqIEBtZXRob2Qgc2V0RnJvbVBvaW50c1xyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50cyBBbiBhcnJheSBvZiBWZWMzJ3MuXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NpdGlvbiBPcHRpb25hbC5cclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRlcm5pb24gT3B0aW9uYWwuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5TaXplIE9wdGlvbmFsLlxyXG4gICAqIEByZXR1cm4ge0FBQkJ9IFRoZSBzZWxmIG9iamVjdFxyXG4gICAqL1xuXG5cbiAgc2V0RnJvbVBvaW50cyhwb2ludHMsIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBza2luU2l6ZSkge1xuICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDtcbiAgICBjb25zdCBxID0gcXVhdGVybmlvbjsgLy8gU2V0IHRvIHRoZSBmaXJzdCBwb2ludFxuXG4gICAgbC5jb3B5KHBvaW50c1swXSk7XG5cbiAgICBpZiAocSkge1xuICAgICAgcS52bXVsdChsLCBsKTtcbiAgICB9XG5cbiAgICB1LmNvcHkobCk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHAgPSBwb2ludHNbaV07XG5cbiAgICAgIGlmIChxKSB7XG4gICAgICAgIHEudm11bHQocCwgdG1wKTtcbiAgICAgICAgcCA9IHRtcDtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueCA+IHUueCkge1xuICAgICAgICB1LnggPSBwLng7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnggPCBsLngpIHtcbiAgICAgICAgbC54ID0gcC54O1xuICAgICAgfVxuXG4gICAgICBpZiAocC55ID4gdS55KSB7XG4gICAgICAgIHUueSA9IHAueTtcbiAgICAgIH1cblxuICAgICAgaWYgKHAueSA8IGwueSkge1xuICAgICAgICBsLnkgPSBwLnk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwLnogPiB1LnopIHtcbiAgICAgICAgdS56ID0gcC56O1xuICAgICAgfVxuXG4gICAgICBpZiAocC56IDwgbC56KSB7XG4gICAgICAgIGwueiA9IHAuejtcbiAgICAgIH1cbiAgICB9IC8vIEFkZCBvZmZzZXRcblxuXG4gICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICBwb3NpdGlvbi52YWRkKGwsIGwpO1xuICAgICAgcG9zaXRpb24udmFkZCh1LCB1KTtcbiAgICB9XG5cbiAgICBpZiAoc2tpblNpemUpIHtcbiAgICAgIGwueCAtPSBza2luU2l6ZTtcbiAgICAgIGwueSAtPSBza2luU2l6ZTtcbiAgICAgIGwueiAtPSBza2luU2l6ZTtcbiAgICAgIHUueCArPSBza2luU2l6ZTtcbiAgICAgIHUueSArPSBza2luU2l6ZTtcbiAgICAgIHUueiArPSBza2luU2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDb3B5IGJvdW5kcyBmcm9tIGFuIEFBQkIgdG8gdGhpcyBBQUJCXHJcbiAgICogQG1ldGhvZCBjb3B5XHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYiBTb3VyY2UgdG8gY29weSBmcm9tXHJcbiAgICogQHJldHVybiB7QUFCQn0gVGhlIHRoaXMgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5XHJcbiAgICovXG5cblxuICBjb3B5KGFhYmIpIHtcbiAgICB0aGlzLmxvd2VyQm91bmQuY29weShhYWJiLmxvd2VyQm91bmQpO1xuICAgIHRoaXMudXBwZXJCb3VuZC5jb3B5KGFhYmIudXBwZXJCb3VuZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2xvbmUgYW4gQUFCQlxyXG4gICAqIEBtZXRob2QgY2xvbmVcclxuICAgKi9cblxuXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgQUFCQigpLmNvcHkodGhpcyk7XG4gIH1cbiAgLyoqXHJcbiAgICogRXh0ZW5kIHRoaXMgQUFCQiBzbyB0aGF0IGl0IGNvdmVycyB0aGUgZ2l2ZW4gQUFCQiB0b28uXHJcbiAgICogQG1ldGhvZCBleHRlbmRcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICovXG5cblxuICBleHRlbmQoYWFiYikge1xuICAgIHRoaXMubG93ZXJCb3VuZC54ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC54KTtcbiAgICB0aGlzLnVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueCk7XG4gICAgdGhpcy5sb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueSwgYWFiYi5sb3dlckJvdW5kLnkpO1xuICAgIHRoaXMudXBwZXJCb3VuZC55ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLnksIGFhYmIudXBwZXJCb3VuZC55KTtcbiAgICB0aGlzLmxvd2VyQm91bmQueiA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC56LCBhYWJiLmxvd2VyQm91bmQueik7XG4gICAgdGhpcy51cHBlckJvdW5kLnogPSBNYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueiwgYWFiYi51cHBlckJvdW5kLnopO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBvdmVybGFwcyB0aGlzIEFBQkIuXHJcbiAgICogQG1ldGhvZCBvdmVybGFwc1xyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xuXG5cbiAgb3ZlcmxhcHMoYWFiYikge1xuICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGNvbnN0IGwyID0gYWFiYi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MlxuICAgIC8vICAgICAgfC0tLS0tLS0tLXxcbiAgICAvLyB8LS0tLS0tLS18XG4gICAgLy8gbDEgICAgICAgdTFcblxuICAgIGNvbnN0IG92ZXJsYXBzWCA9IGwyLnggPD0gdTEueCAmJiB1MS54IDw9IHUyLnggfHwgbDEueCA8PSB1Mi54ICYmIHUyLnggPD0gdTEueDtcbiAgICBjb25zdCBvdmVybGFwc1kgPSBsMi55IDw9IHUxLnkgJiYgdTEueSA8PSB1Mi55IHx8IGwxLnkgPD0gdTIueSAmJiB1Mi55IDw9IHUxLnk7XG4gICAgY29uc3Qgb3ZlcmxhcHNaID0gbDIueiA8PSB1MS56ICYmIHUxLnogPD0gdTIueiB8fCBsMS56IDw9IHUyLnogJiYgdTIueiA8PSB1MS56O1xuICAgIHJldHVybiBvdmVybGFwc1ggJiYgb3ZlcmxhcHNZICYmIG92ZXJsYXBzWjtcbiAgfSAvLyBNb3N0bHkgZm9yIGRlYnVnZ2luZ1xuXG5cbiAgdm9sdW1lKCkge1xuICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDtcbiAgICByZXR1cm4gKHUueCAtIGwueCkgKiAodS55IC0gbC55KSAqICh1LnogLSBsLnopO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBpcyBmdWxseSBjb250YWluZWQgaW4gdGhpcyBBQUJCLlxyXG4gICAqIEBtZXRob2QgY29udGFpbnNcclxuICAgKiBAcGFyYW0ge0FBQkJ9IGFhYmJcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xuXG5cbiAgY29udGFpbnMoYWFiYikge1xuICAgIGNvbnN0IGwxID0gdGhpcy5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGNvbnN0IGwyID0gYWFiYi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUyID0gYWFiYi51cHBlckJvdW5kOyAvLyAgICAgIGwyICAgICAgICB1MlxuICAgIC8vICAgICAgfC0tLS0tLS0tLXxcbiAgICAvLyB8LS0tLS0tLS0tLS0tLS0tfFxuICAgIC8vIGwxICAgICAgICAgICAgICB1MVxuXG4gICAgcmV0dXJuIGwxLnggPD0gbDIueCAmJiB1MS54ID49IHUyLnggJiYgbDEueSA8PSBsMi55ICYmIHUxLnkgPj0gdTIueSAmJiBsMS56IDw9IGwyLnogJiYgdTEueiA+PSB1Mi56O1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZ2V0Q29ybmVyc1xyXG4gICAqIEBwYXJhbSB7VmVjM30gYVxyXG4gICAqIEBwYXJhbSB7VmVjM30gYlxyXG4gICAqIEBwYXJhbSB7VmVjM30gY1xyXG4gICAqIEBwYXJhbSB7VmVjM30gZFxyXG4gICAqIEBwYXJhbSB7VmVjM30gZVxyXG4gICAqIEBwYXJhbSB7VmVjM30gZlxyXG4gICAqIEBwYXJhbSB7VmVjM30gZ1xyXG4gICAqIEBwYXJhbSB7VmVjM30gaFxyXG4gICAqL1xuXG5cbiAgZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG4gICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDtcbiAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kO1xuICAgIGEuY29weShsKTtcbiAgICBiLnNldCh1LngsIGwueSwgbC56KTtcbiAgICBjLnNldCh1LngsIHUueSwgbC56KTtcbiAgICBkLnNldChsLngsIHUueSwgdS56KTtcbiAgICBlLnNldCh1LngsIGwueSwgdS56KTtcbiAgICBmLnNldChsLngsIHUueSwgbC56KTtcbiAgICBnLnNldChsLngsIGwueSwgdS56KTtcbiAgICBoLmNvcHkodSk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSByZXByZXNlbnRhdGlvbiBvZiBhbiBBQUJCIGluIGFub3RoZXIgZnJhbWUuXHJcbiAgICogQG1ldGhvZCB0b0xvY2FsRnJhbWVcclxuICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lXHJcbiAgICogQHBhcmFtICB7QUFCQn0gdGFyZ2V0XHJcbiAgICogQHJldHVybiB7QUFCQn0gVGhlIFwidGFyZ2V0XCIgQUFCQiBvYmplY3QuXHJcbiAgICovXG5cblxuICB0b0xvY2FsRnJhbWUoZnJhbWUsIHRhcmdldCkge1xuICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVycztcbiAgICBjb25zdCBhID0gY29ybmVyc1swXTtcbiAgICBjb25zdCBiID0gY29ybmVyc1sxXTtcbiAgICBjb25zdCBjID0gY29ybmVyc1syXTtcbiAgICBjb25zdCBkID0gY29ybmVyc1szXTtcbiAgICBjb25zdCBlID0gY29ybmVyc1s0XTtcbiAgICBjb25zdCBmID0gY29ybmVyc1s1XTtcbiAgICBjb25zdCBnID0gY29ybmVyc1s2XTtcbiAgICBjb25zdCBoID0gY29ybmVyc1s3XTsgLy8gR2V0IGNvcm5lcnMgaW4gY3VycmVudCBmcmFtZVxuXG4gICAgdGhpcy5nZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpOyAvLyBUcmFuc2Zvcm0gdGhlbSB0byBuZXcgbG9jYWwgZnJhbWVcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHtcbiAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07XG4gICAgICBmcmFtZS5wb2ludFRvTG9jYWwoY29ybmVyLCBjb3JuZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQuc2V0RnJvbVBvaW50cyhjb3JuZXJzKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gdGhlIGdsb2JhbCBmcmFtZS5cclxuICAgKiBAbWV0aG9kIHRvV29ybGRGcmFtZVxyXG4gICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gZnJhbWVcclxuICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgXCJ0YXJnZXRcIiBBQUJCIG9iamVjdC5cclxuICAgKi9cblxuXG4gIHRvV29ybGRGcmFtZShmcmFtZSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgY29ybmVycyA9IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzO1xuICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdO1xuICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdO1xuICAgIGNvbnN0IGMgPSBjb3JuZXJzWzJdO1xuICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdO1xuICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdO1xuICAgIGNvbnN0IGYgPSBjb3JuZXJzWzVdO1xuICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdO1xuICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lXG5cbiAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykge1xuICAgICAgY29uc3QgY29ybmVyID0gY29ybmVyc1tpXTtcbiAgICAgIGZyYW1lLnBvaW50VG9Xb3JsZChjb3JuZXIsIGNvcm5lcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHRoZSBBQUJCIGlzIGhpdCBieSBhIHJheS5cclxuICAgKiBAcGFyYW0gIHtSYXl9IHJheVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBvdmVybGFwc1JheShyYXkpIHtcbiAgICBjb25zdCB7XG4gICAgICBkaXJlY3Rpb24sXG4gICAgICBmcm9tXG4gICAgfSA9IHJheTtcblxuICAgIGNvbnN0IGRpckZyYWNYID0gMSAvIGRpcmVjdGlvbi54O1xuICAgIGNvbnN0IGRpckZyYWNZID0gMSAvIGRpcmVjdGlvbi55O1xuICAgIGNvbnN0IGRpckZyYWNaID0gMSAvIGRpcmVjdGlvbi56OyAvLyB0aGlzLmxvd2VyQm91bmQgaXMgdGhlIGNvcm5lciBvZiBBQUJCIHdpdGggbWluaW1hbCBjb29yZGluYXRlcyAtIGxlZnQgYm90dG9tLCBydCBpcyBtYXhpbWFsIGNvcm5lclxuXG4gICAgY29uc3QgdDEgPSAodGhpcy5sb3dlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7XG4gICAgY29uc3QgdDIgPSAodGhpcy51cHBlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7XG4gICAgY29uc3QgdDMgPSAodGhpcy5sb3dlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7XG4gICAgY29uc3QgdDQgPSAodGhpcy51cHBlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7XG4gICAgY29uc3QgdDUgPSAodGhpcy5sb3dlckJvdW5kLnogLSBmcm9tLnopICogZGlyRnJhY1o7XG4gICAgY29uc3QgdDYgPSAodGhpcy51cHBlckJvdW5kLnogLSBmcm9tLnopICogZGlyRnJhY1o7IC8vIGNvbnN0IHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSk7XG4gICAgLy8gY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTtcblxuICAgIGNvbnN0IHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSwgTWF0aC5taW4odDUsIHQ2KSk7XG4gICAgY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpLCBNYXRoLm1heCh0NSwgdDYpKTsgLy8gaWYgdG1heCA8IDAsIHJheSAobGluZSkgaXMgaW50ZXJzZWN0aW5nIEFBQkIsIGJ1dCB3aG9sZSBBQUJCIGlzIGJlaGluZyB1c1xuXG4gICAgaWYgKHRtYXggPCAwKSB7XG4gICAgICAvL3QgPSB0bWF4O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gaWYgdG1pbiA+IHRtYXgsIHJheSBkb2Vzbid0IGludGVyc2VjdCBBQUJCXG5cblxuICAgIGlmICh0bWluID4gdG1heCkge1xuICAgICAgLy90ID0gdG1heDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG59XG5jb25zdCB0bXAgPSBuZXcgVmVjMygpO1xuY29uc3QgdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07XG5cbi8qKlxyXG4gKiBDb2xsaXNpb24gXCJtYXRyaXhcIi4gSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcFxyXG4gKiBAY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXhcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xuY2xhc3MgQXJyYXlDb2xsaXNpb25NYXRyaXgge1xuICAvLyBUaGUgbWF0cml4IHN0b3JhZ2UuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWF0cml4ID0gW107XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFuIGVsZW1lbnRcclxuICAgKiBAbWV0aG9kIGdldFxyXG4gICAqIEBwYXJhbSAge0JvZHl9IGlcclxuICAgKiBAcGFyYW0gIHtCb2R5fSBqXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZ2V0KGJpLCBiaikge1xuICAgIGxldCB7XG4gICAgICBpbmRleDogaVxuICAgIH0gPSBiaTtcbiAgICBsZXQge1xuICAgICAgaW5kZXg6IGpcbiAgICB9ID0gYmo7XG5cbiAgICBpZiAoaiA+IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCBhbiBlbGVtZW50XHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0ge0JvZHl9IGlcclxuICAgKiBAcGFyYW0ge0JvZHl9IGpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXHJcbiAgICovXG5cblxuICBzZXQoYmksIGJqLCB2YWx1ZSkge1xuICAgIGxldCB7XG4gICAgICBpbmRleDogaVxuICAgIH0gPSBiaTtcbiAgICBsZXQge1xuICAgICAgaW5kZXg6IGpcbiAgICB9ID0gYmo7XG5cbiAgICBpZiAoaiA+IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV0gPSB2YWx1ZSA/IDEgOiAwO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgYWxsIGVsZW1lbnRzIHRvIHplcm9cclxuICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICovXG5cblxuICByZXNldCgpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubWF0cml4Lmxlbmd0aDsgaSAhPT0gbDsgaSsrKSB7XG4gICAgICB0aGlzLm1hdHJpeFtpXSA9IDA7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIG1heCBudW1iZXIgb2Ygb2JqZWN0c1xyXG4gICAqIEBtZXRob2Qgc2V0TnVtT2JqZWN0c1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuXHJcbiAgICovXG5cblxuICBzZXROdW1PYmplY3RzKG4pIHtcbiAgICB0aGlzLm1hdHJpeC5sZW5ndGggPSBuICogKG4gLSAxKSA+PiAxO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIG9iamVjdHMgdGhhdCBkaXNwYXRjaGVzIGV2ZW50cy5cclxuICogQGNsYXNzIEV2ZW50VGFyZ2V0XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIEV2ZW50VGFyZ2V0IHtcbiAgY29uc3RydWN0b3IoKSB7fVxuICAvKipcclxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXJcclxuICAgKiBAbWV0aG9kIGFkZEV2ZW50TGlzdGVuZXJcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcclxuICAgKiBAcmV0dXJuIHtFdmVudFRhcmdldH0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxyXG4gICAqL1xuXG5cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG4gICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsaXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoIWxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiBhbiBldmVudCBsaXN0ZW5lciBpcyBhZGRlZFxyXG4gICAqIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lclxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXG5cblxuICBoYXNFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG4gICAgaWYgKGxpc3RlbmVyc1t0eXBlXSAhPT0gdW5kZWZpbmVkICYmIGxpc3RlbmVyc1t0eXBlXS5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBDaGVjayBpZiBhbnkgZXZlbnQgbGlzdGVuZXIgb2YgdGhlIGdpdmVuIHR5cGUgaXMgYWRkZWRcclxuICAgKiBAbWV0aG9kIGhhc0FueUV2ZW50TGlzdGVuZXJcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xuXG5cbiAgaGFzQW55RXZlbnRMaXN0ZW5lcih0eXBlKSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgIHJldHVybiBsaXN0ZW5lcnNbdHlwZV0gIT09IHVuZGVmaW5lZDtcbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXJcclxuICAgKiBAbWV0aG9kIHJlbW92ZUV2ZW50TGlzdGVuZXJcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcclxuICAgKiBAcmV0dXJuIHtFdmVudFRhcmdldH0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxyXG4gICAqL1xuXG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXG4gICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIEVtaXQgYW4gZXZlbnQuXHJcbiAgICogQG1ldGhvZCBkaXNwYXRjaEV2ZW50XHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldmVudFxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZXZlbnQudHlwZVxyXG4gICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXHJcbiAgICovXG5cblxuICBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgY29uc3QgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyc1tldmVudC50eXBlXTtcblxuICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGV2ZW50LnRhcmdldCA9IHRoaXM7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgbGlzdGVuZXJBcnJheVtpXS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBBIFF1YXRlcm5pb24gZGVzY3JpYmVzIGEgcm90YXRpb24gaW4gM0Qgc3BhY2UuIFRoZSBRdWF0ZXJuaW9uIGlzIG1hdGhlbWF0aWNhbGx5IGRlZmluZWQgYXMgUSA9IHgqaSArIHkqaiArIHoqayArIHcsIHdoZXJlIChpLGosaykgYXJlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3JzLiAoeCx5LHopIGNhbiBiZSBzZWVuIGFzIGEgdmVjdG9yIHJlbGF0ZWQgdG8gdGhlIGF4aXMgb2Ygcm90YXRpb24sIHdoaWxlIHRoZSByZWFsIG11bHRpcGxpZXIsIHcsIGlzIHJlbGF0ZWQgdG8gdGhlIGFtb3VudCBvZiByb3RhdGlvbi5cclxuICogQHBhcmFtIHtOdW1iZXJ9IHggTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBpLlxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGouXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3Igay5cclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgTXVsdGlwbGllciBvZiB0aGUgcmVhbCBwYXJ0LlxyXG4gKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUXVhdGVybmlvblxyXG4gKi9cblxuY2xhc3MgUXVhdGVybmlvbiB7XG4gIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgeiA9IDAsIHcgPSAxKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHo7XG4gICAgdGhpcy53ID0gdztcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLlxyXG4gICAqL1xuXG5cbiAgc2V0KHgsIHksIHosIHcpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy56ID0gejtcbiAgICB0aGlzLncgPSB3O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdG8gYSByZWFkYWJsZSBmb3JtYXRcclxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFwieCx5LHosd1wiXHJcbiAgICovXG5cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy54ICsgXCIsXCIgKyB0aGlzLnkgKyBcIixcIiArIHRoaXMueiArIFwiLFwiICsgdGhpcy53O1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgdG8gYW4gQXJyYXlcclxuICAgKiBAcmV0dXJuIHtBcnJheX0gW3gsIHksIHosIHddXHJcbiAgICovXG5cblxuICB0b0FycmF5KCkge1xuICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53XTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHF1YXRlcm5pb24gY29tcG9uZW50cyBnaXZlbiBhbiBheGlzIGFuZCBhbiBhbmdsZSBpbiByYWRpYW5zLlxyXG4gICAqL1xuXG5cbiAgc2V0RnJvbUF4aXNBbmdsZSh2ZWN0b3IsIGFuZ2xlKSB7XG4gICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlICogMC41KTtcbiAgICB0aGlzLnggPSB2ZWN0b3IueCAqIHM7XG4gICAgdGhpcy55ID0gdmVjdG9yLnkgKiBzO1xuICAgIHRoaXMueiA9IHZlY3Rvci56ICogcztcbiAgICB0aGlzLncgPSBNYXRoLmNvcyhhbmdsZSAqIDAuNSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydHMgdGhlIHF1YXRlcm5pb24gdG8gWyBheGlzLCBhbmdsZSBdIHJlcHJlc2VudGF0aW9uLlxyXG4gICAqIEBwYXJhbSB7VmVjM30gW3RhcmdldEF4aXNdIEEgdmVjdG9yIG9iamVjdCB0byByZXVzZSBmb3Igc3RvcmluZyB0aGUgYXhpcy5cclxuICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXksIGZpcnN0IGVsZW1lbnQgaXMgdGhlIGF4aXMgYW5kIHRoZSBzZWNvbmQgaXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMuXHJcbiAgICovXG5cblxuICB0b0F4aXNBbmdsZSh0YXJnZXRBeGlzID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMubm9ybWFsaXplKCk7IC8vIGlmIHc+MSBhY29zIGFuZCBzcXJ0IHdpbGwgcHJvZHVjZSBlcnJvcnMsIHRoaXMgY2FudCBoYXBwZW4gaWYgcXVhdGVybmlvbiBpcyBub3JtYWxpc2VkXG5cbiAgICBjb25zdCBhbmdsZSA9IDIgKiBNYXRoLmFjb3ModGhpcy53KTtcbiAgICBjb25zdCBzID0gTWF0aC5zcXJ0KDEgLSB0aGlzLncgKiB0aGlzLncpOyAvLyBhc3N1bWluZyBxdWF0ZXJuaW9uIG5vcm1hbGlzZWQgdGhlbiB3IGlzIGxlc3MgdGhhbiAxLCBzbyB0ZXJtIGFsd2F5cyBwb3NpdGl2ZS5cblxuICAgIGlmIChzIDwgMC4wMDEpIHtcbiAgICAgIC8vIHRlc3QgdG8gYXZvaWQgZGl2aWRlIGJ5IHplcm8sIHMgaXMgYWx3YXlzIHBvc2l0aXZlIGR1ZSB0byBzcXJ0XG4gICAgICAvLyBpZiBzIGNsb3NlIHRvIHplcm8gdGhlbiBkaXJlY3Rpb24gb2YgYXhpcyBub3QgaW1wb3J0YW50XG4gICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLng7IC8vIGlmIGl0IGlzIGltcG9ydGFudCB0aGF0IGF4aXMgaXMgbm9ybWFsaXNlZCB0aGVuIHJlcGxhY2Ugd2l0aCB4PTE7IHk9ej0wO1xuXG4gICAgICB0YXJnZXRBeGlzLnkgPSB0aGlzLnk7XG4gICAgICB0YXJnZXRBeGlzLnogPSB0aGlzLno7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueCAvIHM7IC8vIG5vcm1hbGlzZSBheGlzXG5cbiAgICAgIHRhcmdldEF4aXMueSA9IHRoaXMueSAvIHM7XG4gICAgICB0YXJnZXRBeGlzLnogPSB0aGlzLnogLyBzO1xuICAgIH1cblxuICAgIHJldHVybiBbdGFyZ2V0QXhpcywgYW5nbGVdO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgcXVhdGVybmlvbiB2YWx1ZSBnaXZlbiB0d28gdmVjdG9ycy4gVGhlIHJlc3VsdGluZyByb3RhdGlvbiB3aWxsIGJlIHRoZSBuZWVkZWQgcm90YXRpb24gdG8gcm90YXRlIHUgdG8gdi5cclxuICAgKi9cblxuXG4gIHNldEZyb21WZWN0b3JzKHUsIHYpIHtcbiAgICBpZiAodS5pc0FudGlwYXJhbGxlbFRvKHYpKSB7XG4gICAgICBjb25zdCB0MSA9IHNmdl90MTtcbiAgICAgIGNvbnN0IHQyID0gc2Z2X3QyO1xuICAgICAgdS50YW5nZW50cyh0MSwgdDIpO1xuICAgICAgdGhpcy5zZXRGcm9tQXhpc0FuZ2xlKHQxLCBNYXRoLlBJKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYSA9IHUuY3Jvc3Modik7XG4gICAgICB0aGlzLnggPSBhLng7XG4gICAgICB0aGlzLnkgPSBhLnk7XG4gICAgICB0aGlzLnogPSBhLno7XG4gICAgICB0aGlzLncgPSBNYXRoLnNxcnQodS5sZW5ndGgoKSAqKiAyICogdi5sZW5ndGgoKSAqKiAyKSArIHUuZG90KHYpO1xuICAgICAgdGhpcy5ub3JtYWxpemUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiB3aXRoIGFuIG90aGVyIHF1YXRlcm5pb24uXHJcbiAgICovXG5cblxuICBtdWx0KHF1YXQsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHtcbiAgICBjb25zdCBheCA9IHRoaXMueDtcbiAgICBjb25zdCBheSA9IHRoaXMueTtcbiAgICBjb25zdCBheiA9IHRoaXMuejtcbiAgICBjb25zdCBhdyA9IHRoaXMudztcbiAgICBjb25zdCBieCA9IHF1YXQueDtcbiAgICBjb25zdCBieSA9IHF1YXQueTtcbiAgICBjb25zdCBieiA9IHF1YXQuejtcbiAgICBjb25zdCBidyA9IHF1YXQudztcbiAgICB0YXJnZXQueCA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XG4gICAgdGFyZ2V0LnkgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6O1xuICAgIHRhcmdldC56ID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDtcbiAgICB0YXJnZXQudyA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGludmVyc2UgcXVhdGVybmlvbiByb3RhdGlvbi5cclxuICAgKi9cblxuXG4gIGludmVyc2UodGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkge1xuICAgIGNvbnN0IHggPSB0aGlzLng7XG4gICAgY29uc3QgeSA9IHRoaXMueTtcbiAgICBjb25zdCB6ID0gdGhpcy56O1xuICAgIGNvbnN0IHcgPSB0aGlzLnc7XG4gICAgdGhpcy5jb25qdWdhdGUodGFyZ2V0KTtcbiAgICBjb25zdCBpbm9ybTIgPSAxIC8gKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTtcbiAgICB0YXJnZXQueCAqPSBpbm9ybTI7XG4gICAgdGFyZ2V0LnkgKj0gaW5vcm0yO1xuICAgIHRhcmdldC56ICo9IGlub3JtMjtcbiAgICB0YXJnZXQudyAqPSBpbm9ybTI7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHF1YXRlcm5pb24gY29uanVnYXRlXHJcbiAgICovXG5cblxuICBjb25qdWdhdGUodGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkge1xuICAgIHRhcmdldC54ID0gLXRoaXMueDtcbiAgICB0YXJnZXQueSA9IC10aGlzLnk7XG4gICAgdGFyZ2V0LnogPSAtdGhpcy56O1xuICAgIHRhcmdldC53ID0gdGhpcy53O1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogTm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uLiBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIHF1YXRlcm5pb24uXHJcbiAgICogQG1ldGhvZCBub3JtYWxpemVcclxuICAgKi9cblxuXG4gIG5vcm1hbGl6ZSgpIHtcbiAgICBsZXQgbCA9IE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpO1xuXG4gICAgaWYgKGwgPT09IDApIHtcbiAgICAgIHRoaXMueCA9IDA7XG4gICAgICB0aGlzLnkgPSAwO1xuICAgICAgdGhpcy56ID0gMDtcbiAgICAgIHRoaXMudyA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSAxIC8gbDtcbiAgICAgIHRoaXMueCAqPSBsO1xuICAgICAgdGhpcy55ICo9IGw7XG4gICAgICB0aGlzLnogKj0gbDtcbiAgICAgIHRoaXMudyAqPSBsO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIEFwcHJveGltYXRpb24gb2YgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBXb3JrcyBiZXN0IHdoZW4gcXVhdCBpcyBhbHJlYWR5IGFsbW9zdC1ub3JtYWxpemVkLlxyXG4gICAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vZmFzdC1xdWF0ZXJuaW9uLW5vcm1hbGl6YXRpb25cclxuICAgKiBAYXV0aG9yIHVucGhhc2VkLCBodHRwczovL2dpdGh1Yi5jb20vdW5waGFzZWRcclxuICAgKi9cblxuXG4gIG5vcm1hbGl6ZUZhc3QoKSB7XG4gICAgY29uc3QgZiA9ICgzLjAgLSAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KSkgLyAyLjA7XG5cbiAgICBpZiAoZiA9PT0gMCkge1xuICAgICAgdGhpcy54ID0gMDtcbiAgICAgIHRoaXMueSA9IDA7XG4gICAgICB0aGlzLnogPSAwO1xuICAgICAgdGhpcy53ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy54ICo9IGY7XG4gICAgICB0aGlzLnkgKj0gZjtcbiAgICAgIHRoaXMueiAqPSBmO1xuICAgICAgdGhpcy53ICo9IGY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgdGhlIHF1YXRlcm5pb24gYnkgYSB2ZWN0b3JcclxuICAgKi9cblxuXG4gIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBjb25zdCB4ID0gdi54O1xuICAgIGNvbnN0IHkgPSB2Lnk7XG4gICAgY29uc3QgeiA9IHYuejtcbiAgICBjb25zdCBxeCA9IHRoaXMueDtcbiAgICBjb25zdCBxeSA9IHRoaXMueTtcbiAgICBjb25zdCBxeiA9IHRoaXMuejtcbiAgICBjb25zdCBxdyA9IHRoaXMudzsgLy8gcSp2XG5cbiAgICBjb25zdCBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcbiAgICBjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcbiAgICBjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcbiAgICBjb25zdCBpdyA9IC1xeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7XG4gICAgdGFyZ2V0LnggPSBpeCAqIHF3ICsgaXcgKiAtcXggKyBpeSAqIC1xeiAtIGl6ICogLXF5O1xuICAgIHRhcmdldC55ID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejtcbiAgICB0YXJnZXQueiA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBDb3BpZXMgdmFsdWUgb2Ygc291cmNlIHRvIHRoaXMgcXVhdGVybmlvbi5cclxuICAgKiBAbWV0aG9kIGNvcHlcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHNvdXJjZVxyXG4gICAqIEByZXR1cm4ge1F1YXRlcm5pb259IHRoaXNcclxuICAgKi9cblxuXG4gIGNvcHkocXVhdCkge1xuICAgIHRoaXMueCA9IHF1YXQueDtcbiAgICB0aGlzLnkgPSBxdWF0Lnk7XG4gICAgdGhpcy56ID0gcXVhdC56O1xuICAgIHRoaXMudyA9IHF1YXQudztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBDb252ZXJ0IHRoZSBxdWF0ZXJuaW9uIHRvIGV1bGVyIGFuZ2xlIHJlcHJlc2VudGF0aW9uLiBPcmRlcjogWVpYLCBhcyB0aGlzIHBhZ2UgZGVzY3JpYmVzOiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9zdGFuZGFyZHMvaW5kZXguaHRtXHJcbiAgICogQG1ldGhvZCB0b0V1bGVyXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3JkZXIgVGhyZWUtY2hhcmFjdGVyIHN0cmluZywgZGVmYXVsdHMgdG8gXCJZWlhcIlxyXG4gICAqL1xuXG5cbiAgdG9FdWxlcih0YXJnZXQsIG9yZGVyID0gJ1laWCcpIHtcbiAgICBsZXQgaGVhZGluZztcbiAgICBsZXQgYXR0aXR1ZGU7XG4gICAgbGV0IGJhbms7XG4gICAgY29uc3QgeCA9IHRoaXMueDtcbiAgICBjb25zdCB5ID0gdGhpcy55O1xuICAgIGNvbnN0IHogPSB0aGlzLno7XG4gICAgY29uc3QgdyA9IHRoaXMudztcblxuICAgIHN3aXRjaCAob3JkZXIpIHtcbiAgICAgIGNhc2UgJ1laWCc6XG4gICAgICAgIGNvbnN0IHRlc3QgPSB4ICogeSArIHogKiB3O1xuXG4gICAgICAgIGlmICh0ZXN0ID4gMC40OTkpIHtcbiAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBub3J0aCBwb2xlXG4gICAgICAgICAgaGVhZGluZyA9IDIgKiBNYXRoLmF0YW4yKHgsIHcpO1xuICAgICAgICAgIGF0dGl0dWRlID0gTWF0aC5QSSAvIDI7XG4gICAgICAgICAgYmFuayA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGVzdCA8IC0wLjQ5OSkge1xuICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IHNvdXRoIHBvbGVcbiAgICAgICAgICBoZWFkaW5nID0gLTIgKiBNYXRoLmF0YW4yKHgsIHcpO1xuICAgICAgICAgIGF0dGl0dWRlID0gLU1hdGguUEkgLyAyO1xuICAgICAgICAgIGJhbmsgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhlYWRpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IHNxeCA9IHggKiB4O1xuICAgICAgICAgIGNvbnN0IHNxeSA9IHkgKiB5O1xuICAgICAgICAgIGNvbnN0IHNxeiA9IHogKiB6O1xuICAgICAgICAgIGhlYWRpbmcgPSBNYXRoLmF0YW4yKDIgKiB5ICogdyAtIDIgKiB4ICogeiwgMSAtIDIgKiBzcXkgLSAyICogc3F6KTsgLy8gSGVhZGluZ1xuXG4gICAgICAgICAgYXR0aXR1ZGUgPSBNYXRoLmFzaW4oMiAqIHRlc3QpOyAvLyBhdHRpdHVkZVxuXG4gICAgICAgICAgYmFuayA9IE1hdGguYXRhbjIoMiAqIHggKiB3IC0gMiAqIHkgKiB6LCAxIC0gMiAqIHNxeCAtIDIgKiBzcXopOyAvLyBiYW5rXG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXVsZXIgb3JkZXIgXCIgKyBvcmRlciArIFwiIG5vdCBzdXBwb3J0ZWQgeWV0LlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQueSA9IGhlYWRpbmc7XG4gICAgdGFyZ2V0LnogPSBhdHRpdHVkZTtcbiAgICB0YXJnZXQueCA9IGJhbms7XG4gIH1cbiAgLyoqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHhcclxuICAgKiBAcGFyYW0ge051bWJlcn0geVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB6XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9yZGVyIFRoZSBvcmRlciB0byBhcHBseSBhbmdsZXM6ICdYWVonIG9yICdZWFonIG9yIGFueSBvdGhlciBjb21iaW5hdGlvblxyXG4gICAqIEBzZWUgaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLzIwNjk2LWZ1bmN0aW9uLXRvLWNvbnZlcnQtYmV0d2Vlbi1kY20tZXVsZXItYW5nbGVzLXF1YXRlcm5pb25zLWFuZC1ldWxlci12ZWN0b3JzL2NvbnRlbnQvU3BpbkNhbGMubVxyXG4gICAqL1xuXG5cbiAgc2V0RnJvbUV1bGVyKHgsIHksIHosIG9yZGVyID0gJ1hZWicpIHtcbiAgICBjb25zdCBjMSA9IE1hdGguY29zKHggLyAyKTtcbiAgICBjb25zdCBjMiA9IE1hdGguY29zKHkgLyAyKTtcbiAgICBjb25zdCBjMyA9IE1hdGguY29zKHogLyAyKTtcbiAgICBjb25zdCBzMSA9IE1hdGguc2luKHggLyAyKTtcbiAgICBjb25zdCBzMiA9IE1hdGguc2luKHkgLyAyKTtcbiAgICBjb25zdCBzMyA9IE1hdGguc2luKHogLyAyKTtcblxuICAgIGlmIChvcmRlciA9PT0gJ1hZWicpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMztcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVhaJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdaWFknKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7XG4gICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pZWCcpIHtcbiAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMztcbiAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMztcbiAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMztcbiAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMztcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVpYJykge1xuICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzO1xuICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzO1xuICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzO1xuICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzO1xuICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdYWlknKSB7XG4gICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7XG4gICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XG4gICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7XG4gICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjbG9uZVxyXG4gICAqIEByZXR1cm4ge1F1YXRlcm5pb259XHJcbiAgICovXG5cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTtcbiAgfVxuICAvKipcclxuICAgKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0XHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHRvUXVhdCBzZWNvbmQgb3BlcmFuZFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50IGJldHdlZW4gdGhlIHNlbGYgcXVhdGVybmlvbiBhbmQgdG9RdWF0XHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbdGFyZ2V0XSBBIHF1YXRlcm5pb24gdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkLlxyXG4gICAqIEByZXR1cm5zIHtRdWF0ZXJuaW9ufSBUaGUgXCJ0YXJnZXRcIiBvYmplY3RcclxuICAgKi9cblxuXG4gIHNsZXJwKHRvUXVhdCwgdCwgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkge1xuICAgIGNvbnN0IGF4ID0gdGhpcy54O1xuICAgIGNvbnN0IGF5ID0gdGhpcy55O1xuICAgIGNvbnN0IGF6ID0gdGhpcy56O1xuICAgIGNvbnN0IGF3ID0gdGhpcy53O1xuICAgIGxldCBieCA9IHRvUXVhdC54O1xuICAgIGxldCBieSA9IHRvUXVhdC55O1xuICAgIGxldCBieiA9IHRvUXVhdC56O1xuICAgIGxldCBidyA9IHRvUXVhdC53O1xuICAgIGxldCBvbWVnYTtcbiAgICBsZXQgY29zb207XG4gICAgbGV0IHNpbm9tO1xuICAgIGxldCBzY2FsZTA7XG4gICAgbGV0IHNjYWxlMTsgLy8gY2FsYyBjb3NpbmVcblxuICAgIGNvc29tID0gYXggKiBieCArIGF5ICogYnkgKyBheiAqIGJ6ICsgYXcgKiBidzsgLy8gYWRqdXN0IHNpZ25zIChpZiBuZWNlc3NhcnkpXG5cbiAgICBpZiAoY29zb20gPCAwLjApIHtcbiAgICAgIGNvc29tID0gLWNvc29tO1xuICAgICAgYnggPSAtYng7XG4gICAgICBieSA9IC1ieTtcbiAgICAgIGJ6ID0gLWJ6O1xuICAgICAgYncgPSAtYnc7XG4gICAgfSAvLyBjYWxjdWxhdGUgY29lZmZpY2llbnRzXG5cblxuICAgIGlmICgxLjAgLSBjb3NvbSA+IDAuMDAwMDAxKSB7XG4gICAgICAvLyBzdGFuZGFyZCBjYXNlIChzbGVycClcbiAgICAgIG9tZWdhID0gTWF0aC5hY29zKGNvc29tKTtcbiAgICAgIHNpbm9tID0gTWF0aC5zaW4ob21lZ2EpO1xuICAgICAgc2NhbGUwID0gTWF0aC5zaW4oKDEuMCAtIHQpICogb21lZ2EpIC8gc2lub207XG4gICAgICBzY2FsZTEgPSBNYXRoLnNpbih0ICogb21lZ2EpIC8gc2lub207XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFwiZnJvbVwiIGFuZCBcInRvXCIgcXVhdGVybmlvbnMgYXJlIHZlcnkgY2xvc2VcbiAgICAgIC8vICAuLi4gc28gd2UgY2FuIGRvIGEgbGluZWFyIGludGVycG9sYXRpb25cbiAgICAgIHNjYWxlMCA9IDEuMCAtIHQ7XG4gICAgICBzY2FsZTEgPSB0O1xuICAgIH0gLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlc1xuXG5cbiAgICB0YXJnZXQueCA9IHNjYWxlMCAqIGF4ICsgc2NhbGUxICogYng7XG4gICAgdGFyZ2V0LnkgPSBzY2FsZTAgKiBheSArIHNjYWxlMSAqIGJ5O1xuICAgIHRhcmdldC56ID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejtcbiAgICB0YXJnZXQudyA9IHNjYWxlMCAqIGF3ICsgc2NhbGUxICogYnc7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICAvKipcclxuICAgKiBSb3RhdGUgYW4gYWJzb2x1dGUgb3JpZW50YXRpb24gcXVhdGVybmlvbiBnaXZlbiBhbiBhbmd1bGFyIHZlbG9jaXR5IGFuZCBhIHRpbWUgc3RlcC5cclxuICAgKi9cblxuXG4gIGludGVncmF0ZShhbmd1bGFyVmVsb2NpdHksIGR0LCBhbmd1bGFyRmFjdG9yLCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7XG4gICAgY29uc3QgYXggPSBhbmd1bGFyVmVsb2NpdHkueCAqIGFuZ3VsYXJGYWN0b3IueCxcbiAgICAgICAgICBheSA9IGFuZ3VsYXJWZWxvY2l0eS55ICogYW5ndWxhckZhY3Rvci55LFxuICAgICAgICAgIGF6ID0gYW5ndWxhclZlbG9jaXR5LnogKiBhbmd1bGFyRmFjdG9yLnosXG4gICAgICAgICAgYnggPSB0aGlzLngsXG4gICAgICAgICAgYnkgPSB0aGlzLnksXG4gICAgICAgICAgYnogPSB0aGlzLnosXG4gICAgICAgICAgYncgPSB0aGlzLnc7XG4gICAgY29uc3QgaGFsZl9kdCA9IGR0ICogMC41O1xuICAgIHRhcmdldC54ICs9IGhhbGZfZHQgKiAoYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5KTtcbiAgICB0YXJnZXQueSArPSBoYWxmX2R0ICogKGF5ICogYncgKyBheiAqIGJ4IC0gYXggKiBieik7XG4gICAgdGFyZ2V0LnogKz0gaGFsZl9kdCAqIChheiAqIGJ3ICsgYXggKiBieSAtIGF5ICogYngpO1xuICAgIHRhcmdldC53ICs9IGhhbGZfZHQgKiAoLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBieik7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG59XG5jb25zdCBzZnZfdDEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc2Z2X3QyID0gbmV3IFZlYzMoKTtcblxuY29uc3QgU0hBUEVfVFlQRVMgPSB7XG4gIFNQSEVSRTogMSxcbiAgUExBTkU6IDIsXG4gIEJPWDogNCxcbiAgQ09NUE9VTkQ6IDgsXG4gIENPTlZFWFBPTFlIRURST046IDE2LFxuICBIRUlHSFRGSUVMRDogMzIsXG4gIFBBUlRJQ0xFOiA2NCxcbiAgQ1lMSU5ERVI6IDEyOCxcbiAgVFJJTUVTSDogMjU2XG59O1xuXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3Igc2hhcGVzXHJcbiAqIEBjbGFzcyBTaGFwZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9MV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZT10cnVlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF0ZXJpYWw9bnVsbF1cclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKi9cbmNsYXNzIFNoYXBlIHtcbiAgLy8gSWRlbnRpZnllciBvZiB0aGUgU2hhcGUuXG4gIC8vIFRoZSB0eXBlIG9mIHRoaXMgc2hhcGUuIE11c3QgYmUgc2V0IHRvIGFuIGludCA+IDAgYnkgc3ViY2xhc3Nlcy5cbiAgLy8gVGhlIGxvY2FsIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMgb2YgdGhpcyBzaGFwZS5cbiAgLy8gV2hldGhlciB0byBwcm9kdWNlIGNvbnRhY3QgZm9yY2VzIHdoZW4gaW4gY29udGFjdCB3aXRoIG90aGVyIGJvZGllcy4gTm90ZSB0aGF0IGNvbnRhY3RzIHdpbGwgYmUgZ2VuZXJhdGVkLCBidXQgdGhleSB3aWxsIGJlIGRpc2FibGVkLlxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmlkID0gU2hhcGUuaWRDb3VudGVyKys7XG4gICAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlIHx8IDA7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IDA7XG4gICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IDE7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTtcbiAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCA/IG9wdGlvbnMubWF0ZXJpYWwgOiBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgdGhlIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMuIFRoZSByZXN1bHQgaXMgc3RvcmVkIGluIHRoZSBwcm9wZXJ0eSAuYm91bmRpbmdTcGhlcmVSYWRpdXNcclxuICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzXHJcbiAgICovXG5cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aHJvdyBcImNvbXB1dGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSBcIiArIHRoaXMudHlwZTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNoYXBlXHJcbiAgICogQG1ldGhvZCB2b2x1bWVcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcbiAgICovXG5cblxuICB2b2x1bWUoKSB7XG4gICAgdGhyb3cgXCJ2b2x1bWUoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgXCIgKyB0aGlzLnR5cGU7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlcyB0aGUgaW5lcnRpYSBpbiB0aGUgbG9jYWwgZnJhbWUgZm9yIHRoaXMgc2hhcGUuXHJcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWFzc1xyXG4gICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0XHJcbiAgICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfbW9tZW50c19vZl9pbmVydGlhXHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7XG4gICAgdGhyb3cgXCJjYWxjdWxhdGVMb2NhbEluZXJ0aWEoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgXCIgKyB0aGlzLnR5cGU7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIHRocm93IFwiY2FsY3VsYXRlV29ybGRBQUJCKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlIFwiICsgdGhpcy50eXBlO1xuICB9XG5cbn1cblNoYXBlLmlkQ291bnRlciA9IDA7XG4vKipcclxuICogVGhlIGF2YWlsYWJsZSBzaGFwZSB0eXBlcy5cclxuICogQHN0YXRpY1xyXG4gKiBAcHJvcGVydHkgdHlwZXNcclxuICogQHR5cGUge09iamVjdH1cclxuICovXG5cblNoYXBlLnR5cGVzID0gU0hBUEVfVFlQRVM7XG5cbmNsYXNzIFRyYW5zZm9ybSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbiAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHtcbiAgICAgIHRoaXMucXVhdGVybmlvbi5jb3B5KG9wdGlvbnMucXVhdGVybmlvbik7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCBhIGdsb2JhbCBwb2ludCBpbiBsb2NhbCB0cmFuc2Zvcm0gY29vcmRpbmF0ZXMuXHJcbiAgICovXG5cblxuICBwb2ludFRvTG9jYWwod29ybGRQb2ludCwgcmVzdWx0KSB7XG4gICAgcmV0dXJuIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0aGlzLnBvc2l0aW9uLCB0aGlzLnF1YXRlcm5pb24sIHdvcmxkUG9pbnQsIHJlc3VsdCk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGEgbG9jYWwgcG9pbnQgaW4gZ2xvYmFsIHRyYW5zZm9ybSBjb29yZGluYXRlcy5cclxuICAgKi9cblxuXG4gIHBvaW50VG9Xb3JsZChsb2NhbFBvaW50LCByZXN1bHQpIHtcbiAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0KTtcbiAgfVxuXG4gIHZlY3RvclRvV29ybGRGcmFtZShsb2NhbFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIHBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCB3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgd29ybGRQb2ludC52c3ViKHBvc2l0aW9uLCByZXN1bHQpO1xuICAgIHF1YXRlcm5pb24uY29uanVnYXRlKHRtcFF1YXQpO1xuICAgIHRtcFF1YXQudm11bHQocmVzdWx0LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgcG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICBxdWF0ZXJuaW9uLnZtdWx0KGxvY2FsUG9pbnQsIHJlc3VsdCk7XG4gICAgcmVzdWx0LnZhZGQocG9zaXRpb24sIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyB2ZWN0b3JUb1dvcmxkRnJhbWUocXVhdGVybmlvbiwgbG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICBxdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgdmVjdG9yVG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCB3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkge1xuICAgIHF1YXRlcm5pb24udyAqPSAtMTtcbiAgICBxdWF0ZXJuaW9uLnZtdWx0KHdvcmxkVmVjdG9yLCByZXN1bHQpO1xuICAgIHF1YXRlcm5pb24udyAqPSAtMTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbn1cbmNvbnN0IHRtcFF1YXQgPSBuZXcgUXVhdGVybmlvbigpO1xuXG4vKipcclxuICogQSBzZXQgb2YgcG9seWdvbnMgZGVzY3JpYmluZyBhIGNvbnZleCBzaGFwZS5cclxuICogQGNsYXNzIENvbnZleFBvbHloZWRyb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBkZXNjcmlwdGlvbiBUaGUgc2hhcGUgTVVTVCBiZSBjb252ZXggZm9yIHRoZSBjb2RlIHRvIHdvcmsgcHJvcGVybHkuIE5vIHBvbHlnb25zIG1heSBiZSBjb3BsYW5hciAoY29udGFpbmVkXHJcbiAqIGluIHRoZSBzYW1lIDNEIHBsYW5lKSwgaW5zdGVhZCB0aGVzZSBzaG91bGQgYmUgbWVyZ2VkIGludG8gb25lIHBvbHlnb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7YXJyYXl9IHBvaW50cyBBbiBhcnJheSBvZiBWZWMzJ3NcclxuICogQHBhcmFtIHthcnJheX0gZmFjZXMgQXJyYXkgb2YgaW50ZWdlciBhcnJheXMsIGRlc2NyaWJpbmcgd2hpY2ggdmVydGljZXMgdGhhdCBpcyBpbmNsdWRlZCBpbiBlYWNoIGZhY2UuXHJcbiAqXHJcbiAqIEBhdXRob3IgcWlhbyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvIChvcmlnaW5hbCBhdXRob3IsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcWlhby90aHJlZS5qcy9jb21taXQvODUwMjZmMGM3NjllNDAwMDE0OGE2N2Q0NWE5ZTliOWM1MTA4ODM2ZilcclxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxyXG4gKiBAc2VlIGh0dHA6Ly93d3cuYWx0ZGV2YmxvZ2FkYXkuY29tLzIwMTEvMDUvMTMvY29udGFjdC1nZW5lcmF0aW9uLWJldHdlZW4tM2QtY29udmV4LW1lc2hlcy9cclxuICpcclxuICogQHRvZG8gTW92ZSB0aGUgY2xpcHBpbmcgZnVuY3Rpb25zIHRvIENvbnRhY3RHZW5lcmF0b3I/XHJcbiAqIEB0b2RvIEF1dG9tYXRpY2FsbHkgbWVyZ2UgY29wbGFuYXIgcG9seWdvbnMgaW4gY29uc3RydWN0b3IuXHJcbiAqL1xuY2xhc3MgQ29udmV4UG9seWhlZHJvbiBleHRlbmRzIFNoYXBlIHtcbiAgLy8gQXJyYXkgb2YgaW50ZWdlciBhcnJheXMsIGluZGljYXRpbmcgd2hpY2ggdmVydGljZXMgZWFjaCBmYWNlIGNvbnNpc3RzIG9mXG4gIC8vIElmIGdpdmVuLCB0aGVzZSBsb2NhbGx5IGRlZmluZWQsIG5vcm1hbGl6ZWQgYXhlcyBhcmUgdGhlIG9ubHkgb25lcyBiZWluZyBjaGVja2VkIHdoZW4gZG9pbmcgc2VwYXJhdGluZyBheGlzIGNoZWNrLlxuICBjb25zdHJ1Y3Rvcihwcm9wcyA9IHt9KSB7XG4gICAgY29uc3Qge1xuICAgICAgdmVydGljZXMgPSBbXSxcbiAgICAgIGZhY2VzID0gW10sXG4gICAgICBub3JtYWxzID0gW10sXG4gICAgICBheGVzLFxuICAgICAgYm91bmRpbmdTcGhlcmVSYWRpdXNcbiAgICB9ID0gcHJvcHM7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTlxuICAgIH0pO1xuICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICB0aGlzLmZhY2VzID0gZmFjZXM7XG4gICAgdGhpcy5mYWNlTm9ybWFscyA9IG5vcm1hbHM7XG5cbiAgICBpZiAodGhpcy5mYWNlTm9ybWFscy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuY29tcHV0ZU5vcm1hbHMoKTtcbiAgICB9XG5cbiAgICBpZiAoIWJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBib3VuZGluZ1NwaGVyZVJhZGl1cztcbiAgICB9XG5cbiAgICB0aGlzLndvcmxkVmVydGljZXMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAudmVydGljZXNcblxuICAgIHRoaXMud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAuZmFjZU5vcm1hbHNcblxuICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLnVuaXF1ZUF4ZXMgPSBheGVzID8gYXhlcy5zbGljZSgpIDogbnVsbDtcbiAgICB0aGlzLnVuaXF1ZUVkZ2VzID0gW107XG4gICAgdGhpcy5jb21wdXRlRWRnZXMoKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyB1bmlxdWVFZGdlc1xyXG4gICAqIEBtZXRob2QgY29tcHV0ZUVkZ2VzXHJcbiAgICovXG5cblxuICBjb21wdXRlRWRnZXMoKSB7XG4gICAgY29uc3QgZmFjZXMgPSB0aGlzLmZhY2VzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCBlZGdlcyA9IHRoaXMudW5pcXVlRWRnZXM7XG4gICAgZWRnZXMubGVuZ3RoID0gMDtcbiAgICBjb25zdCBlZGdlID0gbmV3IFZlYzMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBmYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ldO1xuICAgICAgY29uc3QgbnVtVmVydGljZXMgPSBmYWNlLmxlbmd0aDtcblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IG51bVZlcnRpY2VzOyBqKyspIHtcbiAgICAgICAgY29uc3QgayA9IChqICsgMSkgJSBudW1WZXJ0aWNlcztcbiAgICAgICAgdmVydGljZXNbZmFjZVtqXV0udnN1Yih2ZXJ0aWNlc1tmYWNlW2tdXSwgZWRnZSk7XG4gICAgICAgIGVkZ2Uubm9ybWFsaXplKCk7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IHAgPSAwOyBwICE9PSBlZGdlcy5sZW5ndGg7IHArKykge1xuICAgICAgICAgIGlmIChlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkgfHwgZWRnZXNbcF0uYWxtb3N0RXF1YWxzKGVkZ2UpKSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgZWRnZXMucHVzaChlZGdlLmNsb25lKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGUgdGhlIG5vcm1hbHMgb2YgdGhlIGZhY2VzLiBXaWxsIHJldXNlIGV4aXN0aW5nIFZlYzMgb2JqZWN0cyBpbiB0aGUgLmZhY2VOb3JtYWxzIGFycmF5IGlmIHRoZXkgZXhpc3QuXHJcbiAgICogQG1ldGhvZCBjb21wdXRlTm9ybWFsc1xyXG4gICAqL1xuXG5cbiAgY29tcHV0ZU5vcm1hbHMoKSB7XG4gICAgdGhpcy5mYWNlTm9ybWFscy5sZW5ndGggPSB0aGlzLmZhY2VzLmxlbmd0aDsgLy8gR2VuZXJhdGUgbm9ybWFsc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBDaGVjayBzbyBhbGwgdmVydGljZXMgZXhpc3RzIGZvciB0aGlzIGZhY2VcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5mYWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoIXRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVtqXV0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZXJ0ZXggXCIgKyB0aGlzLmZhY2VzW2ldW2pdICsgXCIgbm90IGZvdW5kIVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBuID0gdGhpcy5mYWNlTm9ybWFsc1tpXSB8fCBuZXcgVmVjMygpO1xuICAgICAgdGhpcy5nZXRGYWNlTm9ybWFsKGksIG4pO1xuICAgICAgbi5uZWdhdGUobik7XG4gICAgICB0aGlzLmZhY2VOb3JtYWxzW2ldID0gbjtcbiAgICAgIGNvbnN0IHZlcnRleCA9IHRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVswXV07XG5cbiAgICAgIGlmIChuLmRvdCh2ZXJ0ZXgpIDwgMCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiLmZhY2VOb3JtYWxzW1wiICsgaSArIFwiXSA9IFZlYzMoXCIgKyBuLnRvU3RyaW5nKCkgKyBcIikgbG9va3MgbGlrZSBpdCBwb2ludHMgaW50byB0aGUgc2hhcGU/IFRoZSB2ZXJ0aWNlcyBmb2xsb3cuIE1ha2Ugc3VyZSB0aGV5IGFyZSBvcmRlcmVkIENDVyBhcm91bmQgdGhlIG5vcm1hbCwgdXNpbmcgdGhlIHJpZ2h0IGhhbmQgcnVsZS5cIik7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiLnZlcnRpY2VzW1wiICsgdGhpcy5mYWNlc1tpXVtqXSArIFwiXSA9IFZlYzMoXCIgKyB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bal1dLnRvU3RyaW5nKCkgKyBcIilcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0aGUgbm9ybWFsIG9mIGEgZmFjZSBmcm9tIGl0cyB2ZXJ0aWNlc1xyXG4gICAqIEBtZXRob2QgZ2V0RmFjZU5vcm1hbFxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqL1xuXG5cbiAgZ2V0RmFjZU5vcm1hbChpLCB0YXJnZXQpIHtcbiAgICBjb25zdCBmID0gdGhpcy5mYWNlc1tpXTtcbiAgICBjb25zdCB2YSA9IHRoaXMudmVydGljZXNbZlswXV07XG4gICAgY29uc3QgdmIgPSB0aGlzLnZlcnRpY2VzW2ZbMV1dO1xuICAgIGNvbnN0IHZjID0gdGhpcy52ZXJ0aWNlc1tmWzJdXTtcbiAgICBDb252ZXhQb2x5aGVkcm9uLmNvbXB1dGVOb3JtYWwodmEsIHZiLCB2YywgdGFyZ2V0KTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNsaXBBZ2FpbnN0SHVsbFxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEFcclxuICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NCXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QlxyXG4gICAqIEBwYXJhbSB7VmVjM30gc2VwYXJhdGluZ05vcm1hbFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IENsYW1wIGRpc3RhbmNlXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heERpc3RcclxuICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgVGhlIGFuIGFycmF5IG9mIGNvbnRhY3QgcG9pbnQgb2JqZWN0cywgc2VlIGNsaXBGYWNlQWdhaW5zdEh1bGxcclxuICAgKi9cblxuXG4gIGNsaXBBZ2FpbnN0SHVsbChwb3NBLCBxdWF0QSwgaHVsbEIsIHBvc0IsIHF1YXRCLCBzZXBhcmF0aW5nTm9ybWFsLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHtcbiAgICBjb25zdCBXb3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7XG4gICAgbGV0IGNsb3Nlc3RGYWNlQiA9IC0xO1xuICAgIGxldCBkbWF4ID0gLU51bWJlci5NQVhfVkFMVUU7XG5cbiAgICBmb3IgKGxldCBmYWNlID0gMDsgZmFjZSA8IGh1bGxCLmZhY2VzLmxlbmd0aDsgZmFjZSsrKSB7XG4gICAgICBXb3JsZE5vcm1hbC5jb3B5KGh1bGxCLmZhY2VOb3JtYWxzW2ZhY2VdKTtcbiAgICAgIHF1YXRCLnZtdWx0KFdvcmxkTm9ybWFsLCBXb3JsZE5vcm1hbCk7XG4gICAgICBjb25zdCBkID0gV29ybGROb3JtYWwuZG90KHNlcGFyYXRpbmdOb3JtYWwpO1xuXG4gICAgICBpZiAoZCA+IGRtYXgpIHtcbiAgICAgICAgZG1heCA9IGQ7XG4gICAgICAgIGNsb3Nlc3RGYWNlQiA9IGZhY2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgd29ybGRWZXJ0c0IxID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGIgPSBodWxsQi52ZXJ0aWNlc1todWxsQi5mYWNlc1tjbG9zZXN0RmFjZUJdW2ldXTtcbiAgICAgIGNvbnN0IHdvcmxkYiA9IG5ldyBWZWMzKCk7XG4gICAgICB3b3JsZGIuY29weShiKTtcbiAgICAgIHF1YXRCLnZtdWx0KHdvcmxkYiwgd29ybGRiKTtcbiAgICAgIHBvc0IudmFkZCh3b3JsZGIsIHdvcmxkYik7XG4gICAgICB3b3JsZFZlcnRzQjEucHVzaCh3b3JsZGIpO1xuICAgIH1cblxuICAgIGlmIChjbG9zZXN0RmFjZUIgPj0gMCkge1xuICAgICAgdGhpcy5jbGlwRmFjZUFnYWluc3RIdWxsKHNlcGFyYXRpbmdOb3JtYWwsIHBvc0EsIHF1YXRBLCB3b3JsZFZlcnRzQjEsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEZpbmQgdGhlIHNlcGFyYXRpbmcgYXhpcyBiZXR3ZWVuIHRoaXMgaHVsbCBhbmQgYW5vdGhlclxyXG4gICAqIEBtZXRob2QgZmluZFNlcGFyYXRpbmdBeGlzXHJcbiAgICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsQlxyXG4gICAqIEBwYXJhbSB7VmVjM30gcG9zQVxyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEFcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0JcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCXHJcbiAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHRhcmdldCB2ZWN0b3IgdG8gc2F2ZSB0aGUgYXhpcyBpblxyXG4gICAqIEByZXR1cm4ge2Jvb2x9IFJldHVybnMgZmFsc2UgaWYgYSBzZXBhcmF0aW9uIGlzIGZvdW5kLCBlbHNlIHRydWVcclxuICAgKi9cblxuXG4gIGZpbmRTZXBhcmF0aW5nQXhpcyhodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCLCB0YXJnZXQsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7XG4gICAgY29uc3QgZmFjZUFOb3JtYWxXUzMgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IFdvcmxkbm9ybWFsMSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgZGVsdGFDID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCB3b3JsZEVkZ2UwID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCB3b3JsZEVkZ2UxID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBDcm9zcyA9IG5ldyBWZWMzKCk7XG4gICAgbGV0IGRtaW4gPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIGNvbnN0IGh1bGxBID0gdGhpcztcblxuICAgIGlmICghaHVsbEEudW5pcXVlQXhlcykge1xuICAgICAgY29uc3QgbnVtRmFjZXNBID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBLmxlbmd0aCA6IGh1bGxBLmZhY2VzLmxlbmd0aDsgLy8gVGVzdCBmYWNlIG5vcm1hbHMgZnJvbSBodWxsQVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZpID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBW2ldIDogaTsgLy8gR2V0IHdvcmxkIGZhY2Ugbm9ybWFsXG5cbiAgICAgICAgZmFjZUFOb3JtYWxXUzMuY29weShodWxsQS5mYWNlTm9ybWFsc1tmaV0pO1xuICAgICAgICBxdWF0QS52bXVsdChmYWNlQU5vcm1hbFdTMywgZmFjZUFOb3JtYWxXUzMpO1xuICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpO1xuXG4gICAgICAgIGlmIChkID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkIDwgZG1pbikge1xuICAgICAgICAgIGRtaW4gPSBkO1xuICAgICAgICAgIHRhcmdldC5jb3B5KGZhY2VBTm9ybWFsV1MzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUZXN0IHVuaXF1ZSBheGVzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaHVsbEEudW5pcXVlQXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBHZXQgd29ybGQgYXhpc1xuICAgICAgICBxdWF0QS52bXVsdChodWxsQS51bmlxdWVBeGVzW2ldLCBmYWNlQU5vcm1hbFdTMyk7XG4gICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7XG5cbiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGQgPCBkbWluKSB7XG4gICAgICAgICAgZG1pbiA9IGQ7XG4gICAgICAgICAgdGFyZ2V0LmNvcHkoZmFjZUFOb3JtYWxXUzMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFodWxsQi51bmlxdWVBeGVzKSB7XG4gICAgICAvLyBUZXN0IGZhY2Ugbm9ybWFscyBmcm9tIGh1bGxCXG4gICAgICBjb25zdCBudW1GYWNlc0IgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEIubGVuZ3RoIDogaHVsbEIuZmFjZXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZpID0gZmFjZUxpc3RCID8gZmFjZUxpc3RCW2ldIDogaTtcbiAgICAgICAgV29ybGRub3JtYWwxLmNvcHkoaHVsbEIuZmFjZU5vcm1hbHNbZmldKTtcbiAgICAgICAgcXVhdEIudm11bHQoV29ybGRub3JtYWwxLCBXb3JsZG5vcm1hbDEpO1xuICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoV29ybGRub3JtYWwxLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKTtcblxuICAgICAgICBpZiAoZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCA8IGRtaW4pIHtcbiAgICAgICAgICBkbWluID0gZDtcbiAgICAgICAgICB0YXJnZXQuY29weShXb3JsZG5vcm1hbDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMgaW4gQlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGh1bGxCLnVuaXF1ZUF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcXVhdEIudm11bHQoaHVsbEIudW5pcXVlQXhlc1tpXSwgV29ybGRub3JtYWwxKTtcbiAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7XG5cbiAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGQgPCBkbWluKSB7XG4gICAgICAgICAgZG1pbiA9IGQ7XG4gICAgICAgICAgdGFyZ2V0LmNvcHkoV29ybGRub3JtYWwxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gVGVzdCBlZGdlc1xuXG5cbiAgICBmb3IgKGxldCBlMCA9IDA7IGUwICE9PSBodWxsQS51bmlxdWVFZGdlcy5sZW5ndGg7IGUwKyspIHtcbiAgICAgIC8vIEdldCB3b3JsZCBlZGdlXG4gICAgICBxdWF0QS52bXVsdChodWxsQS51bmlxdWVFZGdlc1tlMF0sIHdvcmxkRWRnZTApO1xuXG4gICAgICBmb3IgKGxldCBlMSA9IDA7IGUxICE9PSBodWxsQi51bmlxdWVFZGdlcy5sZW5ndGg7IGUxKyspIHtcbiAgICAgICAgLy8gR2V0IHdvcmxkIGVkZ2UgMlxuICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVFZGdlc1tlMV0sIHdvcmxkRWRnZTEpO1xuICAgICAgICB3b3JsZEVkZ2UwLmNyb3NzKHdvcmxkRWRnZTEsIENyb3NzKTtcblxuICAgICAgICBpZiAoIUNyb3NzLmFsbW9zdFplcm8oKSkge1xuICAgICAgICAgIENyb3NzLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgIGNvbnN0IGRpc3QgPSBodWxsQS50ZXN0U2VwQXhpcyhDcm9zcywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7XG5cbiAgICAgICAgICBpZiAoZGlzdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGlzdCA8IGRtaW4pIHtcbiAgICAgICAgICAgIGRtaW4gPSBkaXN0O1xuICAgICAgICAgICAgdGFyZ2V0LmNvcHkoQ3Jvc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHBvc0IudnN1Yihwb3NBLCBkZWx0YUMpO1xuXG4gICAgaWYgKGRlbHRhQy5kb3QodGFyZ2V0KSA+IDAuMCkge1xuICAgICAgdGFyZ2V0Lm5lZ2F0ZSh0YXJnZXQpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIFRlc3Qgc2VwYXJhdGluZyBheGlzIGFnYWluc3QgdHdvIGh1bGxzLiBCb3RoIGh1bGxzIGFyZSBwcm9qZWN0ZWQgb250byB0aGUgYXhpcyBhbmQgdGhlIG92ZXJsYXAgc2l6ZSBpcyByZXR1cm5lZCBpZiB0aGVyZSBpcyBvbmUuXHJcbiAgICogQG1ldGhvZCB0ZXN0U2VwQXhpc1xyXG4gICAqIEBwYXJhbSB7VmVjM30gYXhpc1xyXG4gICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEJcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0FcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwb3NCXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QlxyXG4gICAqIEByZXR1cm4ge251bWJlcn0gVGhlIG92ZXJsYXAgZGVwdGgsIG9yIEZBTFNFIGlmIG5vIHBlbmV0cmF0aW9uLlxyXG4gICAqL1xuXG5cbiAgdGVzdFNlcEF4aXMoYXhpcywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qikge1xuICAgIGNvbnN0IGh1bGxBID0gdGhpcztcbiAgICBDb252ZXhQb2x5aGVkcm9uLnByb2plY3QoaHVsbEEsIGF4aXMsIHBvc0EsIHF1YXRBLCBtYXhtaW5BKTtcbiAgICBDb252ZXhQb2x5aGVkcm9uLnByb2plY3QoaHVsbEIsIGF4aXMsIHBvc0IsIHF1YXRCLCBtYXhtaW5CKTtcbiAgICBjb25zdCBtYXhBID0gbWF4bWluQVswXTtcbiAgICBjb25zdCBtaW5BID0gbWF4bWluQVsxXTtcbiAgICBjb25zdCBtYXhCID0gbWF4bWluQlswXTtcbiAgICBjb25zdCBtaW5CID0gbWF4bWluQlsxXTtcblxuICAgIGlmIChtYXhBIDwgbWluQiB8fCBtYXhCIDwgbWluQSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTZXBhcmF0ZWRcbiAgICB9XG5cbiAgICBjb25zdCBkMCA9IG1heEEgLSBtaW5CO1xuICAgIGNvbnN0IGQxID0gbWF4QiAtIG1pbkE7XG4gICAgY29uc3QgZGVwdGggPSBkMCA8IGQxID8gZDAgOiBkMTtcbiAgICByZXR1cm4gZGVwdGg7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3NcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcclxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHtcbiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhXG4gICAgLy8gRXhhY3QgaW5lcnRpYSBjYWxjdWxhdGlvbiBpcyBvdmVya2lsbCwgYnV0IHNlZSBodHRwOi8vZ2VvbWV0cmljdG9vbHMuY29tL0RvY3VtZW50YXRpb24vUG9seWhlZHJhbE1hc3NQcm9wZXJ0aWVzLnBkZiBmb3IgdGhlIGNvcnJlY3Qgd2F5IHRvIGRvIGl0XG4gICAgY29uc3QgYWFiYm1heCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgYWFiYm1pbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpO1xuICAgIGNvbnN0IHggPSBhYWJibWF4LnggLSBhYWJibWluLng7XG4gICAgY29uc3QgeSA9IGFhYmJtYXgueSAtIGFhYmJtaW4ueTtcbiAgICBjb25zdCB6ID0gYWFiYm1heC56IC0gYWFiYm1pbi56O1xuICAgIHRhcmdldC54ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB6ICogMiAqIHopO1xuICAgIHRhcmdldC55ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopO1xuICAgIHRhcmdldC56ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB4ICogMiAqIHgpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZ2V0UGxhbmVDb25zdGFudE9mRmFjZVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gZmFjZV9pIEluZGV4IG9mIHRoZSBmYWNlXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZ2V0UGxhbmVDb25zdGFudE9mRmFjZShmYWNlX2kpIHtcbiAgICBjb25zdCBmID0gdGhpcy5mYWNlc1tmYWNlX2ldO1xuICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ZhY2VfaV07XG4gICAgY29uc3QgdiA9IHRoaXMudmVydGljZXNbZlswXV07XG4gICAgY29uc3QgYyA9IC1uLmRvdCh2KTtcbiAgICByZXR1cm4gYztcbiAgfVxuICAvKipcclxuICAgKiBDbGlwIGEgZmFjZSBhZ2FpbnN0IGEgaHVsbC5cclxuICAgKiBAbWV0aG9kIGNsaXBGYWNlQWdhaW5zdEh1bGxcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHNlcGFyYXRpbmdOb3JtYWxcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0FcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBXHJcbiAgICogQHBhcmFtIHtBcnJheX0gd29ybGRWZXJ0c0IxIEFuIGFycmF5IG9mIFZlYzMgd2l0aCB2ZXJ0aWNlcyBpbiB0aGUgd29ybGQgZnJhbWUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbkRpc3QgRGlzdGFuY2UgY2xhbXBpbmdcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdFxyXG4gICAqIEBwYXJhbSBBcnJheSByZXN1bHQgQXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnRzIGluLiBXaWxsIGJlIG9iamVjdHMgd2l0aCBwcm9wZXJ0aWVzOiBwb2ludCwgZGVwdGgsIG5vcm1hbC4gVGhlc2UgYXJlIHJlcHJlc2VudGVkIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gICAqL1xuXG5cbiAgY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHtcbiAgICBjb25zdCBmYWNlQU5vcm1hbFdTID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBlZGdlMCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgV29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3Qgd29ybGRQbGFuZUFub3JtYWwxID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwbGFuZU5vcm1hbFdTMSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3Qgd29ybGRBMSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgbG9jYWxQbGFuZU5vcm1hbCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcGxhbmVOb3JtYWxXUyA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgaHVsbEEgPSB0aGlzO1xuICAgIGNvbnN0IHdvcmxkVmVydHNCMiA9IFtdO1xuICAgIGNvbnN0IHBWdHhJbiA9IHdvcmxkVmVydHNCMTtcbiAgICBjb25zdCBwVnR4T3V0ID0gd29ybGRWZXJ0c0IyO1xuICAgIGxldCBjbG9zZXN0RmFjZUEgPSAtMTtcbiAgICBsZXQgZG1pbiA9IE51bWJlci5NQVhfVkFMVUU7IC8vIEZpbmQgdGhlIGZhY2Ugd2l0aCBub3JtYWwgY2xvc2VzdCB0byB0aGUgc2VwYXJhdGluZyBheGlzXG5cbiAgICBmb3IgKGxldCBmYWNlID0gMDsgZmFjZSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgZmFjZSsrKSB7XG4gICAgICBmYWNlQU5vcm1hbFdTLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmFjZV0pO1xuICAgICAgcXVhdEEudm11bHQoZmFjZUFOb3JtYWxXUywgZmFjZUFOb3JtYWxXUyk7XG4gICAgICBjb25zdCBkID0gZmFjZUFOb3JtYWxXUy5kb3Qoc2VwYXJhdGluZ05vcm1hbCk7XG5cbiAgICAgIGlmIChkIDwgZG1pbikge1xuICAgICAgICBkbWluID0gZDtcbiAgICAgICAgY2xvc2VzdEZhY2VBID0gZmFjZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xvc2VzdEZhY2VBIDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gR2V0IHRoZSBmYWNlIGFuZCBjb25zdHJ1Y3QgY29ubmVjdGVkIGZhY2VzXG5cblxuICAgIGNvbnN0IHBvbHlBID0gaHVsbEEuZmFjZXNbY2xvc2VzdEZhY2VBXTtcbiAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodWxsQS5mYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBodWxsQS5mYWNlc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoXG4gICAgICAgIC8qIFNoYXJpbmcgYSB2ZXJ0ZXgqL1xuICAgICAgICBwb2x5QS5pbmRleE9mKGh1bGxBLmZhY2VzW2ldW2pdKSAhPT0gLTEgJiZcbiAgICAgICAgLyogTm90IHRoZSBvbmUgd2UgYXJlIGxvb2tpbmcgZm9yIGNvbm5lY3Rpb25zIGZyb20gKi9cbiAgICAgICAgaSAhPT0gY2xvc2VzdEZhY2VBICYmXG4gICAgICAgIC8qIE5vdCBhbHJlYWR5IGFkZGVkICovXG4gICAgICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzLmluZGV4T2YoaSkgPT09IC0xKSB7XG4gICAgICAgICAgcG9seUEuY29ubmVjdGVkRmFjZXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gQ2xpcCB0aGUgcG9seWdvbiB0byB0aGUgYmFjayBvZiB0aGUgcGxhbmVzIG9mIGFsbCBmYWNlcyBvZiBodWxsIEEsXG4gICAgLy8gdGhhdCBhcmUgYWRqYWNlbnQgdG8gdGhlIHdpdG5lc3MgZmFjZVxuXG5cbiAgICBjb25zdCBudW1WZXJ0aWNlc0EgPSBwb2x5QS5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZlcnRpY2VzQTsgaSsrKSB7XG4gICAgICBjb25zdCBhID0gaHVsbEEudmVydGljZXNbcG9seUFbaV1dO1xuICAgICAgY29uc3QgYiA9IGh1bGxBLnZlcnRpY2VzW3BvbHlBWyhpICsgMSkgJSBudW1WZXJ0aWNlc0FdXTtcbiAgICAgIGEudnN1YihiLCBlZGdlMCk7XG4gICAgICBXb3JsZEVkZ2UwLmNvcHkoZWRnZTApO1xuICAgICAgcXVhdEEudm11bHQoV29ybGRFZGdlMCwgV29ybGRFZGdlMCk7XG4gICAgICBwb3NBLnZhZGQoV29ybGRFZGdlMCwgV29ybGRFZGdlMCk7XG4gICAgICB3b3JsZFBsYW5lQW5vcm1hbDEuY29weSh0aGlzLmZhY2VOb3JtYWxzW2Nsb3Nlc3RGYWNlQV0pO1xuICAgICAgcXVhdEEudm11bHQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpO1xuICAgICAgcG9zQS52YWRkKHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTtcbiAgICAgIFdvcmxkRWRnZTAuY3Jvc3Mod29ybGRQbGFuZUFub3JtYWwxLCBwbGFuZU5vcm1hbFdTMSk7XG4gICAgICBwbGFuZU5vcm1hbFdTMS5uZWdhdGUocGxhbmVOb3JtYWxXUzEpO1xuICAgICAgd29ybGRBMS5jb3B5KGEpO1xuICAgICAgcXVhdEEudm11bHQod29ybGRBMSwgd29ybGRBMSk7XG4gICAgICBwb3NBLnZhZGQod29ybGRBMSwgd29ybGRBMSk7XG4gICAgICBjb25zdCBvdGhlckZhY2UgPSBwb2x5QS5jb25uZWN0ZWRGYWNlc1tpXTtcbiAgICAgIGxvY2FsUGxhbmVOb3JtYWwuY29weSh0aGlzLmZhY2VOb3JtYWxzW290aGVyRmFjZV0pO1xuICAgICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKG90aGVyRmFjZSk7XG4gICAgICBwbGFuZU5vcm1hbFdTLmNvcHkobG9jYWxQbGFuZU5vcm1hbCk7XG4gICAgICBxdWF0QS52bXVsdChwbGFuZU5vcm1hbFdTLCBwbGFuZU5vcm1hbFdTKTtcbiAgICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOyAvLyBDbGlwIGZhY2UgYWdhaW5zdCBvdXIgY29uc3RydWN0ZWQgcGxhbmVcblxuICAgICAgdGhpcy5jbGlwRmFjZUFnYWluc3RQbGFuZShwVnR4SW4sIHBWdHhPdXQsIHBsYW5lTm9ybWFsV1MsIHBsYW5lRXFXUyk7IC8vIFRocm93IGF3YXkgYWxsIGNsaXBwZWQgcG9pbnRzLCBidXQgc2F2ZSB0aGUgcmVtYWluaW5nIHVudGlsIG5leHQgY2xpcFxuXG4gICAgICB3aGlsZSAocFZ0eEluLmxlbmd0aCkge1xuICAgICAgICBwVnR4SW4uc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHBWdHhPdXQubGVuZ3RoKSB7XG4gICAgICAgIHBWdHhJbi5wdXNoKHBWdHhPdXQuc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfSAvLyBvbmx5IGtlZXAgY29udGFjdCBwb2ludHMgdGhhdCBhcmUgYmVoaW5kIHRoZSB3aXRuZXNzIGZhY2VcblxuXG4gICAgbG9jYWxQbGFuZU5vcm1hbC5jb3B5KHRoaXMuZmFjZU5vcm1hbHNbY2xvc2VzdEZhY2VBXSk7XG4gICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGNsb3Nlc3RGYWNlQSk7XG4gICAgcGxhbmVOb3JtYWxXUy5jb3B5KGxvY2FsUGxhbmVOb3JtYWwpO1xuICAgIHF1YXRBLnZtdWx0KHBsYW5lTm9ybWFsV1MsIHBsYW5lTm9ybWFsV1MpO1xuICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwVnR4SW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBkZXB0aCA9IHBsYW5lTm9ybWFsV1MuZG90KHBWdHhJbltpXSkgKyBwbGFuZUVxV1M7IC8vID8/P1xuXG4gICAgICBpZiAoZGVwdGggPD0gbWluRGlzdCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNsYW1wZWQ6IGRlcHRoPVwiICsgZGVwdGggKyBcIiB0byBtaW5EaXN0PVwiICsgbWluRGlzdCk7XG4gICAgICAgIGRlcHRoID0gbWluRGlzdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlcHRoIDw9IG1heERpc3QpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBwVnR4SW5baV07XG5cbiAgICAgICAgaWYgKGRlcHRoIDw9IDFlLTYpIHtcbiAgICAgICAgICBjb25zdCBwID0ge1xuICAgICAgICAgICAgcG9pbnQsXG4gICAgICAgICAgICBub3JtYWw6IHBsYW5lTm9ybWFsV1MsXG4gICAgICAgICAgICBkZXB0aFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzdWx0LnB1c2gocCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ2xpcCBhIGZhY2UgaW4gYSBodWxsIGFnYWluc3QgdGhlIGJhY2sgb2YgYSBwbGFuZS5cclxuICAgKiBAbWV0aG9kIGNsaXBGYWNlQWdhaW5zdFBsYW5lXHJcbiAgICogQHBhcmFtIHtBcnJheX0gaW5WZXJ0aWNlc1xyXG4gICAqIEBwYXJhbSB7QXJyYXl9IG91dFZlcnRpY2VzXHJcbiAgICogQHBhcmFtIHtWZWMzfSBwbGFuZU5vcm1hbFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwbGFuZUNvbnN0YW50IFRoZSBjb25zdGFudCBpbiB0aGUgbWF0aGVtYXRpY2FsIHBsYW5lIGVxdWF0aW9uXHJcbiAgICovXG5cblxuICBjbGlwRmFjZUFnYWluc3RQbGFuZShpblZlcnRpY2VzLCBvdXRWZXJ0aWNlcywgcGxhbmVOb3JtYWwsIHBsYW5lQ29uc3RhbnQpIHtcbiAgICBsZXQgbl9kb3RfZmlyc3Q7XG4gICAgbGV0IG5fZG90X2xhc3Q7XG4gICAgY29uc3QgbnVtVmVydHMgPSBpblZlcnRpY2VzLmxlbmd0aDtcblxuICAgIGlmIChudW1WZXJ0cyA8IDIpIHtcbiAgICAgIHJldHVybiBvdXRWZXJ0aWNlcztcbiAgICB9XG5cbiAgICBsZXQgZmlyc3RWZXJ0ZXggPSBpblZlcnRpY2VzW2luVmVydGljZXMubGVuZ3RoIC0gMV07XG4gICAgbGV0IGxhc3RWZXJ0ZXggPSBpblZlcnRpY2VzWzBdO1xuICAgIG5fZG90X2ZpcnN0ID0gcGxhbmVOb3JtYWwuZG90KGZpcnN0VmVydGV4KSArIHBsYW5lQ29uc3RhbnQ7XG5cbiAgICBmb3IgKGxldCB2aSA9IDA7IHZpIDwgbnVtVmVydHM7IHZpKyspIHtcbiAgICAgIGxhc3RWZXJ0ZXggPSBpblZlcnRpY2VzW3ZpXTtcbiAgICAgIG5fZG90X2xhc3QgPSBwbGFuZU5vcm1hbC5kb3QobGFzdFZlcnRleCkgKyBwbGFuZUNvbnN0YW50O1xuXG4gICAgICBpZiAobl9kb3RfZmlyc3QgPCAwKSB7XG4gICAgICAgIGlmIChuX2RvdF9sYXN0IDwgMCkge1xuICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kIDwgMCwgc28gb3V0cHV0IGxhc3RWZXJ0ZXhcbiAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTtcbiAgICAgICAgICBuZXd2LmNvcHkobGFzdFZlcnRleCk7XG4gICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBTdGFydCA8IDAsIGVuZCA+PSAwLCBzbyBvdXRwdXQgaW50ZXJzZWN0aW9uXG4gICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7XG4gICAgICAgICAgZmlyc3RWZXJ0ZXgubGVycChsYXN0VmVydGV4LCBuX2RvdF9maXJzdCAvIChuX2RvdF9maXJzdCAtIG5fZG90X2xhc3QpLCBuZXd2KTtcbiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKG5ld3YpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobl9kb3RfbGFzdCA8IDApIHtcbiAgICAgICAgICAvLyBTdGFydCA+PSAwLCBlbmQgPCAwIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24gYW5kIGVuZFxuICAgICAgICAgIGNvbnN0IG5ld3YgPSBuZXcgVmVjMygpO1xuICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7XG4gICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTtcbiAgICAgICAgICBvdXRWZXJ0aWNlcy5wdXNoKGxhc3RWZXJ0ZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZpcnN0VmVydGV4ID0gbGFzdFZlcnRleDtcbiAgICAgIG5fZG90X2ZpcnN0ID0gbl9kb3RfbGFzdDtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0VmVydGljZXM7XG4gIH0gLy8gVXBkYXRlcyAud29ybGRWZXJ0aWNlcyBhbmQgc2V0cyAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIHRvIGZhbHNlLlxuXG5cbiAgY29tcHV0ZVdvcmxkVmVydGljZXMocG9zaXRpb24sIHF1YXQpIHtcbiAgICB3aGlsZSAodGhpcy53b3JsZFZlcnRpY2VzLmxlbmd0aCA8IHRoaXMudmVydGljZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLndvcmxkVmVydGljZXMucHVzaChuZXcgVmVjMygpKTtcbiAgICB9XG5cbiAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG4gICAgY29uc3Qgd29ybGRWZXJ0cyA9IHRoaXMud29ybGRWZXJ0aWNlcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBxdWF0LnZtdWx0KHZlcnRzW2ldLCB3b3JsZFZlcnRzW2ldKTtcbiAgICAgIHBvc2l0aW9uLnZhZGQod29ybGRWZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgfVxuXG4gIGNvbXB1dGVMb2NhbEFBQkIoYWFiYm1pbiwgYWFiYm1heCkge1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBhYWJibWluLnNldChOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICBhYWJibWF4LnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdiA9IHZlcnRpY2VzW2ldO1xuXG4gICAgICBpZiAodi54IDwgYWFiYm1pbi54KSB7XG4gICAgICAgIGFhYmJtaW4ueCA9IHYueDtcbiAgICAgIH0gZWxzZSBpZiAodi54ID4gYWFiYm1heC54KSB7XG4gICAgICAgIGFhYmJtYXgueCA9IHYueDtcbiAgICAgIH1cblxuICAgICAgaWYgKHYueSA8IGFhYmJtaW4ueSkge1xuICAgICAgICBhYWJibWluLnkgPSB2Lnk7XG4gICAgICB9IGVsc2UgaWYgKHYueSA+IGFhYmJtYXgueSkge1xuICAgICAgICBhYWJibWF4LnkgPSB2Lnk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2LnogPCBhYWJibWluLnopIHtcbiAgICAgICAgYWFiYm1pbi56ID0gdi56O1xuICAgICAgfSBlbHNlIGlmICh2LnogPiBhYWJibWF4LnopIHtcbiAgICAgICAgYWFiYm1heC56ID0gdi56O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGVzIC53b3JsZFZlcnRpY2VzIGFuZCBzZXRzIC53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgdG8gZmFsc2UuXHJcbiAgICogQG1ldGhvZCBjb21wdXRlV29ybGRGYWNlTm9ybWFsc1xyXG4gICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXRcclxuICAgKi9cblxuXG4gIGNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKHF1YXQpIHtcbiAgICBjb25zdCBOID0gdGhpcy5mYWNlTm9ybWFscy5sZW5ndGg7XG5cbiAgICB3aGlsZSAodGhpcy53b3JsZEZhY2VOb3JtYWxzLmxlbmd0aCA8IE4pIHtcbiAgICAgIHRoaXMud29ybGRGYWNlTm9ybWFscy5wdXNoKG5ldyBWZWMzKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzO1xuICAgIGNvbnN0IHdvcmxkTm9ybWFscyA9IHRoaXMud29ybGRGYWNlTm9ybWFscztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIHF1YXQudm11bHQobm9ybWFsc1tpXSwgd29ybGROb3JtYWxzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXNcclxuICAgKi9cblxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXJcbiAgICBsZXQgbWF4MiA9IDA7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBub3JtMiA9IHZlcnRzW2ldLmxlbmd0aFNxdWFyZWQoKTtcblxuICAgICAgaWYgKG5vcm0yID4gbWF4Mikge1xuICAgICAgICBtYXgyID0gbm9ybTI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE1hdGguc3FydChtYXgyKTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGNhbGN1bGF0ZVdvcmxkQUFCQlxyXG4gICAqIEBwYXJhbSB7VmVjM30gICAgICAgIHBvc1xyXG4gICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXRcclxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtaW5cclxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtYXhcclxuICAgKi9cblxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xuICAgIGxldCBtaW54O1xuICAgIGxldCBtaW55O1xuICAgIGxldCBtaW56O1xuICAgIGxldCBtYXh4O1xuICAgIGxldCBtYXh5O1xuICAgIGxldCBtYXh6O1xuICAgIGxldCB0ZW1wV29ybGRWZXJ0ZXggPSBuZXcgVmVjMygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGVtcFdvcmxkVmVydGV4LmNvcHkodmVydHNbaV0pO1xuICAgICAgcXVhdC52bXVsdCh0ZW1wV29ybGRWZXJ0ZXgsIHRlbXBXb3JsZFZlcnRleCk7XG4gICAgICBwb3MudmFkZCh0ZW1wV29ybGRWZXJ0ZXgsIHRlbXBXb3JsZFZlcnRleCk7XG4gICAgICBjb25zdCB2ID0gdGVtcFdvcmxkVmVydGV4O1xuXG4gICAgICBpZiAobWlueCA9PT0gdW5kZWZpbmVkIHx8IHYueCA8IG1pbngpIHtcbiAgICAgICAgbWlueCA9IHYueDtcbiAgICAgIH1cblxuICAgICAgaWYgKG1heHggPT09IHVuZGVmaW5lZCB8fCB2LnggPiBtYXh4KSB7XG4gICAgICAgIG1heHggPSB2Lng7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaW55ID09PSB1bmRlZmluZWQgfHwgdi55IDwgbWlueSkge1xuICAgICAgICBtaW55ID0gdi55O1xuICAgICAgfVxuXG4gICAgICBpZiAobWF4eSA9PT0gdW5kZWZpbmVkIHx8IHYueSA+IG1heHkpIHtcbiAgICAgICAgbWF4eSA9IHYueTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1pbnogPT09IHVuZGVmaW5lZCB8fCB2LnogPCBtaW56KSB7XG4gICAgICAgIG1pbnogPSB2Lno7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXh6ID09PSB1bmRlZmluZWQgfHwgdi56ID4gbWF4eikge1xuICAgICAgICBtYXh6ID0gdi56O1xuICAgICAgfVxuICAgIH1cblxuICAgIG1pbi5zZXQobWlueCwgbWlueSwgbWlueik7XG4gICAgbWF4LnNldChtYXh4LCBtYXh5LCBtYXh6KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYXBwcm94aW1hdGUgY29udmV4IHZvbHVtZVxyXG4gICAqIEBtZXRob2Qgdm9sdW1lXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyAvIDMuMDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYW4gYXZlcmFnZSBvZiBhbGwgdGhlIHZlcnRpY2VzIHBvc2l0aW9uc1xyXG4gICAqIEBtZXRob2QgZ2V0QXZlcmFnZVBvaW50TG9jYWxcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgZ2V0QXZlcmFnZVBvaW50TG9jYWwodGFyZ2V0ID0gbmV3IFZlYzMoKSkge1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRhcmdldC52YWRkKHZlcnRzW2ldLCB0YXJnZXQpO1xuICAgIH1cblxuICAgIHRhcmdldC5zY2FsZSgxIC8gdmVydHMubGVuZ3RoLCB0YXJnZXQpO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogVHJhbnNmb3JtIGFsbCBsb2NhbCBwb2ludHMuIFdpbGwgY2hhbmdlIHRoZSAudmVydGljZXNcclxuICAgKiBAbWV0aG9kIHRyYW5zZm9ybUFsbFBvaW50c1xyXG4gICAqIEBwYXJhbSAge1ZlYzN9IG9mZnNldFxyXG4gICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXRcclxuICAgKi9cblxuXG4gIHRyYW5zZm9ybUFsbFBvaW50cyhvZmZzZXQsIHF1YXQpIHtcbiAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOyAvLyBBcHBseSByb3RhdGlvblxuXG4gICAgaWYgKHF1YXQpIHtcbiAgICAgIC8vIFJvdGF0ZSB2ZXJ0aWNlc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ldO1xuICAgICAgICBxdWF0LnZtdWx0KHYsIHYpO1xuICAgICAgfSAvLyBSb3RhdGUgZmFjZSBub3JtYWxzXG5cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLmZhY2VOb3JtYWxzW2ldO1xuICAgICAgICBxdWF0LnZtdWx0KHYsIHYpO1xuICAgICAgfVxuICAgICAgLypcclxuICAgICAgICAgICAgLy8gUm90YXRlIGVkZ2VzXHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMudW5pcXVlRWRnZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMudW5pcXVlRWRnZXNbaV07XHJcbiAgICAgICAgICAgICAgICBxdWF0LnZtdWx0KHYsdik7XHJcbiAgICAgICAgICAgIH0qL1xuXG4gICAgfSAvLyBBcHBseSBvZmZzZXRcblxuXG4gICAgaWYgKG9mZnNldCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ldO1xuICAgICAgICB2LnZhZGQob2Zmc2V0LCB2KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2tzIHdoZXRoZXIgcCBpcyBpbnNpZGUgdGhlIHBvbHloZWRyYS4gTXVzdCBiZSBpbiBsb2NhbCBjb29yZHMuXHJcbiAgICogVGhlIHBvaW50IGxpZXMgb3V0c2lkZSBvZiB0aGUgY29udmV4IGh1bGwgb2YgdGhlIG90aGVyIHBvaW50cyBpZiBhbmQgb25seSBpZiB0aGUgZGlyZWN0aW9uXHJcbiAgICogb2YgYWxsIHRoZSB2ZWN0b3JzIGZyb20gaXQgdG8gdGhvc2Ugb3RoZXIgcG9pbnRzIGFyZSBvbiBsZXNzIHRoYW4gb25lIGhhbGYgb2YgYSBzcGhlcmUgYXJvdW5kIGl0LlxyXG4gICAqIEBtZXRob2QgcG9pbnRJc0luc2lkZVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHAgICAgICBBIHBvaW50IGdpdmVuIGluIGxvY2FsIGNvb3JkaW5hdGVzXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cblxuXG4gIHBvaW50SXNJbnNpZGUocCkge1xuICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7XG4gICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7XG4gICAgY29uc3QgcG9pbnRJbnNpZGUgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuZ2V0QXZlcmFnZVBvaW50TG9jYWwocG9pbnRJbnNpZGUpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbiA9IG5vcm1hbHNbaV07XG4gICAgICBjb25zdCB2ID0gdmVydHNbZmFjZXNbaV1bMF1dOyAvLyBXZSBvbmx5IG5lZWQgb25lIHBvaW50IGluIHRoZSBmYWNlXG4gICAgICAvLyBUaGlzIGRvdCBwcm9kdWN0IGRldGVybWluZXMgd2hpY2ggc2lkZSBvZiB0aGUgZWRnZSB0aGUgcG9pbnQgaXNcblxuICAgICAgY29uc3QgdlRvUCA9IG5ldyBWZWMzKCk7XG4gICAgICBwLnZzdWIodiwgdlRvUCk7XG4gICAgICBjb25zdCByMSA9IG4uZG90KHZUb1ApO1xuICAgICAgY29uc3QgdlRvUG9pbnRJbnNpZGUgPSBuZXcgVmVjMygpO1xuICAgICAgcG9pbnRJbnNpZGUudnN1Yih2LCB2VG9Qb2ludEluc2lkZSk7XG4gICAgICBjb25zdCByMiA9IG4uZG90KHZUb1BvaW50SW5zaWRlKTtcblxuICAgICAgaWYgKHIxIDwgMCAmJiByMiA+IDAgfHwgcjEgPiAwICYmIHIyIDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEVuY291bnRlcmVkIHNvbWUgb3RoZXIgc2lnbi4gRXhpdC5cbiAgICAgIH1cbiAgICB9IC8vIElmIHdlIGdvdCBoZXJlLCBhbGwgZG90IHByb2R1Y3RzIHdlcmUgb2YgdGhlIHNhbWUgc2lnbi5cblxuXG4gICAgcmV0dXJuICAtMTtcbiAgfVxuXG59XG4vKipcclxuICogR2V0IGZhY2Ugbm9ybWFsIGdpdmVuIDMgdmVydGljZXNcclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGNvbXB1dGVOb3JtYWxcclxuICogQHBhcmFtIHtWZWMzfSB2YVxyXG4gKiBAcGFyYW0ge1ZlYzN9IHZiXHJcbiAqIEBwYXJhbSB7VmVjM30gdmNcclxuICogQHBhcmFtIHtWZWMzfSB0YXJnZXRcclxuICovXG5cbkNvbnZleFBvbHloZWRyb24uY29tcHV0ZU5vcm1hbCA9ICh2YSwgdmIsIHZjLCB0YXJnZXQpID0+IHtcbiAgY29uc3QgY2IgPSBuZXcgVmVjMygpO1xuICBjb25zdCBhYiA9IG5ldyBWZWMzKCk7XG4gIHZiLnZzdWIodmEsIGFiKTtcbiAgdmMudnN1Yih2YiwgY2IpO1xuICBjYi5jcm9zcyhhYiwgdGFyZ2V0KTtcblxuICBpZiAoIXRhcmdldC5pc1plcm8oKSkge1xuICAgIHRhcmdldC5ub3JtYWxpemUoKTtcbiAgfVxufTtcblxuY29uc3QgbWF4bWluQSA9IFtdO1xuY29uc3QgbWF4bWluQiA9IFtdO1xuLyoqXHJcbiAqIEdldCBtYXggYW5kIG1pbiBkb3QgcHJvZHVjdCBvZiBhIGNvbnZleCBodWxsIGF0IHBvc2l0aW9uIChwb3MscXVhdCkgcHJvamVjdGVkIG9udG8gYW4gYXhpcy5cclxuICogUmVzdWx0cyBhcmUgc2F2ZWQgaW4gdGhlIGFycmF5IG1heG1pbi5cclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIHByb2plY3RcclxuICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsXHJcbiAqIEBwYXJhbSB7VmVjM30gYXhpc1xyXG4gKiBAcGFyYW0ge1ZlYzN9IHBvc1xyXG4gKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRcclxuICogQHBhcmFtIHthcnJheX0gcmVzdWx0IHJlc3VsdFswXSBhbmQgcmVzdWx0WzFdIHdpbGwgYmUgc2V0IHRvIG1heGltdW0gYW5kIG1pbmltdW0sIHJlc3BlY3RpdmVseS5cclxuICovXG5cbkNvbnZleFBvbHloZWRyb24ucHJvamVjdCA9IChzaGFwZSwgYXhpcywgcG9zLCBxdWF0LCByZXN1bHQpID0+IHtcbiAgY29uc3QgbiA9IHNoYXBlLnZlcnRpY2VzLmxlbmd0aDtcbiAgY29uc3QgbG9jYWxBeGlzID0gbmV3IFZlYzMoKTtcbiAgbGV0IG1heCA9IDA7XG4gIGxldCBtaW4gPSAwO1xuICBjb25zdCBsb2NhbE9yaWdpbiA9IG5ldyBWZWMzKCk7XG4gIGNvbnN0IHZzID0gc2hhcGUudmVydGljZXM7XG4gIGxvY2FsT3JpZ2luLnNldFplcm8oKTsgLy8gVHJhbnNmb3JtIHRoZSBheGlzIHRvIGxvY2FsXG5cbiAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGF4aXMsIGxvY2FsQXhpcyk7XG4gIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGxvY2FsT3JpZ2luLCBsb2NhbE9yaWdpbik7XG4gIGNvbnN0IGFkZCA9IGxvY2FsT3JpZ2luLmRvdChsb2NhbEF4aXMpO1xuICBtaW4gPSBtYXggPSB2c1swXS5kb3QobG9jYWxBeGlzKTtcblxuICBmb3IgKGxldCBpID0gMTsgaSA8IG47IGkrKykge1xuICAgIGNvbnN0IHZhbCA9IHZzW2ldLmRvdChsb2NhbEF4aXMpO1xuXG4gICAgaWYgKHZhbCA+IG1heCkge1xuICAgICAgbWF4ID0gdmFsO1xuICAgIH1cblxuICAgIGlmICh2YWwgPCBtaW4pIHtcbiAgICAgIG1pbiA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBtaW4gLT0gYWRkO1xuICBtYXggLT0gYWRkO1xuXG4gIGlmIChtaW4gPiBtYXgpIHtcbiAgICAvLyBJbmNvbnNpc3RlbnQgLSBzd2FwXG4gICAgY29uc3QgdGVtcCA9IG1pbjtcbiAgICBtaW4gPSBtYXg7XG4gICAgbWF4ID0gdGVtcDtcbiAgfSAvLyBPdXRwdXRcblxuXG4gIHJlc3VsdFswXSA9IG1heDtcbiAgcmVzdWx0WzFdID0gbWluO1xufTtcblxuLyoqXHJcbiAqIEEgM2QgYm94IHNoYXBlLlxyXG4gKiBAY2xhc3MgQm94XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge1ZlYzN9IGhhbGZFeHRlbnRzXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQGV4dGVuZHMgU2hhcGVcclxuICovXG5jbGFzcyBCb3ggZXh0ZW5kcyBTaGFwZSB7XG4gIC8vIFVzZWQgYnkgdGhlIGNvbnRhY3QgZ2VuZXJhdG9yIHRvIG1ha2UgY29udGFjdHMgd2l0aCBvdGhlciBjb252ZXggcG9seWhlZHJhIGZvciBleGFtcGxlLlxuICBjb25zdHJ1Y3RvcihoYWxmRXh0ZW50cykge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkJPWFxuICAgIH0pO1xuICAgIHRoaXMuaGFsZkV4dGVudHMgPSBoYWxmRXh0ZW50cztcbiAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IG51bGw7XG4gICAgdGhpcy51cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgbG9jYWwgY29udmV4IHBvbHloZWRyb24gcmVwcmVzZW50YXRpb24gdXNlZCBmb3Igc29tZSBjb2xsaXNpb25zLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlQ29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uXHJcbiAgICovXG5cblxuICB1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKSB7XG4gICAgY29uc3Qgc3ggPSB0aGlzLmhhbGZFeHRlbnRzLng7XG4gICAgY29uc3Qgc3kgPSB0aGlzLmhhbGZFeHRlbnRzLnk7XG4gICAgY29uc3Qgc3ogPSB0aGlzLmhhbGZFeHRlbnRzLno7XG4gICAgY29uc3QgViA9IFZlYzM7XG4gICAgY29uc3QgdmVydGljZXMgPSBbbmV3IFYoLXN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCAtc3ksIHN6KSwgbmV3IFYoc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgc3ksIHN6KSwgbmV3IFYoLXN4LCBzeSwgc3opXTtcbiAgICBjb25zdCBmYWNlcyA9IFtbMywgMiwgMSwgMF0sIC8vIC16XG4gICAgWzQsIDUsIDYsIDddLCAvLyArelxuICAgIFs1LCA0LCAwLCAxXSwgLy8gLXlcbiAgICBbMiwgMywgNywgNl0sIC8vICt5XG4gICAgWzAsIDQsIDcsIDNdLCAvLyAteFxuICAgIFsxLCAyLCA2LCA1XSAvLyAreFxuICAgIF07XG4gICAgY29uc3QgYXhlcyA9IFtuZXcgVigwLCAwLCAxKSwgbmV3IFYoMCwgMSwgMCksIG5ldyBWKDEsIDAsIDApXTtcbiAgICBjb25zdCBoID0gbmV3IENvbnZleFBvbHloZWRyb24oe1xuICAgICAgdmVydGljZXMsXG4gICAgICBmYWNlcyxcbiAgICAgIGF4ZXNcbiAgICB9KTtcbiAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IGg7XG4gICAgaC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3NcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICBCb3guY2FsY3VsYXRlSW5lcnRpYSh0aGlzLmhhbGZFeHRlbnRzLCBtYXNzLCB0YXJnZXQpO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBib3ggNiBzaWRlIG5vcm1hbHNcclxuICAgKiBAbWV0aG9kIGdldFNpZGVOb3JtYWxzXHJcbiAgICogQHBhcmFtIHthcnJheX0gICAgICBzaXhUYXJnZXRWZWN0b3JzIEFuIGFycmF5IG9mIDYgdmVjdG9ycywgdG8gc3RvcmUgdGhlIHJlc3VsdGluZyBzaWRlIG5vcm1hbHMgaW4uXHJcbiAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ICAgICAgICAgICAgIE9yaWVudGF0aW9uIHRvIGFwcGx5IHRvIHRoZSBub3JtYWwgdmVjdG9ycy4gSWYgbm90IHByb3ZpZGVkLCB0aGUgdmVjdG9ycyB3aWxsIGJlIGluIHJlc3BlY3QgdG8gdGhlIGxvY2FsIGZyYW1lLlxyXG4gICAqIEByZXR1cm4ge2FycmF5fVxyXG4gICAqL1xuXG5cbiAgZ2V0U2lkZU5vcm1hbHMoc2l4VGFyZ2V0VmVjdG9ycywgcXVhdCkge1xuICAgIGNvbnN0IHNpZGVzID0gc2l4VGFyZ2V0VmVjdG9ycztcbiAgICBjb25zdCBleCA9IHRoaXMuaGFsZkV4dGVudHM7XG4gICAgc2lkZXNbMF0uc2V0KGV4LngsIDAsIDApO1xuICAgIHNpZGVzWzFdLnNldCgwLCBleC55LCAwKTtcbiAgICBzaWRlc1syXS5zZXQoMCwgMCwgZXgueik7XG4gICAgc2lkZXNbM10uc2V0KC1leC54LCAwLCAwKTtcbiAgICBzaWRlc1s0XS5zZXQoMCwgLWV4LnksIDApO1xuICAgIHNpZGVzWzVdLnNldCgwLCAwLCAtZXgueik7XG5cbiAgICBpZiAocXVhdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2lkZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcXVhdC52bXVsdChzaWRlc1tpXSwgc2lkZXNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzaWRlcztcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gOC4wICogdGhpcy5oYWxmRXh0ZW50cy54ICogdGhpcy5oYWxmRXh0ZW50cy55ICogdGhpcy5oYWxmRXh0ZW50cy56O1xuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IHRoaXMuaGFsZkV4dGVudHMubGVuZ3RoKCk7XG4gIH1cblxuICBmb3JFYWNoV29ybGRDb3JuZXIocG9zLCBxdWF0LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzO1xuICAgIGNvbnN0IGNvcm5lcnMgPSBbW2UueCwgZS55LCBlLnpdLCBbLWUueCwgZS55LCBlLnpdLCBbLWUueCwgLWUueSwgZS56XSwgWy1lLngsIC1lLnksIC1lLnpdLCBbZS54LCAtZS55LCAtZS56XSwgW2UueCwgZS55LCAtZS56XSwgWy1lLngsIGUueSwgLWUuel0sIFtlLngsIC1lLnksIGUuel1dO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3JuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3b3JsZENvcm5lclRlbXBQb3Muc2V0KGNvcm5lcnNbaV1bMF0sIGNvcm5lcnNbaV1bMV0sIGNvcm5lcnNbaV1bMl0pO1xuICAgICAgcXVhdC52bXVsdCh3b3JsZENvcm5lclRlbXBQb3MsIHdvcmxkQ29ybmVyVGVtcFBvcyk7XG4gICAgICBwb3MudmFkZCh3b3JsZENvcm5lclRlbXBQb3MsIHdvcmxkQ29ybmVyVGVtcFBvcyk7XG4gICAgICBjYWxsYmFjayh3b3JsZENvcm5lclRlbXBQb3MueCwgd29ybGRDb3JuZXJUZW1wUG9zLnksIHdvcmxkQ29ybmVyVGVtcFBvcy56KTtcbiAgICB9XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbMF0uc2V0KGUueCwgZS55LCBlLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbMV0uc2V0KC1lLngsIGUueSwgZS56KTtcbiAgICB3b3JsZENvcm5lcnNUZW1wWzJdLnNldCgtZS54LCAtZS55LCBlLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbM10uc2V0KC1lLngsIC1lLnksIC1lLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbNF0uc2V0KGUueCwgLWUueSwgLWUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFs1XS5zZXQoZS54LCBlLnksIC1lLnopO1xuICAgIHdvcmxkQ29ybmVyc1RlbXBbNl0uc2V0KC1lLngsIGUueSwgLWUueik7XG4gICAgd29ybGRDb3JuZXJzVGVtcFs3XS5zZXQoZS54LCAtZS55LCBlLnopO1xuICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFswXTtcbiAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7XG4gICAgcG9zLnZhZGQod2MsIHdjKTtcbiAgICBtYXguY29weSh3Yyk7XG4gICAgbWluLmNvcHkod2MpO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCA4OyBpKyspIHtcbiAgICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFtpXTtcbiAgICAgIHF1YXQudm11bHQod2MsIHdjKTtcbiAgICAgIHBvcy52YWRkKHdjLCB3Yyk7XG4gICAgICBjb25zdCB4ID0gd2MueDtcbiAgICAgIGNvbnN0IHkgPSB3Yy55O1xuICAgICAgY29uc3QgeiA9IHdjLno7XG5cbiAgICAgIGlmICh4ID4gbWF4LngpIHtcbiAgICAgICAgbWF4LnggPSB4O1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA+IG1heC55KSB7XG4gICAgICAgIG1heC55ID0geTtcbiAgICAgIH1cblxuICAgICAgaWYgKHogPiBtYXgueikge1xuICAgICAgICBtYXgueiA9IHo7XG4gICAgICB9XG5cbiAgICAgIGlmICh4IDwgbWluLngpIHtcbiAgICAgICAgbWluLnggPSB4O1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA8IG1pbi55KSB7XG4gICAgICAgIG1pbi55ID0geTtcbiAgICAgIH1cblxuICAgICAgaWYgKHogPCBtaW4ueikge1xuICAgICAgICBtaW4ueiA9IHo7XG4gICAgICB9XG4gICAgfSAvLyBHZXQgZWFjaCBheGlzIG1heFxuICAgIC8vIG1pbi5zZXQoSW5maW5pdHksSW5maW5pdHksSW5maW5pdHkpO1xuICAgIC8vIG1heC5zZXQoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpO1xuICAgIC8vIHRoaXMuZm9yRWFjaFdvcmxkQ29ybmVyKHBvcyxxdWF0LGZ1bmN0aW9uKHgseSx6KXtcbiAgICAvLyAgICAgaWYoeCA+IG1heC54KXtcbiAgICAvLyAgICAgICAgIG1heC54ID0geDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZih5ID4gbWF4Lnkpe1xuICAgIC8vICAgICAgICAgbWF4LnkgPSB5O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHogPiBtYXgueil7XG4gICAgLy8gICAgICAgICBtYXgueiA9IHo7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYoeCA8IG1pbi54KXtcbiAgICAvLyAgICAgICAgIG1pbi54ID0geDtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICBpZih5IDwgbWluLnkpe1xuICAgIC8vICAgICAgICAgbWluLnkgPSB5O1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGlmKHogPCBtaW4ueil7XG4gICAgLy8gICAgICAgICBtaW4ueiA9IHo7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9KTtcblxuICB9XG5cbn1cblxuQm94LmNhbGN1bGF0ZUluZXJ0aWEgPSAoaGFsZkV4dGVudHMsIG1hc3MsIHRhcmdldCkgPT4ge1xuICBjb25zdCBlID0gaGFsZkV4dGVudHM7XG4gIHRhcmdldC54ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIGUueSAqIDIgKiBlLnkgKyAyICogZS56ICogMiAqIGUueik7XG4gIHRhcmdldC55ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIGUueCAqIDIgKiBlLnggKyAyICogZS56ICogMiAqIGUueik7XG4gIHRhcmdldC56ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIGUueSAqIDIgKiBlLnkgKyAyICogZS54ICogMiAqIGUueCk7XG59O1xuXG5jb25zdCB3b3JsZENvcm5lclRlbXBQb3MgPSBuZXcgVmVjMygpO1xuY29uc3Qgd29ybGRDb3JuZXJzVGVtcCA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXTtcblxuY29uc3QgQk9EWV9UWVBFUyA9IHtcbiAgRFlOQU1JQzogMSxcbiAgU1RBVElDOiAyLFxuICBLSU5FTUFUSUM6IDRcbn07XG5jb25zdCBCT0RZX1NMRUVQX1NUQVRFUyA9IHtcbiAgQVdBS0U6IDAsXG4gIFNMRUVQWTogMSxcbiAgU0xFRVBJTkc6IDJcbn07XG5cbi8qKlxyXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgYm9keSB0eXBlcy5cclxuICogQGNsYXNzIEJvZHlcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0XHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5wb3NpdGlvbl1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy52ZWxvY2l0eV1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmd1bGFyVmVsb2NpdHldXHJcbiAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW29wdGlvbnMucXVhdGVybmlvbl1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1hc3NdXHJcbiAqIEBwYXJhbSB7TWF0ZXJpYWx9IFtvcHRpb25zLm1hdGVyaWFsXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudHlwZV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmVhckRhbXBpbmc9MC4wMV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuZ3VsYXJEYW1waW5nPTAuMDFdXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dTbGVlcD10cnVlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBTcGVlZExpbWl0PTAuMV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNsZWVwVGltZUxpbWl0PTFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5maXhlZFJvdGF0aW9uPWZhbHNlXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmxpbmVhckZhY3Rvcl1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmd1bGFyRmFjdG9yXVxyXG4gKiBAcGFyYW0ge1NoYXBlfSBbb3B0aW9ucy5zaGFwZV1cclxuICogQGV4YW1wbGVcclxuICogICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7XHJcbiAqICAgICAgICAgbWFzczogMVxyXG4gKiAgICAgfSk7XHJcbiAqICAgICBjb25zdCBzaGFwZSA9IG5ldyBTcGhlcmUoMSk7XHJcbiAqICAgICBib2R5LmFkZFNoYXBlKHNoYXBlKTtcclxuICogICAgIHdvcmxkLmFkZEJvZHkoYm9keSk7XHJcbiAqL1xuY2xhc3MgQm9keSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgLy8gUG9zaXRpb24gb2YgYm9keSBpbiBXb3JsZC5ib2RpZXMuIFVwZGF0ZWQgYnkgV29ybGQgYW5kIHVzZWQgaW4gQXJyYXlDb2xsaXNpb25NYXRyaXguXG4gIC8vIFJlZmVyZW5jZSB0byB0aGUgd29ybGQgdGhlIGJvZHkgaXMgbGl2aW5nIGluLlxuICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQkVGT1JFIHN0ZXBwaW5nIHRoZSBzeXN0ZW0uIFVzZSBpdCB0byBhcHBseSBmb3JjZXMsIGZvciBleGFtcGxlLiBJbnNpZGUgdGhlIGZ1bmN0aW9uLCBcInRoaXNcIiB3aWxsIHJlZmVyIHRvIHRoaXMgQm9keSBvYmplY3QuIERlcHJlY2F0ZWQgLSB1c2UgV29ybGQgZXZlbnRzIGluc3RlYWQuXG4gIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBBRlRFUiBzdGVwcGluZyB0aGUgc3lzdGVtLiBJbnNpZGUgdGhlIGZ1bmN0aW9uLCBcInRoaXNcIiB3aWxsIHJlZmVyIHRvIHRoaXMgQm9keSBvYmplY3QuIERlcHJlY2F0ZWQgLSB1c2UgV29ybGQgZXZlbnRzIGluc3RlYWQuXG4gIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZCAtIGkuZS4gXCJjb2xsaWRlXCIgZXZlbnRzIHdpbGwgYmUgcmFpc2VkLCBidXQgZm9yY2VzIHdpbGwgbm90IGJlIGFsdGVyZWQuXG4gIC8vIFdvcmxkIHNwYWNlIHBvc2l0aW9uIG9mIHRoZSBib2R5LlxuICAvLyBJbnRlcnBvbGF0ZWQgcG9zaXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIEluaXRpYWwgcG9zaXRpb24gb2YgdGhlIGJvZHkuXG4gIC8vIFdvcmxkIHNwYWNlIHZlbG9jaXR5IG9mIHRoZSBib2R5LlxuICAvLyBMaW5lYXIgZm9yY2Ugb24gdGhlIGJvZHkgaW4gd29ybGQgc3BhY2UuXG4gIC8vIE9uZSBvZjogQm9keS5EWU5BTUlDLCBCb2R5LlNUQVRJQyBhbmQgQm9keS5LSU5FTUFUSUMuXG4gIC8vIElmIHRydWUsIHRoZSBib2R5IHdpbGwgYXV0b21hdGljYWxseSBmYWxsIHRvIHNsZWVwLlxuICAvLyBDdXJyZW50IHNsZWVwIHN0YXRlLlxuICAvLyBJZiB0aGUgc3BlZWQgKHRoZSBub3JtIG9mIHRoZSB2ZWxvY2l0eSkgaXMgc21hbGxlciB0aGFuIHRoaXMgdmFsdWUsIHRoZSBib2R5IGlzIGNvbnNpZGVyZWQgc2xlZXB5LlxuICAvLyBJZiB0aGUgYm9keSBoYXMgYmVlbiBzbGVlcHkgZm9yIHRoaXMgc2xlZXBUaW1lTGltaXQgc2Vjb25kcywgaXQgaXMgY29uc2lkZXJlZCBzbGVlcGluZy5cbiAgLy8gV29ybGQgc3BhY2Ugcm90YXRpb25hbCBmb3JjZSBvbiB0aGUgYm9keSwgYXJvdW5kIGNlbnRlciBvZiBtYXNzLlxuICAvLyBXb3JsZCBzcGFjZSBvcmllbnRhdGlvbiBvZiB0aGUgYm9keS5cbiAgLy8gSW50ZXJwb2xhdGVkIG9yaWVudGF0aW9uIG9mIHRoZSBib2R5LlxuICAvLyBBbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2R5LCBpbiB3b3JsZCBzcGFjZS4gVGhpbmsgb2YgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgYXMgYSB2ZWN0b3IsIHdoaWNoIHRoZSBib2R5IHJvdGF0ZXMgYXJvdW5kLiBUaGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yIGRldGVybWluZXMgaG93IGZhc3QgKGluIHJhZGlhbnMgcGVyIHNlY29uZCkgdGhlIGJvZHkgcm90YXRlcy5cbiAgLy8gUG9zaXRpb24gb2YgZWFjaCBTaGFwZSBpbiB0aGUgYm9keSwgZ2l2ZW4gaW4gbG9jYWwgQm9keSBzcGFjZS5cbiAgLy8gT3JpZW50YXRpb24gb2YgZWFjaCBTaGFwZSwgZ2l2ZW4gaW4gbG9jYWwgQm9keSBzcGFjZS5cbiAgLy8gU2V0IHRvIHRydWUgaWYgeW91IGRvbid0IHdhbnQgdGhlIGJvZHkgdG8gcm90YXRlLiBNYWtlIHN1cmUgdG8gcnVuIC51cGRhdGVNYXNzUHJvcGVydGllcygpIGFmdGVyIGNoYW5naW5nIHRoaXMuXG4gIC8vIFVzZSB0aGlzIHByb3BlcnR5IHRvIGxpbWl0IHRoZSBtb3Rpb24gYWxvbmcgYW55IHdvcmxkIGF4aXMuICgxLDEsMSkgd2lsbCBhbGxvdyBtb3Rpb24gYWxvbmcgYWxsIGF4ZXMgd2hpbGUgKDAsMCwwKSBhbGxvd3Mgbm9uZS5cbiAgLy8gVXNlIHRoaXMgcHJvcGVydHkgdG8gbGltaXQgdGhlIHJvdGF0aW9uYWwgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgcm90YXRpb24gYWxvbmcgYWxsIGF4ZXMgd2hpbGUgKDAsMCwwKSBhbGxvd3Mgbm9uZS5cbiAgLy8gV29ybGQgc3BhY2UgYm91bmRpbmcgYm94IG9mIHRoZSBib2R5IGFuZCBpdHMgc2hhcGVzLlxuICAvLyBJbmRpY2F0ZXMgaWYgdGhlIEFBQkIgbmVlZHMgdG8gYmUgdXBkYXRlZCBiZWZvcmUgdXNlLlxuICAvLyBUb3RhbCBib3VuZGluZyByYWRpdXMgb2YgdGhlIEJvZHkgaW5jbHVkaW5nIGl0cyBzaGFwZXMsIHJlbGF0aXZlIHRvIGJvZHkucG9zaXRpb24uXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pZCA9IEJvZHkuaWRDb3VudGVyKys7XG4gICAgdGhpcy5pbmRleCA9IC0xO1xuICAgIHRoaXMud29ybGQgPSBudWxsO1xuICAgIHRoaXMucHJlU3RlcCA9IG51bGw7XG4gICAgdGhpcy5wb3N0U3RlcCA9IG51bGw7XG4gICAgdGhpcy52bGFtYmRhID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPT09ICdudW1iZXInID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA6IDE7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTtcbiAgICB0aGlzLmNvbGxpc2lvblJlc3BvbnNlID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbnRlcnBvbGF0ZWRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbml0UG9zaXRpb24gPSBuZXcgVmVjMygpO1xuXG4gICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTtcbiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgICAgdGhpcy5pbnRlcnBvbGF0ZWRQb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pO1xuICAgICAgdGhpcy5pbml0UG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLnZlbG9jaXR5ID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLnZlbG9jaXR5KSB7XG4gICAgICB0aGlzLnZlbG9jaXR5LmNvcHkob3B0aW9ucy52ZWxvY2l0eSk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0VmVsb2NpdHkgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuZm9yY2UgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IG1hc3MgPSB0eXBlb2Ygb3B0aW9ucy5tYXNzID09PSAnbnVtYmVyJyA/IG9wdGlvbnMubWFzcyA6IDA7XG4gICAgdGhpcy5tYXNzID0gbWFzcztcbiAgICB0aGlzLmludk1hc3MgPSBtYXNzID4gMCA/IDEuMCAvIG1hc3MgOiAwO1xuICAgIHRoaXMubWF0ZXJpYWwgPSBvcHRpb25zLm1hdGVyaWFsIHx8IG51bGw7XG4gICAgdGhpcy5saW5lYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMubGluZWFyRGFtcGluZyA9PT0gJ251bWJlcicgPyBvcHRpb25zLmxpbmVhckRhbXBpbmcgOiAwLjAxO1xuICAgIHRoaXMudHlwZSA9IG1hc3MgPD0gMC4wID8gQm9keS5TVEFUSUMgOiBCb2R5LkRZTkFNSUM7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHlwZSA9PT0gdHlwZW9mIEJvZHkuU1RBVElDKSB7XG4gICAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgfVxuXG4gICAgdGhpcy5hbGxvd1NsZWVwID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dTbGVlcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFsbG93U2xlZXAgOiB0cnVlO1xuICAgIHRoaXMuc2xlZXBTdGF0ZSA9IDA7XG4gICAgdGhpcy5zbGVlcFNwZWVkTGltaXQgPSB0eXBlb2Ygb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgOiAwLjE7XG4gICAgdGhpcy5zbGVlcFRpbWVMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwVGltZUxpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgOiAxO1xuICAgIHRoaXMudGltZUxhc3RTbGVlcHkgPSAwO1xuICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlO1xuICAgIHRoaXMudG9ycXVlID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHRoaXMuaW5pdFF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTtcbiAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpO1xuXG4gICAgaWYgKG9wdGlvbnMucXVhdGVybmlvbikge1xuICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTtcbiAgICAgIHRoaXMuaW5pdFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pO1xuICAgICAgdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpIHtcbiAgICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LmNvcHkob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdEFuZ3VsYXJWZWxvY2l0eSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5zaGFwZXMgPSBbXTtcbiAgICB0aGlzLnNoYXBlT2Zmc2V0cyA9IFtdO1xuICAgIHRoaXMuc2hhcGVPcmllbnRhdGlvbnMgPSBbXTtcbiAgICB0aGlzLmluZXJ0aWEgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuaW52SW5lcnRpYSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbnZJbmVydGlhV29ybGQgPSBuZXcgTWF0MygpO1xuICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDtcbiAgICB0aGlzLmludkluZXJ0aWFTb2x2ZSA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZSA9IG5ldyBNYXQzKCk7XG4gICAgdGhpcy5maXhlZFJvdGF0aW9uID0gdHlwZW9mIG9wdGlvbnMuZml4ZWRSb3RhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZpeGVkUm90YXRpb24gOiBmYWxzZTtcbiAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMuYW5ndWxhckRhbXBpbmcgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmd1bGFyRGFtcGluZyA6IDAuMDE7XG4gICAgdGhpcy5saW5lYXJGYWN0b3IgPSBuZXcgVmVjMygxLCAxLCAxKTtcblxuICAgIGlmIChvcHRpb25zLmxpbmVhckZhY3Rvcikge1xuICAgICAgdGhpcy5saW5lYXJGYWN0b3IuY29weShvcHRpb25zLmxpbmVhckZhY3Rvcik7XG4gICAgfVxuXG4gICAgdGhpcy5hbmd1bGFyRmFjdG9yID0gbmV3IFZlYzMoMSwgMSwgMSk7XG5cbiAgICBpZiAob3B0aW9ucy5hbmd1bGFyRmFjdG9yKSB7XG4gICAgICB0aGlzLmFuZ3VsYXJGYWN0b3IuY29weShvcHRpb25zLmFuZ3VsYXJGYWN0b3IpO1xuICAgIH1cblxuICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7XG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSAwO1xuICAgIHRoaXMud2xhbWJkYSA9IG5ldyBWZWMzKCk7XG5cbiAgICBpZiAob3B0aW9ucy5zaGFwZSkge1xuICAgICAgdGhpcy5hZGRTaGFwZShvcHRpb25zLnNoYXBlKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogV2FrZSB0aGUgYm9keSB1cC5cclxuICAgKiBAbWV0aG9kIHdha2VVcFxyXG4gICAqL1xuXG5cbiAgd2FrZVVwKCkge1xuICAgIGNvbnN0IHByZXZTdGF0ZSA9IHRoaXMuc2xlZXBTdGF0ZTtcbiAgICB0aGlzLnNsZWVwU3RhdGUgPSAwO1xuICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlO1xuXG4gICAgaWYgKHByZXZTdGF0ZSA9PT0gQm9keS5TTEVFUElORykge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkud2FrZXVwRXZlbnQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBGb3JjZSBib2R5IHNsZWVwXHJcbiAgICogQG1ldGhvZCBzbGVlcFxyXG4gICAqL1xuXG5cbiAgc2xlZXAoKSB7XG4gICAgdGhpcy5zbGVlcFN0YXRlID0gQm9keS5TTEVFUElORztcbiAgICB0aGlzLnZlbG9jaXR5LnNldCgwLCAwLCAwKTtcbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5zZXQoMCwgMCwgMCk7XG4gICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2FsbGVkIGV2ZXJ5IHRpbWVzdGVwIHRvIHVwZGF0ZSBpbnRlcm5hbCBzbGVlcCB0aW1lciBhbmQgY2hhbmdlIHNsZWVwIHN0YXRlIGlmIG5lZWRlZC5cclxuICAgKiBAbWV0aG9kIHNsZWVwVGlja1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIFRoZSB3b3JsZCB0aW1lIGluIHNlY29uZHNcclxuICAgKi9cblxuXG4gIHNsZWVwVGljayh0aW1lKSB7XG4gICAgaWYgKHRoaXMuYWxsb3dTbGVlcCkge1xuICAgICAgY29uc3Qgc2xlZXBTdGF0ZSA9IHRoaXMuc2xlZXBTdGF0ZTtcbiAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZCA9IHRoaXMudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgdGhpcy5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpO1xuICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWQgPSB0aGlzLnNsZWVwU3BlZWRMaW1pdCAqKiAyO1xuXG4gICAgICBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBzcGVlZFNxdWFyZWQgPCBzcGVlZExpbWl0U3F1YXJlZCkge1xuICAgICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQWTsgLy8gU2xlZXB5XG5cbiAgICAgICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IHRpbWU7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5LnNsZWVweUV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUFkgJiYgc3BlZWRTcXVhcmVkID4gc3BlZWRMaW1pdFNxdWFyZWQpIHtcbiAgICAgICAgdGhpcy53YWtlVXAoKTsgLy8gV2FrZSB1cFxuICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiB0aW1lIC0gdGhpcy50aW1lTGFzdFNsZWVweSA+IHRoaXMuc2xlZXBUaW1lTGltaXQpIHtcbiAgICAgICAgdGhpcy5zbGVlcCgpOyAvLyBTbGVlcGluZ1xuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5LnNsZWVwRXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBJZiB0aGUgYm9keSBpcyBzbGVlcGluZywgaXQgc2hvdWxkIGJlIGltbW92YWJsZSAvIGhhdmUgaW5maW5pdGUgbWFzcyBkdXJpbmcgc29sdmUuIFdlIHNvbHZlIGl0IGJ5IGhhdmluZyBhIHNlcGFyYXRlIFwic29sdmUgbWFzc1wiLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlU29sdmVNYXNzUHJvcGVydGllc1xyXG4gICAqL1xuXG5cbiAgdXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpIHtcbiAgICBpZiAodGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HIHx8IHRoaXMudHlwZSA9PT0gQm9keS5LSU5FTUFUSUMpIHtcbiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDtcbiAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlLnNldFplcm8oKTtcbiAgICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkU29sdmUuc2V0WmVybygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IHRoaXMuaW52TWFzcztcbiAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlLmNvcHkodGhpcy5pbnZJbmVydGlhKTtcbiAgICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkU29sdmUuY29weSh0aGlzLmludkluZXJ0aWFXb3JsZCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgYSB3b3JsZCBwb2ludCB0byBsb2NhbCBib2R5IGZyYW1lLlxyXG4gICAqIEBtZXRob2QgcG9pbnRUb0xvY2FsRnJhbWVcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50XHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICogQHJldHVybiB7VmVjM31cclxuICAgKi9cblxuXG4gIHBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB3b3JsZFBvaW50LnZzdWIodGhpcy5wb3NpdGlvbiwgcmVzdWx0KTtcbiAgICB0aGlzLnF1YXRlcm5pb24uY29uanVnYXRlKCkudm11bHQocmVzdWx0LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29udmVydCBhIHdvcmxkIHZlY3RvciB0byBsb2NhbCBib2R5IGZyYW1lLlxyXG4gICAqIEBtZXRob2QgdmVjdG9yVG9Mb2NhbEZyYW1lXHJcbiAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICB2ZWN0b3JUb0xvY2FsRnJhbWUod29ybGRWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0aGlzLnF1YXRlcm5pb24uY29uanVnYXRlKCkudm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBDb252ZXJ0IGEgbG9jYWwgYm9keSBwb2ludCB0byB3b3JsZCBmcmFtZS5cclxuICAgKiBAbWV0aG9kIHBvaW50VG9Xb3JsZEZyYW1lXHJcbiAgICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBwb2ludFRvV29ybGRGcmFtZShsb2NhbFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsUG9pbnQsIHJlc3VsdCk7XG4gICAgcmVzdWx0LnZhZGQodGhpcy5wb3NpdGlvbiwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLlxyXG4gICAqIEBtZXRob2QgdmVjdG9yVG9Xb3JsZEZyYW1lXHJcbiAgICogQHBhcmFtICB7VmVjM30gbG9jYWxWZWN0b3JcclxuICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgdmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgc2hhcGUgdG8gdGhlIGJvZHkgd2l0aCBhIGxvY2FsIG9mZnNldCBhbmQgb3JpZW50YXRpb24uXHJcbiAgICogQG1ldGhvZCBhZGRTaGFwZVxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXHJcbiAgICogQHBhcmFtIHtWZWMzfSBbX29mZnNldF1cclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFtfb3JpZW50YXRpb25dXHJcbiAgICogQHJldHVybiB7Qm9keX0gVGhlIGJvZHkgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxyXG4gICAqL1xuXG5cbiAgYWRkU2hhcGUoc2hhcGUsIF9vZmZzZXQsIF9vcmllbnRhdGlvbikge1xuICAgIGNvbnN0IG9mZnNldCA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSBuZXcgUXVhdGVybmlvbigpO1xuXG4gICAgaWYgKF9vZmZzZXQpIHtcbiAgICAgIG9mZnNldC5jb3B5KF9vZmZzZXQpO1xuICAgIH1cblxuICAgIGlmIChfb3JpZW50YXRpb24pIHtcbiAgICAgIG9yaWVudGF0aW9uLmNvcHkoX29yaWVudGF0aW9uKTtcbiAgICB9XG5cbiAgICB0aGlzLnNoYXBlcy5wdXNoKHNoYXBlKTtcbiAgICB0aGlzLnNoYXBlT2Zmc2V0cy5wdXNoKG9mZnNldCk7XG4gICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucy5wdXNoKG9yaWVudGF0aW9uKTtcbiAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpO1xuICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICBzaGFwZS5ib2R5ID0gdGhpcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgYm9keS4gU2hvdWxkIGJlIGRvbmUgaWYgYW55IG9mIHRoZSBzaGFwZXMgYXJlIGNoYW5nZWQuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1c1xyXG4gICAqL1xuXG5cbiAgdXBkYXRlQm91bmRpbmdSYWRpdXMoKSB7XG4gICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7XG4gICAgY29uc3Qgc2hhcGVPZmZzZXRzID0gdGhpcy5zaGFwZU9mZnNldHM7XG4gICAgY29uc3QgTiA9IHNoYXBlcy5sZW5ndGg7XG4gICAgbGV0IHJhZGl1cyA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTtcbiAgICAgIHNoYXBlLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gICAgICBjb25zdCBvZmZzZXQgPSBzaGFwZU9mZnNldHNbaV0ubGVuZ3RoKCk7XG4gICAgICBjb25zdCByID0gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7XG5cbiAgICAgIGlmIChvZmZzZXQgKyByID4gcmFkaXVzKSB7XG4gICAgICAgIHJhZGl1cyA9IG9mZnNldCArIHI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHJhZGl1cztcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSAuYWFiYlxyXG4gICAqIEBtZXRob2QgY29tcHV0ZUFBQkJcclxuICAgKiBAdG9kbyByZW5hbWUgdG8gdXBkYXRlQUFCQigpXHJcbiAgICovXG5cblxuICBjb21wdXRlQUFCQigpIHtcbiAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNoYXBlcztcbiAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0cztcbiAgICBjb25zdCBzaGFwZU9yaWVudGF0aW9ucyA9IHRoaXMuc2hhcGVPcmllbnRhdGlvbnM7XG4gICAgY29uc3QgTiA9IHNoYXBlcy5sZW5ndGg7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdG1wVmVjO1xuICAgIGNvbnN0IG9yaWVudGF0aW9uID0gdG1wUXVhdCQxO1xuICAgIGNvbnN0IGJvZHlRdWF0ID0gdGhpcy5xdWF0ZXJuaW9uO1xuICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7XG4gICAgY29uc3Qgc2hhcGVBQUJCID0gY29tcHV0ZUFBQkJfc2hhcGVBQUJCO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3Qgc2hhcGUgPSBzaGFwZXNbaV07IC8vIEdldCBzaGFwZSB3b3JsZCBwb3NpdGlvblxuXG4gICAgICBib2R5UXVhdC52bXVsdChzaGFwZU9mZnNldHNbaV0sIG9mZnNldCk7XG4gICAgICBvZmZzZXQudmFkZCh0aGlzLnBvc2l0aW9uLCBvZmZzZXQpOyAvLyBHZXQgc2hhcGUgd29ybGQgcXVhdGVybmlvblxuXG4gICAgICBib2R5UXVhdC5tdWx0KHNoYXBlT3JpZW50YXRpb25zW2ldLCBvcmllbnRhdGlvbik7IC8vIEdldCBzaGFwZSBBQUJCXG5cbiAgICAgIHNoYXBlLmNhbGN1bGF0ZVdvcmxkQUFCQihvZmZzZXQsIG9yaWVudGF0aW9uLCBzaGFwZUFBQkIubG93ZXJCb3VuZCwgc2hhcGVBQUJCLnVwcGVyQm91bmQpO1xuXG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICBhYWJiLmNvcHkoc2hhcGVBQUJCKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFhYmIuZXh0ZW5kKHNoYXBlQUFCQik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgLmluZXJ0aWFXb3JsZCBhbmQgLmludkluZXJ0aWFXb3JsZFxyXG4gICAqIEBtZXRob2QgdXBkYXRlSW5lcnRpYVdvcmxkXHJcbiAgICovXG5cblxuICB1cGRhdGVJbmVydGlhV29ybGQoZm9yY2UpIHtcbiAgICBjb25zdCBJID0gdGhpcy5pbnZJbmVydGlhO1xuXG4gICAgaWYgKEkueCA9PT0gSS55ICYmIEkueSA9PT0gSS56ICYmICFmb3JjZSkgOyBlbHNlIHtcbiAgICAgIGNvbnN0IG0xID0gdWl3X20xO1xuICAgICAgY29uc3QgbTIgPSB1aXdfbTI7XG4gICAgICBtMS5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMucXVhdGVybmlvbik7XG4gICAgICBtMS50cmFuc3Bvc2UobTIpO1xuICAgICAgbTEuc2NhbGUoSSwgbTEpO1xuICAgICAgbTEubW11bHQobTIsIHRoaXMuaW52SW5lcnRpYVdvcmxkKTtcbiAgICB9XG4gIH1cblxuICBhcHBseUZvcmNlKGZvcmNlLCByZWxhdGl2ZVBvaW50KSB7XG4gICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7XG4gICAgICAvLyBOZWVkZWQ/XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgZm9yY2VcblxuXG4gICAgY29uc3Qgcm90Rm9yY2UgPSBCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2U7XG4gICAgcmVsYXRpdmVQb2ludC5jcm9zcyhmb3JjZSwgcm90Rm9yY2UpOyAvLyBBZGQgbGluZWFyIGZvcmNlXG5cbiAgICB0aGlzLmZvcmNlLnZhZGQoZm9yY2UsIHRoaXMuZm9yY2UpOyAvLyBBZGQgcm90YXRpb25hbCBmb3JjZVxuXG4gICAgdGhpcy50b3JxdWUudmFkZChyb3RGb3JjZSwgdGhpcy50b3JxdWUpO1xuICB9XG5cbiAgYXBwbHlMb2NhbEZvcmNlKGxvY2FsRm9yY2UsIGxvY2FsUG9pbnQpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB3b3JsZEZvcmNlID0gQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZTtcbiAgICBjb25zdCByZWxhdGl2ZVBvaW50V29ybGQgPSBCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQ7IC8vIFRyYW5zZm9ybSB0aGUgZm9yY2UgdmVjdG9yIHRvIHdvcmxkIHNwYWNlXG5cbiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEZvcmNlLCB3b3JsZEZvcmNlKTtcbiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbFBvaW50LCByZWxhdGl2ZVBvaW50V29ybGQpO1xuICAgIHRoaXMuYXBwbHlGb3JjZSh3b3JsZEZvcmNlLCByZWxhdGl2ZVBvaW50V29ybGQpO1xuICB9XG5cbiAgYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbGF0aXZlUG9pbnQpIHtcbiAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIENvbXB1dGUgcG9pbnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGJvZHkgY2VudGVyXG5cblxuICAgIGNvbnN0IHIgPSByZWxhdGl2ZVBvaW50OyAvLyBDb21wdXRlIHByb2R1Y2VkIGNlbnRyYWwgaW1wdWxzZSB2ZWxvY2l0eVxuXG4gICAgY29uc3QgdmVsbyA9IEJvZHlfYXBwbHlJbXB1bHNlX3ZlbG87XG4gICAgdmVsby5jb3B5KGltcHVsc2UpO1xuICAgIHZlbG8uc2NhbGUodGhpcy5pbnZNYXNzLCB2ZWxvKTsgLy8gQWRkIGxpbmVhciBpbXB1bHNlXG5cbiAgICB0aGlzLnZlbG9jaXR5LnZhZGQodmVsbywgdGhpcy52ZWxvY2l0eSk7IC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBpbXB1bHNlIHZlbG9jaXR5XG5cbiAgICBjb25zdCByb3RWZWxvID0gQm9keV9hcHBseUltcHVsc2Vfcm90VmVsbztcbiAgICByLmNyb3NzKGltcHVsc2UsIHJvdFZlbG8pO1xuICAgIC8qXHJcbiAgICAgcm90VmVsby54ICo9IHRoaXMuaW52SW5lcnRpYS54O1xyXG4gICAgIHJvdFZlbG8ueSAqPSB0aGlzLmludkluZXJ0aWEueTtcclxuICAgICByb3RWZWxvLnogKj0gdGhpcy5pbnZJbmVydGlhLno7XHJcbiAgICAgKi9cblxuICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkLnZtdWx0KHJvdFZlbG8sIHJvdFZlbG8pOyAvLyBBZGQgcm90YXRpb25hbCBJbXB1bHNlXG5cbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS52YWRkKHJvdFZlbG8sIHRoaXMuYW5ndWxhclZlbG9jaXR5KTtcbiAgfVxuXG4gIGFwcGx5TG9jYWxJbXB1bHNlKGxvY2FsSW1wdWxzZSwgbG9jYWxQb2ludCkge1xuICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdvcmxkSW1wdWxzZSA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlO1xuICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2VfcmVsYXRpdmVQb2ludDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2VcblxuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsSW1wdWxzZSwgd29ybGRJbXB1bHNlKTtcbiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbFBvaW50LCByZWxhdGl2ZVBvaW50V29ybGQpO1xuICAgIHRoaXMuYXBwbHlJbXB1bHNlKHdvcmxkSW1wdWxzZSwgcmVsYXRpdmVQb2ludFdvcmxkKTtcbiAgfVxuICAvKipcclxuICAgKiBTaG91bGQgYmUgY2FsbGVkIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGJvZHkgc2hhcGUgb3IgbWFzcy5cclxuICAgKiBAbWV0aG9kIHVwZGF0ZU1hc3NQcm9wZXJ0aWVzXHJcbiAgICovXG5cblxuICB1cGRhdGVNYXNzUHJvcGVydGllcygpIHtcbiAgICBjb25zdCBoYWxmRXh0ZW50cyA9IEJvZHlfdXBkYXRlTWFzc1Byb3BlcnRpZXNfaGFsZkV4dGVudHM7XG4gICAgdGhpcy5pbnZNYXNzID0gdGhpcy5tYXNzID4gMCA/IDEuMCAvIHRoaXMubWFzcyA6IDA7XG4gICAgY29uc3QgSSA9IHRoaXMuaW5lcnRpYTtcbiAgICBjb25zdCBmaXhlZCA9IHRoaXMuZml4ZWRSb3RhdGlvbjsgLy8gQXBwcm94aW1hdGUgd2l0aCBBQUJCIGJveFxuXG4gICAgdGhpcy5jb21wdXRlQUFCQigpO1xuICAgIGhhbGZFeHRlbnRzLnNldCgodGhpcy5hYWJiLnVwcGVyQm91bmQueCAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLngpIC8gMiwgKHRoaXMuYWFiYi51cHBlckJvdW5kLnkgLSB0aGlzLmFhYmIubG93ZXJCb3VuZC55KSAvIDIsICh0aGlzLmFhYmIudXBwZXJCb3VuZC56IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueikgLyAyKTtcbiAgICBCb3guY2FsY3VsYXRlSW5lcnRpYShoYWxmRXh0ZW50cywgdGhpcy5tYXNzLCBJKTtcbiAgICB0aGlzLmludkluZXJ0aWEuc2V0KEkueCA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS54IDogMCwgSS55ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnkgOiAwLCBJLnogPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueiA6IDApO1xuICAgIHRoaXMudXBkYXRlSW5lcnRpYVdvcmxkKHRydWUpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB3b3JsZCB2ZWxvY2l0eSBvZiBhIHBvaW50IGluIHRoZSBib2R5LlxyXG4gICAqIEBtZXRob2QgZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB3b3JsZFBvaW50XHJcbiAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0XHJcbiAgICogQHJldHVybiB7VmVjM30gVGhlIHJlc3VsdCB2ZWN0b3IuXHJcbiAgICovXG5cblxuICBnZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3b3JsZFBvaW50LCByZXN1bHQpIHtcbiAgICBjb25zdCByID0gbmV3IFZlYzMoKTtcbiAgICB3b3JsZFBvaW50LnZzdWIodGhpcy5wb3NpdGlvbiwgcik7XG4gICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MociwgcmVzdWx0KTtcbiAgICB0aGlzLnZlbG9jaXR5LnZhZGQocmVzdWx0LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgLyoqXHJcbiAgICogTW92ZSB0aGUgYm9keSBmb3J3YXJkIGluIHRpbWUuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGR0IFRpbWUgc3RlcFxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVhdE5vcm1hbGl6ZSBTZXQgdG8gdHJ1ZSB0byBub3JtYWxpemUgdGhlIGJvZHkgcXVhdGVybmlvblxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVhdE5vcm1hbGl6ZUZhc3QgSWYgdGhlIHF1YXRlcm5pb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWQgdXNpbmcgXCJmYXN0XCIgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uXHJcbiAgICovXG5cblxuICBpbnRlZ3JhdGUoZHQsIHF1YXROb3JtYWxpemUsIHF1YXROb3JtYWxpemVGYXN0KSB7XG4gICAgLy8gU2F2ZSBwcmV2aW91cyBwb3NpdGlvblxuICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24pO1xuICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uLmNvcHkodGhpcy5xdWF0ZXJuaW9uKTtcblxuICAgIGlmICghKHRoaXMudHlwZSA9PT0gQm9keS5EWU5BTUlDIHx8IHRoaXMudHlwZSA9PT0gQm9keS5LSU5FTUFUSUMpIHx8IHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykge1xuICAgICAgLy8gT25seSBmb3IgZHluYW1pY1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZlbG8gPSB0aGlzLnZlbG9jaXR5O1xuICAgIGNvbnN0IGFuZ3VsYXJWZWxvID0gdGhpcy5hbmd1bGFyVmVsb2NpdHk7XG4gICAgY29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbjtcbiAgICBjb25zdCBmb3JjZSA9IHRoaXMuZm9yY2U7XG4gICAgY29uc3QgdG9ycXVlID0gdGhpcy50b3JxdWU7XG4gICAgY29uc3QgcXVhdCA9IHRoaXMucXVhdGVybmlvbjtcbiAgICBjb25zdCBpbnZNYXNzID0gdGhpcy5pbnZNYXNzO1xuICAgIGNvbnN0IGludkluZXJ0aWEgPSB0aGlzLmludkluZXJ0aWFXb3JsZDtcbiAgICBjb25zdCBsaW5lYXJGYWN0b3IgPSB0aGlzLmxpbmVhckZhY3RvcjtcbiAgICBjb25zdCBpTWR0ID0gaW52TWFzcyAqIGR0O1xuICAgIHZlbG8ueCArPSBmb3JjZS54ICogaU1kdCAqIGxpbmVhckZhY3Rvci54O1xuICAgIHZlbG8ueSArPSBmb3JjZS55ICogaU1kdCAqIGxpbmVhckZhY3Rvci55O1xuICAgIHZlbG8ueiArPSBmb3JjZS56ICogaU1kdCAqIGxpbmVhckZhY3Rvci56O1xuICAgIGNvbnN0IGUgPSBpbnZJbmVydGlhLmVsZW1lbnRzO1xuICAgIGNvbnN0IGFuZ3VsYXJGYWN0b3IgPSB0aGlzLmFuZ3VsYXJGYWN0b3I7XG4gICAgY29uc3QgdHggPSB0b3JxdWUueCAqIGFuZ3VsYXJGYWN0b3IueDtcbiAgICBjb25zdCB0eSA9IHRvcnF1ZS55ICogYW5ndWxhckZhY3Rvci55O1xuICAgIGNvbnN0IHR6ID0gdG9ycXVlLnogKiBhbmd1bGFyRmFjdG9yLno7XG4gICAgYW5ndWxhclZlbG8ueCArPSBkdCAqIChlWzBdICogdHggKyBlWzFdICogdHkgKyBlWzJdICogdHopO1xuICAgIGFuZ3VsYXJWZWxvLnkgKz0gZHQgKiAoZVszXSAqIHR4ICsgZVs0XSAqIHR5ICsgZVs1XSAqIHR6KTtcbiAgICBhbmd1bGFyVmVsby56ICs9IGR0ICogKGVbNl0gKiB0eCArIGVbN10gKiB0eSArIGVbOF0gKiB0eik7IC8vIFVzZSBuZXcgdmVsb2NpdHkgIC0gbGVhcCBmcm9nXG5cbiAgICBwb3MueCArPSB2ZWxvLnggKiBkdDtcbiAgICBwb3MueSArPSB2ZWxvLnkgKiBkdDtcbiAgICBwb3MueiArPSB2ZWxvLnogKiBkdDtcbiAgICBxdWF0LmludGVncmF0ZSh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwgZHQsIHRoaXMuYW5ndWxhckZhY3RvciwgcXVhdCk7XG5cbiAgICBpZiAocXVhdE5vcm1hbGl6ZSkge1xuICAgICAgaWYgKHF1YXROb3JtYWxpemVGYXN0KSB7XG4gICAgICAgIHF1YXQubm9ybWFsaXplRmFzdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVhdC5ub3JtYWxpemUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7IC8vIFVwZGF0ZSB3b3JsZCBpbmVydGlhXG5cbiAgICB0aGlzLnVwZGF0ZUluZXJ0aWFXb3JsZCgpO1xuICB9XG5cbn1cbi8qKlxyXG4gKiBEaXNwYXRjaGVkIGFmdGVyIHR3byBib2RpZXMgY29sbGlkZS4gVGhpcyBldmVudCBpcyBkaXNwYXRjaGVkIG9uIGVhY2hcclxuICogb2YgdGhlIHR3byBib2RpZXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi5cclxuICogQGV2ZW50IGNvbGxpZGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5IFRoZSBib2R5IHRoYXQgd2FzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uXHJcbiAqIEBwYXJhbSB7Q29udGFjdEVxdWF0aW9ufSBjb250YWN0IFRoZSBkZXRhaWxzIG9mIHRoZSBjb2xsaXNpb24uXHJcbiAqL1xuXG5Cb2R5LkNPTExJREVfRVZFTlRfTkFNRSA9ICdjb2xsaWRlJztcbi8qKlxyXG4gKiBBIGR5bmFtaWMgYm9keSBpcyBmdWxseSBzaW11bGF0ZWQuIENhbiBiZSBtb3ZlZCBtYW51YWxseSBieSB0aGUgdXNlciwgYnV0IG5vcm1hbGx5IHRoZXkgbW92ZSBhY2NvcmRpbmcgdG8gZm9yY2VzLiBBIGR5bmFtaWMgYm9keSBjYW4gY29sbGlkZSB3aXRoIGFsbCBib2R5IHR5cGVzLiBBIGR5bmFtaWMgYm9keSBhbHdheXMgaGFzIGZpbml0ZSwgbm9uLXplcm8gbWFzcy5cclxuICogQHN0YXRpY1xyXG4gKiBAcHJvcGVydHkgRFlOQU1JQ1xyXG4gKiBAdHlwZSB7TnVtYmVyfVxyXG4gKi9cblxuQm9keS5EWU5BTUlDID0gMTtcbi8qKlxyXG4gKiBBIHN0YXRpYyBib2R5IGRvZXMgbm90IG1vdmUgZHVyaW5nIHNpbXVsYXRpb24gYW5kIGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIFN0YXRpYyBib2RpZXMgY2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHNldHRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5LiBUaGUgdmVsb2NpdHkgb2YgYSBzdGF0aWMgYm9keSBpcyBhbHdheXMgemVyby4gU3RhdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBwcm9wZXJ0eSBTVEFUSUNcclxuICogQHR5cGUge051bWJlcn1cclxuICovXG5cbkJvZHkuU1RBVElDID0gMjtcbi8qKlxyXG4gKiBBIGtpbmVtYXRpYyBib2R5IG1vdmVzIHVuZGVyIHNpbXVsYXRpb24gYWNjb3JkaW5nIHRvIGl0cyB2ZWxvY2l0eS4gVGhleSBkbyBub3QgcmVzcG9uZCB0byBmb3JjZXMuIFRoZXkgY2FuIGJlIG1vdmVkIG1hbnVhbGx5LCBidXQgbm9ybWFsbHkgYSBraW5lbWF0aWMgYm9keSBpcyBtb3ZlZCBieSBzZXR0aW5nIGl0cyB2ZWxvY2l0eS4gQSBraW5lbWF0aWMgYm9keSBiZWhhdmVzIGFzIGlmIGl0IGhhcyBpbmZpbml0ZSBtYXNzLiBLaW5lbWF0aWMgYm9kaWVzIGRvIG5vdCBjb2xsaWRlIHdpdGggb3RoZXIgc3RhdGljIG9yIGtpbmVtYXRpYyBib2RpZXMuXHJcbiAqIEBzdGF0aWNcclxuICogQHByb3BlcnR5IEtJTkVNQVRJQ1xyXG4gKiBAdHlwZSB7TnVtYmVyfVxyXG4gKi9cblxuQm9keS5LSU5FTUFUSUMgPSA0O1xuLyoqXHJcbiAqIEBzdGF0aWNcclxuICogQHByb3BlcnR5IEFXQUtFXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqL1xuXG5Cb2R5LkFXQUtFID0gQk9EWV9TTEVFUF9TVEFURVMuQVdBS0U7XG5Cb2R5LlNMRUVQWSA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQWTtcbkJvZHkuU0xFRVBJTkcgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUElORztcbkJvZHkuaWRDb3VudGVyID0gMDtcbi8qKlxyXG4gKiBEaXNwYXRjaGVkIGFmdGVyIGEgc2xlZXBpbmcgYm9keSBoYXMgd29rZW4gdXAuXHJcbiAqIEBldmVudCB3YWtldXBcclxuICovXG5cbkJvZHkud2FrZXVwRXZlbnQgPSB7XG4gIHR5cGU6ICd3YWtldXAnXG59O1xuLyoqXHJcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBnb25lIGluIHRvIHRoZSBzbGVlcHkgc3RhdGUuXHJcbiAqIEBldmVudCBzbGVlcHlcclxuICovXG5cbkJvZHkuc2xlZXB5RXZlbnQgPSB7XG4gIHR5cGU6ICdzbGVlcHknXG59O1xuLyoqXHJcbiAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBmYWxsZW4gYXNsZWVwLlxyXG4gKiBAZXZlbnQgc2xlZXBcclxuICovXG5cbkJvZHkuc2xlZXBFdmVudCA9IHtcbiAgdHlwZTogJ3NsZWVwJ1xufTtcbmNvbnN0IHRtcFZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBRdWF0JDEgPSBuZXcgUXVhdGVybmlvbigpO1xuY29uc3QgY29tcHV0ZUFBQkJfc2hhcGVBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IHVpd19tMSA9IG5ldyBNYXQzKCk7XG5jb25zdCB1aXdfbTIgPSBuZXcgTWF0MygpO1xuLyoqXHJcbiAqIEFwcGx5IGZvcmNlIHRvIGEgd29ybGQgcG9pbnQuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgYmUgYSBwb2ludCBvbiB0aGUgQm9keSBzdXJmYWNlLiBBcHBseWluZyBmb3JjZSB0aGlzIHdheSB3aWxsIGFkZCB0byBCb2R5LmZvcmNlIGFuZCBCb2R5LnRvcnF1ZS5cclxuICogQG1ldGhvZCBhcHBseUZvcmNlXHJcbiAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBhbW91bnQgb2YgZm9yY2UgdG8gYWRkLlxyXG4gKiBAcGFyYW0gIHtWZWMzfSByZWxhdGl2ZVBvaW50IEEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIHRvIGFwcGx5IHRoZSBmb3JjZSBvbi5cclxuICovXG5cbmNvbnN0IEJvZHlfYXBwbHlGb3JjZV9yb3RGb3JjZSA9IG5ldyBWZWMzKCk7XG4vKipcclxuICogQXBwbHkgZm9yY2UgdG8gYSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keS5cclxuICogQG1ldGhvZCBhcHBseUxvY2FsRm9yY2VcclxuICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGZvcmNlIHZlY3RvciB0byBhcHBseSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBib2R5IGZyYW1lLlxyXG4gKiBAcGFyYW0gIHtWZWMzfSBsb2NhbFBvaW50IEEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLlxyXG4gKi9cblxuY29uc3QgQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQgPSBuZXcgVmVjMygpO1xuLyoqXHJcbiAqIEFwcGx5IGltcHVsc2UgdG8gYSB3b3JsZCBwb2ludC4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuIEFuIGltcHVsc2UgaXMgYSBmb3JjZSBhZGRlZCB0byBhIGJvZHkgZHVyaW5nIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgKGltcHVsc2UgPSBmb3JjZSAqIHRpbWUpLiBJbXB1bHNlcyB3aWxsIGJlIGFkZGVkIHRvIEJvZHkudmVsb2NpdHkgYW5kIEJvZHkuYW5ndWxhclZlbG9jaXR5LlxyXG4gKiBAbWV0aG9kIGFwcGx5SW1wdWxzZVxyXG4gKiBAcGFyYW0gIHtWZWMzfSBpbXB1bHNlIFRoZSBhbW91bnQgb2YgaW1wdWxzZSB0byBhZGQuXHJcbiAqIEBwYXJhbSAge1ZlYzN9IHJlbGF0aXZlUG9pbnQgQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLlxyXG4gKi9cblxuY29uc3QgQm9keV9hcHBseUltcHVsc2VfdmVsbyA9IG5ldyBWZWMzKCk7XG5jb25zdCBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvID0gbmV3IFZlYzMoKTtcbi8qKlxyXG4gKiBBcHBseSBsb2NhbGx5LWRlZmluZWQgaW1wdWxzZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5LlxyXG4gKiBAbWV0aG9kIGFwcGx5TG9jYWxJbXB1bHNlXHJcbiAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS5cclxuICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludCBBIGxvY2FsIHBvaW50IGluIHRoZSBib2R5IHRvIGFwcGx5IHRoZSBmb3JjZSBvbi5cclxuICovXG5cbmNvbnN0IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlID0gbmV3IFZlYzMoKTtcbmNvbnN0IEJvZHlfYXBwbHlMb2NhbEltcHVsc2VfcmVsYXRpdmVQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCBCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGJyb2FkcGhhc2UgaW1wbGVtZW50YXRpb25zXHJcbiAqIEBjbGFzcyBCcm9hZHBoYXNlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqL1xuY2xhc3MgQnJvYWRwaGFzZSB7XG4gIC8vIFRoZSB3b3JsZCB0byBzZWFyY2ggZm9yIGNvbGxpc2lvbnMgaW4uXG4gIC8vIElmIHNldCB0byB0cnVlLCB0aGUgYnJvYWRwaGFzZSB1c2VzIGJvdW5kaW5nIGJveGVzIGZvciBpbnRlcnNlY3Rpb24gdGVzdCwgZWxzZSBpdCB1c2VzIGJvdW5kaW5nIHNwaGVyZXMuXG4gIC8vIFNldCB0byB0cnVlIGlmIHRoZSBvYmplY3RzIGluIHRoZSB3b3JsZCBtb3ZlZC5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gICAgdGhpcy51c2VCb3VuZGluZ0JveGVzID0gZmFsc2U7XG4gICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBjb2xsaXNpb24gcGFpcnMgZnJvbSB0aGUgd29ybGRcclxuICAgKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQgVGhlIHdvcmxkIHRvIHNlYXJjaCBpblxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHAxIEVtcHR5IGFycmF5IHRvIGJlIGZpbGxlZCB3aXRoIGJvZHkgb2JqZWN0c1xyXG4gICAqIEBwYXJhbSB7QXJyYXl9IHAyIEVtcHR5IGFycmF5IHRvIGJlIGZpbGxlZCB3aXRoIGJvZHkgb2JqZWN0c1xyXG4gICAqL1xuXG5cbiAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikge1xuICAgIHRocm93IG5ldyBFcnJvcignY29sbGlzaW9uUGFpcnMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIEJyb2FkUGhhc2UgY2xhc3MhJyk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgYSBib2R5IHBhaXIgbmVlZHMgdG8gYmUgaW50ZXJzZWN0aW9uIHRlc3RlZCBhdCBhbGwuXHJcbiAgICogQG1ldGhvZCBuZWVkQnJvYWRwaGFzZUNvbGxpc2lvblxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAgICogQHJldHVybiB7Ym9vbH1cclxuICAgKi9cblxuXG4gIG5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJvZHlBLCBib2R5Qikge1xuICAgIC8vIENoZWNrIGNvbGxpc2lvbiBmaWx0ZXIgbWFza3NcbiAgICBpZiAoKGJvZHlBLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keUIuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHlCLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keUEuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IC8vIENoZWNrIHR5cGVzXG5cblxuICAgIGlmICgoKGJvZHlBLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUEuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgJiYgKChib2R5Qi50eXBlICYgQm9keS5TVEFUSUMpICE9PSAwIHx8IGJvZHlCLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpKSB7XG4gICAgICAvLyBCb3RoIGJvZGllcyBhcmUgc3RhdGljIG9yIHNsZWVwaW5nLiBTa2lwLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHRoZSBib3VuZGluZyB2b2x1bWVzIG9mIHR3byBib2RpZXMgaW50ZXJzZWN0LlxyXG4gICAqIEBtZXRob2QgaW50ZXJzZWN0aW9uVGVzdFxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAgICogQHBhcmFtIHthcnJheX0gcGFpcnMxXHJcbiAgICogQHBhcmFtIHthcnJheX0gcGFpcnMyXHJcbiAgICovXG5cblxuICBpbnRlcnNlY3Rpb25UZXN0KGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHtcbiAgICBpZiAodGhpcy51c2VCb3VuZGluZ0JveGVzKSB7XG4gICAgICB0aGlzLmRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpO1xuICAgIH1cbiAgfVxuXG4gIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHtcbiAgICBjb25zdCByID0gQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yO1xuICAgIGJvZHlCLnBvc2l0aW9uLnZzdWIoYm9keUEucG9zaXRpb24sIHIpO1xuICAgIGNvbnN0IGJvdW5kaW5nUmFkaXVzU3VtMiA9IChib2R5QS5ib3VuZGluZ1JhZGl1cyArIGJvZHlCLmJvdW5kaW5nUmFkaXVzKSAqKiAyO1xuICAgIGNvbnN0IG5vcm0yID0gci5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgICBpZiAobm9ybTIgPCBib3VuZGluZ1JhZGl1c1N1bTIpIHtcbiAgICAgIHBhaXJzMS5wdXNoKGJvZHlBKTtcbiAgICAgIHBhaXJzMi5wdXNoKGJvZHlCKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIGJveGVzIG9mIHR3byBib2RpZXMgYXJlIGludGVyc2VjdGluZy5cclxuICAgKiBAbWV0aG9kIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keUJcclxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczFcclxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczJcclxuICAgKi9cblxuXG4gIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHtcbiAgICBpZiAoYm9keUEuYWFiYk5lZWRzVXBkYXRlKSB7XG4gICAgICBib2R5QS5jb21wdXRlQUFCQigpO1xuICAgIH1cblxuICAgIGlmIChib2R5Qi5hYWJiTmVlZHNVcGRhdGUpIHtcbiAgICAgIGJvZHlCLmNvbXB1dGVBQUJCKCk7XG4gICAgfSAvLyBDaGVjayBBQUJCIC8gQUFCQlxuXG5cbiAgICBpZiAoYm9keUEuYWFiYi5vdmVybGFwcyhib2R5Qi5hYWJiKSkge1xuICAgICAgcGFpcnMxLnB1c2goYm9keUEpO1xuICAgICAgcGFpcnMyLnB1c2goYm9keUIpO1xuICAgIH1cbiAgfVxuXG4gIG1ha2VQYWlyc1VuaXF1ZShwYWlyczEsIHBhaXJzMikge1xuICAgIGNvbnN0IHQgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wO1xuICAgIGNvbnN0IHAxID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDE7XG4gICAgY29uc3QgcDIgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMjtcbiAgICBjb25zdCBOID0gcGFpcnMxLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIHAxW2ldID0gcGFpcnMxW2ldO1xuICAgICAgcDJbaV0gPSBwYWlyczJbaV07XG4gICAgfVxuXG4gICAgcGFpcnMxLmxlbmd0aCA9IDA7XG4gICAgcGFpcnMyLmxlbmd0aCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBpZDEgPSBwMVtpXS5pZDtcbiAgICAgIGNvbnN0IGlkMiA9IHAyW2ldLmlkO1xuICAgICAgY29uc3Qga2V5ID0gaWQxIDwgaWQyID8gaWQxICsgXCIsXCIgKyBpZDIgOiBpZDIgKyBcIixcIiArIGlkMTtcbiAgICAgIHRba2V5XSA9IGk7XG4gICAgICB0LmtleXMucHVzaChrZXkpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0LmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IHQua2V5cy5wb3AoKTtcbiAgICAgIGNvbnN0IHBhaXJJbmRleCA9IHRba2V5XTtcbiAgICAgIHBhaXJzMS5wdXNoKHAxW3BhaXJJbmRleF0pO1xuICAgICAgcGFpcnMyLnB1c2gocDJbcGFpckluZGV4XSk7XG4gICAgICBkZWxldGUgdFtrZXldO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBUbyBiZSBpbXBsZW1lbnRlZCBieSBzdWJjYXNzZXNcclxuICAgKiBAbWV0aG9kIHNldFdvcmxkXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKi9cblxuXG4gIHNldFdvcmxkKHdvcmxkKSB7fVxuICAvKipcclxuICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiB0aGUgQUFCQi5cclxuICAgKiBAbWV0aG9kIGFhYmJRdWVyeVxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uXHJcbiAgICogQHJldHVybiB7YXJyYXl9XHJcbiAgICovXG5cblxuICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCkge1xuICAgIGNvbnNvbGUud2FybignLmFhYmJRdWVyeSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBCcm9hZHBoYXNlIHN1YmNsYXNzLicpO1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG59XG4vKipcclxuICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHNwaGVyZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLlxyXG4gKiBAbWV0aG9kIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczEgYm9keUEgaXMgYXBwZW5kZWQgdG8gdGhpcyBhcnJheSBpZiBpbnRlcnNlY3Rpb25cclxuICogQHBhcmFtIHtBcnJheX0gcGFpcnMyIGJvZHlCIGlzIGFwcGVuZGVkIHRvIHRoaXMgYXJyYXkgaWYgaW50ZXJzZWN0aW9uXHJcbiAqL1xuXG5jb25zdCAvLyBUZW1wIG9iamVjdHNcbkJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfciA9IG5ldyBWZWMzKCk7XG4vKipcclxuICogUmVtb3ZlcyBkdXBsaWNhdGUgcGFpcnMgZnJvbSB0aGUgcGFpciBhcnJheXMuXHJcbiAqIEBtZXRob2QgbWFrZVBhaXJzVW5pcXVlXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMVxyXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczJcclxuICovXG5cbmNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXAgPSB7XG4gIGtleXM6IFtdXG59O1xuY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDEgPSBbXTtcbmNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyID0gW107XG5cbkJyb2FkcGhhc2UuYm91bmRpbmdTcGhlcmVDaGVjayA9IChib2R5QSwgYm9keUIpID0+IHtcbiAgY29uc3QgZGlzdCA9IG5ldyBWZWMzKCk7IC8vIGJzY19kaXN0O1xuXG4gIGJvZHlBLnBvc2l0aW9uLnZzdWIoYm9keUIucG9zaXRpb24sIGRpc3QpO1xuICBjb25zdCBzYSA9IGJvZHlBLnNoYXBlc1swXTtcbiAgY29uc3Qgc2IgPSBib2R5Qi5zaGFwZXNbMF07XG4gIHJldHVybiBNYXRoLnBvdyhzYS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNiLmJvdW5kaW5nU3BoZXJlUmFkaXVzLCAyKSA+IGRpc3QubGVuZ3RoU3F1YXJlZCgpO1xufTtcblxuLyoqXHJcbiAqIEF4aXMgYWxpZ25lZCB1bmlmb3JtIGdyaWQgYnJvYWRwaGFzZS5cclxuICogQGNsYXNzIEdyaWRCcm9hZHBoYXNlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBCcm9hZHBoYXNlXHJcbiAqIEB0b2RvIE5lZWRzIHN1cHBvcnQgZm9yIG1vcmUgdGhhbiBqdXN0IHBsYW5lcyBhbmQgc3BoZXJlcy5cclxuICogQHBhcmFtIHtWZWMzfSBhYWJiTWluXHJcbiAqIEBwYXJhbSB7VmVjM30gYWFiYk1heFxyXG4gKiBAcGFyYW0ge051bWJlcn0gbnggTnVtYmVyIG9mIGJveGVzIGFsb25nIHhcclxuICogQHBhcmFtIHtOdW1iZXJ9IG55IE51bWJlciBvZiBib3hlcyBhbG9uZyB5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBueiBOdW1iZXIgb2YgYm94ZXMgYWxvbmcgelxyXG4gKi9cbmNsYXNzIEdyaWRCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7XG4gIGNvbnN0cnVjdG9yKGFhYmJNaW4gPSBuZXcgVmVjMygxMDAsIDEwMCwgMTAwKSwgYWFiYk1heCA9IG5ldyBWZWMzKC0xMDAsIC0xMDAsIC0xMDApLCBueCA9IDEwLCBueSA9IDEwLCBueiA9IDEwKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm54ID0gbng7XG4gICAgdGhpcy5ueSA9IG55O1xuICAgIHRoaXMubnogPSBuejtcbiAgICB0aGlzLmFhYmJNaW4gPSBhYWJiTWluO1xuICAgIHRoaXMuYWFiYk1heCA9IGFhYmJNYXg7XG4gICAgY29uc3QgbmJpbnMgPSB0aGlzLm54ICogdGhpcy5ueSAqIHRoaXMubno7XG5cbiAgICBpZiAobmJpbnMgPD0gMCkge1xuICAgICAgdGhyb3cgXCJHcmlkQnJvYWRwaGFzZTogRWFjaCBkaW1lbnNpb24ncyBuIG11c3QgYmUgPjBcIjtcbiAgICB9XG5cbiAgICB0aGlzLmJpbnMgPSBbXTtcbiAgICB0aGlzLmJpbkxlbmd0aHMgPSBbXTsgLy9SYXRoZXIgdGhhbiBjb250aW51YWxseSByZXNpemluZyBhcnJheXMgKHRocmFzaGluZyB0aGUgbWVtb3J5KSwganVzdCByZWNvcmQgbGVuZ3RoIGFuZCBhbGxvdyB0aGVtIHRvIGdyb3dcblxuICAgIHRoaXMuYmlucy5sZW5ndGggPSBuYmlucztcbiAgICB0aGlzLmJpbkxlbmd0aHMubGVuZ3RoID0gbmJpbnM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iaW5zOyBpKyspIHtcbiAgICAgIHRoaXMuYmluc1tpXSA9IFtdO1xuICAgICAgdGhpcy5iaW5MZW5ndGhzW2ldID0gMDtcbiAgICB9XG4gIH1cblxuICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcGFpcnMxLCBwYWlyczIpIHtcbiAgICBjb25zdCBOID0gd29ybGQubnVtT2JqZWN0cygpO1xuICAgIGNvbnN0IGJvZGllcyA9IHdvcmxkLmJvZGllcztcbiAgICBjb25zdCBtYXggPSB0aGlzLmFhYmJNYXg7XG4gICAgY29uc3QgbWluID0gdGhpcy5hYWJiTWluO1xuICAgIGNvbnN0IG54ID0gdGhpcy5ueDtcbiAgICBjb25zdCBueSA9IHRoaXMubnk7XG4gICAgY29uc3QgbnogPSB0aGlzLm56O1xuICAgIGNvbnN0IHhzdGVwID0gbnkgKiBuejtcbiAgICBjb25zdCB5c3RlcCA9IG56O1xuICAgIGNvbnN0IHpzdGVwID0gMTtcbiAgICBjb25zdCB4bWF4ID0gbWF4Lng7XG4gICAgY29uc3QgeW1heCA9IG1heC55O1xuICAgIGNvbnN0IHptYXggPSBtYXguejtcbiAgICBjb25zdCB4bWluID0gbWluLng7XG4gICAgY29uc3QgeW1pbiA9IG1pbi55O1xuICAgIGNvbnN0IHptaW4gPSBtaW4uejtcbiAgICBjb25zdCB4bXVsdCA9IG54IC8gKHhtYXggLSB4bWluKTtcbiAgICBjb25zdCB5bXVsdCA9IG55IC8gKHltYXggLSB5bWluKTtcbiAgICBjb25zdCB6bXVsdCA9IG56IC8gKHptYXggLSB6bWluKTtcbiAgICBjb25zdCBiaW5zaXplWCA9ICh4bWF4IC0geG1pbikgLyBueDtcbiAgICBjb25zdCBiaW5zaXplWSA9ICh5bWF4IC0geW1pbikgLyBueTtcbiAgICBjb25zdCBiaW5zaXplWiA9ICh6bWF4IC0gem1pbikgLyBuejtcbiAgICBjb25zdCBiaW5SYWRpdXMgPSBNYXRoLnNxcnQoYmluc2l6ZVggKiBiaW5zaXplWCArIGJpbnNpemVZICogYmluc2l6ZVkgKyBiaW5zaXplWiAqIGJpbnNpemVaKSAqIDAuNTtcbiAgICBjb25zdCB0eXBlcyA9IFNoYXBlLnR5cGVzO1xuICAgIGNvbnN0IFNQSEVSRSA9IHR5cGVzLlNQSEVSRTtcbiAgICBjb25zdCBQTEFORSA9IHR5cGVzLlBMQU5FO1xuICAgIGNvbnN0IEJPWCA9IHR5cGVzLkJPWDtcbiAgICBjb25zdCBDT01QT1VORCA9IHR5cGVzLkNPTVBPVU5EO1xuICAgIGNvbnN0IENPTlZFWFBPTFlIRURST04gPSB0eXBlcy5DT05WRVhQT0xZSEVEUk9OO1xuICAgIGNvbnN0IGJpbnMgPSB0aGlzLmJpbnM7XG4gICAgY29uc3QgYmluTGVuZ3RocyA9IHRoaXMuYmluTGVuZ3RocztcbiAgICBjb25zdCBOYmlucyA9IHRoaXMuYmlucy5sZW5ndGg7IC8vIFJlc2V0IGJpbnNcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYmluczsgaSsrKSB7XG4gICAgICBiaW5MZW5ndGhzW2ldID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCBjZWlsID0gTWF0aC5jZWlsO1xuXG4gICAgZnVuY3Rpb24gYWRkQm94VG9CaW5zKHgwLCB5MCwgejAsIHgxLCB5MSwgejEsIGJpKSB7XG4gICAgICBsZXQgeG9mZjAgPSAoeDAgLSB4bWluKSAqIHhtdWx0IHwgMDtcbiAgICAgIGxldCB5b2ZmMCA9ICh5MCAtIHltaW4pICogeW11bHQgfCAwO1xuICAgICAgbGV0IHpvZmYwID0gKHowIC0gem1pbikgKiB6bXVsdCB8IDA7XG4gICAgICBsZXQgeG9mZjEgPSBjZWlsKCh4MSAtIHhtaW4pICogeG11bHQpO1xuICAgICAgbGV0IHlvZmYxID0gY2VpbCgoeTEgLSB5bWluKSAqIHltdWx0KTtcbiAgICAgIGxldCB6b2ZmMSA9IGNlaWwoKHoxIC0gem1pbikgKiB6bXVsdCk7XG5cbiAgICAgIGlmICh4b2ZmMCA8IDApIHtcbiAgICAgICAgeG9mZjAgPSAwO1xuICAgICAgfSBlbHNlIGlmICh4b2ZmMCA+PSBueCkge1xuICAgICAgICB4b2ZmMCA9IG54IC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHlvZmYwIDwgMCkge1xuICAgICAgICB5b2ZmMCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHlvZmYwID49IG55KSB7XG4gICAgICAgIHlvZmYwID0gbnkgLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoem9mZjAgPCAwKSB7XG4gICAgICAgIHpvZmYwID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoem9mZjAgPj0gbnopIHtcbiAgICAgICAgem9mZjAgPSBueiAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh4b2ZmMSA8IDApIHtcbiAgICAgICAgeG9mZjEgPSAwO1xuICAgICAgfSBlbHNlIGlmICh4b2ZmMSA+PSBueCkge1xuICAgICAgICB4b2ZmMSA9IG54IC0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHlvZmYxIDwgMCkge1xuICAgICAgICB5b2ZmMSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKHlvZmYxID49IG55KSB7XG4gICAgICAgIHlvZmYxID0gbnkgLSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoem9mZjEgPCAwKSB7XG4gICAgICAgIHpvZmYxID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoem9mZjEgPj0gbnopIHtcbiAgICAgICAgem9mZjEgPSBueiAtIDE7XG4gICAgICB9XG5cbiAgICAgIHhvZmYwICo9IHhzdGVwO1xuICAgICAgeW9mZjAgKj0geXN0ZXA7XG4gICAgICB6b2ZmMCAqPSB6c3RlcDtcbiAgICAgIHhvZmYxICo9IHhzdGVwO1xuICAgICAgeW9mZjEgKj0geXN0ZXA7XG4gICAgICB6b2ZmMSAqPSB6c3RlcDtcblxuICAgICAgZm9yIChsZXQgeG9mZiA9IHhvZmYwOyB4b2ZmIDw9IHhvZmYxOyB4b2ZmICs9IHhzdGVwKSB7XG4gICAgICAgIGZvciAobGV0IHlvZmYgPSB5b2ZmMDsgeW9mZiA8PSB5b2ZmMTsgeW9mZiArPSB5c3RlcCkge1xuICAgICAgICAgIGZvciAobGV0IHpvZmYgPSB6b2ZmMDsgem9mZiA8PSB6b2ZmMTsgem9mZiArPSB6c3RlcCkge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0geG9mZiArIHlvZmYgKyB6b2ZmO1xuICAgICAgICAgICAgYmluc1tpZHhdW2Jpbkxlbmd0aHNbaWR4XSsrXSA9IGJpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gUHV0IGFsbCBib2RpZXMgaW50byB0aGUgYmluc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcbiAgICAgIGNvbnN0IHNpID0gYmkuc2hhcGVzWzBdO1xuXG4gICAgICBzd2l0Y2ggKHNpLnR5cGUpIHtcbiAgICAgICAgY2FzZSBTUEhFUkU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc2hhcGUgPSBzaTsgLy8gUHV0IGluIGJpblxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgb3ZlcmxhcCB3aXRoIG90aGVyIGJpbnNcblxuICAgICAgICAgICAgY29uc3QgeCA9IGJpLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBjb25zdCB5ID0gYmkucG9zaXRpb24ueTtcbiAgICAgICAgICAgIGNvbnN0IHogPSBiaS5wb3NpdGlvbi56O1xuICAgICAgICAgICAgY29uc3QgciA9IHNoYXBlLnJhZGl1cztcbiAgICAgICAgICAgIGFkZEJveFRvQmlucyh4IC0gciwgeSAtIHIsIHogLSByLCB4ICsgciwgeSArIHIsIHogKyByLCBiaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSBQTEFORTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHNpO1xuXG4gICAgICAgICAgICBpZiAoc2hhcGUud29ybGROb3JtYWxOZWVkc1VwZGF0ZSkge1xuICAgICAgICAgICAgICBzaGFwZS5jb21wdXRlV29ybGROb3JtYWwoYmkucXVhdGVybmlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBsYW5lTm9ybWFsID0gc2hhcGUud29ybGROb3JtYWw7IC8vUmVsYXRpdmUgcG9zaXRpb24gZnJvbSBvcmlnaW4gb2YgcGxhbmUgb2JqZWN0IHRvIHRoZSBmaXJzdCBiaW5cbiAgICAgICAgICAgIC8vSW5jcmVtZW50ZWQgYXMgd2UgaXRlcmF0ZSB0aHJvdWdoIHRoZSBiaW5zXG5cbiAgICAgICAgICAgIGNvbnN0IHhyZXNldCA9IHhtaW4gKyBiaW5zaXplWCAqIDAuNSAtIGJpLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBjb25zdCB5cmVzZXQgPSB5bWluICsgYmluc2l6ZVkgKiAwLjUgLSBiaS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgY29uc3QgenJlc2V0ID0gem1pbiArIGJpbnNpemVaICogMC41IC0gYmkucG9zaXRpb24uejtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBHcmlkQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19kO1xuICAgICAgICAgICAgZC5zZXQoeHJlc2V0LCB5cmVzZXQsIHpyZXNldCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHhpID0gMCwgeG9mZiA9IDA7IHhpICE9PSBueDsgeGkrKywgeG9mZiArPSB4c3RlcCwgZC55ID0geXJlc2V0LCBkLnggKz0gYmluc2l6ZVgpIHtcbiAgICAgICAgICAgICAgZm9yIChsZXQgeWkgPSAwLCB5b2ZmID0gMDsgeWkgIT09IG55OyB5aSsrLCB5b2ZmICs9IHlzdGVwLCBkLnogPSB6cmVzZXQsIGQueSArPSBiaW5zaXplWSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHppID0gMCwgem9mZiA9IDA7IHppICE9PSBuejsgemkrKywgem9mZiArPSB6c3RlcCwgZC56ICs9IGJpbnNpemVaKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZC5kb3QocGxhbmVOb3JtYWwpIDwgYmluUmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHhvZmYgKyB5b2ZmICsgem9mZjtcbiAgICAgICAgICAgICAgICAgICAgYmluc1tpZHhdW2Jpbkxlbmd0aHNbaWR4XSsrXSA9IGJpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYmkuYWFiYk5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICAgIGJpLmNvbXB1dGVBQUJCKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFkZEJveFRvQmlucyhiaS5hYWJiLmxvd2VyQm91bmQueCwgYmkuYWFiYi5sb3dlckJvdW5kLnksIGJpLmFhYmIubG93ZXJCb3VuZC56LCBiaS5hYWJiLnVwcGVyQm91bmQueCwgYmkuYWFiYi51cHBlckJvdW5kLnksIGJpLmFhYmIudXBwZXJCb3VuZC56LCBiaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBDaGVjayBlYWNoIGJpblxuXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJpbnM7IGkrKykge1xuICAgICAgY29uc3QgYmluTGVuZ3RoID0gYmluTGVuZ3Roc1tpXTsgLy9Ta2lwIGJpbnMgd2l0aCBubyBwb3RlbnRpYWwgY29sbGlzaW9uc1xuXG4gICAgICBpZiAoYmluTGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zdCBiaW4gPSBiaW5zW2ldOyAvLyBEbyBOXjIgYnJvYWRwaGFzZSBpbnNpZGVcblxuICAgICAgICBmb3IgKGxldCB4aSA9IDA7IHhpICE9PSBiaW5MZW5ndGg7IHhpKyspIHtcbiAgICAgICAgICBjb25zdCBiaSA9IGJpblt4aV07XG5cbiAgICAgICAgICBmb3IgKGxldCB5aSA9IDA7IHlpICE9PSB4aTsgeWkrKykge1xuICAgICAgICAgICAgY29uc3QgYmogPSBiaW5beWldO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7XG4gICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHBhaXJzMSwgcGFpcnMyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vXHRmb3IgKGxldCB6aSA9IDAsIHpvZmY9MDsgemkgPCBuejsgemkrKywgem9mZis9IHpzdGVwKSB7XG4gICAgLy9cdFx0Y29uc29sZS5sb2coXCJsYXllciBcIit6aSk7XG4gICAgLy9cdFx0Zm9yIChsZXQgeWkgPSAwLCB5b2ZmPTA7IHlpIDwgbnk7IHlpKyssIHlvZmYgKz0geXN0ZXApIHtcbiAgICAvL1x0XHRcdGNvbnN0IHJvdyA9ICcnO1xuICAgIC8vXHRcdFx0Zm9yIChsZXQgeGkgPSAwLCB4b2ZmPTA7IHhpIDwgbng7IHhpKyssIHhvZmYgKz0geHN0ZXApIHtcbiAgICAvL1x0XHRcdFx0Y29uc3QgaWR4ID0geG9mZiArIHlvZmYgKyB6b2ZmO1xuICAgIC8vXHRcdFx0XHRyb3cgKz0gJyAnICsgYmluTGVuZ3Roc1tpZHhdO1xuICAgIC8vXHRcdFx0fVxuICAgIC8vXHRcdFx0Y29uc29sZS5sb2cocm93KTtcbiAgICAvL1x0XHR9XG4gICAgLy9cdH1cblxuXG4gICAgdGhpcy5tYWtlUGFpcnNVbmlxdWUocGFpcnMxLCBwYWlyczIpO1xuICB9XG5cbn1cbi8qKlxyXG4gKiBHZXQgYWxsIHRoZSBjb2xsaXNpb24gcGFpcnMgaW4gdGhlIHBoeXNpY3Mgd29ybGRcclxuICogQG1ldGhvZCBjb2xsaXNpb25QYWlyc1xyXG4gKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyczFcclxuICogQHBhcmFtIHtBcnJheX0gcGFpcnMyXHJcbiAqL1xuXG5jb25zdCBHcmlkQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19kID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIE5haXZlIGJyb2FkcGhhc2UgaW1wbGVtZW50YXRpb24sIHVzZWQgaW4gbGFjayBvZiBiZXR0ZXIgb25lcy5cclxuICogQGNsYXNzIE5haXZlQnJvYWRwaGFzZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGRlc2NyaXB0aW9uIFRoZSBuYWl2ZSBicm9hZHBoYXNlIGxvb2tzIGF0IGFsbCBwb3NzaWJsZSBwYWlycyB3aXRob3V0IHJlc3RyaWN0aW9uLCB0aGVyZWZvcmUgaXQgaGFzIGNvbXBsZXhpdHkgTl4yICh3aGljaCBpcyBiYWQpXHJcbiAqIEBleHRlbmRzIEJyb2FkcGhhc2VcclxuICovXG5jbGFzcyBOYWl2ZUJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYWxsIHRoZSBjb2xsaXNpb24gcGFpcnMgaW4gdGhlIHBoeXNpY3Mgd29ybGRcclxuICAgKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczFcclxuICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczJcclxuICAgKi9cblxuXG4gIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwYWlyczEsIHBhaXJzMikge1xuICAgIGNvbnN0IGJvZGllcyA9IHdvcmxkLmJvZGllcztcbiAgICBjb25zdCBuID0gYm9kaWVzLmxlbmd0aDtcbiAgICBsZXQgYmk7XG4gICAgbGV0IGJqOyAvLyBOYWl2ZSBOXjIgZnR3IVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGk7IGorKykge1xuICAgICAgICBiaSA9IGJvZGllc1tpXTtcbiAgICAgICAgYmogPSBib2RpZXNbal07XG5cbiAgICAgICAgaWYgKCF0aGlzLm5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJpLCBiaikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHBhaXJzMSwgcGFpcnMyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gYW4gQUFCQi5cclxuICAgKiBAbWV0aG9kIGFhYmJRdWVyeVxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cclxuICAgKiBAcmV0dXJuIHthcnJheX1cclxuICAgKi9cblxuXG4gIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0ID0gW10pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmxkLmJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYiA9IHdvcmxkLmJvZGllc1tpXTtcblxuICAgICAgaWYgKGIuYWFiYk5lZWRzVXBkYXRlKSB7XG4gICAgICAgIGIuY29tcHV0ZUFBQkIoKTtcbiAgICAgIH0gLy8gVWdseSBoYWNrIHVudGlsIEJvZHkgZ2V0cyBhYWJiXG5cblxuICAgICAgaWYgKGIuYWFiYi5vdmVybGFwcyhhYWJiKSkge1xuICAgICAgICByZXN1bHQucHVzaChiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIFN0b3JhZ2UgZm9yIFJheSBjYXN0aW5nIGRhdGEuXHJcbiAqIEBjbGFzcyBSYXljYXN0UmVzdWx0XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIFJheWNhc3RSZXN1bHQge1xuICAvLyBUaGUgaW5kZXggb2YgdGhlIGhpdCB0cmlhbmdsZSwgaWYgdGhlIGhpdCBzaGFwZSB3YXMgYSB0cmltZXNoLlxuICAvLyBEaXN0YW5jZSB0byB0aGUgaGl0LiBXaWxsIGJlIHNldCB0byAtMSBpZiB0aGVyZSB3YXMgbm8gaGl0LlxuICAvLyBJZiB0aGUgcmF5IHNob3VsZCBzdG9wIHRyYXZlcnNpbmcgdGhlIGJvZGllcy5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yYXlGcm9tV29ybGQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucmF5VG9Xb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5oaXROb3JtYWxXb3JsZCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5oaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmhhc0hpdCA9IGZhbHNlO1xuICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG4gICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTtcbiAgICB0aGlzLmRpc3RhbmNlID0gLTE7XG4gICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogUmVzZXQgYWxsIHJlc3VsdCBkYXRhLlxyXG4gICAqIEBtZXRob2QgcmVzZXRcclxuICAgKi9cblxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmF5RnJvbVdvcmxkLnNldFplcm8oKTtcbiAgICB0aGlzLnJheVRvV29ybGQuc2V0WmVybygpO1xuICAgIHRoaXMuaGl0Tm9ybWFsV29ybGQuc2V0WmVybygpO1xuICAgIHRoaXMuaGl0UG9pbnRXb3JsZC5zZXRaZXJvKCk7XG4gICAgdGhpcy5oYXNIaXQgPSBmYWxzZTtcbiAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICB0aGlzLmJvZHkgPSBudWxsO1xuICAgIHRoaXMuaGl0RmFjZUluZGV4ID0gLTE7XG4gICAgdGhpcy5kaXN0YW5jZSA9IC0xO1xuICAgIHRoaXMuc2hvdWxkU3RvcCA9IGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgYWJvcnRcclxuICAgKi9cblxuXG4gIGFib3J0KCkge1xuICAgIHRoaXMuc2hvdWxkU3RvcCA9IHRydWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHJheUZyb21Xb3JsZFxyXG4gICAqIEBwYXJhbSB7VmVjM30gcmF5VG9Xb3JsZFxyXG4gICAqIEBwYXJhbSB7VmVjM30gaGl0Tm9ybWFsV29ybGRcclxuICAgKiBAcGFyYW0ge1ZlYzN9IGhpdFBvaW50V29ybGRcclxuICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZVxyXG4gICAqL1xuXG5cbiAgc2V0KHJheUZyb21Xb3JsZCwgcmF5VG9Xb3JsZCwgaGl0Tm9ybWFsV29ybGQsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSkge1xuICAgIHRoaXMucmF5RnJvbVdvcmxkLmNvcHkocmF5RnJvbVdvcmxkKTtcbiAgICB0aGlzLnJheVRvV29ybGQuY29weShyYXlUb1dvcmxkKTtcbiAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLmNvcHkoaGl0Tm9ybWFsV29ybGQpO1xuICAgIHRoaXMuaGl0UG9pbnRXb3JsZC5jb3B5KGhpdFBvaW50V29ybGQpO1xuICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgfVxuXG59XG5cbmNvbnN0IFJBWV9NT0RFUyA9IHtcbiAgQ0xPU0VTVDogMSxcbiAgQU5ZOiAyLFxuICBBTEw6IDRcbn07XG5cbi8qKlxyXG4gKiBBIGxpbmUgaW4gM0Qgc3BhY2UgdGhhdCBpbnRlcnNlY3RzIGJvZGllcyBhbmQgcmV0dXJuIHBvaW50cy5cclxuICogQGNsYXNzIFJheVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtWZWMzfSBmcm9tXHJcbiAqIEBwYXJhbSB7VmVjM30gdG9cclxuICovXG5jbGFzcyBSYXkge1xuICAvLyBUaGUgcHJlY2lzaW9uIG9mIHRoZSByYXkuIFVzZWQgd2hlbiBjaGVja2luZyBwYXJhbGxlbGl0eSBldGMuXG4gIC8vIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRoZSBSYXkgdG8gdGFrZSAuY29sbGlzaW9uUmVzcG9uc2UgZmxhZ3MgaW50byBhY2NvdW50IG9uIGJvZGllcyBhbmQgc2hhcGVzLlxuICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHJheSBza2lwcyBhbnkgaGl0cyB3aXRoIG5vcm1hbC5kb3QocmF5RGlyZWN0aW9uKSA8IDAuXG4gIC8vIFRoZSBpbnRlcnNlY3Rpb24gbW9kZS4gU2hvdWxkIGJlIFJheS5BTlksIFJheS5BTEwgb3IgUmF5LkNMT1NFU1QuXG4gIC8vIEN1cnJlbnQgcmVzdWx0IG9iamVjdC5cbiAgLy8gV2lsbCBiZSBzZXQgdG8gdHJ1ZSBkdXJpbmcgaW50ZXJzZWN0V29ybGQoKSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZy5cbiAgLy8gVXNlci1wcm92aWRlZCByZXN1bHQgY2FsbGJhY2suIFdpbGwgYmUgdXNlZCBpZiBtb2RlIGlzIFJheS5BTEwuXG4gIGNvbnN0cnVjdG9yKGZyb20gPSBuZXcgVmVjMygpLCB0byA9IG5ldyBWZWMzKCkpIHtcbiAgICB0aGlzLmZyb20gPSBmcm9tLmNsb25lKCk7XG4gICAgdGhpcy50byA9IHRvLmNsb25lKCk7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucHJlY2lzaW9uID0gMC4wMDAxO1xuICAgIHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHRydWU7XG4gICAgdGhpcy5za2lwQmFja2ZhY2VzID0gZmFsc2U7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gLTE7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IC0xO1xuICAgIHRoaXMubW9kZSA9IFJheS5BTlk7XG4gICAgdGhpcy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpO1xuICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7XG5cbiAgICB0aGlzLmNhbGxiYWNrID0gcmVzdWx0ID0+IHt9O1xuICB9XG4gIC8qKlxyXG4gICAqIERvIGl0ZXJzZWN0aW9uIGFnYWluc3QgYWxsIGJvZGllcyBpbiB0aGUgZ2l2ZW4gV29ybGQuXHJcbiAgICogQG1ldGhvZCBpbnRlcnNlY3RXb3JsZFxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9uc1xyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHJheSBoaXQgYW55dGhpbmcsIG90aGVyd2lzZSBmYWxzZS5cclxuICAgKi9cblxuXG4gIGludGVyc2VjdFdvcmxkKHdvcmxkLCBvcHRpb25zKSB7XG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IFJheS5BTlk7XG4gICAgdGhpcy5yZXN1bHQgPSBvcHRpb25zLnJlc3VsdCB8fCBuZXcgUmF5Y2FzdFJlc3VsdCgpO1xuICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9ICEhb3B0aW9ucy5za2lwQmFja2ZhY2VzO1xuICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7XG4gICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgOiAtMTtcbiAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0eXBlb2Ygb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA6IHRydWU7XG5cbiAgICBpZiAob3B0aW9ucy5mcm9tKSB7XG4gICAgICB0aGlzLmZyb20uY29weShvcHRpb25zLmZyb20pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnRvKSB7XG4gICAgICB0aGlzLnRvLmNvcHkob3B0aW9ucy50byk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgfHwgKCgpID0+IHt9KTtcblxuICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7XG4gICAgdGhpcy5yZXN1bHQucmVzZXQoKTtcbiAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpO1xuICAgIHRoaXMuZ2V0QUFCQih0bXBBQUJCKTtcbiAgICB0bXBBcnJheS5sZW5ndGggPSAwO1xuICAgIHdvcmxkLmJyb2FkcGhhc2UuYWFiYlF1ZXJ5KHdvcmxkLCB0bXBBQUJCLCB0bXBBcnJheSk7XG4gICAgdGhpcy5pbnRlcnNlY3RCb2RpZXModG1wQXJyYXkpO1xuICAgIHJldHVybiB0aGlzLmhhc0hpdDtcbiAgfVxuICAvKipcclxuICAgKiBTaG9vdCBhIHJheSBhdCBhIGJvZHksIGdldCBiYWNrIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoaXQuXHJcbiAgICogQHBhcmFtIHtCb2R5fSBib2R5XHJcbiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSBbcmVzdWx0XSBEZXByZWNhdGVkIC0gc2V0IHRoZSByZXN1bHQgcHJvcGVydHkgb2YgdGhlIFJheSBpbnN0ZWFkLlxyXG4gICAqL1xuXG5cbiAgaW50ZXJzZWN0Qm9keShib2R5LCByZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgY29uc3QgY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZTtcblxuICAgIGlmIChjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFib2R5LmNvbGxpc2lvblJlc3BvbnNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCh0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keS5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCB8fCAoYm9keS5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB4aSA9IGludGVyc2VjdEJvZHlfeGk7XG4gICAgY29uc3QgcWkgPSBpbnRlcnNlY3RCb2R5X3FpO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIE4gPSBib2R5LnNoYXBlcy5sZW5ndGg7IGkgPCBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHNoYXBlID0gYm9keS5zaGFwZXNbaV07XG5cbiAgICAgIGlmIChjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFzaGFwZS5jb2xsaXNpb25SZXNwb25zZSkge1xuICAgICAgICBjb250aW51ZTsgLy8gU2tpcFxuICAgICAgfVxuXG4gICAgICBib2R5LnF1YXRlcm5pb24ubXVsdChib2R5LnNoYXBlT3JpZW50YXRpb25zW2ldLCBxaSk7XG4gICAgICBib2R5LnF1YXRlcm5pb24udm11bHQoYm9keS5zaGFwZU9mZnNldHNbaV0sIHhpKTtcbiAgICAgIHhpLnZhZGQoYm9keS5wb3NpdGlvbiwgeGkpO1xuICAgICAgdGhpcy5pbnRlcnNlY3RTaGFwZShzaGFwZSwgcWksIHhpLCBib2R5KTtcblxuICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgaW50ZXJzZWN0Qm9kaWVzXHJcbiAgICogQHBhcmFtIHtBcnJheX0gYm9kaWVzIEFuIGFycmF5IG9mIEJvZHkgb2JqZWN0cy5cclxuICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IFtyZXN1bHRdIERlcHJlY2F0ZWRcclxuICAgKi9cblxuXG4gIGludGVyc2VjdEJvZGllcyhib2RpZXMsIHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGJvZGllcy5sZW5ndGg7ICF0aGlzLnJlc3VsdC5zaG91bGRTdG9wICYmIGkgPCBsOyBpKyspIHtcbiAgICAgIHRoaXMuaW50ZXJzZWN0Qm9keShib2RpZXNbaV0pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBkaXJlY3Rpb24gdmVjdG9yLlxyXG4gICAqL1xuXG5cbiAgdXBkYXRlRGlyZWN0aW9uKCkge1xuICAgIHRoaXMudG8udnN1Yih0aGlzLmZyb20sIHRoaXMuZGlyZWN0aW9uKTtcbiAgICB0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKTtcbiAgfVxuXG4gIGludGVyc2VjdFNoYXBlKHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSkge1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207IC8vIENoZWNraW5nIGJvdW5kaW5nU3BoZXJlXG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlRnJvbUludGVyc2VjdGlvbihmcm9tLCB0aGlzLmRpcmVjdGlvbiwgcG9zaXRpb24pO1xuXG4gICAgaWYgKGRpc3RhbmNlID4gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbnRlcnNlY3RNZXRob2QgPSB0aGlzW3NoYXBlLnR5cGVdO1xuXG4gICAgaWYgKGludGVyc2VjdE1ldGhvZCkge1xuICAgICAgaW50ZXJzZWN0TWV0aG9kLmNhbGwodGhpcywgc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCBzaGFwZSk7XG4gICAgfVxuICB9XG5cbiAgX2ludGVyc2VjdEJveChib3gsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVyc2VjdENvbnZleChib3guY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSk7XG4gIH1cblxuICBfaW50ZXJzZWN0UGxhbmUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247IC8vIEdldCBwbGFuZSBub3JtYWxcblxuICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gbmV3IFZlYzMoMCwgMCwgMSk7XG4gICAgcXVhdC52bXVsdCh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwpO1xuICAgIGNvbnN0IGxlbiA9IG5ldyBWZWMzKCk7XG4gICAgZnJvbS52c3ViKHBvc2l0aW9uLCBsZW4pO1xuICAgIGNvbnN0IHBsYW5lVG9Gcm9tID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7XG4gICAgdG8udnN1Yihwb3NpdGlvbiwgbGVuKTtcbiAgICBjb25zdCBwbGFuZVRvVG8gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTtcblxuICAgIGlmIChwbGFuZVRvRnJvbSAqIHBsYW5lVG9UbyA+IDApIHtcbiAgICAgIC8vIFwiZnJvbVwiIGFuZCBcInRvXCIgYXJlIG9uIHRoZSBzYW1lIHNpZGUgb2YgdGhlIHBsYW5lLi4uIGJhaWwgb3V0XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZyb20uZGlzdGFuY2VUbyh0bykgPCBwbGFuZVRvRnJvbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5fZG90X2RpciA9IHdvcmxkTm9ybWFsLmRvdChkaXJlY3Rpb24pO1xuXG4gICAgaWYgKE1hdGguYWJzKG5fZG90X2RpcikgPCB0aGlzLnByZWNpc2lvbikge1xuICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGxhbmVQb2ludFRvRnJvbSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgZGlyX3NjYWxlZF93aXRoX3QgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGhpdFBvaW50V29ybGQgPSBuZXcgVmVjMygpO1xuICAgIGZyb20udnN1Yihwb3NpdGlvbiwgcGxhbmVQb2ludFRvRnJvbSk7XG4gICAgY29uc3QgdCA9IC13b3JsZE5vcm1hbC5kb3QocGxhbmVQb2ludFRvRnJvbSkgLyBuX2RvdF9kaXI7XG4gICAgZGlyZWN0aW9uLnNjYWxlKHQsIGRpcl9zY2FsZWRfd2l0aF90KTtcbiAgICBmcm9tLnZhZGQoZGlyX3NjYWxlZF93aXRoX3QsIGhpdFBvaW50V29ybGQpO1xuICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKHdvcmxkTm9ybWFsLCBoaXRQb2ludFdvcmxkLCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSB3b3JsZCBBQUJCIG9mIHRoZSByYXkuXHJcbiAgICovXG5cblxuICBnZXRBQUJCKGFhYmIpIHtcbiAgICBjb25zdCB7XG4gICAgICBsb3dlckJvdW5kLFxuICAgICAgdXBwZXJCb3VuZFxuICAgIH0gPSBhYWJiO1xuICAgIGNvbnN0IHRvID0gdGhpcy50bztcbiAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tO1xuICAgIGxvd2VyQm91bmQueCA9IE1hdGgubWluKHRvLngsIGZyb20ueCk7XG4gICAgbG93ZXJCb3VuZC55ID0gTWF0aC5taW4odG8ueSwgZnJvbS55KTtcbiAgICBsb3dlckJvdW5kLnogPSBNYXRoLm1pbih0by56LCBmcm9tLnopO1xuICAgIHVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRvLngsIGZyb20ueCk7XG4gICAgdXBwZXJCb3VuZC55ID0gTWF0aC5tYXgodG8ueSwgZnJvbS55KTtcbiAgICB1cHBlckJvdW5kLnogPSBNYXRoLm1heCh0by56LCBmcm9tLnopO1xuICB9XG5cbiAgX2ludGVyc2VjdEhlaWdodGZpZWxkKHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSkge1xuICAgIGNvbnN0IGRhdGEgPSBzaGFwZS5kYXRhO1xuICAgIGNvbnN0IHcgPSBzaGFwZS5lbGVtZW50U2l6ZTsgLy8gQ29udmVydCB0aGUgcmF5IHRvIGxvY2FsIGhlaWdodGZpZWxkIGNvb3JkaW5hdGVzXG5cbiAgICBjb25zdCBsb2NhbFJheSA9IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5OyAvL25ldyBSYXkodGhpcy5mcm9tLCB0aGlzLnRvKTtcblxuICAgIGxvY2FsUmF5LmZyb20uY29weSh0aGlzLmZyb20pO1xuICAgIGxvY2FsUmF5LnRvLmNvcHkodGhpcy50byk7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS5mcm9tLCBsb2NhbFJheS5mcm9tKTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGxvY2FsUmF5LnRvLCBsb2NhbFJheS50byk7XG4gICAgbG9jYWxSYXkudXBkYXRlRGlyZWN0aW9uKCk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdFxuXG4gICAgY29uc3QgaW5kZXggPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleDtcbiAgICBsZXQgaU1pblg7XG4gICAgbGV0IGlNaW5ZO1xuICAgIGxldCBpTWF4WDtcbiAgICBsZXQgaU1heFk7IC8vIFNldCB0byBtYXhcblxuICAgIGlNaW5YID0gaU1pblkgPSAwO1xuICAgIGlNYXhYID0gaU1heFkgPSBzaGFwZS5kYXRhLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgYWFiYiA9IG5ldyBBQUJCKCk7XG4gICAgbG9jYWxSYXkuZ2V0QUFCQihhYWJiKTtcbiAgICBzaGFwZS5nZXRJbmRleE9mUG9zaXRpb24oYWFiYi5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC55LCBpbmRleCwgdHJ1ZSk7XG4gICAgaU1pblggPSBNYXRoLm1heChpTWluWCwgaW5kZXhbMF0pO1xuICAgIGlNaW5ZID0gTWF0aC5tYXgoaU1pblksIGluZGV4WzFdKTtcbiAgICBzaGFwZS5nZXRJbmRleE9mUG9zaXRpb24oYWFiYi51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC55LCBpbmRleCwgdHJ1ZSk7XG4gICAgaU1heFggPSBNYXRoLm1pbihpTWF4WCwgaW5kZXhbMF0gKyAxKTtcbiAgICBpTWF4WSA9IE1hdGgubWluKGlNYXhZLCBpbmRleFsxXSArIDEpO1xuXG4gICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykge1xuICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNoYXBlLmdldEFhYmJBdEluZGV4KGksIGosIGFhYmIpO1xuXG4gICAgICAgIGlmICghYWFiYi5vdmVybGFwc1JheShsb2NhbFJheSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBMb3dlciB0cmlhbmdsZVxuXG5cbiAgICAgICAgc2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIHNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIHRoaXMuX2ludGVyc2VjdENvbnZleChzaGFwZS5waWxsYXJDb252ZXgsIHF1YXQsIHdvcmxkUGlsbGFyT2Zmc2V0LCBib2R5LCByZXBvcnRlZFNoYXBlLCBpbnRlcnNlY3RDb252ZXhPcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZVxuXG5cbiAgICAgICAgc2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdCwgc2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgdGhpcy5faW50ZXJzZWN0Q29udmV4KHNoYXBlLnBpbGxhckNvbnZleCwgcXVhdCwgd29ybGRQaWxsYXJPZmZzZXQsIGJvZHksIHJlcG9ydGVkU2hhcGUsIGludGVyc2VjdENvbnZleE9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9pbnRlcnNlY3RTcGhlcmUoc3BoZXJlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSkge1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207XG4gICAgY29uc3QgdG8gPSB0aGlzLnRvO1xuICAgIGNvbnN0IHIgPSBzcGhlcmUucmFkaXVzO1xuICAgIGNvbnN0IGEgPSAodG8ueCAtIGZyb20ueCkgKiogMiArICh0by55IC0gZnJvbS55KSAqKiAyICsgKHRvLnogLSBmcm9tLnopICoqIDI7XG4gICAgY29uc3QgYiA9IDIgKiAoKHRvLnggLSBmcm9tLngpICogKGZyb20ueCAtIHBvc2l0aW9uLngpICsgKHRvLnkgLSBmcm9tLnkpICogKGZyb20ueSAtIHBvc2l0aW9uLnkpICsgKHRvLnogLSBmcm9tLnopICogKGZyb20ueiAtIHBvc2l0aW9uLnopKTtcbiAgICBjb25zdCBjID0gKGZyb20ueCAtIHBvc2l0aW9uLngpICoqIDIgKyAoZnJvbS55IC0gcG9zaXRpb24ueSkgKiogMiArIChmcm9tLnogLSBwb3NpdGlvbi56KSAqKiAyIC0gciAqKiAyO1xuICAgIGNvbnN0IGRlbHRhID0gYiAqKiAyIC0gNCAqIGEgKiBjO1xuICAgIGNvbnN0IGludGVyc2VjdGlvblBvaW50ID0gUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludDtcbiAgICBjb25zdCBub3JtYWwgPSBSYXlfaW50ZXJzZWN0U3BoZXJlX25vcm1hbDtcblxuICAgIGlmIChkZWx0YSA8IDApIHtcbiAgICAgIC8vIE5vIGludGVyc2VjdGlvblxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoZGVsdGEgPT09IDApIHtcbiAgICAgIC8vIHNpbmdsZSBpbnRlcnNlY3Rpb24gcG9pbnRcbiAgICAgIGZyb20ubGVycCh0bywgZGVsdGEsIGludGVyc2VjdGlvblBvaW50KTtcbiAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7XG4gICAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGQxID0gKC1iIC0gTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpO1xuICAgICAgY29uc3QgZDIgPSAoLWIgKyBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7XG5cbiAgICAgIGlmIChkMSA+PSAwICYmIGQxIDw9IDEpIHtcbiAgICAgICAgZnJvbS5sZXJwKHRvLCBkMSwgaW50ZXJzZWN0aW9uUG9pbnQpO1xuICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpO1xuICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7XG4gICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZDIgPj0gMCAmJiBkMiA8PSAxKSB7XG4gICAgICAgIGZyb20ubGVycCh0bywgZDIsIGludGVyc2VjdGlvblBvaW50KTtcbiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTtcbiAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2ludGVyc2VjdENvbnZleChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBub3JtYWwgPSBpbnRlcnNlY3RDb252ZXhfbm9ybWFsO1xuICAgIGNvbnN0IHZlY3RvciA9IGludGVyc2VjdENvbnZleF92ZWN0b3I7XG4gICAgY29uc3QgZmFjZUxpc3QgPSBvcHRpb25zICYmIG9wdGlvbnMuZmFjZUxpc3QgfHwgbnVsbDsgLy8gQ2hlY2tpbmcgZmFjZXNcblxuICAgIGNvbnN0IGZhY2VzID0gc2hhcGUuZmFjZXM7XG4gICAgY29uc3QgdmVydGljZXMgPSBzaGFwZS52ZXJ0aWNlcztcbiAgICBjb25zdCBub3JtYWxzID0gc2hhcGUuZmFjZU5vcm1hbHM7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgZnJvbVRvRGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlVG8odG8pO1xuICAgIGNvbnN0IE5mYWNlcyA9IGZhY2VMaXN0ID8gZmFjZUxpc3QubGVuZ3RoIDogZmFjZXMubGVuZ3RoO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVzdWx0O1xuXG4gICAgZm9yIChsZXQgaiA9IDA7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBqIDwgTmZhY2VzOyBqKyspIHtcbiAgICAgIGNvbnN0IGZpID0gZmFjZUxpc3QgPyBmYWNlTGlzdFtqXSA6IGo7XG4gICAgICBjb25zdCBmYWNlID0gZmFjZXNbZmldO1xuICAgICAgY29uc3QgZmFjZU5vcm1hbCA9IG5vcm1hbHNbZmldO1xuICAgICAgY29uc3QgcSA9IHF1YXQ7XG4gICAgICBjb25zdCB4ID0gcG9zaXRpb247IC8vIGRldGVybWluZSBpZiByYXkgaW50ZXJzZWN0cyB0aGUgcGxhbmUgb2YgdGhlIGZhY2VcbiAgICAgIC8vIG5vdGU6IHRoaXMgd29ya3MgcmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBmYWNlIG5vcm1hbFxuICAgICAgLy8gR2V0IHBsYW5lIHBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzLi4uXG5cbiAgICAgIHZlY3Rvci5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTtcbiAgICAgIHEudm11bHQodmVjdG9yLCB2ZWN0b3IpO1xuICAgICAgdmVjdG9yLnZhZGQoeCwgdmVjdG9yKTsgLy8gLi4uYnV0IG1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIHJheSBmcm9tLiBXZSdsbCBmaXggdGhpcyBsYXRlci5cblxuICAgICAgdmVjdG9yLnZzdWIoZnJvbSwgdmVjdG9yKTsgLy8gR2V0IHBsYW5lIG5vcm1hbFxuXG4gICAgICBxLnZtdWx0KGZhY2VOb3JtYWwsIG5vcm1hbCk7IC8vIElmIHRoaXMgZG90IHByb2R1Y3QgaXMgbmVnYXRpdmUsIHdlIGhhdmUgc29tZXRoaW5nIGludGVyZXN0aW5nXG5cbiAgICAgIGNvbnN0IGRvdCA9IGRpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWxcblxuICAgICAgaWYgKE1hdGguYWJzKGRvdCkgPCB0aGlzLnByZWNpc2lvbikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZVxuXG5cbiAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheVxuXG4gICAgICBpZiAoc2NhbGFyIDwgMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gaWYgKGRvdCA8IDApIHtcbiAgICAgIC8vIEludGVyc2VjdGlvbiBwb2ludCBpcyBmcm9tICsgZGlyZWN0aW9uICogc2NhbGFyXG5cblxuICAgICAgZGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpO1xuICAgICAgaW50ZXJzZWN0UG9pbnQudmFkZChmcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIGEgaXMgdGhlIHBvaW50IHdlIGNvbXBhcmUgcG9pbnRzIGIgYW5kIGMgd2l0aC5cblxuICAgICAgYS5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTtcbiAgICAgIHEudm11bHQoYSwgYSk7XG4gICAgICB4LnZhZGQoYSwgYSk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAxOyAhcmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGZhY2UubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIC8vIFRyYW5zZm9ybSAzIHZlcnRpY2VzIHRvIHdvcmxkIGNvb3Jkc1xuICAgICAgICBiLmNvcHkodmVydGljZXNbZmFjZVtpXV0pO1xuICAgICAgICBjLmNvcHkodmVydGljZXNbZmFjZVtpICsgMV1dKTtcbiAgICAgICAgcS52bXVsdChiLCBiKTtcbiAgICAgICAgcS52bXVsdChjLCBjKTtcbiAgICAgICAgeC52YWRkKGIsIGIpO1xuICAgICAgICB4LnZhZGQoYywgYyk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gaW50ZXJzZWN0UG9pbnQuZGlzdGFuY2VUbyhmcm9tKTtcblxuICAgICAgICBpZiAoIShwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGEsIGIsIGMpIHx8IHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYiwgYSwgYykpIHx8IGRpc3RhbmNlID4gZnJvbVRvRGlzdGFuY2UpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIGZpKTtcbiAgICAgIH0gLy8gfVxuXG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEB0b2RvIE9wdGltaXplIGJ5IHRyYW5zZm9ybWluZyB0aGUgd29ybGQgdG8gbG9jYWwgc3BhY2UgZmlyc3QuXHJcbiAgICogQHRvZG8gVXNlIE9jdHJlZSBsb29rdXBcclxuICAgKi9cblxuXG4gIF9pbnRlcnNlY3RUcmltZXNoKG1lc2gsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWw7XG4gICAgY29uc3QgdHJpYW5nbGVzID0gaW50ZXJzZWN0VHJpbWVzaF90cmlhbmdsZXM7XG4gICAgY29uc3QgdHJlZVRyYW5zZm9ybSA9IGludGVyc2VjdFRyaW1lc2hfdHJlZVRyYW5zZm9ybTtcbiAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yO1xuICAgIGNvbnN0IGxvY2FsRGlyZWN0aW9uID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbjtcbiAgICBjb25zdCBsb2NhbEZyb20gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRnJvbTtcbiAgICBjb25zdCBsb2NhbFRvID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbFRvO1xuICAgIGNvbnN0IHdvcmxkSW50ZXJzZWN0UG9pbnQgPSBpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQ7XG4gICAgY29uc3Qgd29ybGROb3JtYWwgPSBpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsO1xuICAgIGNvbnN0IGZhY2VMaXN0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmZhY2VMaXN0IHx8IG51bGw7IC8vIENoZWNraW5nIGZhY2VzXG5cbiAgICBjb25zdCBpbmRpY2VzID0gbWVzaC5pbmRpY2VzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gbWVzaC52ZXJ0aWNlczsgLy8gY29uc3Qgbm9ybWFscyA9IG1lc2guZmFjZU5vcm1hbHNcblxuICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207XG4gICAgY29uc3QgdG8gPSB0aGlzLnRvO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uO1xuICAgIHRyZWVUcmFuc2Zvcm0ucG9zaXRpb24uY29weShwb3NpdGlvbik7XG4gICAgdHJlZVRyYW5zZm9ybS5xdWF0ZXJuaW9uLmNvcHkocXVhdCk7IC8vIFRyYW5zZm9ybSByYXkgdG8gbG9jYWwgc3BhY2UhXG5cbiAgICBUcmFuc2Zvcm0udmVjdG9yVG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBkaXJlY3Rpb24sIGxvY2FsRGlyZWN0aW9uKTtcbiAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGZyb20sIGxvY2FsRnJvbSk7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCB0bywgbG9jYWxUbyk7XG4gICAgbG9jYWxUby54ICo9IG1lc2guc2NhbGUueDtcbiAgICBsb2NhbFRvLnkgKj0gbWVzaC5zY2FsZS55O1xuICAgIGxvY2FsVG8ueiAqPSBtZXNoLnNjYWxlLno7XG4gICAgbG9jYWxGcm9tLnggKj0gbWVzaC5zY2FsZS54O1xuICAgIGxvY2FsRnJvbS55ICo9IG1lc2guc2NhbGUueTtcbiAgICBsb2NhbEZyb20ueiAqPSBtZXNoLnNjYWxlLno7XG4gICAgbG9jYWxUby52c3ViKGxvY2FsRnJvbSwgbG9jYWxEaXJlY3Rpb24pO1xuICAgIGxvY2FsRGlyZWN0aW9uLm5vcm1hbGl6ZSgpO1xuICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCA9IGxvY2FsRnJvbS5kaXN0YW5jZVNxdWFyZWQobG9jYWxUbyk7XG4gICAgbWVzaC50cmVlLnJheVF1ZXJ5KHRoaXMsIHRyZWVUcmFuc2Zvcm0sIHRyaWFuZ2xlcyk7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHRyaWFuZ2xlcy5sZW5ndGg7ICF0aGlzLnJlc3VsdC5zaG91bGRTdG9wICYmIGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgdHJpYW5nbGVzSW5kZXggPSB0cmlhbmdsZXNbaV07XG4gICAgICBtZXNoLmdldE5vcm1hbCh0cmlhbmdsZXNJbmRleCwgbm9ybWFsKTsgLy8gZGV0ZXJtaW5lIGlmIHJheSBpbnRlcnNlY3RzIHRoZSBwbGFuZSBvZiB0aGUgZmFjZVxuICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsXG4gICAgICAvLyBHZXQgcGxhbmUgcG9pbnQgaW4gd29ybGQgY29vcmRpbmF0ZXMuLi5cblxuICAgICAgbWVzaC5nZXRWZXJ0ZXgoaW5kaWNlc1t0cmlhbmdsZXNJbmRleCAqIDNdLCBhKTsgLy8gLi4uYnV0IG1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIHJheSBmcm9tLiBXZSdsbCBmaXggdGhpcyBsYXRlci5cblxuICAgICAgYS52c3ViKGxvY2FsRnJvbSwgdmVjdG9yKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmdcblxuICAgICAgY29uc3QgZG90ID0gbG9jYWxEaXJlY3Rpb24uZG90KG5vcm1hbCk7IC8vIEJhaWwgb3V0IGlmIHJheSBhbmQgcGxhbmUgYXJlIHBhcmFsbGVsXG4gICAgICAvLyBpZiAoTWF0aC5hYnMoIGRvdCApIDwgdGhpcy5wcmVjaXNpb24pe1xuICAgICAgLy8gICAgIGNvbnRpbnVlO1xuICAgICAgLy8gfVxuICAgICAgLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZVxuXG4gICAgICBjb25zdCBzY2FsYXIgPSBub3JtYWwuZG90KHZlY3RvcikgLyBkb3Q7IC8vIGlmIG5lZ2F0aXZlIGRpc3RhbmNlLCB0aGVuIHBsYW5lIGlzIGJlaGluZCByYXlcblxuICAgICAgaWYgKHNjYWxhciA8IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIEludGVyc2VjdGlvbiBwb2ludCBpcyBmcm9tICsgZGlyZWN0aW9uICogc2NhbGFyXG5cblxuICAgICAgbG9jYWxEaXJlY3Rpb24uc2NhbGUoc2NhbGFyLCBpbnRlcnNlY3RQb2ludCk7XG4gICAgICBpbnRlcnNlY3RQb2ludC52YWRkKGxvY2FsRnJvbSwgaW50ZXJzZWN0UG9pbnQpOyAvLyBHZXQgdHJpYW5nbGUgdmVydGljZXNcblxuICAgICAgbWVzaC5nZXRWZXJ0ZXgoaW5kaWNlc1t0cmlhbmdsZXNJbmRleCAqIDMgKyAxXSwgYik7XG4gICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDJdLCBjKTtcbiAgICAgIGNvbnN0IHNxdWFyZWREaXN0YW5jZSA9IGludGVyc2VjdFBvaW50LmRpc3RhbmNlU3F1YXJlZChsb2NhbEZyb20pO1xuXG4gICAgICBpZiAoIShwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpIHx8IHBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYSwgYiwgYykpIHx8IHNxdWFyZWREaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gdHJhbnNmb3JtIGludGVyc2VjdHBvaW50IGFuZCBub3JtYWwgdG8gd29ybGRcblxuXG4gICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHF1YXQsIG5vcm1hbCwgd29ybGROb3JtYWwpO1xuICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBpbnRlcnNlY3RQb2ludCwgd29ybGRJbnRlcnNlY3RQb2ludCk7XG4gICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbih3b3JsZE5vcm1hbCwgd29ybGRJbnRlcnNlY3RQb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgdHJpYW5nbGVzSW5kZXgpO1xuICAgIH1cblxuICAgIHRyaWFuZ2xlcy5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGludGVyc2VjdGlvbnMgc2hvdWxkIGNvbnRpbnVlXHJcbiAgICovXG5cblxuICByZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgaGl0RmFjZUluZGV4KSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICBjb25zdCB0byA9IHRoaXMudG87XG4gICAgY29uc3QgZGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlVG8oaGl0UG9pbnRXb3JsZCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7IC8vIFNraXAgYmFjayBmYWNlcz9cblxuICAgIGlmICh0aGlzLnNraXBCYWNrZmFjZXMgJiYgbm9ybWFsLmRvdCh0aGlzLmRpcmVjdGlvbikgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVzdWx0LmhpdEZhY2VJbmRleCA9IHR5cGVvZiBoaXRGYWNlSW5kZXggIT09ICd1bmRlZmluZWQnID8gaGl0RmFjZUluZGV4IDogLTE7XG5cbiAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgY2FzZSBSYXkuQUxMOlxuICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7XG4gICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTtcbiAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmF5LkNMT1NFU1Q6XG4gICAgICAgIC8vIFN0b3JlIGlmIGNsb3NlciB0aGFuIGN1cnJlbnQgY2xvc2VzdFxuICAgICAgICBpZiAoZGlzdGFuY2UgPCByZXN1bHQuZGlzdGFuY2UgfHwgIXJlc3VsdC5oYXNIaXQpIHtcbiAgICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7XG4gICAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmF5LkFOWTpcbiAgICAgICAgLy8gUmVwb3J0IGFuZCBzdG9wLlxuICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7XG4gICAgICAgIHJlc3VsdC5oYXNIaXQgPSB0cnVlO1xuICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7XG4gICAgICAgIHJlc3VsdC5zaG91bGRTdG9wID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbn1cblJheS5DTE9TRVNUID0gMTtcblJheS5BTlkgPSAyO1xuUmF5LkFMTCA9IDQ7XG5jb25zdCB0bXBBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IHRtcEFycmF5ID0gW107XG5jb25zdCB2MSA9IG5ldyBWZWMzKCk7XG5jb25zdCB2MiA9IG5ldyBWZWMzKCk7XG4vKlxyXG4gKiBBcyBwZXIgXCJCYXJ5Y2VudHJpYyBUZWNobmlxdWVcIiBhcyBuYW1lZCBoZXJlIGh0dHA6Ly93d3cuYmxhY2twYXduLmNvbS90ZXh0cy9wb2ludGlucG9seS9kZWZhdWx0Lmh0bWwgQnV0IHdpdGhvdXQgdGhlIGRpdmlzaW9uXHJcbiAqL1xuXG5SYXkucG9pbnRJblRyaWFuZ2xlID0gcG9pbnRJblRyaWFuZ2xlO1xuXG5mdW5jdGlvbiBwb2ludEluVHJpYW5nbGUocCwgYSwgYiwgYykge1xuICBjLnZzdWIoYSwgdjApO1xuICBiLnZzdWIoYSwgdjEpO1xuICBwLnZzdWIoYSwgdjIpO1xuICBjb25zdCBkb3QwMCA9IHYwLmRvdCh2MCk7XG4gIGNvbnN0IGRvdDAxID0gdjAuZG90KHYxKTtcbiAgY29uc3QgZG90MDIgPSB2MC5kb3QodjIpO1xuICBjb25zdCBkb3QxMSA9IHYxLmRvdCh2MSk7XG4gIGNvbnN0IGRvdDEyID0gdjEuZG90KHYyKTtcbiAgbGV0IHU7XG4gIGxldCB2O1xuICByZXR1cm4gKHUgPSBkb3QxMSAqIGRvdDAyIC0gZG90MDEgKiBkb3QxMikgPj0gMCAmJiAodiA9IGRvdDAwICogZG90MTIgLSBkb3QwMSAqIGRvdDAyKSA+PSAwICYmIHUgKyB2IDwgZG90MDAgKiBkb3QxMSAtIGRvdDAxICogZG90MDE7XG59XG5cbmNvbnN0IGludGVyc2VjdEJvZHlfeGkgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0Qm9keV9xaSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5jb25zdCBpbnRlcnNlY3RQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCBhID0gbmV3IFZlYzMoKTtcbmNvbnN0IGIgPSBuZXcgVmVjMygpO1xuY29uc3QgYyA9IG5ldyBWZWMzKCk7XG5SYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkJPWF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RCb3g7XG5SYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlBMQU5FXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFBsYW5lO1xuY29uc3QgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyA9IHtcbiAgZmFjZUxpc3Q6IFswXVxufTtcbmNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5ID0gbmV3IFJheSgpO1xuY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXggPSBbXTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuSEVJR0hURklFTERdID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0SGVpZ2h0ZmllbGQ7XG5jb25zdCBSYXlfaW50ZXJzZWN0U3BoZXJlX2ludGVyc2VjdGlvblBvaW50ID0gbmV3IFZlYzMoKTtcbmNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsID0gbmV3IFZlYzMoKTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuU1BIRVJFXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFNwaGVyZTtcbmNvbnN0IGludGVyc2VjdENvbnZleF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0Q29udmV4X3ZlY3RvciA9IG5ldyBWZWMzKCk7XG5SYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST05dID0gUmF5LnByb3RvdHlwZS5faW50ZXJzZWN0Q29udmV4O1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbiA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRnJvbSA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsVG8gPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEFBQkIgPSBuZXcgQUFCQigpO1xuY29uc3QgaW50ZXJzZWN0VHJpbWVzaF90cmlhbmdsZXMgPSBbXTtcbmNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJlZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcblJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuVFJJTUVTSF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RUcmltZXNoO1xuY29uc3QgdjAgPSBuZXcgVmVjMygpO1xuY29uc3QgaW50ZXJzZWN0ID0gbmV3IFZlYzMoKTtcblxuZnVuY3Rpb24gZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uKGZyb20sIGRpcmVjdGlvbiwgcG9zaXRpb24pIHtcbiAgLy8gdjAgaXMgdmVjdG9yIGZyb20gZnJvbSB0byBwb3NpdGlvblxuICBwb3NpdGlvbi52c3ViKGZyb20sIHYwKTtcbiAgY29uc3QgZG90ID0gdjAuZG90KGRpcmVjdGlvbik7IC8vIGludGVyc2VjdCA9IGRpcmVjdGlvbipkb3QgKyBmcm9tXG5cbiAgZGlyZWN0aW9uLnNjYWxlKGRvdCwgaW50ZXJzZWN0KTtcbiAgaW50ZXJzZWN0LnZhZGQoZnJvbSwgaW50ZXJzZWN0KTtcbiAgY29uc3QgZGlzdGFuY2UgPSBwb3NpdGlvbi5kaXN0YW5jZVRvKGludGVyc2VjdCk7XG4gIHJldHVybiBkaXN0YW5jZTtcbn1cblxuLyoqXHJcbiAqIFN3ZWVwIGFuZCBwcnVuZSBicm9hZHBoYXNlIGFsb25nIG9uZSBheGlzLlxyXG4gKlxyXG4gKiBAY2xhc3MgU0FQQnJvYWRwaGFzZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtXb3JsZH0gW3dvcmxkXVxyXG4gKiBAZXh0ZW5kcyBCcm9hZHBoYXNlXHJcbiAqL1xuY2xhc3MgU0FQQnJvYWRwaGFzZSBleHRlbmRzIEJyb2FkcGhhc2Uge1xuICAvLyBMaXN0IG9mIGJvZGllcyBjdXJyZW50bHkgaW4gdGhlIGJyb2FkcGhhc2UuXG4gIC8vIFRoZSB3b3JsZCB0byBzZWFyY2ggaW4uXG4gIC8vIEF4aXMgdG8gc29ydCB0aGUgYm9kaWVzIGFsb25nLiBTZXQgdG8gMCBmb3IgeCBheGlzLCBhbmQgMSBmb3IgeSBheGlzLiBGb3IgYmVzdCBwZXJmb3JtYW5jZSwgY2hvb3NlIGFuIGF4aXMgdGhhdCB0aGUgYm9kaWVzIGFyZSBzcHJlYWQgb3V0IG1vcmUgb24uXG4gIGNvbnN0cnVjdG9yKHdvcmxkKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmF4aXNMaXN0ID0gW107XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gICAgdGhpcy5heGlzSW5kZXggPSAwO1xuICAgIGNvbnN0IGF4aXNMaXN0ID0gdGhpcy5heGlzTGlzdDtcblxuICAgIHRoaXMuX2FkZEJvZHlIYW5kbGVyID0gZXZlbnQgPT4ge1xuICAgICAgYXhpc0xpc3QucHVzaChldmVudC5ib2R5KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIgPSBldmVudCA9PiB7XG4gICAgICBjb25zdCBpZHggPSBheGlzTGlzdC5pbmRleE9mKGV2ZW50LmJvZHkpO1xuXG4gICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICBheGlzTGlzdC5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHdvcmxkKSB7XG4gICAgICB0aGlzLnNldFdvcmxkKHdvcmxkKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQ2hhbmdlIHRoZSB3b3JsZFxyXG4gICAqIEBtZXRob2Qgc2V0V29ybGRcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKi9cblxuXG4gIHNldFdvcmxkKHdvcmxkKSB7XG4gICAgLy8gQ2xlYXIgdGhlIG9sZCBheGlzIGFycmF5XG4gICAgdGhpcy5heGlzTGlzdC5sZW5ndGggPSAwOyAvLyBBZGQgYWxsIGJvZGllcyBmcm9tIHRoZSBuZXcgd29ybGRcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29ybGQuYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmF4aXNMaXN0LnB1c2god29ybGQuYm9kaWVzW2ldKTtcbiAgICB9IC8vIFJlbW92ZSBvbGQgaGFuZGxlcnMsIGlmIGFueVxuXG5cbiAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGRCb2R5JywgdGhpcy5fYWRkQm9keUhhbmRsZXIpO1xuICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7IC8vIEFkZCBoYW5kbGVycyB0byB1cGRhdGUgdGhlIGxpc3Qgb2YgYm9kaWVzLlxuXG4gICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcignYWRkQm9keScsIHRoaXMuX2FkZEJvZHlIYW5kbGVyKTtcbiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpO1xuICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBDb2xsZWN0IGFsbCBjb2xsaXNpb24gcGFpcnNcclxuICAgKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzXHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHBhcmFtICB7QXJyYXl9IHAxXHJcbiAgICogQHBhcmFtICB7QXJyYXl9IHAyXHJcbiAgICovXG5cblxuICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcDEsIHAyKSB7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5heGlzTGlzdDtcbiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDtcbiAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDtcbiAgICBsZXQgaTtcbiAgICBsZXQgajtcblxuICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICB0aGlzLnNvcnRMaXN0KCk7XG4gICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfSAvLyBMb29rIHRocm91Z2ggdGhlIGxpc3RcblxuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcblxuICAgICAgZm9yIChqID0gaSArIDE7IGogPCBOOyBqKyspIHtcbiAgICAgICAgY29uc3QgYmogPSBib2RpZXNbal07XG5cbiAgICAgICAgaWYgKCF0aGlzLm5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJpLCBiaikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyhiaSwgYmosIGF4aXNJbmRleCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHAxLCBwMik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc29ydExpc3QoKSB7XG4gICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0O1xuICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4O1xuICAgIGNvbnN0IE4gPSBheGlzTGlzdC5sZW5ndGg7IC8vIFVwZGF0ZSBBQUJCc1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBheGlzTGlzdFtpXTtcblxuICAgICAgaWYgKGJpLmFhYmJOZWVkc1VwZGF0ZSkge1xuICAgICAgICBiaS5jb21wdXRlQUFCQigpO1xuICAgICAgfVxuICAgIH0gLy8gU29ydCB0aGUgbGlzdFxuXG5cbiAgICBpZiAoYXhpc0luZGV4ID09PSAwKSB7XG4gICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRYKGF4aXNMaXN0KTtcbiAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMSkge1xuICAgICAgU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WShheGlzTGlzdCk7XG4gICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDIpIHtcbiAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFooYXhpc0xpc3QpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlcyB0aGUgdmFyaWFuY2Ugb2YgdGhlIGJvZHkgcG9zaXRpb25zIGFuZCBlc3RpbWF0ZXMgdGhlIGJlc3RcclxuICAgKiBheGlzIHRvIHVzZS4gV2lsbCBhdXRvbWF0aWNhbGx5IHNldCBwcm9wZXJ0eSAuYXhpc0luZGV4LlxyXG4gICAqIEBtZXRob2QgYXV0b0RldGVjdEF4aXNcclxuICAgKi9cblxuXG4gIGF1dG9EZXRlY3RBeGlzKCkge1xuICAgIGxldCBzdW1YID0gMDtcbiAgICBsZXQgc3VtWDIgPSAwO1xuICAgIGxldCBzdW1ZID0gMDtcbiAgICBsZXQgc3VtWTIgPSAwO1xuICAgIGxldCBzdW1aID0gMDtcbiAgICBsZXQgc3VtWjIgPSAwO1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7XG4gICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7XG4gICAgY29uc3QgaW52TiA9IDEgLyBOO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTtcbiAgICAgIGNvbnN0IGNlbnRlclggPSBiLnBvc2l0aW9uLng7XG4gICAgICBzdW1YICs9IGNlbnRlclg7XG4gICAgICBzdW1YMiArPSBjZW50ZXJYICogY2VudGVyWDtcbiAgICAgIGNvbnN0IGNlbnRlclkgPSBiLnBvc2l0aW9uLnk7XG4gICAgICBzdW1ZICs9IGNlbnRlclk7XG4gICAgICBzdW1ZMiArPSBjZW50ZXJZICogY2VudGVyWTtcbiAgICAgIGNvbnN0IGNlbnRlclogPSBiLnBvc2l0aW9uLno7XG4gICAgICBzdW1aICs9IGNlbnRlclo7XG4gICAgICBzdW1aMiArPSBjZW50ZXJaICogY2VudGVyWjtcbiAgICB9XG5cbiAgICBjb25zdCB2YXJpYW5jZVggPSBzdW1YMiAtIHN1bVggKiBzdW1YICogaW52TjtcbiAgICBjb25zdCB2YXJpYW5jZVkgPSBzdW1ZMiAtIHN1bVkgKiBzdW1ZICogaW52TjtcbiAgICBjb25zdCB2YXJpYW5jZVogPSBzdW1aMiAtIHN1bVogKiBzdW1aICogaW52TjtcblxuICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVkpIHtcbiAgICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVopIHtcbiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFyaWFuY2VZID4gdmFyaWFuY2VaKSB7XG4gICAgICB0aGlzLmF4aXNJbmRleCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gYW4gQUFCQi5cclxuICAgKiBAbWV0aG9kIGFhYmJRdWVyeVxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cclxuICAgKiBAcmV0dXJuIHthcnJheX1cclxuICAgKi9cblxuXG4gIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0ID0gW10pIHtcbiAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgdGhpcy5zb3J0TGlzdCgpO1xuICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4O1xuICAgIGxldCBheGlzID0gJ3gnO1xuXG4gICAgaWYgKGF4aXNJbmRleCA9PT0gMSkge1xuICAgICAgYXhpcyA9ICd5JztcbiAgICB9XG5cbiAgICBpZiAoYXhpc0luZGV4ID09PSAyKSB7XG4gICAgICBheGlzID0gJ3onO1xuICAgIH1cblxuICAgIGNvbnN0IGF4aXNMaXN0ID0gdGhpcy5heGlzTGlzdDtcbiAgICBjb25zdCBsb3dlciA9IGFhYmIubG93ZXJCb3VuZFtheGlzXTtcbiAgICBjb25zdCB1cHBlciA9IGFhYmIudXBwZXJCb3VuZFtheGlzXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhpc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGIgPSBheGlzTGlzdFtpXTtcblxuICAgICAgaWYgKGIuYWFiYk5lZWRzVXBkYXRlKSB7XG4gICAgICAgIGIuY29tcHV0ZUFBQkIoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGIuYWFiYi5vdmVybGFwcyhhYWJiKSkge1xuICAgICAgICByZXN1bHQucHVzaChiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbn1cbi8qKlxyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgaW5zZXJ0aW9uU29ydFhcclxuICogQHBhcmFtICB7QXJyYXl9IGFcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqL1xuXG5TQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRYID0gYSA9PiB7XG4gIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCB2ID0gYVtpXTtcbiAgICBsZXQgajtcblxuICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnggPD0gdi5hYWJiLmxvd2VyQm91bmQueCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYVtqICsgMV0gPSBhW2pdO1xuICAgIH1cblxuICAgIGFbaiArIDFdID0gdjtcbiAgfVxuXG4gIHJldHVybiBhO1xufTtcbi8qKlxyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgaW5zZXJ0aW9uU29ydFlcclxuICogQHBhcmFtICB7QXJyYXl9IGFcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqL1xuXG5cblNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkgPSBhID0+IHtcbiAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHYgPSBhW2ldO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueSA8PSB2LmFhYmIubG93ZXJCb3VuZC55KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBhW2ogKyAxXSA9IGFbal07XG4gICAgfVxuXG4gICAgYVtqICsgMV0gPSB2O1xuICB9XG5cbiAgcmV0dXJuIGE7XG59O1xuLyoqXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBpbnNlcnRpb25Tb3J0WlxyXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICovXG5cblxuU0FQQnJvYWRwaGFzZS5pbnNlcnRpb25Tb3J0WiA9IGEgPT4ge1xuICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgdiA9IGFbaV07XG4gICAgbGV0IGo7XG5cbiAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC56IDw9IHYuYWFiYi5sb3dlckJvdW5kLnopIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGFbaiArIDFdID0gYVtqXTtcbiAgICB9XG5cbiAgICBhW2ogKyAxXSA9IHY7XG4gIH1cblxuICByZXR1cm4gYTtcbn07XG4vKipcclxuICogQ2hlY2sgaWYgdGhlIGJvdW5kcyBvZiB0d28gYm9kaWVzIG92ZXJsYXAsIGFsb25nIHRoZSBnaXZlbiBTQVAgYXhpcy5cclxuICogQHN0YXRpY1xyXG4gKiBAbWV0aG9kIGNoZWNrQm91bmRzXHJcbiAqIEBwYXJhbSAge0JvZHl9IGJpXHJcbiAqIEBwYXJhbSAge0JvZHl9IGJqXHJcbiAqIEBwYXJhbSAge051bWJlcn0gYXhpc0luZGV4XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xuXG5cblNBUEJyb2FkcGhhc2UuY2hlY2tCb3VuZHMgPSAoYmksIGJqLCBheGlzSW5kZXgpID0+IHtcbiAgbGV0IGJpUG9zO1xuICBsZXQgYmpQb3M7XG5cbiAgaWYgKGF4aXNJbmRleCA9PT0gMCkge1xuICAgIGJpUG9zID0gYmkucG9zaXRpb24ueDtcbiAgICBialBvcyA9IGJqLnBvc2l0aW9uLng7XG4gIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAxKSB7XG4gICAgYmlQb3MgPSBiaS5wb3NpdGlvbi55O1xuICAgIGJqUG9zID0gYmoucG9zaXRpb24ueTtcbiAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDIpIHtcbiAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLno7XG4gICAgYmpQb3MgPSBiai5wb3NpdGlvbi56O1xuICB9XG5cbiAgY29uc3QgcmkgPSBiaS5ib3VuZGluZ1JhZGl1cyxcbiAgICAgICAgcmogPSBiai5ib3VuZGluZ1JhZGl1cyxcbiAgICAgICAgLy8gYm91bmRBMSA9IGJpUG9zIC0gcmksXG4gIGJvdW5kQTIgPSBiaVBvcyArIHJpLFxuICAgICAgICBib3VuZEIxID0gYmpQb3MgLSByajsgLy8gYm91bmRCMiA9IGJqUG9zICsgcmo7XG5cbiAgcmV0dXJuIGJvdW5kQjEgPCBib3VuZEEyO1xufTtcblxuZnVuY3Rpb24gVXRpbHMoKSB7fVxuLyoqXHJcbiAqIEV4dGVuZCBhbiBvcHRpb25zIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzLlxyXG4gKiBAc3RhdGljXHJcbiAqIEBtZXRob2QgZGVmYXVsdHNcclxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIG9iamVjdC4gTWF5IGJlIGZhbHN5OiBpbiB0aGlzIGNhc2UsIGEgbmV3IG9iamVjdCBpcyBjcmVhdGVkIGFuZCByZXR1cm5lZC5cclxuICogQHBhcmFtICB7b2JqZWN0fSBkZWZhdWx0cyBBbiBvYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcy5cclxuICogQHJldHVybiB7b2JqZWN0fSBUaGUgbW9kaWZpZWQgb3B0aW9ucyBvYmplY3QuXHJcbiAqL1xuXG5VdGlscy5kZWZhdWx0cyA9IChvcHRpb25zID0ge30sIGRlZmF1bHRzKSA9PiB7XG4gIGZvciAobGV0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmICghKGtleSBpbiBvcHRpb25zKSkge1xuICAgICAgb3B0aW9uc1trZXldID0gZGVmYXVsdHNba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbi8qKlxyXG4gKiBDb25zdHJhaW50IGJhc2UgY2xhc3NcclxuICogQGNsYXNzIENvbnN0cmFpbnRcclxuICogQGF1dGhvciBzY2h0ZXBwZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkPXRydWVdXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMud2FrZVVwQm9kaWVzPXRydWVdXHJcbiAqL1xuY2xhc3MgQ29uc3RyYWludCB7XG4gIC8vIEVxdWF0aW9ucyB0byBiZSBzb2x2ZWQgaW4gdGhpcyBjb25zdHJhaW50LlxuICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgYm9kaWVzIHRvIGNvbGxpZGUgd2hlbiB0aGV5IGFyZSBjb25uZWN0ZWQuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHtcbiAgICAgIGNvbGxpZGVDb25uZWN0ZWQ6IHRydWUsXG4gICAgICB3YWtlVXBCb2RpZXM6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmVxdWF0aW9ucyA9IFtdO1xuICAgIHRoaXMuYm9keUEgPSBib2R5QTtcbiAgICB0aGlzLmJvZHlCID0gYm9keUI7XG4gICAgdGhpcy5pZCA9IENvbnN0cmFpbnQuaWRDb3VudGVyKys7XG4gICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkO1xuXG4gICAgaWYgKG9wdGlvbnMud2FrZVVwQm9kaWVzKSB7XG4gICAgICBpZiAoYm9keUEpIHtcbiAgICAgICAgYm9keUEud2FrZVVwKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChib2R5Qikge1xuICAgICAgICBib2R5Qi53YWtlVXAoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIGFsbCB0aGUgZXF1YXRpb25zIHdpdGggZGF0YS5cclxuICAgKiBAbWV0aG9kIHVwZGF0ZVxyXG4gICAqL1xuXG5cbiAgdXBkYXRlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIHVwZGF0ZSgpIG5vdCBpbXBsbWVtZW50ZWQgaW4gdGhpcyBDb25zdHJhaW50IHN1YmNsYXNzIScpO1xuICB9XG4gIC8qKlxyXG4gICAqIEVuYWJsZXMgYWxsIGVxdWF0aW9ucyBpbiB0aGUgY29uc3RyYWludC5cclxuICAgKiBAbWV0aG9kIGVuYWJsZVxyXG4gICAqL1xuXG5cbiAgZW5hYmxlKCkge1xuICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGVxc1tpXS5lbmFibGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogRGlzYWJsZXMgYWxsIGVxdWF0aW9ucyBpbiB0aGUgY29uc3RyYWludC5cclxuICAgKiBAbWV0aG9kIGRpc2FibGVcclxuICAgKi9cblxuXG4gIGRpc2FibGUoKSB7XG4gICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykge1xuICAgICAgZXFzW2ldLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxufVxuQ29uc3RyYWludC5pZENvdW50ZXIgPSAwO1xuXG4vKipcclxuICogQW4gZWxlbWVudCBjb250YWluaW5nIDYgZW50cmllcywgMyBzcGF0aWFsIGFuZCAzIHJvdGF0aW9uYWwgZGVncmVlcyBvZiBmcmVlZG9tLlxyXG4gKi9cblxuY2xhc3MgSmFjb2JpYW5FbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zcGF0aWFsID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnJvdGF0aW9uYWwgPSBuZXcgVmVjMygpO1xuICB9XG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IHdpdGggb3RoZXIgSmFjb2JpYW5FbGVtZW50XHJcbiAgICovXG5cblxuICBtdWx0aXBseUVsZW1lbnQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LnNwYXRpYWwuZG90KHRoaXMuc3BhdGlhbCkgKyBlbGVtZW50LnJvdGF0aW9uYWwuZG90KHRoaXMucm90YXRpb25hbCk7XG4gIH1cbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgd2l0aCB0d28gdmVjdG9yc1xyXG4gICAqL1xuXG5cbiAgbXVsdGlwbHlWZWN0b3JzKHNwYXRpYWwsIHJvdGF0aW9uYWwpIHtcbiAgICByZXR1cm4gc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIHJvdGF0aW9uYWwuZG90KHRoaXMucm90YXRpb25hbCk7XG4gIH1cblxufVxuXG4vKipcclxuICogRXF1YXRpb24gYmFzZSBjbGFzc1xyXG4gKiBAY2xhc3MgRXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBiaVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtaW5Gb3JjZSBNaW5pbXVtIChyZWFkOiBuZWdhdGl2ZSBtYXgpIGZvcmNlIHRvIGJlIGFwcGxpZWQgYnkgdGhlIGNvbnN0cmFpbnQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBNYXhpbXVtIChyZWFkOiBwb3NpdGl2ZSBtYXgpIGZvcmNlIHRvIGJlIGFwcGxpZWQgYnkgdGhlIGNvbnN0cmFpbnQuXHJcbiAqL1xuY2xhc3MgRXF1YXRpb24ge1xuICAvLyBTUE9PSyBwYXJhbWV0ZXJcbiAgLy8gU1BPT0sgcGFyYW1ldGVyXG4gIC8vIFNQT09LIHBhcmFtZXRlclxuICAvLyBBIG51bWJlciwgcHJvcG9ydGlvbmFsIHRvIHRoZSBmb3JjZSBhZGRlZCB0byB0aGUgYm9kaWVzLlxuICBjb25zdHJ1Y3RvcihiaSwgYmosIG1pbkZvcmNlID0gLTFlNiwgbWF4Rm9yY2UgPSAxZTYpIHtcbiAgICB0aGlzLmlkID0gRXF1YXRpb24uaWQrKztcbiAgICB0aGlzLm1pbkZvcmNlID0gbWluRm9yY2U7XG4gICAgdGhpcy5tYXhGb3JjZSA9IG1heEZvcmNlO1xuICAgIHRoaXMuYmkgPSBiaTtcbiAgICB0aGlzLmJqID0gYmo7XG4gICAgdGhpcy5hID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXJcblxuICAgIHRoaXMuYiA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyXG5cbiAgICB0aGlzLmVwcyA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyXG5cbiAgICB0aGlzLmphY29iaWFuRWxlbWVudEEgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7XG4gICAgdGhpcy5qYWNvYmlhbkVsZW1lbnRCID0gbmV3IEphY29iaWFuRWxlbWVudCgpO1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5tdWx0aXBsaWVyID0gMDtcbiAgICB0aGlzLnNldFNwb29rUGFyYW1zKDFlNywgNCwgMSAvIDYwKTsgLy8gU2V0IHR5cGljYWwgc3Bvb2sgcGFyYW1zXG4gIH1cbiAgLyoqXHJcbiAgICogUmVjYWxjdWxhdGVzIGEsYixlcHMuXHJcbiAgICogQG1ldGhvZCBzZXRTcG9va1BhcmFtc1xyXG4gICAqL1xuXG5cbiAgc2V0U3Bvb2tQYXJhbXMoc3RpZmZuZXNzLCByZWxheGF0aW9uLCB0aW1lU3RlcCkge1xuICAgIGNvbnN0IGQgPSByZWxheGF0aW9uO1xuICAgIGNvbnN0IGsgPSBzdGlmZm5lc3M7XG4gICAgY29uc3QgaCA9IHRpbWVTdGVwO1xuICAgIHRoaXMuYSA9IDQuMCAvIChoICogKDEgKyA0ICogZCkpO1xuICAgIHRoaXMuYiA9IDQuMCAqIGQgLyAoMSArIDQgKiBkKTtcbiAgICB0aGlzLmVwcyA9IDQuMCAvIChoICogaCAqIGsgKiAoMSArIDQgKiBkKSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZXMgdGhlIHJpZ2h0IGhhbmQgc2lkZSBvZiB0aGUgU1BPT0sgZXF1YXRpb25cclxuICAgKiBAbWV0aG9kIGNvbXB1dGVCXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUIoYSwgYiwgaCkge1xuICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTtcbiAgICBjb25zdCBHcSA9IHRoaXMuY29tcHV0ZUdxKCk7XG4gICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICByZXR1cm4gLUdxICogYSAtIEdXICogYiAtIEdpTWYgKiBoO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIEcqcSwgd2hlcmUgcSBhcmUgdGhlIGdlbmVyYWxpemVkIGJvZHkgY29vcmRpbmF0ZXNcclxuICAgKiBAbWV0aG9kIGNvbXB1dGVHcVxyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGNvbXB1dGVHcSgpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHhpID0gYmkucG9zaXRpb247XG4gICAgY29uc3QgeGogPSBiai5wb3NpdGlvbjtcbiAgICByZXR1cm4gR0Euc3BhdGlhbC5kb3QoeGkpICsgR0Iuc3BhdGlhbC5kb3QoeGopO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIEcqVywgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllc1xyXG4gICAqIEBtZXRob2QgY29tcHV0ZUdXXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUdXKCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgdmkgPSBiaS52ZWxvY2l0eTtcbiAgICBjb25zdCB2aiA9IGJqLnZlbG9jaXR5O1xuICAgIGNvbnN0IHdpID0gYmkuYW5ndWxhclZlbG9jaXR5O1xuICAgIGNvbnN0IHdqID0gYmouYW5ndWxhclZlbG9jaXR5O1xuICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnModmksIHdpKSArIEdCLm11bHRpcGx5VmVjdG9ycyh2aiwgd2opO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIEcqV2xhbWJkYSwgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllc1xyXG4gICAqIEBtZXRob2QgY29tcHV0ZUdXbGFtYmRhXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgY29tcHV0ZUdXbGFtYmRhKCkge1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgdmkgPSBiaS52bGFtYmRhO1xuICAgIGNvbnN0IHZqID0gYmoudmxhbWJkYTtcbiAgICBjb25zdCB3aSA9IGJpLndsYW1iZGE7XG4gICAgY29uc3Qgd2ogPSBiai53bGFtYmRhO1xuICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnModmksIHdpKSArIEdCLm11bHRpcGx5VmVjdG9ycyh2aiwgd2opO1xuICB9XG5cbiAgY29tcHV0ZUdpTWYoKSB7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCBmaSA9IGJpLmZvcmNlO1xuICAgIGNvbnN0IHRpID0gYmkudG9ycXVlO1xuICAgIGNvbnN0IGZqID0gYmouZm9yY2U7XG4gICAgY29uc3QgdGogPSBiai50b3JxdWU7XG4gICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7XG4gICAgY29uc3QgaW52TWFzc2ogPSBiai5pbnZNYXNzU29sdmU7XG4gICAgZmkuc2NhbGUoaW52TWFzc2ksIGlNZmkpO1xuICAgIGZqLnNjYWxlKGludk1hc3NqLCBpTWZqKTtcbiAgICBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdCh0aSwgaW52SWlfdm11bHRfdGF1aSk7XG4gICAgYmouaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGosIGludklqX3ZtdWx0X3RhdWopO1xuICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnMoaU1maSwgaW52SWlfdm11bHRfdGF1aSkgKyBHQi5tdWx0aXBseVZlY3RvcnMoaU1maiwgaW52SWpfdm11bHRfdGF1aik7XG4gIH1cblxuICBjb21wdXRlR2lNR3QoKSB7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTtcbiAgICBjb25zdCBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZTtcbiAgICBjb25zdCBpbnZJaSA9IGJpLmludkluZXJ0aWFXb3JsZFNvbHZlO1xuICAgIGNvbnN0IGludklqID0gYmouaW52SW5lcnRpYVdvcmxkU29sdmU7XG4gICAgbGV0IHJlc3VsdCA9IGludk1hc3NpICsgaW52TWFzc2o7XG4gICAgaW52SWkudm11bHQoR0Eucm90YXRpb25hbCwgdG1wJDEpO1xuICAgIHJlc3VsdCArPSB0bXAkMS5kb3QoR0Eucm90YXRpb25hbCk7XG4gICAgaW52SWoudm11bHQoR0Iucm90YXRpb25hbCwgdG1wJDEpO1xuICAgIHJlc3VsdCArPSB0bXAkMS5kb3QoR0Iucm90YXRpb25hbCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBBZGQgY29uc3RyYWludCB2ZWxvY2l0eSB0byB0aGUgYm9kaWVzLlxyXG4gICAqIEBtZXRob2QgYWRkVG9XbGFtYmRhXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhbGFtYmRhXHJcbiAgICovXG5cblxuICBhZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpIHtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBiaSA9IHRoaXMuYmk7XG4gICAgY29uc3QgYmogPSB0aGlzLmJqO1xuICAgIGNvbnN0IHRlbXAgPSBhZGRUb1dsYW1iZGFfdGVtcDsgLy8gQWRkIHRvIGxpbmVhciB2ZWxvY2l0eVxuICAgIC8vIHZfbGFtYmRhICs9IGludihNKSAqIGRlbHRhX2xhbWJhICogR1xuXG4gICAgYmkudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmkuaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdBLnNwYXRpYWwsIGJpLnZsYW1iZGEpO1xuICAgIGJqLnZsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGJqLmludk1hc3NTb2x2ZSAqIGRlbHRhbGFtYmRhLCBHQi5zcGF0aWFsLCBiai52bGFtYmRhKTsgLy8gQWRkIHRvIGFuZ3VsYXIgdmVsb2NpdHlcblxuICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdBLnJvdGF0aW9uYWwsIHRlbXApO1xuICAgIGJpLndsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGRlbHRhbGFtYmRhLCB0ZW1wLCBiaS53bGFtYmRhKTtcbiAgICBiai5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChHQi5yb3RhdGlvbmFsLCB0ZW1wKTtcbiAgICBiai53bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihkZWx0YWxhbWJkYSwgdGVtcCwgYmoud2xhbWJkYSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0aGUgZGVub21pbmF0b3IgcGFydCBvZiB0aGUgU1BPT0sgZXF1YXRpb246IEMgPSBHKmludihNKSpHJyArIGVwc1xyXG4gICAqIEBtZXRob2QgY29tcHV0ZUludkNcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGVwc1xyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKi9cblxuXG4gIGNvbXB1dGVDKCkge1xuICAgIHJldHVybiB0aGlzLmNvbXB1dGVHaU1HdCgpICsgdGhpcy5lcHM7XG4gIH1cblxufVxuRXF1YXRpb24uaWQgPSAwO1xuLyoqXHJcbiAqIENvbXB1dGVzIEcqaW52KE0pKmYsIHdoZXJlIE0gaXMgdGhlIG1hc3MgbWF0cml4IHdpdGggZGlhZ29uYWwgYmxvY2tzIGZvciBlYWNoIGJvZHksIGFuZCBmIGFyZSB0aGUgZm9yY2VzIG9uIHRoZSBib2RpZXMuXHJcbiAqIEBtZXRob2QgY29tcHV0ZUdpTWZcclxuICogQHJldHVybiB7TnVtYmVyfVxyXG4gKi9cblxuY29uc3QgaU1maSA9IG5ldyBWZWMzKCk7XG5jb25zdCBpTWZqID0gbmV3IFZlYzMoKTtcbmNvbnN0IGludklpX3ZtdWx0X3RhdWkgPSBuZXcgVmVjMygpO1xuY29uc3QgaW52SWpfdm11bHRfdGF1aiA9IG5ldyBWZWMzKCk7XG4vKipcclxuICogQ29tcHV0ZXMgRyppbnYoTSkqRydcclxuICogQG1ldGhvZCBjb21wdXRlR2lNR3RcclxuICogQHJldHVybiB7TnVtYmVyfVxyXG4gKi9cblxuY29uc3QgdG1wJDEgPSBuZXcgVmVjMygpO1xuY29uc3QgYWRkVG9XbGFtYmRhX3RlbXAgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQ29udGFjdC9ub24tcGVuZXRyYXRpb24gY29uc3RyYWludCBlcXVhdGlvblxyXG4gKiBAY2xhc3MgQ29udGFjdEVxdWF0aW9uXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxyXG4gKi9cbmNsYXNzIENvbnRhY3RFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHtcbiAgLy8gXCJib3VuY2luZXNzXCI6IHUxID0gLWUqdTBcbiAgLy8gV29ybGQtb3JpZW50ZWQgdmVjdG9yIHRoYXQgZ29lcyBmcm9tIHRoZSBjZW50ZXIgb2YgYmkgdG8gdGhlIGNvbnRhY3QgcG9pbnQuXG4gIC8vIFdvcmxkLW9yaWVudGVkIHZlY3RvciB0aGF0IHN0YXJ0cyBpbiBib2R5IGogcG9zaXRpb24gYW5kIGdvZXMgdG8gdGhlIGNvbnRhY3QgcG9pbnQuXG4gIC8vIENvbnRhY3Qgbm9ybWFsLCBwb2ludGluZyBvdXQgb2YgYm9keSBpLlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG1heEZvcmNlID0gMWU2KSB7XG4gICAgc3VwZXIoYm9keUEsIGJvZHlCLCAwLCBtYXhGb3JjZSk7XG4gICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMDtcbiAgICB0aGlzLnJpID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnJqID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLm5pID0gbmV3IFZlYzMoKTtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCByaSA9IHRoaXMucmk7XG4gICAgY29uc3QgcmogPSB0aGlzLnJqO1xuICAgIGNvbnN0IHJpeG4gPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDE7XG4gICAgY29uc3Qgcmp4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMjtcbiAgICBjb25zdCB2aSA9IGJpLnZlbG9jaXR5O1xuICAgIGNvbnN0IHdpID0gYmkuYW5ndWxhclZlbG9jaXR5O1xuICAgIGNvbnN0IGZpID0gYmkuZm9yY2U7XG4gICAgY29uc3QgdGF1aSA9IGJpLnRvcnF1ZTtcbiAgICBjb25zdCB2aiA9IGJqLnZlbG9jaXR5O1xuICAgIGNvbnN0IHdqID0gYmouYW5ndWxhclZlbG9jaXR5O1xuICAgIGNvbnN0IGZqID0gYmouZm9yY2U7XG4gICAgY29uc3QgdGF1aiA9IGJqLnRvcnF1ZTtcbiAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMztcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICBjb25zdCBuID0gdGhpcy5uaTsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzXG5cbiAgICByaS5jcm9zcyhuLCByaXhuKTtcbiAgICByai5jcm9zcyhuLCByanhuKTsgLy8gZyA9IHhqK3JqIC0oeGkrcmkpXG4gICAgLy8gRyA9IFsgLW5pICAtcml4biAgbmkgIHJqeG4gXVxuXG4gICAgbi5uZWdhdGUoR0Euc3BhdGlhbCk7XG4gICAgcml4bi5uZWdhdGUoR0Eucm90YXRpb25hbCk7XG4gICAgR0Iuc3BhdGlhbC5jb3B5KG4pO1xuICAgIEdCLnJvdGF0aW9uYWwuY29weShyanhuKTsgLy8gQ2FsY3VsYXRlIHRoZSBwZW5ldHJhdGlvbiB2ZWN0b3JcblxuICAgIHBlbmV0cmF0aW9uVmVjLmNvcHkoYmoucG9zaXRpb24pO1xuICAgIHBlbmV0cmF0aW9uVmVjLnZhZGQocmosIHBlbmV0cmF0aW9uVmVjKTtcbiAgICBwZW5ldHJhdGlvblZlYy52c3ViKGJpLnBvc2l0aW9uLCBwZW5ldHJhdGlvblZlYyk7XG4gICAgcGVuZXRyYXRpb25WZWMudnN1YihyaSwgcGVuZXRyYXRpb25WZWMpO1xuICAgIGNvbnN0IGcgPSBuLmRvdChwZW5ldHJhdGlvblZlYyk7IC8vIENvbXB1dGUgaXRlcmF0aW9uXG5cbiAgICBjb25zdCBlUGx1c09uZSA9IHRoaXMucmVzdGl0dXRpb24gKyAxO1xuICAgIGNvbnN0IEdXID0gZVBsdXNPbmUgKiB2ai5kb3QobikgLSBlUGx1c09uZSAqIHZpLmRvdChuKSArIHdqLmRvdChyanhuKSAtIHdpLmRvdChyaXhuKTtcbiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjtcbiAgICByZXR1cm4gQjtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGN1cnJlbnQgcmVsYXRpdmUgdmVsb2NpdHkgaW4gdGhlIGNvbnRhY3QgcG9pbnQuXHJcbiAgICogQG1ldGhvZCBnZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsXHJcbiAgICogQHJldHVybiB7bnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpIHtcbiAgICBjb25zdCB2aSA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpO1xuICAgIGNvbnN0IHZqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmo7XG4gICAgY29uc3QgeGkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aTtcbiAgICBjb25zdCB4aiA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqO1xuICAgIGNvbnN0IHJlbFZlbCA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbDtcbiAgICB0aGlzLmJpLnBvc2l0aW9uLnZhZGQodGhpcy5yaSwgeGkpO1xuICAgIHRoaXMuYmoucG9zaXRpb24udmFkZCh0aGlzLnJqLCB4aik7XG4gICAgdGhpcy5iaS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aSwgdmkpO1xuICAgIHRoaXMuYmouZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoeGosIHZqKTtcbiAgICB2aS52c3ViKHZqLCByZWxWZWwpO1xuICAgIHJldHVybiB0aGlzLm5pLmRvdChyZWxWZWwpO1xuICB9XG5cbn1cbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9yc1xuXG5jb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDIgPSBuZXcgVmVjMygpO1xuY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hpID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqID0gbmV3IFZlYzMoKTtcbmNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBDb25uZWN0cyB0d28gYm9kaWVzIGF0IGdpdmVuIG9mZnNldCBwb2ludHMuXHJcbiAqIEBjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50XHJcbiAqIEBleHRlbmRzIENvbnN0cmFpbnRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtWZWMzfSBwaXZvdEEgVGhlIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyBvZiBib2R5QSB3aGljaCBib2R5QSBpcyBjb25zdHJhaW5lZCB0by5cclxuICogQHBhcmFtIHtCb2R5fSBib2R5QiBCb2R5IHRoYXQgd2lsbCBiZSBjb25zdHJhaW5lZCBpbiBhIHNpbWlsYXIgd2F5IHRvIHRoZSBzYW1lIHBvaW50IGFzIGJvZHlBLiBXZSB3aWxsIHRoZXJlZm9yZSBnZXQgYSBsaW5rIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCLiBJZiBub3Qgc3BlY2lmaWVkLCBib2R5QSB3aWxsIGJlIGNvbnN0cmFpbmVkIHRvIGEgc3RhdGljIHBvaW50LlxyXG4gKiBAcGFyYW0ge1ZlYzN9IHBpdm90QiBTZWUgcGl2b3RBLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2UgVGhlIG1heGltdW0gZm9yY2UgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byBjb25zdHJhaW4gdGhlIGJvZGllcy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogICAgIGNvbnN0IGJvZHlBID0gbmV3IEJvZHkoeyBtYXNzOiAxIH0pO1xyXG4gKiAgICAgY29uc3QgYm9keUIgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7XHJcbiAqICAgICBib2R5QS5wb3NpdGlvbi5zZXQoLTEsIDAsIDApO1xyXG4gKiAgICAgYm9keUIucG9zaXRpb24uc2V0KDEsIDAsIDApO1xyXG4gKiAgICAgYm9keUEuYWRkU2hhcGUoc2hhcGVBKTtcclxuICogICAgIGJvZHlCLmFkZFNoYXBlKHNoYXBlQik7XHJcbiAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHlBKTtcclxuICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUIpO1xyXG4gKiAgICAgY29uc3QgbG9jYWxQaXZvdEEgPSBuZXcgVmVjMygxLCAwLCAwKTtcclxuICogICAgIGNvbnN0IGxvY2FsUGl2b3RCID0gbmV3IFZlYzMoLTEsIDAsIDApO1xyXG4gKiAgICAgY29uc3QgY29uc3RyYWludCA9IG5ldyBQb2ludFRvUG9pbnRDb25zdHJhaW50KGJvZHlBLCBsb2NhbFBpdm90QSwgYm9keUIsIGxvY2FsUGl2b3RCKTtcclxuICogICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7XHJcbiAqL1xuY2xhc3MgUG9pbnRUb1BvaW50Q29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQge1xuICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLlxuICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCLlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgcGl2b3RBID0gbmV3IFZlYzMoKSwgYm9keUIsIHBpdm90QiA9IG5ldyBWZWMzKCksIG1heEZvcmNlID0gMWU2KSB7XG4gICAgc3VwZXIoYm9keUEsIGJvZHlCKTtcbiAgICB0aGlzLnBpdm90QSA9IHBpdm90QS5jbG9uZSgpO1xuICAgIHRoaXMucGl2b3RCID0gcGl2b3RCLmNsb25lKCk7XG4gICAgY29uc3QgeCA9IHRoaXMuZXF1YXRpb25YID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpO1xuICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWSA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTtcbiAgICBjb25zdCB6ID0gdGhpcy5lcXVhdGlvblogPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7IC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlclxuXG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaCh4LCB5LCB6KTsgLy8gTWFrZSB0aGUgZXF1YXRpb25zIGJpZGlyZWN0aW9uYWxcblxuICAgIHgubWluRm9yY2UgPSB5Lm1pbkZvcmNlID0gei5taW5Gb3JjZSA9IC1tYXhGb3JjZTtcbiAgICB4Lm1heEZvcmNlID0geS5tYXhGb3JjZSA9IHoubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgICB4Lm5pLnNldCgxLCAwLCAwKTtcbiAgICB5Lm5pLnNldCgwLCAxLCAwKTtcbiAgICB6Lm5pLnNldCgwLCAwLCAxKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWDtcbiAgICBjb25zdCB5ID0gdGhpcy5lcXVhdGlvblk7XG4gICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aOyAvLyBSb3RhdGUgdGhlIHBpdm90cyB0byB3b3JsZCBzcGFjZVxuXG4gICAgYm9keUEucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QSwgeC5yaSk7XG4gICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QiwgeC5yaik7XG4gICAgeS5yaS5jb3B5KHgucmkpO1xuICAgIHkucmouY29weSh4LnJqKTtcbiAgICB6LnJpLmNvcHkoeC5yaSk7XG4gICAgei5yai5jb3B5KHgucmopO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIENvbmUgZXF1YXRpb24uIFdvcmtzIHRvIGtlZXAgdGhlIGdpdmVuIGJvZHkgd29ybGQgdmVjdG9ycyBhbGlnbmVkLCBvciB0aWx0ZWQgd2l0aGluIGEgZ2l2ZW4gYW5nbGUgZnJvbSBlYWNoIG90aGVyLlxyXG4gKiBAY2xhc3MgQ29uZUVxdWF0aW9uXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXSBMb2NhbCBheGlzIGluIEFcclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0gTG9jYWwgYXhpcyBpbiBCXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYW5nbGVdIFRoZSBcImNvbmUgYW5nbGVcIiB0byBrZWVwXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZT0xZTZdXHJcbiAqIEBleHRlbmRzIEVxdWF0aW9uXHJcbiAqL1xuY2xhc3MgQ29uZUVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICAvLyBUaGUgY29uZSBhbmdsZSB0byBrZWVwLlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpO1xuICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7XG4gICAgdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygwLCAxLCAwKTtcbiAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7XG4gIH1cblxuICBjb21wdXRlQihoKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICBjb25zdCBiID0gdGhpcy5iO1xuICAgIGNvbnN0IG5pID0gdGhpcy5heGlzQTtcbiAgICBjb25zdCBuaiA9IHRoaXMuYXhpc0I7XG4gICAgY29uc3Qgbml4bmogPSB0bXBWZWMxO1xuICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMjtcbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzXG5cbiAgICBuaS5jcm9zcyhuaiwgbml4bmopO1xuICAgIG5qLmNyb3NzKG5pLCBuanhuaSk7IC8vIFRoZSBhbmdsZSBiZXR3ZWVuIHR3byB2ZWN0b3IgaXM6XG4gICAgLy8gY29zKHRoZXRhKSA9IGEgKiBiIC8gKGxlbmd0aChhKSAqIGxlbmd0aChiKSA9IHsgbGVuKGEpID0gbGVuKGIpID0gMSB9ID0gYSAqIGJcbiAgICAvLyBnID0gYSAqIGJcbiAgICAvLyBnZG90ID0gKGIgeCBhKSAqIHdpICsgKGEgeCBiKSAqIHdqXG4gICAgLy8gRyA9IFswIGJ4YSAwIGF4Yl1cbiAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXVxuXG4gICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTtcbiAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopO1xuICAgIGNvbnN0IGcgPSBNYXRoLmNvcyh0aGlzLmFuZ2xlKSAtIG5pLmRvdChuaik7XG4gICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mO1xuICAgIHJldHVybiBCO1xuICB9XG5cbn1cbmNvbnN0IHRtcFZlYzEgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjMiA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBSb3RhdGlvbmFsIGNvbnN0cmFpbnQuIFdvcmtzIHRvIGtlZXAgdGhlIGxvY2FsIHZlY3RvcnMgb3J0aG9nb25hbCB0byBlYWNoIG90aGVyIGluIHdvcmxkIHNwYWNlLlxyXG4gKiBAY2xhc3MgUm90YXRpb25hbEVxdWF0aW9uXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2VdXHJcbiAqIEBleHRlbmRzIEVxdWF0aW9uXHJcbiAqL1xuY2xhc3MgUm90YXRpb25hbEVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24ge1xuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjtcbiAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpO1xuICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7XG4gICAgdGhpcy5heGlzQiA9IG9wdGlvbnMuYXhpc0IgPyBvcHRpb25zLmF4aXNCLmNsb25lKCkgOiBuZXcgVmVjMygwLCAxLCAwKTtcbiAgICB0aGlzLm1heEFuZ2xlID0gTWF0aC5QSSAvIDI7XG4gIH1cblxuICBjb21wdXRlQihoKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICBjb25zdCBiID0gdGhpcy5iO1xuICAgIGNvbnN0IG5pID0gdGhpcy5heGlzQTtcbiAgICBjb25zdCBuaiA9IHRoaXMuYXhpc0I7XG4gICAgY29uc3Qgbml4bmogPSB0bXBWZWMxJDE7XG4gICAgY29uc3Qgbmp4bmkgPSB0bXBWZWMyJDE7XG4gICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7XG4gICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0c1xuXG4gICAgbmkuY3Jvc3MobmosIG5peG5qKTtcbiAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBnID0gbmkgKiBualxuICAgIC8vIGdkb3QgPSAobmogeCBuaSkgKiB3aSArIChuaSB4IG5qKSAqIHdqXG4gICAgLy8gRyA9IFswIG5qeG5pIDAgbml4bmpdXG4gICAgLy8gVyA9IFt2aSB3aSB2aiB3al1cblxuICAgIEdBLnJvdGF0aW9uYWwuY29weShuanhuaSk7XG4gICAgR0Iucm90YXRpb25hbC5jb3B5KG5peG5qKTtcbiAgICBjb25zdCBnID0gTWF0aC5jb3ModGhpcy5tYXhBbmdsZSkgLSBuaS5kb3QobmopO1xuICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTtcbiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjtcbiAgICByZXR1cm4gQjtcbiAgfVxuXG59XG5jb25zdCB0bXBWZWMxJDEgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjMiQxID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIEBjbGFzcyBDb25lVHdpc3RDb25zdHJhaW50XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RBXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90Ql1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl1cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl1cclxuICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludFxyXG4gKi9cbmNsYXNzIENvbmVUd2lzdENvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7IC8vIFNldCBwaXZvdCBwb2ludCBpbiBiZXR3ZWVuXG5cbiAgICBjb25zdCBwaXZvdEEgPSBvcHRpb25zLnBpdm90QSA/IG9wdGlvbnMucGl2b3RBLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBpdm90QiA9IG9wdGlvbnMucGl2b3RCID8gb3B0aW9ucy5waXZvdEIuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpO1xuICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoKTtcbiAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7XG4gICAgdGhpcy5hbmdsZSA9IHR5cGVvZiBvcHRpb25zLmFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5nbGUgOiAwO1xuICAgIGNvbnN0IGMgPSB0aGlzLmNvbmVFcXVhdGlvbiA9IG5ldyBDb25lRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcbiAgICBjb25zdCB0ID0gdGhpcy50d2lzdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIHRoaXMudHdpc3RBbmdsZSA9IHR5cGVvZiBvcHRpb25zLnR3aXN0QW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy50d2lzdEFuZ2xlIDogMDsgLy8gTWFrZSB0aGUgY29uZSBlcXVhdGlvbiBwdXNoIHRoZSBib2RpZXMgdG93YXJkIHRoZSBjb25lIGF4aXMsIG5vdCBvdXR3YXJkXG5cbiAgICBjLm1heEZvcmNlID0gMDtcbiAgICBjLm1pbkZvcmNlID0gLW1heEZvcmNlOyAvLyBNYWtlIHRoZSB0d2lzdCBlcXVhdGlvbiBhZGQgdG9ycXVlIHRvd2FyZCB0aGUgaW5pdGlhbCBwb3NpdGlvblxuXG4gICAgdC5tYXhGb3JjZSA9IDA7XG4gICAgdC5taW5Gb3JjZSA9IC1tYXhGb3JjZTtcbiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGMsIHQpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgY29uZSA9IHRoaXMuY29uZUVxdWF0aW9uO1xuICAgIGNvbnN0IHR3aXN0ID0gdGhpcy50d2lzdEVxdWF0aW9uO1xuICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBVcGRhdGUgdGhlIGF4ZXMgdG8gdGhlIGNvbmUgY29uc3RyYWludFxuXG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0EsIGNvbmUuYXhpc0EpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNCLCBjb25lLmF4aXNCKTsgLy8gVXBkYXRlIHRoZSB3b3JsZCBheGVzIGluIHRoZSB0d2lzdCBjb25zdHJhaW50XG5cbiAgICB0aGlzLmF4aXNBLnRhbmdlbnRzKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7XG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7XG4gICAgdGhpcy5heGlzQi50YW5nZW50cyh0d2lzdC5heGlzQiwgdHdpc3QuYXhpc0IpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0d2lzdC5heGlzQiwgdHdpc3QuYXhpc0IpO1xuICAgIGNvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlO1xuICAgIHR3aXN0Lm1heEFuZ2xlID0gdGhpcy50d2lzdEFuZ2xlO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIENvbnN0cmFpbnMgdHdvIGJvZGllcyB0byBiZSBhdCBhIGNvbnN0YW50IGRpc3RhbmNlIGZyb20gZWFjaCBvdGhlcnMgY2VudGVyIG9mIG1hc3MuXHJcbiAqIEBjbGFzcyBEaXN0YW5jZUNvbnN0cmFpbnRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbZGlzdGFuY2VdIFRoZSBkaXN0YW5jZSB0byBrZWVwLiBJZiB1bmRlZmluZWQsIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4Rm9yY2U9MWU2XVxyXG4gKiBAZXh0ZW5kcyBDb25zdHJhaW50XHJcbiAqL1xuY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7XG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgZGlzdGFuY2UsIG1heEZvcmNlID0gMWU2KSB7XG4gICAgc3VwZXIoYm9keUEsIGJvZHlCKTtcblxuICAgIGlmICh0eXBlb2YgZGlzdGFuY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkaXN0YW5jZSA9IGJvZHlBLnBvc2l0aW9uLmRpc3RhbmNlVG8oYm9keUIucG9zaXRpb24pO1xuICAgIH1cblxuICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbiA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTtcbiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGVxKTsgLy8gTWFrZSBpdCBiaWRpcmVjdGlvbmFsXG5cbiAgICBlcS5taW5Gb3JjZSA9IC1tYXhGb3JjZTtcbiAgICBlcS5tYXhGb3JjZSA9IG1heEZvcmNlO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgZXEgPSB0aGlzLmRpc3RhbmNlRXF1YXRpb247XG4gICAgY29uc3QgaGFsZkRpc3QgPSB0aGlzLmRpc3RhbmNlICogMC41O1xuICAgIGNvbnN0IG5vcm1hbCA9IGVxLm5pO1xuICAgIGJvZHlCLnBvc2l0aW9uLnZzdWIoYm9keUEucG9zaXRpb24sIG5vcm1hbCk7XG4gICAgbm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgIG5vcm1hbC5zY2FsZShoYWxmRGlzdCwgZXEucmkpO1xuICAgIG5vcm1hbC5zY2FsZSgtaGFsZkRpc3QsIGVxLnJqKTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBMb2NrIGNvbnN0cmFpbnQuIFdpbGwgcmVtb3ZlIGFsbCBkZWdyZWVzIG9mIGZyZWVkb20gYmV0d2VlbiB0aGUgYm9kaWVzLlxyXG4gKiBAY2xhc3MgTG9ja0NvbnN0cmFpbnRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl1cclxuICogQGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludFxyXG4gKi9cbmNsYXNzIExvY2tDb25zdHJhaW50IGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludCB7XG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlblxuXG4gICAgY29uc3QgcGl2b3RBID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBwaXZvdEIgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IGhhbGZXYXkgPSBuZXcgVmVjMygpO1xuICAgIGJvZHlBLnBvc2l0aW9uLnZhZGQoYm9keUIucG9zaXRpb24sIGhhbGZXYXkpO1xuICAgIGhhbGZXYXkuc2NhbGUoMC41LCBoYWxmV2F5KTtcbiAgICBib2R5Qi5wb2ludFRvTG9jYWxGcmFtZShoYWxmV2F5LCBwaXZvdEIpO1xuICAgIGJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90QSk7IC8vIFRoZSBwb2ludC10by1wb2ludCBjb25zdHJhaW50IHdpbGwga2VlcCBhIHBvaW50IHNoYXJlZCBiZXR3ZWVuIHRoZSBib2RpZXNcblxuICAgIHN1cGVyKGJvZHlBLCBwaXZvdEEsIGJvZHlCLCBwaXZvdEIsIG1heEZvcmNlKTsgLy8gU3RvcmUgaW5pdGlhbCByb3RhdGlvbiBvZiB0aGUgYm9kaWVzIGFzIHVuaXQgdmVjdG9ycyBpbiB0aGUgbG9jYWwgYm9keSBzcGFjZXNcblxuICAgIHRoaXMueEEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1gpO1xuICAgIHRoaXMueEIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1gpO1xuICAgIHRoaXMueUEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1kpO1xuICAgIHRoaXMueUIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1kpO1xuICAgIHRoaXMuekEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1opO1xuICAgIHRoaXMuekIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1opOyAvLyAuLi5hbmQgdGhlIGZvbGxvd2luZyByb3RhdGlvbmFsIGVxdWF0aW9ucyB3aWxsIGtlZXAgYWxsIHJvdGF0aW9uYWwgRE9GJ3MgaW4gcGxhY2VcblxuICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuICAgIHRoaXMuZXF1YXRpb25zLnB1c2gocjEsIHIyLCByMyk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBO1xuICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjtcbiAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbjtcbiAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTtcbiAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjtcbiAgICBjb25zdCByMyA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMztcbiAgICBzdXBlci51cGRhdGUoKTsgLy8gVGhlc2UgdmVjdG9yIHBhaXJzIG11c3QgYmUgb3J0aG9nb25hbFxuXG4gICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueEEsIHIxLmF4aXNBKTtcbiAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QiwgcjEuYXhpc0IpO1xuICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnlBLCByMi5heGlzQSk7XG4gICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuekIsIHIyLmF4aXNCKTtcbiAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QSwgcjMuYXhpc0EpO1xuICAgIGJvZHlCLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnhCLCByMy5heGlzQik7XG4gIH1cblxufVxuXG4vKipcclxuICogUm90YXRpb25hbCBtb3RvciBjb25zdHJhaW50LiBUcmllcyB0byBrZWVwIHRoZSByZWxhdGl2ZSBhbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2RpZXMgdG8gYSBnaXZlbiB2YWx1ZS5cclxuICogQGNsYXNzIFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2VcclxuICogQGV4dGVuZHMgRXF1YXRpb25cclxuICovXG5jbGFzcyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHtcbiAgLy8gV29ybGQgb3JpZW50ZWQgcm90YXRpb25hbCBheGlzLlxuICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuXG4gIC8vIE1vdG9yIHZlbG9jaXR5LlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG1heEZvcmNlID0gMWU2KSB7XG4gICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTtcbiAgICB0aGlzLmF4aXNBID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLmF4aXNCID0gbmV3IFZlYzMoKTtcbiAgICB0aGlzLnRhcmdldFZlbG9jaXR5ID0gMDtcbiAgfVxuXG4gIGNvbXB1dGVCKGgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hO1xuICAgIGNvbnN0IGIgPSB0aGlzLmI7XG4gICAgY29uc3QgYmkgPSB0aGlzLmJpO1xuICAgIGNvbnN0IGJqID0gdGhpcy5iajtcbiAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0E7XG4gICAgY29uc3QgYXhpc0IgPSB0aGlzLmF4aXNCO1xuICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBO1xuICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOyAvLyBnID0gMFxuICAgIC8vIGdkb3QgPSBheGlzQSAqIHdpIC0gYXhpc0IgKiB3alxuICAgIC8vIGdkb3QgPSBHICogVyA9IEcgKiBbdmkgd2kgdmogd2pdXG4gICAgLy8gPT5cbiAgICAvLyBHID0gWzAgYXhpc0EgMCAtYXhpc0JdXG5cbiAgICBHQS5yb3RhdGlvbmFsLmNvcHkoYXhpc0EpO1xuICAgIGF4aXNCLm5lZ2F0ZShHQi5yb3RhdGlvbmFsKTtcbiAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCkgLSB0aGlzLnRhcmdldFZlbG9jaXR5O1xuICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjtcbiAgICByZXR1cm4gQjtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBIaW5nZSBjb25zdHJhaW50LiBUaGluayBvZiBpdCBhcyBhIGRvb3IgaGluZ2UuIEl0IHRyaWVzIHRvIGtlZXAgdGhlIGRvb3IgaW4gdGhlIGNvcnJlY3QgcGxhY2UgYW5kIHdpdGggdGhlIGNvcnJlY3Qgb3JpZW50YXRpb24uXHJcbiAqIEBjbGFzcyBIaW5nZUNvbnN0cmFpbnRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5waXZvdEFdIEEgcG9pbnQgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLiBUaGlzIGRlZmluZXMgdGhlIG9mZnNldCBvZiBheGlzQS5cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQV0gQW4gYXhpcyB0aGF0IGJvZHlBIGNhbiByb3RhdGUgYXJvdW5kLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXVxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XVxyXG4gKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50XHJcbiAqL1xuY2xhc3MgSGluZ2VDb25zdHJhaW50IGV4dGVuZHMgUG9pbnRUb1BvaW50Q29uc3RyYWludCB7XG4gIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS5cbiAgLy8gUm90YXRpb24gYXhpcywgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCLlxuICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjtcbiAgICBjb25zdCBwaXZvdEEgPSBvcHRpb25zLnBpdm90QSA/IG9wdGlvbnMucGl2b3RBLmNsb25lKCkgOiBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHBpdm90QiA9IG9wdGlvbnMucGl2b3RCID8gb3B0aW9ucy5waXZvdEIuY2xvbmUoKSA6IG5ldyBWZWMzKCk7XG4gICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpO1xuICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQSA9IG9wdGlvbnMuYXhpc0EgPyBvcHRpb25zLmF4aXNBLmNsb25lKCkgOiBuZXcgVmVjMygxLCAwLCAwKTtcbiAgICBheGlzQS5ub3JtYWxpemUoKTtcbiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7XG4gICAgYXhpc0Iubm9ybWFsaXplKCk7XG4gICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7XG4gICAgY29uc3Qgcm90YXRpb25hbDEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3Qgcm90YXRpb25hbDIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjIgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG4gICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb24gPSBuZXcgUm90YXRpb25hbE1vdG9yRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtYXhGb3JjZSk7XG4gICAgbW90b3IuZW5hYmxlZCA9IGZhbHNlOyAvLyBOb3QgZW5hYmxlZCBieSBkZWZhdWx0XG4gICAgLy8gRXF1YXRpb25zIHRvIGJlIGZlZCB0byB0aGUgc29sdmVyXG5cbiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHJvdGF0aW9uYWwxLCByb3RhdGlvbmFsMiwgbW90b3IpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgZW5hYmxlTW90b3JcclxuICAgKi9cblxuXG4gIGVuYWJsZU1vdG9yKCkge1xuICAgIHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGRpc2FibGVNb3RvclxyXG4gICAqL1xuXG5cbiAgZGlzYWJsZU1vdG9yKCkge1xuICAgIHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkID0gZmFsc2U7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBzZXRNb3RvclNwZWVkXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNwZWVkXHJcbiAgICovXG5cblxuICBzZXRNb3RvclNwZWVkKHNwZWVkKSB7XG4gICAgdGhpcy5tb3RvckVxdWF0aW9uLnRhcmdldFZlbG9jaXR5ID0gc3BlZWQ7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBzZXRNb3Rvck1heEZvcmNlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heEZvcmNlXHJcbiAgICovXG5cblxuICBzZXRNb3Rvck1heEZvcmNlKG1heEZvcmNlKSB7XG4gICAgdGhpcy5tb3RvckVxdWF0aW9uLm1heEZvcmNlID0gbWF4Rm9yY2U7XG4gICAgdGhpcy5tb3RvckVxdWF0aW9uLm1pbkZvcmNlID0gLW1heEZvcmNlO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTtcbiAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7XG4gICAgY29uc3QgbW90b3IgPSB0aGlzLm1vdG9yRXF1YXRpb247XG4gICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjE7XG4gICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjI7XG4gICAgY29uc3Qgd29ybGRBeGlzQSA9IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMTtcbiAgICBjb25zdCB3b3JsZEF4aXNCID0gSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMyO1xuICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTtcbiAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7XG4gICAgc3VwZXIudXBkYXRlKCk7IC8vIEdldCB3b3JsZCBheGVzXG5cbiAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KGF4aXNBLCB3b3JsZEF4aXNBKTtcbiAgICBib2R5Qi5xdWF0ZXJuaW9uLnZtdWx0KGF4aXNCLCB3b3JsZEF4aXNCKTtcbiAgICB3b3JsZEF4aXNBLnRhbmdlbnRzKHIxLmF4aXNBLCByMi5heGlzQSk7XG4gICAgcjEuYXhpc0IuY29weSh3b3JsZEF4aXNCKTtcbiAgICByMi5heGlzQi5jb3B5KHdvcmxkQXhpc0IpO1xuXG4gICAgaWYgKHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkKSB7XG4gICAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMuYXhpc0EsIG1vdG9yLmF4aXNBKTtcbiAgICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQiwgbW90b3IuYXhpc0IpO1xuICAgIH1cbiAgfVxuXG59XG5jb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzEgPSBuZXcgVmVjMygpO1xuY29uc3QgSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMyID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIENvbnN0cmFpbnMgdGhlIHNsaXBwaW5nIGluIGEgY29udGFjdCBhbG9uZyBhIHRhbmdlbnRcclxuICogQGNsYXNzIEZyaWN0aW9uRXF1YXRpb25cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxyXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzbGlwRm9yY2Ugc2hvdWxkIGJlICstRl9mcmljdGlvbiA9ICstbXUgKiBGX25vcm1hbCA9ICstbXUgKiBtICogZ1xyXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxyXG4gKi9cbmNsYXNzIEZyaWN0aW9uRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7XG4gIC8vIFRhbmdlbnQuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgc2xpcEZvcmNlKSB7XG4gICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtc2xpcEZvcmNlLCBzbGlwRm9yY2UpO1xuICAgIHRoaXMucmkgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMucmogPSBuZXcgVmVjMygpO1xuICAgIHRoaXMudCA9IG5ldyBWZWMzKCk7XG4gIH1cblxuICBjb21wdXRlQihoKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICBjb25zdCBiID0gdGhpcy5iO1xuICAgIGNvbnN0IGJpID0gdGhpcy5iaTtcbiAgICBjb25zdCBiaiA9IHRoaXMuYmo7XG4gICAgY29uc3QgcmkgPSB0aGlzLnJpO1xuICAgIGNvbnN0IHJqID0gdGhpcy5yajtcbiAgICBjb25zdCByaXh0ID0gRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMTtcbiAgICBjb25zdCByanh0ID0gRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMjtcbiAgICBjb25zdCB0ID0gdGhpcy50OyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcblxuICAgIHJpLmNyb3NzKHQsIHJpeHQpO1xuICAgIHJqLmNyb3NzKHQsIHJqeHQpOyAvLyBHID0gWy10IC1yaXh0IHQgcmp4dF1cbiAgICAvLyBBbmQgcmVtZW1iZXIsIHRoaXMgaXMgYSBwdXJlIHZlbG9jaXR5IGNvbnN0cmFpbnQsIGcgaXMgYWx3YXlzIHplcm8hXG5cbiAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTtcbiAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjtcbiAgICB0Lm5lZ2F0ZShHQS5zcGF0aWFsKTtcbiAgICByaXh0Lm5lZ2F0ZShHQS5yb3RhdGlvbmFsKTtcbiAgICBHQi5zcGF0aWFsLmNvcHkodCk7XG4gICAgR0Iucm90YXRpb25hbC5jb3B5KHJqeHQpO1xuICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTtcbiAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuICAgIGNvbnN0IEIgPSAtR1cgKiBiIC0gaCAqIEdpTWY7XG4gICAgcmV0dXJuIEI7XG4gIH1cblxufVxuY29uc3QgRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIERlZmluZXMgd2hhdCBoYXBwZW5zIHdoZW4gdHdvIG1hdGVyaWFscyBtZWV0LlxyXG4gKiBAY2xhc3MgQ29udGFjdE1hdGVyaWFsXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge01hdGVyaWFsfSBtMVxyXG4gKiBAcGFyYW0ge01hdGVyaWFsfSBtMlxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbj0wLjNdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yZXN0aXR1dGlvbj0wLjNdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M9MWU3XVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbj0zXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcz0xZTddXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbj0zXVxyXG4gKiBAdG9kbyBSZWZhY3RvciBtYXRlcmlhbHMgdG8gbWF0ZXJpYWxBIGFuZCBtYXRlcmlhbEJcclxuICovXG5jbGFzcyBDb250YWN0TWF0ZXJpYWwge1xuICAvLyBJZGVudGlmaWVyIG9mIHRoaXMgbWF0ZXJpYWwuXG4gIC8vIFBhcnRpY2lwYXRpbmcgbWF0ZXJpYWxzLlxuICAvLyBGcmljdGlvbiBjb2VmZmljaWVudC5cbiAgLy8gUmVzdGl0dXRpb24gY29lZmZpY2llbnQuXG4gIC8vIFN0aWZmbmVzcyBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuXG4gIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuXG4gIC8vIFN0aWZmbmVzcyBvZiB0aGUgcHJvZHVjZWQgZnJpY3Rpb24gZXF1YXRpb25zLlxuICAvLyBSZWxheGF0aW9uIHRpbWUgb2YgdGhlIHByb2R1Y2VkIGZyaWN0aW9uIGVxdWF0aW9uc1xuICBjb25zdHJ1Y3RvcihtMSwgbTIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgZnJpY3Rpb246IDAuMyxcbiAgICAgIHJlc3RpdHV0aW9uOiAwLjMsXG4gICAgICBjb250YWN0RXF1YXRpb25TdGlmZm5lc3M6IDFlNyxcbiAgICAgIGNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb246IDMsXG4gICAgICBmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsXG4gICAgICBmcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjogM1xuICAgIH0pO1xuICAgIHRoaXMuaWQgPSBDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyKys7XG4gICAgdGhpcy5tYXRlcmlhbHMgPSBbbTEsIG0yXTtcbiAgICB0aGlzLmZyaWN0aW9uID0gb3B0aW9ucy5mcmljdGlvbjtcbiAgICB0aGlzLnJlc3RpdHV0aW9uID0gb3B0aW9ucy5yZXN0aXR1dGlvbjtcbiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyA9IG9wdGlvbnMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzO1xuICAgIHRoaXMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiA9IG9wdGlvbnMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjtcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M7XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiA9IG9wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb247XG4gIH1cblxufVxuQ29udGFjdE1hdGVyaWFsLmlkQ291bnRlciA9IDA7XG5cbi8qKlxyXG4gKiBEZWZpbmVzIGEgcGh5c2ljcyBtYXRlcmlhbC5cclxuICogQGNsYXNzIE1hdGVyaWFsXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBhdXRob3Igc2NodGVwcGVcclxuICovXG5jbGFzcyBNYXRlcmlhbCB7XG4gIC8vIE1hdGVyaWFsIG5hbWUuXG4gIC8vIE1hdGVyaWFsIGlkLlxuICAvLyBGcmljdGlvbiBmb3IgdGhpcyBtYXRlcmlhbC4gSWYgbm9uLW5lZ2F0aXZlLCBpdCB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgZnJpY3Rpb24gZ2l2ZW4gYnkgQ29udGFjdE1hdGVyaWFscy4gSWYgdGhlcmUncyBubyBtYXRjaGluZyBDb250YWN0TWF0ZXJpYWwsIHRoZSB2YWx1ZSBmcm9tIC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsIGluIHRoZSBXb3JsZCB3aWxsIGJlIHVzZWQuXG4gIC8vIFJlc3RpdHV0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSByZXN0aXR1dGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IG5hbWUgPSAnJzsgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZml4XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuaWQgPSBNYXRlcmlhbC5pZENvdW50ZXIrKztcbiAgICB0aGlzLmZyaWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuZnJpY3Rpb24gIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5mcmljdGlvbiA6IC0xO1xuICAgIHRoaXMucmVzdGl0dXRpb24gPSB0eXBlb2Ygb3B0aW9ucy5yZXN0aXR1dGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnJlc3RpdHV0aW9uIDogLTE7XG4gIH1cblxufVxuTWF0ZXJpYWwuaWRDb3VudGVyID0gMDtcblxuLyoqXHJcbiAqIEEgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMuXHJcbiAqXHJcbiAqIEBjbGFzcyBTcHJpbmdcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcclxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXN0TGVuZ3RoXSAgIEEgbnVtYmVyID4gMC4gRGVmYXVsdDogMVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RpZmZuZXNzXSAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxMDBcclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmddICAgICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMVxyXG4gKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckFdIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy53b3JsZEFuY2hvckJdXHJcbiAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLmxvY2FsQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gbG9jYWwgYm9keSBjb29yZGluYXRlcy5cclxuICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMubG9jYWxBbmNob3JCXVxyXG4gKi9cbmNsYXNzIFNwcmluZyB7XG4gIC8vIFJlc3QgbGVuZ3RoIG9mIHRoZSBzcHJpbmcuXG4gIC8vIFN0aWZmbmVzcyBvZiB0aGUgc3ByaW5nLlxuICAvLyBEYW1waW5nIG9mIHRoZSBzcHJpbmcuXG4gIC8vIEZpcnN0IGNvbm5lY3RlZCBib2R5LlxuICAvLyBTZWNvbmQgY29ubmVjdGVkIGJvZHkuXG4gIC8vIEFuY2hvciBmb3IgYm9keUEgaW4gbG9jYWwgYm9keUEgY29vcmRpbmF0ZXMuXG4gIC8vIEFuY2hvciBmb3IgYm9keUIgaW4gbG9jYWwgYm9keUIgY29vcmRpbmF0ZXMuXG4gIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5yZXN0TGVuZ3RoID0gdHlwZW9mIG9wdGlvbnMucmVzdExlbmd0aCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnJlc3RMZW5ndGggOiAxO1xuICAgIHRoaXMuc3RpZmZuZXNzID0gb3B0aW9ucy5zdGlmZm5lc3MgfHwgMTAwO1xuICAgIHRoaXMuZGFtcGluZyA9IG9wdGlvbnMuZGFtcGluZyB8fCAxO1xuICAgIHRoaXMuYm9keUEgPSBib2R5QTtcbiAgICB0aGlzLmJvZHlCID0gYm9keUI7XG4gICAgdGhpcy5sb2NhbEFuY2hvckEgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMubG9jYWxBbmNob3JCID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQSkge1xuICAgICAgdGhpcy5sb2NhbEFuY2hvckEuY29weShvcHRpb25zLmxvY2FsQW5jaG9yQSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JCKSB7XG4gICAgICB0aGlzLmxvY2FsQW5jaG9yQi5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JCKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckEpIHtcbiAgICAgIHRoaXMuc2V0V29ybGRBbmNob3JBKG9wdGlvbnMud29ybGRBbmNob3JBKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckIpIHtcbiAgICAgIHRoaXMuc2V0V29ybGRBbmNob3JCKG9wdGlvbnMud29ybGRBbmNob3JCKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCB1c2luZyB3b3JsZCBjb29yZGluYXRlcy5cclxuICAgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQVxyXG4gICAqIEBwYXJhbSB7VmVjM30gd29ybGRBbmNob3JBXHJcbiAgICovXG5cblxuICBzZXRXb3JsZEFuY2hvckEod29ybGRBbmNob3JBKSB7XG4gICAgdGhpcy5ib2R5QS5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckEsIHRoaXMubG9jYWxBbmNob3JBKTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JCXHJcbiAgICogQHBhcmFtIHtWZWMzfSB3b3JsZEFuY2hvckJcclxuICAgKi9cblxuXG4gIHNldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpIHtcbiAgICB0aGlzLmJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkQW5jaG9yQiwgdGhpcy5sb2NhbEFuY2hvckIpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXHJcbiAgICogQG1ldGhvZCBnZXRXb3JsZEFuY2hvckFcclxuICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uXHJcbiAgICovXG5cblxuICBnZXRXb3JsZEFuY2hvckEocmVzdWx0KSB7XG4gICAgdGhpcy5ib2R5QS5wb2ludFRvV29ybGRGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQSwgcmVzdWx0KTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIGluIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JCXHJcbiAgICogQHBhcmFtIHtWZWMzfSByZXN1bHQgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluLlxyXG4gICAqL1xuXG5cbiAgZ2V0V29ybGRBbmNob3JCKHJlc3VsdCkge1xuICAgIHRoaXMuYm9keUIucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5sb2NhbEFuY2hvckIsIHJlc3VsdCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy5cclxuICAgKiBAbWV0aG9kIGFwcGx5Rm9yY2VcclxuICAgKi9cblxuXG4gIGFwcGx5Rm9yY2UoKSB7XG4gICAgY29uc3QgayA9IHRoaXMuc3RpZmZuZXNzO1xuICAgIGNvbnN0IGQgPSB0aGlzLmRhbXBpbmc7XG4gICAgY29uc3QgbCA9IHRoaXMucmVzdExlbmd0aDtcbiAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7XG4gICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCO1xuICAgIGNvbnN0IHIgPSBhcHBseUZvcmNlX3I7XG4gICAgY29uc3Qgcl91bml0ID0gYXBwbHlGb3JjZV9yX3VuaXQ7XG4gICAgY29uc3QgdSA9IGFwcGx5Rm9yY2VfdTtcbiAgICBjb25zdCBmID0gYXBwbHlGb3JjZV9mO1xuICAgIGNvbnN0IHRtcCA9IGFwcGx5Rm9yY2VfdG1wO1xuICAgIGNvbnN0IHdvcmxkQW5jaG9yQSA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBO1xuICAgIGNvbnN0IHdvcmxkQW5jaG9yQiA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCO1xuICAgIGNvbnN0IHJpID0gYXBwbHlGb3JjZV9yaTtcbiAgICBjb25zdCByaiA9IGFwcGx5Rm9yY2Vfcmo7XG4gICAgY29uc3QgcmlfeF9mID0gYXBwbHlGb3JjZV9yaV94X2Y7XG4gICAgY29uc3QgcmpfeF9mID0gYXBwbHlGb3JjZV9yal94X2Y7IC8vIEdldCB3b3JsZCBhbmNob3JzXG5cbiAgICB0aGlzLmdldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpO1xuICAgIHRoaXMuZ2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQik7IC8vIEdldCBvZmZzZXQgcG9pbnRzXG5cbiAgICB3b3JsZEFuY2hvckEudnN1Yihib2R5QS5wb3NpdGlvbiwgcmkpO1xuICAgIHdvcmxkQW5jaG9yQi52c3ViKGJvZHlCLnBvc2l0aW9uLCByaik7IC8vIENvbXB1dGUgZGlzdGFuY2UgdmVjdG9yIGJldHdlZW4gd29ybGQgYW5jaG9yIHBvaW50c1xuXG4gICAgd29ybGRBbmNob3JCLnZzdWIod29ybGRBbmNob3JBLCByKTtcbiAgICBjb25zdCBybGVuID0gci5sZW5ndGgoKTtcbiAgICByX3VuaXQuY29weShyKTtcbiAgICByX3VuaXQubm9ybWFsaXplKCk7IC8vIENvbXB1dGUgcmVsYXRpdmUgdmVsb2NpdHkgb2YgdGhlIGFuY2hvciBwb2ludHMsIHVcblxuICAgIGJvZHlCLnZlbG9jaXR5LnZzdWIoYm9keUEudmVsb2NpdHksIHUpOyAvLyBBZGQgcm90YXRpb25hbCB2ZWxvY2l0eVxuXG4gICAgYm9keUIuYW5ndWxhclZlbG9jaXR5LmNyb3NzKHJqLCB0bXApO1xuICAgIHUudmFkZCh0bXAsIHUpO1xuICAgIGJvZHlBLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaSwgdG1wKTtcbiAgICB1LnZzdWIodG1wLCB1KTsgLy8gRiA9IC0gayAqICggeCAtIEwgKSAtIEQgKiAoIHUgKVxuXG4gICAgcl91bml0LnNjYWxlKC1rICogKHJsZW4gLSBsKSAtIGQgKiB1LmRvdChyX3VuaXQpLCBmKTsgLy8gQWRkIGZvcmNlcyB0byBib2RpZXNcblxuICAgIGJvZHlBLmZvcmNlLnZzdWIoZiwgYm9keUEuZm9yY2UpO1xuICAgIGJvZHlCLmZvcmNlLnZhZGQoZiwgYm9keUIuZm9yY2UpOyAvLyBBbmd1bGFyIGZvcmNlXG5cbiAgICByaS5jcm9zcyhmLCByaV94X2YpO1xuICAgIHJqLmNyb3NzKGYsIHJqX3hfZik7XG4gICAgYm9keUEudG9ycXVlLnZzdWIocmlfeF9mLCBib2R5QS50b3JxdWUpO1xuICAgIGJvZHlCLnRvcnF1ZS52YWRkKHJqX3hfZiwgYm9keUIudG9ycXVlKTtcbiAgfVxuXG59XG5jb25zdCBhcHBseUZvcmNlX3IgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yX3VuaXQgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV91ID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2VfZiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQSA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhcHBseUZvcmNlX3JpID0gbmV3IFZlYzMoKTtcbmNvbnN0IGFwcGx5Rm9yY2VfcmogPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yaV94X2YgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV9yal94X2YgPSBuZXcgVmVjMygpO1xuY29uc3QgYXBwbHlGb3JjZV90bXAgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogQGNsYXNzIFdoZWVsSW5mb1xyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gKlxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbF1cclxuICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGRdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uTG9jYWxdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uV29ybGRdXHJcbiAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhsZUxvY2FsXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4bGVXb3JsZF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25SZXN0TGVuZ3RoPTFdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdXNwZW5zaW9uTWF4TGVuZ3RoPTJdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yYWRpdXM9MV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M9MTAwXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ0NvbXByZXNzaW9uPTEwXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZ1JlbGF4YXRpb249MTBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvblNsaXA9MTAwMDBdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGVlcmluZz0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucm90YXRpb249MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRlbHRhUm90YXRpb249MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJvbGxJbmZsdWVuY2U9MC4wMV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25Gb3JjZV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc0Zyb250V2hlZWw9dHJ1ZV1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbj0xXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk9MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25Gb3JjZT0wXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2tpZEluZm89MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25MZW5ndGg9MF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw9MV1cclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkPWZhbHNlXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD0tMC4xXVxyXG4gKi9cbmNsYXNzIFdoZWVsSW5mbyB7XG4gIC8vIE1heCB0cmF2ZWwgZGlzdGFuY2Ugb2YgdGhlIHN1c3BlbnNpb24sIGluIG1ldGVycy5cbiAgLy8gU3BlZWQgdG8gYXBwbHkgdG8gdGhlIHdoZWVsIHJvdGF0aW9uIHdoZW4gdGhlIHdoZWVsIGlzIHNsaWRpbmcuXG4gIC8vIElmIHRoZSBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkIHNob3VsZCBiZSB1c2VkLlxuICAvLyBDb25uZWN0aW9uIHBvaW50LCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIGNoYXNzaXMgYm9keSBmcmFtZS5cbiAgLy8gUm90YXRpb24gdmFsdWUsIGluIHJhZGlhbnMuXG4gIC8vIFRoZSByZXN1bHQgZnJvbSByYXljYXN0aW5nLlxuICAvLyBXaGVlbCB3b3JsZCB0cmFuc2Zvcm0uXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7XG4gICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWw6IG5ldyBWZWMzKCksXG4gICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQ6IG5ldyBWZWMzKCksXG4gICAgICBkaXJlY3Rpb25Mb2NhbDogbmV3IFZlYzMoKSxcbiAgICAgIGRpcmVjdGlvbldvcmxkOiBuZXcgVmVjMygpLFxuICAgICAgYXhsZUxvY2FsOiBuZXcgVmVjMygpLFxuICAgICAgYXhsZVdvcmxkOiBuZXcgVmVjMygpLFxuICAgICAgc3VzcGVuc2lvblJlc3RMZW5ndGg6IDEsXG4gICAgICBzdXNwZW5zaW9uTWF4TGVuZ3RoOiAyLFxuICAgICAgcmFkaXVzOiAxLFxuICAgICAgc3VzcGVuc2lvblN0aWZmbmVzczogMTAwLFxuICAgICAgZGFtcGluZ0NvbXByZXNzaW9uOiAxMCxcbiAgICAgIGRhbXBpbmdSZWxheGF0aW9uOiAxMCxcbiAgICAgIGZyaWN0aW9uU2xpcDogMTAwMDAsXG4gICAgICBzdGVlcmluZzogMCxcbiAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgZGVsdGFSb3RhdGlvbjogMCxcbiAgICAgIHJvbGxJbmZsdWVuY2U6IDAuMDEsXG4gICAgICBtYXhTdXNwZW5zaW9uRm9yY2U6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICBpc0Zyb250V2hlZWw6IHRydWUsXG4gICAgICBjbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb246IDEsXG4gICAgICBzdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eTogMCxcbiAgICAgIHN1c3BlbnNpb25Gb3JjZTogMCxcbiAgICAgIHNsaXBJbmZvOiAwLFxuICAgICAgc2tpZEluZm86IDAsXG4gICAgICBzdXNwZW5zaW9uTGVuZ3RoOiAwLFxuICAgICAgbWF4U3VzcGVuc2lvblRyYXZlbDogMSxcbiAgICAgIHVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ6IGZhbHNlLFxuICAgICAgY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDogLTAuMVxuICAgIH0pO1xuICAgIHRoaXMubWF4U3VzcGVuc2lvblRyYXZlbCA9IG9wdGlvbnMubWF4U3VzcGVuc2lvblRyYXZlbDtcbiAgICB0aGlzLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgPSBvcHRpb25zLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ7XG4gICAgdGhpcy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkID0gb3B0aW9ucy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkO1xuICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsID0gb3B0aW9ucy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwuY2xvbmUoKTtcbiAgICB0aGlzLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCA9IG9wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLmNsb25lKCk7XG4gICAgdGhpcy5kaXJlY3Rpb25Mb2NhbCA9IG9wdGlvbnMuZGlyZWN0aW9uTG9jYWwuY2xvbmUoKTtcbiAgICB0aGlzLmRpcmVjdGlvbldvcmxkID0gb3B0aW9ucy5kaXJlY3Rpb25Xb3JsZC5jbG9uZSgpO1xuICAgIHRoaXMuYXhsZUxvY2FsID0gb3B0aW9ucy5heGxlTG9jYWwuY2xvbmUoKTtcbiAgICB0aGlzLmF4bGVXb3JsZCA9IG9wdGlvbnMuYXhsZVdvcmxkLmNsb25lKCk7XG4gICAgdGhpcy5zdXNwZW5zaW9uUmVzdExlbmd0aCA9IG9wdGlvbnMuc3VzcGVuc2lvblJlc3RMZW5ndGg7XG4gICAgdGhpcy5zdXNwZW5zaW9uTWF4TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uTWF4TGVuZ3RoO1xuICAgIHRoaXMucmFkaXVzID0gb3B0aW9ucy5yYWRpdXM7XG4gICAgdGhpcy5zdXNwZW5zaW9uU3RpZmZuZXNzID0gb3B0aW9ucy5zdXNwZW5zaW9uU3RpZmZuZXNzO1xuICAgIHRoaXMuZGFtcGluZ0NvbXByZXNzaW9uID0gb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb247XG4gICAgdGhpcy5kYW1waW5nUmVsYXhhdGlvbiA9IG9wdGlvbnMuZGFtcGluZ1JlbGF4YXRpb247XG4gICAgdGhpcy5mcmljdGlvblNsaXAgPSBvcHRpb25zLmZyaWN0aW9uU2xpcDtcbiAgICB0aGlzLnN0ZWVyaW5nID0gMDtcbiAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICB0aGlzLmRlbHRhUm90YXRpb24gPSAwO1xuICAgIHRoaXMucm9sbEluZmx1ZW5jZSA9IG9wdGlvbnMucm9sbEluZmx1ZW5jZTtcbiAgICB0aGlzLm1heFN1c3BlbnNpb25Gb3JjZSA9IG9wdGlvbnMubWF4U3VzcGVuc2lvbkZvcmNlO1xuICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwO1xuICAgIHRoaXMuYnJha2UgPSAwO1xuICAgIHRoaXMuaXNGcm9udFdoZWVsID0gb3B0aW9ucy5pc0Zyb250V2hlZWw7XG4gICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxO1xuICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuc3VzcGVuc2lvbkZvcmNlID0gMDtcbiAgICB0aGlzLnNsaXBJbmZvID0gMDtcbiAgICB0aGlzLnNraWRJbmZvID0gMDtcbiAgICB0aGlzLnN1c3BlbnNpb25MZW5ndGggPSAwO1xuICAgIHRoaXMuc2lkZUltcHVsc2UgPSAwO1xuICAgIHRoaXMuZm9yd2FyZEltcHVsc2UgPSAwO1xuICAgIHRoaXMucmF5Y2FzdFJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7XG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICB0aGlzLmlzSW5Db250YWN0ID0gZmFsc2U7XG4gIH1cblxuICB1cGRhdGVXaGVlbChjaGFzc2lzKSB7XG4gICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHRoaXMucmF5Y2FzdFJlc3VsdDtcblxuICAgIGlmICh0aGlzLmlzSW5Db250YWN0KSB7XG4gICAgICBjb25zdCBwcm9qZWN0ID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QocmF5Y2FzdFJlc3VsdC5kaXJlY3Rpb25Xb3JsZCk7XG4gICAgICByYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzLnBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY2hhc3Npcy5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChyZWxwb3MsIGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTtcbiAgICAgIGNvbnN0IHByb2pWZWwgPSByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdChjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7XG5cbiAgICAgIGlmIChwcm9qZWN0ID49IC0wLjEpIHtcbiAgICAgICAgdGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDtcbiAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjAgLyAwLjE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBpbnYgPSAtMSAvIHByb2plY3Q7XG4gICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52O1xuICAgICAgICB0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IGludjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90IGluIGNvbnRhY3QgOiBwb3NpdGlvbiB3aGVlbCBpbiBhIG5pY2UgKHJlc3QgbGVuZ3RoKSBwb3NpdGlvblxuICAgICAgcmF5Y2FzdFJlc3VsdC5zdXNwZW5zaW9uTGVuZ3RoID0gdGhpcy5zdXNwZW5zaW9uUmVzdExlbmd0aDtcbiAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwLjA7XG4gICAgICByYXljYXN0UmVzdWx0LmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCByYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTtcbiAgICAgIHRoaXMuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uID0gMS4wO1xuICAgIH1cbiAgfVxuXG59XG5jb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCByZWxwb3MgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogVmVoaWNsZSBoZWxwZXIgY2xhc3MgdGhhdCBjYXN0cyByYXlzIGZyb20gdGhlIHdoZWVsIHBvc2l0aW9ucyB0b3dhcmRzIHRoZSBncm91bmQgYW5kIGFwcGxpZXMgZm9yY2VzLlxyXG4gKiBAY2xhc3MgUmF5Y2FzdFZlaGljbGVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtCb2R5fSBbb3B0aW9ucy5jaGFzc2lzQm9keV0gVGhlIGNhciBjaGFzc2lzIGJvZHkuXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhSaWdodEF4aXNdIEF4aXMgdG8gdXNlIGZvciByaWdodC4geD0wLCB5PTEsIHo9MlxyXG4gKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRpb25zLmluZGV4TGVmdEF4aXNdXHJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhVcEF4aXNdXHJcbiAqL1xuY2xhc3MgUmF5Y2FzdFZlaGljbGUge1xuICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGlmIHRoZSBjYXIgaXMgc2xpZGluZy5cbiAgLy8gSW5kZXggb2YgdGhlIHJpZ2h0IGF4aXMsIDA9eCwgMT15LCAyPXpcbiAgLy8gSW5kZXggb2YgdGhlIGZvcndhcmQgYXhpcywgMD14LCAxPXksIDI9elxuICAvLyBJbmRleCBvZiB0aGUgdXAgYXhpcywgMD14LCAxPXksIDI9elxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5jaGFzc2lzQm9keSA9IG9wdGlvbnMuY2hhc3Npc0JvZHk7XG4gICAgdGhpcy53aGVlbEluZm9zID0gW107XG4gICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gICAgdGhpcy5pbmRleFJpZ2h0QXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4UmlnaHRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgOiAxO1xuICAgIHRoaXMuaW5kZXhGb3J3YXJkQXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4Rm9yd2FyZEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleEZvcndhcmRBeGlzIDogMDtcbiAgICB0aGlzLmluZGV4VXBBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhVcEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleFVwQXhpcyA6IDI7XG4gICAgdGhpcy5jb25zdHJhaW50cyA9IFtdO1xuXG4gICAgdGhpcy5wcmVTdGVwQ2FsbGJhY2sgPSAoKSA9PiB7fTtcblxuICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgd2hlZWwuIEZvciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgb3B0aW9ucywgc2VlIFdoZWVsSW5mby5cclxuICAgKiBAbWV0aG9kIGFkZFdoZWVsXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gICAqL1xuXG5cbiAgYWRkV2hlZWwob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgaW5mbyA9IG5ldyBXaGVlbEluZm8ob3B0aW9ucyk7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLndoZWVsSW5mb3MubGVuZ3RoO1xuICAgIHRoaXMud2hlZWxJbmZvcy5wdXNoKGluZm8pO1xuICAgIHJldHVybiBpbmRleDtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHN0ZWVyaW5nIHZhbHVlIG9mIGEgd2hlZWwuXHJcbiAgICogQG1ldGhvZCBzZXRTdGVlcmluZ1ZhbHVlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBzZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KSB7XG4gICAgY29uc3Qgd2hlZWwgPSB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF07XG4gICAgd2hlZWwuc3RlZXJpbmcgPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHdoZWVsIGZvcmNlIHRvIGFwcGx5IG9uIG9uZSBvZiB0aGUgd2hlZWxzIGVhY2ggdGltZSBzdGVwXHJcbiAgICogQG1ldGhvZCBhcHBseUVuZ2luZUZvcmNlXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIGFwcGx5RW5naW5lRm9yY2UodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uZW5naW5lRm9yY2UgPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIGJyYWtpbmcgZm9yY2Ugb2YgYSB3aGVlbFxyXG4gICAqIEBtZXRob2Qgc2V0QnJha2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0gYnJha2VcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXhcclxuICAgKi9cblxuXG4gIHNldEJyYWtlKGJyYWtlLCB3aGVlbEluZGV4KSB7XG4gICAgdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdLmJyYWtlID0gYnJha2U7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgdG8gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgYWRkVG9Xb3JsZFxyXG4gICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkXHJcbiAgICovXG5cblxuICBhZGRUb1dvcmxkKHdvcmxkKSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIHdvcmxkLmFkZEJvZHkodGhpcy5jaGFzc2lzQm9keSk7XG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XG5cbiAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIHRoYXQudXBkYXRlVmVoaWNsZSh3b3JsZC5kdCk7XG4gICAgfTtcblxuICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB0aGlzLnByZVN0ZXBDYWxsYmFjayk7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCBvbmUgb2YgdGhlIHdoZWVsIGF4bGVzLCB3b3JsZC1vcmllbnRlZC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBtZXRob2QgZ2V0VmVoaWNsZUF4aXNXb3JsZFxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGF4aXNJbmRleFxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdFxyXG4gICAqL1xuXG5cbiAgZ2V0VmVoaWNsZUF4aXNXb3JsZChheGlzSW5kZXgsIHJlc3VsdCkge1xuICAgIHJlc3VsdC5zZXQoYXhpc0luZGV4ID09PSAwID8gMSA6IDAsIGF4aXNJbmRleCA9PT0gMSA/IDEgOiAwLCBheGlzSW5kZXggPT09IDIgPyAxIDogMCk7XG4gICAgdGhpcy5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUocmVzdWx0LCByZXN1bHQpO1xuICB9XG5cbiAgdXBkYXRlVmVoaWNsZSh0aW1lU3RlcCkge1xuICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7XG4gICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7XG4gICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybShpKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgPSAzLjYgKiBjaGFzc2lzQm9keS52ZWxvY2l0eS5sZW5ndGgoKTtcbiAgICBjb25zdCBmb3J3YXJkV29ybGQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMuZ2V0VmVoaWNsZUF4aXNXb3JsZCh0aGlzLmluZGV4Rm9yd2FyZEF4aXMsIGZvcndhcmRXb3JsZCk7XG5cbiAgICBpZiAoZm9yd2FyZFdvcmxkLmRvdChjaGFzc2lzQm9keS52ZWxvY2l0eSkgPCAwKSB7XG4gICAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgKj0gLTE7XG4gICAgfSAvLyBzaW11bGF0ZSBzdXNwZW5zaW9uXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIHRoaXMuY2FzdFJheSh3aGVlbEluZm9zW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVN1c3BlbnNpb24odGltZVN0ZXApO1xuICAgIGNvbnN0IGltcHVsc2UgPSBuZXcgVmVjMygpO1xuICAgIGNvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICAvL2FwcGx5IHN1c3BlbnNpb24gZm9yY2VcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTtcbiAgICAgIGxldCBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5zdXNwZW5zaW9uRm9yY2U7XG5cbiAgICAgIGlmIChzdXNwZW5zaW9uRm9yY2UgPiB3aGVlbC5tYXhTdXNwZW5zaW9uRm9yY2UpIHtcbiAgICAgICAgc3VzcGVuc2lvbkZvcmNlID0gd2hlZWwubWF4U3VzcGVuc2lvbkZvcmNlO1xuICAgICAgfVxuXG4gICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwLCBpbXB1bHNlKTtcbiAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxwb3MpO1xuICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbHBvcyk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVGcmljdGlvbih0aW1lU3RlcCk7XG4gICAgY29uc3QgaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaiA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgZndkID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCB2ZWwgPSBuZXcgVmVjMygpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOyAvL2NvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7XG4gICAgICAvL3doZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxwb3MpO1xuXG4gICAgICBjaGFzc2lzQm9keS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQsIHZlbCk7IC8vIEhhY2sgdG8gZ2V0IHRoZSByb3RhdGlvbiBpbiB0aGUgY29ycmVjdCBkaXJlY3Rpb25cblxuICAgICAgbGV0IG0gPSAxO1xuXG4gICAgICBzd2l0Y2ggKHRoaXMuaW5kZXhVcEF4aXMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG0gPSAtMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7XG4gICAgICAgIHRoaXMuZ2V0VmVoaWNsZUF4aXNXb3JsZCh0aGlzLmluZGV4Rm9yd2FyZEF4aXMsIGZ3ZCk7XG4gICAgICAgIGNvbnN0IHByb2ogPSBmd2QuZG90KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpO1xuICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHByb2osIGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2opO1xuICAgICAgICBmd2QudnN1YihoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qLCBmd2QpO1xuICAgICAgICBjb25zdCBwcm9qMiA9IGZ3ZC5kb3QodmVsKTtcbiAgICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiA9IG0gKiBwcm9qMiAqIHRpbWVTdGVwIC8gd2hlZWwucmFkaXVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoKHdoZWVsLnNsaWRpbmcgfHwgIXdoZWVsLmlzSW5Db250YWN0KSAmJiB3aGVlbC5lbmdpbmVGb3JjZSAhPT0gMCAmJiB3aGVlbC51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkKSB7XG4gICAgICAgIC8vIEFwcGx5IGN1c3RvbSByb3RhdGlvbiB3aGVuIGFjY2VsZXJhdGluZyBhbmQgc2xpZGluZ1xuICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gKHdoZWVsLmVuZ2luZUZvcmNlID4gMCA/IDEgOiAtMSkgKiB3aGVlbC5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkICogdGltZVN0ZXA7XG4gICAgICB9IC8vIExvY2sgd2hlZWxzXG5cblxuICAgICAgaWYgKE1hdGguYWJzKHdoZWVsLmJyYWtlKSA+IE1hdGguYWJzKHdoZWVsLmVuZ2luZUZvcmNlKSkge1xuICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gMDtcbiAgICAgIH1cblxuICAgICAgd2hlZWwucm90YXRpb24gKz0gd2hlZWwuZGVsdGFSb3RhdGlvbjsgLy8gVXNlIHRoZSBvbGQgdmFsdWVcblxuICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiAqPSAwLjk5OyAvLyBkYW1waW5nIG9mIHJvdGF0aW9uIHdoZW4gbm90IGluIGNvbnRhY3RcbiAgICB9XG4gIH1cblxuICB1cGRhdGVTdXNwZW5zaW9uKGRlbHRhVGltZSkge1xuICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTtcbiAgICBjb25zdCBjaGFzc2lzTWFzcyA9IGNoYXNzaXNCb2R5Lm1hc3M7XG4gICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvcztcbiAgICBjb25zdCBudW1XaGVlbHMgPSB3aGVlbEluZm9zLmxlbmd0aDtcblxuICAgIGZvciAobGV0IHdfaXQgPSAwOyB3X2l0IDwgbnVtV2hlZWxzOyB3X2l0KyspIHtcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1t3X2l0XTtcblxuICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7XG4gICAgICAgIGxldCBmb3JjZTsgLy8gU3ByaW5nXG5cbiAgICAgICAgY29uc3Qgc3VzcF9sZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aDtcbiAgICAgICAgY29uc3QgY3VycmVudF9sZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoO1xuICAgICAgICBjb25zdCBsZW5ndGhfZGlmZiA9IHN1c3BfbGVuZ3RoIC0gY3VycmVudF9sZW5ndGg7XG4gICAgICAgIGZvcmNlID0gd2hlZWwuc3VzcGVuc2lvblN0aWZmbmVzcyAqIGxlbmd0aF9kaWZmICogd2hlZWwuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uOyAvLyBEYW1wZXJcblxuICAgICAgICBjb25zdCBwcm9qZWN0ZWRfcmVsX3ZlbCA9IHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5O1xuICAgICAgICBsZXQgc3VzcF9kYW1waW5nO1xuXG4gICAgICAgIGlmIChwcm9qZWN0ZWRfcmVsX3ZlbCA8IDApIHtcbiAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nQ29tcHJlc3Npb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VzcF9kYW1waW5nID0gd2hlZWwuZGFtcGluZ1JlbGF4YXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBmb3JjZSAtPSBzdXNwX2RhbXBpbmcgKiBwcm9qZWN0ZWRfcmVsX3ZlbDtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gZm9yY2UgKiBjaGFzc2lzTWFzcztcblxuICAgICAgICBpZiAod2hlZWwuc3VzcGVuc2lvbkZvcmNlIDwgMCkge1xuICAgICAgICAgIHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIGZyb20gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgcmVtb3ZlRnJvbVdvcmxkXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKi9cblxuXG4gIHJlbW92ZUZyb21Xb3JsZCh3b3JsZCkge1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICB3b3JsZC5yZW1vdmVCb2R5KHRoaXMuY2hhc3Npc0JvZHkpO1xuICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB0aGlzLnByZVN0ZXBDYWxsYmFjayk7XG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG4gIH1cblxuICBjYXN0UmF5KHdoZWVsKSB7XG4gICAgY29uc3QgcmF5dmVjdG9yID0gY2FzdFJheV9yYXl2ZWN0b3I7XG4gICAgY29uc3QgdGFyZ2V0ID0gY2FzdFJheV90YXJnZXQ7XG4gICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKTtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG4gICAgbGV0IGRlcHRoID0gLTE7XG4gICAgY29uc3QgcmF5bGVuID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyB3aGVlbC5yYWRpdXM7XG4gICAgd2hlZWwuZGlyZWN0aW9uV29ybGQuc2NhbGUocmF5bGVuLCByYXl2ZWN0b3IpO1xuICAgIGNvbnN0IHNvdXJjZSA9IHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDtcbiAgICBzb3VyY2UudmFkZChyYXl2ZWN0b3IsIHRhcmdldCk7XG4gICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQ7XG4gICAgcmF5Y2FzdFJlc3VsdC5yZXNldCgpOyAvLyBUdXJuIG9mZiByYXkgY29sbGlzaW9uIHdpdGggdGhlIGNoYXNzaXMgdGVtcG9yYXJpbHlcblxuICAgIGNvbnN0IG9sZFN0YXRlID0gY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2U7XG4gICAgY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2UgPSBmYWxzZTsgLy8gQ2FzdCByYXkgYWdhaW5zdCB3b3JsZFxuXG4gICAgdGhpcy53b3JsZC5yYXlUZXN0KHNvdXJjZSwgdGFyZ2V0LCByYXljYXN0UmVzdWx0KTtcbiAgICBjaGFzc2lzQm9keS5jb2xsaXNpb25SZXNwb25zZSA9IG9sZFN0YXRlO1xuICAgIGNvbnN0IG9iamVjdCA9IHJheWNhc3RSZXN1bHQuYm9keTtcbiAgICB3aGVlbC5yYXljYXN0UmVzdWx0Lmdyb3VuZE9iamVjdCA9IDA7XG5cbiAgICBpZiAob2JqZWN0KSB7XG4gICAgICBkZXB0aCA9IHJheWNhc3RSZXN1bHQuZGlzdGFuY2U7XG4gICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDtcbiAgICAgIHdoZWVsLmlzSW5Db250YWN0ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGhpdERpc3RhbmNlID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTtcbiAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBoaXREaXN0YW5jZSAtIHdoZWVsLnJhZGl1czsgLy8gY2xhbXAgb24gbWF4IHN1c3BlbnNpb24gdHJhdmVsXG5cbiAgICAgIGNvbnN0IG1pblN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCAtIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7XG4gICAgICBjb25zdCBtYXhTdXNwZW5zaW9uTGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGggKyB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsO1xuXG4gICAgICBpZiAod2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA8IG1pblN1c3BlbnNpb25MZW5ndGgpIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IG1pblN1c3BlbnNpb25MZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID4gbWF4U3VzcGVuc2lvbkxlbmd0aCkge1xuICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWF4U3VzcGVuc2lvbkxlbmd0aDtcbiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5yZXNldCgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZW5vbWluYXRvciA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHdoZWVsLmRpcmVjdGlvbldvcmxkKTtcbiAgICAgIGNvbnN0IGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50ID0gbmV3IFZlYzMoKTtcbiAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpO1xuICAgICAgY29uc3QgcHJvalZlbCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTtcblxuICAgICAgaWYgKGRlbm9taW5hdG9yID49IC0wLjEpIHtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwO1xuICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxIC8gMC4xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaW52ID0gLTEgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgd2hlZWwuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52O1xuICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vcHV0IHdoZWVsIGluZm8gYXMgaW4gcmVzdCBwb3NpdGlvblxuICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgMCAqIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7XG4gICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IDAuMDtcbiAgICAgIHdoZWVsLmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTtcbiAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEuMDtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVwdGg7XG4gIH1cblxuICB1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKSB7XG4gICAgd2hlZWwuaXNJbkNvbnRhY3QgPSBmYWxzZTtcbiAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7XG4gICAgY2hhc3Npc0JvZHkucG9pbnRUb1dvcmxkRnJhbWUod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsLCB3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQpO1xuICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh3aGVlbC5kaXJlY3Rpb25Mb2NhbCwgd2hlZWwuZGlyZWN0aW9uV29ybGQpO1xuICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh3aGVlbC5heGxlTG9jYWwsIHdoZWVsLmF4bGVXb3JsZCk7XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIG9uZSBvZiB0aGUgd2hlZWwgdHJhbnNmb3JtLlxyXG4gICAqIE5vdGUgd2hlbiByZW5kZXJpbmcgd2hlZWxzOiBkdXJpbmcgZWFjaCBzdGVwLCB3aGVlbCB0cmFuc2Zvcm1zIGFyZSB1cGRhdGVkIEJFRk9SRSB0aGUgY2hhc3NpczsgaWUuIHRoZWlyIHBvc2l0aW9uIGJlY29tZXMgaW52YWxpZCBhZnRlciB0aGUgc3RlcC4gVGh1cyB3aGVuIHlvdSByZW5kZXIgd2hlZWxzLCB5b3UgbXVzdCB1cGRhdGUgd2hlZWwgdHJhbnNmb3JtcyBiZWZvcmUgcmVuZGVyaW5nIHRoZW0uIFNlZSByYXljYXN0VmVoaWNsZSBkZW1vIGZvciBhbiBleGFtcGxlLlxyXG4gICAqIEBtZXRob2QgdXBkYXRlV2hlZWxUcmFuc2Zvcm1cclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXggVGhlIHdoZWVsIGluZGV4IHRvIHVwZGF0ZS5cclxuICAgKi9cblxuXG4gIHVwZGF0ZVdoZWVsVHJhbnNmb3JtKHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCB1cCA9IHRtcFZlYzQ7XG4gICAgY29uc3QgcmlnaHQgPSB0bXBWZWM1O1xuICAgIGNvbnN0IGZ3ZCA9IHRtcFZlYzY7XG4gICAgY29uc3Qgd2hlZWwgPSB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF07XG4gICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKTtcbiAgICB3aGVlbC5kaXJlY3Rpb25Mb2NhbC5zY2FsZSgtMSwgdXApO1xuICAgIHJpZ2h0LmNvcHkod2hlZWwuYXhsZUxvY2FsKTtcbiAgICB1cC5jcm9zcyhyaWdodCwgZndkKTtcbiAgICBmd2Qubm9ybWFsaXplKCk7XG4gICAgcmlnaHQubm9ybWFsaXplKCk7IC8vIFJvdGF0ZSBhcm91bmQgc3RlZXJpbmcgb3ZlciB0aGUgd2hlZWxBeGxlXG5cbiAgICBjb25zdCBzdGVlcmluZyA9IHdoZWVsLnN0ZWVyaW5nO1xuICAgIGNvbnN0IHN0ZWVyaW5nT3JuID0gbmV3IFF1YXRlcm5pb24oKTtcbiAgICBzdGVlcmluZ09ybi5zZXRGcm9tQXhpc0FuZ2xlKHVwLCBzdGVlcmluZyk7XG4gICAgY29uc3Qgcm90YXRpbmdPcm4gPSBuZXcgUXVhdGVybmlvbigpO1xuICAgIHJvdGF0aW5nT3JuLnNldEZyb21BeGlzQW5nbGUocmlnaHQsIHdoZWVsLnJvdGF0aW9uKTsgLy8gV29ybGQgcm90YXRpb24gb2YgdGhlIHdoZWVsXG5cbiAgICBjb25zdCBxID0gd2hlZWwud29ybGRUcmFuc2Zvcm0ucXVhdGVybmlvbjtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnF1YXRlcm5pb24ubXVsdChzdGVlcmluZ09ybiwgcSk7XG4gICAgcS5tdWx0KHJvdGF0aW5nT3JuLCBxKTtcbiAgICBxLm5vcm1hbGl6ZSgpOyAvLyB3b3JsZCBwb3NpdGlvbiBvZiB0aGUgd2hlZWxcblxuICAgIGNvbnN0IHAgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICBwLmNvcHkod2hlZWwuZGlyZWN0aW9uV29ybGQpO1xuICAgIHAuc2NhbGUod2hlZWwuc3VzcGVuc2lvbkxlbmd0aCwgcCk7XG4gICAgcC52YWRkKHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgcCk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSB3b3JsZCB0cmFuc2Zvcm0gb2Ygb25lIG9mIHRoZSB3aGVlbHNcclxuICAgKiBAbWV0aG9kIGdldFdoZWVsVHJhbnNmb3JtV29ybGRcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICogQHJldHVybiB7VHJhbnNmb3JtfVxyXG4gICAqL1xuXG5cbiAgZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZCh3aGVlbEluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS53b3JsZFRyYW5zZm9ybTtcbiAgfVxuXG4gIHVwZGF0ZUZyaWN0aW9uKHRpbWVTdGVwKSB7XG4gICAgY29uc3Qgc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qID0gdXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qOyAvL2NhbGN1bGF0ZSB0aGUgaW1wdWxzZSwgc28gdGhhdCB0aGUgd2hlZWxzIGRvbid0IG1vdmUgc2lkZXdhcmRzXG5cbiAgICBjb25zdCB3aGVlbEluZm9zID0gdGhpcy53aGVlbEluZm9zO1xuICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoO1xuICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTtcbiAgICBjb25zdCBmb3J3YXJkV1MgPSB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1M7XG4gICAgY29uc3QgYXhsZSA9IHVwZGF0ZUZyaWN0aW9uX2F4bGU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07XG4gICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7XG5cbiAgICAgIHdoZWVsLnNpZGVJbXB1bHNlID0gMDtcbiAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gMDtcblxuICAgICAgaWYgKCFmb3J3YXJkV1NbaV0pIHtcbiAgICAgICAgZm9yd2FyZFdTW2ldID0gbmV3IFZlYzMoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFheGxlW2ldKSB7XG4gICAgICAgIGF4bGVbaV0gPSBuZXcgVmVjMygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTtcbiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTtcblxuICAgICAgaWYgKGdyb3VuZE9iamVjdCkge1xuICAgICAgICBjb25zdCBheGxlaSA9IGF4bGVbaV07XG4gICAgICAgIGNvbnN0IHdoZWVsVHJhbnMgPSB0aGlzLmdldFdoZWVsVHJhbnNmb3JtV29ybGQoaSk7IC8vIEdldCB3b3JsZCBheGxlXG5cbiAgICAgICAgd2hlZWxUcmFucy52ZWN0b3JUb1dvcmxkRnJhbWUoZGlyZWN0aW9uc1t0aGlzLmluZGV4UmlnaHRBeGlzXSwgYXhsZWkpO1xuICAgICAgICBjb25zdCBzdXJmTm9ybWFsV1MgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkO1xuICAgICAgICBjb25zdCBwcm9qID0gYXhsZWkuZG90KHN1cmZOb3JtYWxXUyk7XG4gICAgICAgIHN1cmZOb3JtYWxXUy5zY2FsZShwcm9qLCBzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2opO1xuICAgICAgICBheGxlaS52c3ViKHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiwgYXhsZWkpO1xuICAgICAgICBheGxlaS5ub3JtYWxpemUoKTtcbiAgICAgICAgc3VyZk5vcm1hbFdTLmNyb3NzKGF4bGVpLCBmb3J3YXJkV1NbaV0pO1xuICAgICAgICBmb3J3YXJkV1NbaV0ubm9ybWFsaXplKCk7XG4gICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbChjaGFzc2lzQm9keSwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBncm91bmRPYmplY3QsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgYXhsZWkpO1xuICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSAqPSBzaWRlRnJpY3Rpb25TdGlmZm5lc3MyO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNpZGVGYWN0b3IgPSAxO1xuICAgIGNvbnN0IGZ3ZEZhY3RvciA9IDAuNTtcbiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTtcbiAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTtcbiAgICAgIGxldCByb2xsaW5nRnJpY3Rpb24gPSAwO1xuICAgICAgd2hlZWwuc2xpcEluZm8gPSAxO1xuXG4gICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRSb2xsaW5nRnJpY3Rpb25JbXB1bHNlID0gMDtcbiAgICAgICAgY29uc3QgbWF4SW1wdWxzZSA9IHdoZWVsLmJyYWtlID8gd2hlZWwuYnJha2UgOiBkZWZhdWx0Um9sbGluZ0ZyaWN0aW9uSW1wdWxzZTsgLy8gYnRXaGVlbENvbnRhY3RQb2ludCBjb250YWN0UHQoY2hhc3Npc0JvZHksZ3JvdW5kT2JqZWN0LHdoZWVsSW5mcmF5Y2FzdEluZm8uaGl0UG9pbnRXb3JsZCxmb3J3YXJkV1Nbd2hlZWxdLG1heEltcHVsc2UpO1xuICAgICAgICAvLyByb2xsaW5nRnJpY3Rpb24gPSBjYWxjUm9sbGluZ0ZyaWN0aW9uKGNvbnRhY3RQdCk7XG5cbiAgICAgICAgcm9sbGluZ0ZyaWN0aW9uID0gY2FsY1JvbGxpbmdGcmljdGlvbihjaGFzc2lzQm9keSwgZ3JvdW5kT2JqZWN0LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGZvcndhcmRXU1tpXSwgbWF4SW1wdWxzZSk7XG4gICAgICAgIHJvbGxpbmdGcmljdGlvbiArPSB3aGVlbC5lbmdpbmVGb3JjZSAqIHRpbWVTdGVwOyAvLyByb2xsaW5nRnJpY3Rpb24gPSAwO1xuXG4gICAgICAgIGNvbnN0IGZhY3RvciA9IG1heEltcHVsc2UgLyByb2xsaW5nRnJpY3Rpb247XG4gICAgICAgIHdoZWVsLnNsaXBJbmZvICo9IGZhY3RvcjtcbiAgICAgIH0gLy9zd2l0Y2ggYmV0d2VlbiBhY3RpdmUgcm9sbGluZyAodGhyb3R0bGUpLCBicmFraW5nIGFuZCBub24tYWN0aXZlIHJvbGxpbmcgZnJpY3Rpb24gKG50aHJvdHRsZS9icmVhaylcblxuXG4gICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IDA7XG4gICAgICB3aGVlbC5za2lkSW5mbyA9IDE7XG5cbiAgICAgIGlmIChncm91bmRPYmplY3QpIHtcbiAgICAgICAgd2hlZWwuc2tpZEluZm8gPSAxO1xuICAgICAgICBjb25zdCBtYXhpbXAgPSB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgKiB0aW1lU3RlcCAqIHdoZWVsLmZyaWN0aW9uU2xpcDtcbiAgICAgICAgY29uc3QgbWF4aW1wU2lkZSA9IG1heGltcDtcbiAgICAgICAgY29uc3QgbWF4aW1wU3F1YXJlZCA9IG1heGltcCAqIG1heGltcFNpZGU7XG4gICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gcm9sbGluZ0ZyaWN0aW9uOyAvL3doZWVsSW5mby5lbmdpbmVGb3JjZSogdGltZVN0ZXA7XG5cbiAgICAgICAgY29uc3QgeCA9IHdoZWVsLmZvcndhcmRJbXB1bHNlICogZndkRmFjdG9yO1xuICAgICAgICBjb25zdCB5ID0gd2hlZWwuc2lkZUltcHVsc2UgKiBzaWRlRmFjdG9yO1xuICAgICAgICBjb25zdCBpbXB1bHNlU3F1YXJlZCA9IHggKiB4ICsgeSAqIHk7XG4gICAgICAgIHdoZWVsLnNsaWRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoaW1wdWxzZVNxdWFyZWQgPiBtYXhpbXBTcXVhcmVkKSB7XG4gICAgICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTtcbiAgICAgICAgICB3aGVlbC5zbGlkaW5nID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBtYXhpbXAgLyBNYXRoLnNxcnQoaW1wdWxzZVNxdWFyZWQpO1xuICAgICAgICAgIHdoZWVsLnNraWRJbmZvICo9IGZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNsaWRpbmcpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuXG4gICAgICAgIGlmICh3aGVlbC5zaWRlSW1wdWxzZSAhPT0gMCkge1xuICAgICAgICAgIGlmICh3aGVlbC5za2lkSW5mbyA8IDEpIHtcbiAgICAgICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlICo9IHdoZWVsLnNraWRJbmZvO1xuICAgICAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgKj0gd2hlZWwuc2tpZEluZm87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBhcHBseSB0aGUgaW1wdWxzZXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykge1xuICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldO1xuICAgICAgY29uc3QgcmVsX3BvcyA9IG5ldyBWZWMzKCk7XG4gICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzQm9keS5wb3NpdGlvbiwgcmVsX3Bvcyk7IC8vIGNhbm5vbnMgYXBwbHlpbXB1bHNlIGlzIHVzaW5nIHdvcmxkIGNvb3JkIGZvciB0aGUgcG9zaXRpb25cbiAgICAgIC8vcmVsX3Bvcy5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7XG5cbiAgICAgIGlmICh3aGVlbC5mb3J3YXJkSW1wdWxzZSAhPT0gMCkge1xuICAgICAgICBjb25zdCBpbXB1bHNlID0gbmV3IFZlYzMoKTtcbiAgICAgICAgZm9yd2FyZFdTW2ldLnNjYWxlKHdoZWVsLmZvcndhcmRJbXB1bHNlLCBpbXB1bHNlKTtcbiAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbF9wb3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAod2hlZWwuc2lkZUltcHVsc2UgIT09IDApIHtcbiAgICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5O1xuICAgICAgICBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7XG4gICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGdyb3VuZE9iamVjdC5wb3NpdGlvbiwgcmVsX3BvczIpOyAvL3JlbF9wb3MyLmNvcHkod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkKTtcblxuICAgICAgICBjb25zdCBzaWRlSW1wID0gbmV3IFZlYzMoKTtcbiAgICAgICAgYXhsZVtpXS5zY2FsZSh3aGVlbC5zaWRlSW1wdWxzZSwgc2lkZUltcCk7IC8vIFNjYWxlIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBpbiB0aGUgdXAgZGlyZWN0aW9uIHdpdGggcm9sbEluZmx1ZW5jZS5cbiAgICAgICAgLy8gSWYgcm9sbEluZmx1ZW5jZSBpcyAxLCB0aGUgaW1wdWxzZSB3aWxsIGJlIGFwcGxpZWQgb24gdGhlIGhpdFBvaW50IChlYXN5IHRvIHJvbGwgb3ZlciksIGlmIGl0IGlzIHplcm8gaXQgd2lsbCBiZSBhcHBsaWVkIGluIHRoZSBzYW1lIHBsYW5lIGFzIHRoZSBjZW50ZXIgb2YgbWFzcyAobm90IGVhc3kgdG8gcm9sbCBvdmVyKS5cblxuICAgICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb0xvY2FsRnJhbWUocmVsX3BvcywgcmVsX3Bvcyk7XG4gICAgICAgIHJlbF9wb3NbJ3h5eidbdGhpcy5pbmRleFVwQXhpc11dICo9IHdoZWVsLnJvbGxJbmZsdWVuY2U7XG4gICAgICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZWxfcG9zLCByZWxfcG9zKTtcbiAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MpOyAvL2FwcGx5IGZyaWN0aW9uIGltcHVsc2Ugb24gdGhlIGdyb3VuZFxuXG4gICAgICAgIHNpZGVJbXAuc2NhbGUoLTEsIHNpZGVJbXApO1xuICAgICAgICBncm91bmRPYmplY3QuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuY29uc3QgdG1wVmVjNCA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBWZWM1ID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzYgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wUmF5ID0gbmV3IFJheSgpO1xuY29uc3QgY2FzdFJheV9yYXl2ZWN0b3IgPSBuZXcgVmVjMygpO1xuY29uc3QgY2FzdFJheV90YXJnZXQgPSBuZXcgVmVjMygpO1xuY29uc3QgZGlyZWN0aW9ucyA9IFtuZXcgVmVjMygxLCAwLCAwKSwgbmV3IFZlYzMoMCwgMSwgMCksIG5ldyBWZWMzKDAsIDAsIDEpXTtcbmNvbnN0IHVwZGF0ZUZyaWN0aW9uX3N1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiA9IG5ldyBWZWMzKCk7XG5jb25zdCB1cGRhdGVGcmljdGlvbl9heGxlID0gW107XG5jb25zdCB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1MgPSBbXTtcbmNvbnN0IHNpZGVGcmljdGlvblN0aWZmbmVzczIgPSAxO1xuY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMiA9IG5ldyBWZWMzKCk7XG5jb25zdCBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbCA9IG5ldyBWZWMzKCk7XG5cbmZ1bmN0aW9uIGNhbGNSb2xsaW5nRnJpY3Rpb24oYm9keTAsIGJvZHkxLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkLCBtYXhJbXB1bHNlKSB7XG4gIGxldCBqMSA9IDA7XG4gIGNvbnN0IGNvbnRhY3RQb3NXb3JsZCA9IGZyaWN0aW9uUG9zV29ybGQ7IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTtcbiAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpO1xuXG4gIGNvbnN0IHZlbDEgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDE7XG4gIGNvbnN0IHZlbDIgPSBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDI7XG4gIGNvbnN0IHZlbCA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsOyAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MC5wb3NpdGlvbiwgcmVsX3BvczEpO1xuICAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MS5wb3NpdGlvbiwgcmVsX3BvczIpO1xuXG4gIGJvZHkwLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGNvbnRhY3RQb3NXb3JsZCwgdmVsMSk7XG4gIGJvZHkxLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGNvbnRhY3RQb3NXb3JsZCwgdmVsMik7XG4gIHZlbDEudnN1Yih2ZWwyLCB2ZWwpO1xuICBjb25zdCB2cmVsID0gZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZC5kb3QodmVsKTtcbiAgY29uc3QgZGVub20wID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5MCwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCk7XG4gIGNvbnN0IGRlbm9tMSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQpO1xuICBjb25zdCByZWxheGF0aW9uID0gMTtcbiAgY29uc3QgamFjRGlhZ0FCSW52ID0gcmVsYXhhdGlvbiAvIChkZW5vbTAgKyBkZW5vbTEpOyAvLyBjYWxjdWxhdGUgaiB0aGF0IG1vdmVzIHVzIHRvIHplcm8gcmVsYXRpdmUgdmVsb2NpdHlcblxuICBqMSA9IC12cmVsICogamFjRGlhZ0FCSW52O1xuXG4gIGlmIChtYXhJbXB1bHNlIDwgajEpIHtcbiAgICBqMSA9IG1heEltcHVsc2U7XG4gIH1cblxuICBpZiAoajEgPCAtbWF4SW1wdWxzZSkge1xuICAgIGoxID0gLW1heEltcHVsc2U7XG4gIH1cblxuICByZXR1cm4gajE7XG59XG5cbmNvbnN0IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfcjAgPSBuZXcgVmVjMygpO1xuY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9jMCA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX20gPSBuZXcgVmVjMygpO1xuXG5mdW5jdGlvbiBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yKGJvZHksIHBvcywgbm9ybWFsKSB7XG4gIGNvbnN0IHIwID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9yMDtcbiAgY29uc3QgYzAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwO1xuICBjb25zdCB2ZWMgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYztcbiAgY29uc3QgbSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfbTtcbiAgcG9zLnZzdWIoYm9keS5wb3NpdGlvbiwgcjApO1xuICByMC5jcm9zcyhub3JtYWwsIGMwKTtcbiAgYm9keS5pbnZJbmVydGlhV29ybGQudm11bHQoYzAsIG0pO1xuICBtLmNyb3NzKHIwLCB2ZWMpO1xuICByZXR1cm4gYm9keS5pbnZNYXNzICsgbm9ybWFsLmRvdCh2ZWMpO1xufVxuXG5jb25zdCByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDEgPSBuZXcgVmVjMygpO1xuY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsID0gbmV3IFZlYzMoKTsgLy9iaWxhdGVyYWwgY29uc3RyYWludCBiZXR3ZWVuIHR3byBkeW5hbWljIG9iamVjdHNcblxuZnVuY3Rpb24gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbChib2R5MSwgcG9zMSwgYm9keTIsIHBvczIsIG5vcm1hbCkge1xuICBjb25zdCBub3JtYWxMZW5TcXIgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpO1xuXG4gIGlmIChub3JtYWxMZW5TcXIgPiAxLjEpIHtcbiAgICByZXR1cm4gMDsgLy8gbm8gaW1wdWxzZVxuICB9IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTtcbiAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpO1xuICAvLyBwb3MxLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MxKTtcbiAgLy8gcG9zMi52c3ViKGJvZHkyLnBvc2l0aW9uLCByZWxfcG9zMik7XG5cblxuICBjb25zdCB2ZWwxID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwxO1xuICBjb25zdCB2ZWwyID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyO1xuICBjb25zdCB2ZWwgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDtcbiAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocG9zMSwgdmVsMSk7XG4gIGJvZHkyLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHBvczIsIHZlbDIpO1xuICB2ZWwxLnZzdWIodmVsMiwgdmVsKTtcbiAgY29uc3QgcmVsX3ZlbCA9IG5vcm1hbC5kb3QodmVsKTtcbiAgY29uc3QgY29udGFjdERhbXBpbmcgPSAwLjI7XG4gIGNvbnN0IG1hc3NUZXJtID0gMSAvIChib2R5MS5pbnZNYXNzICsgYm9keTIuaW52TWFzcyk7XG4gIGNvbnN0IGltcHVsc2UgPSAtY29udGFjdERhbXBpbmcgKiByZWxfdmVsICogbWFzc1Rlcm07XG4gIHJldHVybiBpbXB1bHNlO1xufVxuXG4vKipcclxuICogU3BoZXJpY2FsIHNoYXBlXHJcbiAqIEBjbGFzcyBTcGhlcmVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXMgVGhlIHJhZGl1cyBvZiB0aGUgc3BoZXJlLCBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuXHJcbiAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxyXG4gKi9cbmNsYXNzIFNwaGVyZSBleHRlbmRzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IocmFkaXVzKSB7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuU1BIRVJFXG4gICAgfSk7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXMgIT09IHVuZGVmaW5lZCA/IHJhZGl1cyA6IDEuMDtcblxuICAgIGlmICh0aGlzLnJhZGl1cyA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNwaGVyZSByYWRpdXMgY2Fubm90IGJlIG5lZ2F0aXZlLicpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3QgSSA9IDIuMCAqIG1hc3MgKiB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzIC8gNS4wO1xuICAgIHRhcmdldC54ID0gSTtcbiAgICB0YXJnZXQueSA9IEk7XG4gICAgdGFyZ2V0LnogPSBJO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiBNYXRoLnBvdyh0aGlzLnJhZGl1cywgMykgLyAzLjA7XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5yYWRpdXM7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIGNvbnN0IHIgPSB0aGlzLnJhZGl1cztcbiAgICBjb25zdCBheGVzID0gWyd4JywgJ3knLCAneiddO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBheCA9IGF4ZXNbaV07XG4gICAgICBtaW5bYXhdID0gcG9zW2F4XSAtIHI7XG4gICAgICBtYXhbYXhdID0gcG9zW2F4XSArIHI7XG4gICAgfVxuICB9XG5cbn1cblxuLyoqXHJcbiAqIFNpbXBsZSB2ZWhpY2xlIGhlbHBlciBjbGFzcyB3aXRoIHNwaGVyaWNhbCByaWdpZCBib2R5IHdoZWVscy5cclxuICogQGNsYXNzIFJpZ2lkVmVoaWNsZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtCb2R5fSBbb3B0aW9ucy5jaGFzc2lzQm9keV1cclxuICovXG5jbGFzcyBSaWdpZFZlaGljbGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLndoZWVsQm9kaWVzID0gW107XG4gICAgdGhpcy5jb29yZGluYXRlU3lzdGVtID0gdHlwZW9mIG9wdGlvbnMuY29vcmRpbmF0ZVN5c3RlbSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvb3JkaW5hdGVTeXN0ZW0uY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDIsIDMpO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hhc3Npc0JvZHkpIHtcbiAgICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBvcHRpb25zLmNoYXNzaXNCb2R5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBjaGFzc2lzIGJvZHkgZ2l2ZW4uIENyZWF0ZSBpdCFcbiAgICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBuZXcgQm9keSh7XG4gICAgICAgIG1hc3M6IDEsXG4gICAgICAgIHNoYXBlOiBuZXcgQm94KG5ldyBWZWMzKDUsIDIsIDAuNSkpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG4gICAgdGhpcy53aGVlbEF4ZXMgPSBbXTtcbiAgICB0aGlzLndoZWVsRm9yY2VzID0gW107XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgd2hlZWxcclxuICAgKiBAbWV0aG9kIGFkZFdoZWVsXHJcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzRnJvbnRXaGVlbF1cclxuICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBvc2l0aW9uXSBQb3NpdGlvbiBvZiB0aGUgd2hlZWwsIGxvY2FsbHkgaW4gdGhlIGNoYXNzaXMgYm9keS5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmRpcmVjdGlvbl0gU2xpZGUgZGlyZWN0aW9uIG9mIHRoZSB3aGVlbCBhbG9uZyB0aGUgc3VzcGVuc2lvbi5cclxuICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNdIEF4aXMgb2Ygcm90YXRpb24gb2YgdGhlIHdoZWVsLCBsb2NhbGx5IGRlZmluZWQgaW4gdGhlIGNoYXNzaXMuXHJcbiAgICogQHBhcmFtIHtCb2R5fSBbb3B0aW9ucy5ib2R5XSBUaGUgd2hlZWwgYm9keS5cclxuICAgKi9cblxuXG4gIGFkZFdoZWVsKG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCB3aGVlbEJvZHk7XG5cbiAgICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgICB3aGVlbEJvZHkgPSBvcHRpb25zLmJvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHdoZWVsIGJvZHkgZ2l2ZW4uIENyZWF0ZSBpdCFcbiAgICAgIHdoZWVsQm9keSA9IG5ldyBCb2R5KHtcbiAgICAgICAgbWFzczogMSxcbiAgICAgICAgc2hhcGU6IG5ldyBTcGhlcmUoMS4yKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy53aGVlbEJvZGllcy5wdXNoKHdoZWVsQm9keSk7XG4gICAgdGhpcy53aGVlbEZvcmNlcy5wdXNoKDApOyAvLyBQb3NpdGlvbiBjb25zdHJhaW4gd2hlZWxzXG4gICAgY29uc3QgcG9zaXRpb24gPSB0eXBlb2Ygb3B0aW9ucy5wb3NpdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnBvc2l0aW9uLmNsb25lKCkgOiBuZXcgVmVjMygpOyAvLyBTZXQgcG9zaXRpb24gbG9jYWxseSB0byB0aGUgY2hhc3Npc1xuXG4gICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy5jaGFzc2lzQm9keS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgd29ybGRQb3NpdGlvbik7XG4gICAgd2hlZWxCb2R5LnBvc2l0aW9uLnNldCh3b3JsZFBvc2l0aW9uLngsIHdvcmxkUG9zaXRpb24ueSwgd29ybGRQb3NpdGlvbi56KTsgLy8gQ29uc3RyYWluIHdoZWVsXG5cbiAgICBjb25zdCBheGlzID0gdHlwZW9mIG9wdGlvbnMuYXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmF4aXMuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApO1xuICAgIHRoaXMud2hlZWxBeGVzLnB1c2goYXhpcyk7XG4gICAgY29uc3QgaGluZ2VDb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludCh0aGlzLmNoYXNzaXNCb2R5LCB3aGVlbEJvZHksIHtcbiAgICAgIHBpdm90QTogcG9zaXRpb24sXG4gICAgICBheGlzQTogYXhpcyxcbiAgICAgIHBpdm90QjogVmVjMy5aRVJPLFxuICAgICAgYXhpc0I6IGF4aXMsXG4gICAgICBjb2xsaWRlQ29ubmVjdGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuY29uc3RyYWludHMucHVzaChoaW5nZUNvbnN0cmFpbnQpO1xuICAgIHJldHVybiB0aGlzLndoZWVsQm9kaWVzLmxlbmd0aCAtIDE7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0IHRoZSBzdGVlcmluZyB2YWx1ZSBvZiBhIHdoZWVsLlxyXG4gICAqIEBtZXRob2Qgc2V0U3RlZXJpbmdWYWx1ZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqIEB0b2RvIGNoZWNrIGNvb3JkaW5hdGVTeXN0ZW1cclxuICAgKi9cblxuXG4gIHNldFN0ZWVyaW5nVmFsdWUodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICAvLyBTZXQgYW5nbGUgb2YgdGhlIGhpbmdlIGF4aXNcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3QgYyA9IE1hdGguY29zKHZhbHVlKTtcbiAgICBjb25zdCBzID0gTWF0aC5zaW4odmFsdWUpO1xuICAgIGNvbnN0IHggPSBheGlzLng7XG4gICAgY29uc3QgeSA9IGF4aXMueTtcbiAgICB0aGlzLmNvbnN0cmFpbnRzW3doZWVsSW5kZXhdLmF4aXNBLnNldChjICogeCAtIHMgKiB5LCBzICogeCArIGMgKiB5LCAwKTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHRhcmdldCByb3RhdGlvbmFsIHNwZWVkIG9mIHRoZSBoaW5nZSBjb25zdHJhaW50LlxyXG4gICAqIEBtZXRob2Qgc2V0TW90b3JTcGVlZFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqL1xuXG5cbiAgc2V0TW90b3JTcGVlZCh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGhpbmdlQ29uc3RyYWludCA9IHRoaXMuY29uc3RyYWludHNbd2hlZWxJbmRleF07XG4gICAgaGluZ2VDb25zdHJhaW50LmVuYWJsZU1vdG9yKCk7XG4gICAgaGluZ2VDb25zdHJhaW50Lm1vdG9yVGFyZ2V0VmVsb2NpdHkgPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIHRhcmdldCByb3RhdGlvbmFsIHNwZWVkIG9mIHRoZSBoaW5nZSBjb25zdHJhaW50LlxyXG4gICAqIEBtZXRob2QgZGlzYWJsZU1vdG9yXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBkaXNhYmxlTW90b3Iod2hlZWxJbmRleCkge1xuICAgIGNvbnN0IGhpbmdlQ29uc3RyYWludCA9IHRoaXMuY29uc3RyYWludHNbd2hlZWxJbmRleF07XG4gICAgaGluZ2VDb25zdHJhaW50LmRpc2FibGVNb3RvcigpO1xuICB9XG4gIC8qKlxyXG4gICAqIFNldCB0aGUgd2hlZWwgZm9yY2UgdG8gYXBwbHkgb24gb25lIG9mIHRoZSB3aGVlbHMgZWFjaCB0aW1lIHN0ZXBcclxuICAgKiBAbWV0aG9kIHNldFdoZWVsRm9yY2VcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHZhbHVlXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gd2hlZWxJbmRleFxyXG4gICAqL1xuXG5cbiAgc2V0V2hlZWxGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkge1xuICAgIHRoaXMud2hlZWxGb3JjZXNbd2hlZWxJbmRleF0gPSB2YWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBBcHBseSBhIHRvcnF1ZSBvbiBvbmUgb2YgdGhlIHdoZWVscy5cclxuICAgKiBAbWV0aG9kIGFwcGx5V2hlZWxGb3JjZVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gdmFsdWVcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBhcHBseVdoZWVsRm9yY2UodmFsdWUsIHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3Qgd2hlZWxCb2R5ID0gdGhpcy53aGVlbEJvZGllc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCBib2R5VG9ycXVlID0gd2hlZWxCb2R5LnRvcnF1ZTtcbiAgICBheGlzLnNjYWxlKHZhbHVlLCB0b3JxdWUpO1xuICAgIHdoZWVsQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUodG9ycXVlLCB0b3JxdWUpO1xuICAgIGJvZHlUb3JxdWUudmFkZCh0b3JxdWUsIGJvZHlUb3JxdWUpO1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZCB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIHRvIHRoZSB3b3JsZC5cclxuICAgKiBAbWV0aG9kIGFkZFRvV29ybGRcclxuICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxyXG4gICAqL1xuXG5cbiAgYWRkVG9Xb3JsZCh3b3JsZCkge1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLndoZWVsQm9kaWVzLmNvbmNhdChbdGhpcy5jaGFzc2lzQm9keV0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLmFkZEJvZHkoYm9kaWVzW2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnRzW2ldKTtcbiAgICB9XG5cbiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgdGhpcy5fdXBkYXRlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCB3aGVlbEZvcmNlcyA9IHRoaXMud2hlZWxGb3JjZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdoZWVsRm9yY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFwcGx5V2hlZWxGb3JjZSh3aGVlbEZvcmNlc1tpXSwgaSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSB0aGUgdmVoaWNsZSBpbmNsdWRpbmcgaXRzIGNvbnN0cmFpbnRzIGZyb20gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgcmVtb3ZlRnJvbVdvcmxkXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKi9cblxuXG4gIHJlbW92ZUZyb21Xb3JsZCh3b3JsZCkge1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLndoZWVsQm9kaWVzLmNvbmNhdChbdGhpcy5jaGFzc2lzQm9keV0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdvcmxkLnJlbW92ZUJvZHkoYm9kaWVzW2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3b3JsZC5yZW1vdmVDb25zdHJhaW50KGNvbnN0cmFpbnRzW2ldKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGN1cnJlbnQgcm90YXRpb25hbCB2ZWxvY2l0eSBvZiBhIHdoZWVsXHJcbiAgICogQG1ldGhvZCBnZXRXaGVlbFNwZWVkXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3aGVlbEluZGV4XHJcbiAgICovXG5cblxuICBnZXRXaGVlbFNwZWVkKHdoZWVsSW5kZXgpIHtcbiAgICBjb25zdCBheGlzID0gdGhpcy53aGVlbEF4ZXNbd2hlZWxJbmRleF07XG4gICAgY29uc3Qgd2hlZWxCb2R5ID0gdGhpcy53aGVlbEJvZGllc1t3aGVlbEluZGV4XTtcbiAgICBjb25zdCB3ID0gd2hlZWxCb2R5LmFuZ3VsYXJWZWxvY2l0eTtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShheGlzLCB3b3JsZEF4aXMpO1xuICAgIHJldHVybiB3LmRvdCh3b3JsZEF4aXMpO1xuICB9XG5cbn1cbmNvbnN0IHRvcnF1ZSA9IG5ldyBWZWMzKCk7XG5jb25zdCB3b3JsZEF4aXMgPSBuZXcgVmVjMygpO1xuXG4vKipcclxuICogU21vb3RoZWQtcGFydGljbGUgaHlkcm9keW5hbWljcyBzeXN0ZW1cclxuICogQGNsYXNzIFNQSFN5c3RlbVxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBTUEhTeXN0ZW0ge1xuICAvLyBEZW5zaXR5IG9mIHRoZSBzeXN0ZW0gKGtnL20zKS5cbiAgLy8gRGlzdGFuY2UgYmVsb3cgd2hpY2ggdHdvIHBhcnRpY2xlcyBhcmUgY29uc2lkZXJlZCB0byBiZSBuZWlnaGJvcnMuIEl0IHNob3VsZCBiZSBhZGp1c3RlZCBzbyB0aGVyZSBhcmUgYWJvdXQgMTUtMjAgbmVpZ2hib3IgcGFydGljbGVzIHdpdGhpbiB0aGlzIHJhZGl1cy5cbiAgLy8gVmlzY29zaXR5IG9mIHRoZSBzeXN0ZW0uXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGFydGljbGVzID0gW107XG4gICAgdGhpcy5kZW5zaXR5ID0gMTtcbiAgICB0aGlzLnNtb290aGluZ1JhZGl1cyA9IDE7XG4gICAgdGhpcy5zcGVlZE9mU291bmQgPSAxO1xuICAgIHRoaXMudmlzY29zaXR5ID0gMC4wMTtcbiAgICB0aGlzLmVwcyA9IDAuMDAwMDAxOyAvLyBTdHVmZiBDb21wdXRlZCBwZXIgcGFydGljbGVcblxuICAgIHRoaXMucHJlc3N1cmVzID0gW107XG4gICAgdGhpcy5kZW5zaXRpZXMgPSBbXTtcbiAgICB0aGlzLm5laWdoYm9ycyA9IFtdO1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZCBhIHBhcnRpY2xlIHRvIHRoZSBzeXN0ZW0uXHJcbiAgICogQG1ldGhvZCBhZGRcclxuICAgKiBAcGFyYW0ge0JvZHl9IHBhcnRpY2xlXHJcbiAgICovXG5cblxuICBhZGQocGFydGljbGUpIHtcbiAgICB0aGlzLnBhcnRpY2xlcy5wdXNoKHBhcnRpY2xlKTtcblxuICAgIGlmICh0aGlzLm5laWdoYm9ycy5sZW5ndGggPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMubmVpZ2hib3JzLnB1c2goW10pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSZW1vdmUgYSBwYXJ0aWNsZSBmcm9tIHRoZSBzeXN0ZW0uXHJcbiAgICogQG1ldGhvZCByZW1vdmVcclxuICAgKiBAcGFyYW0ge0JvZHl9IHBhcnRpY2xlXHJcbiAgICovXG5cblxuICByZW1vdmUocGFydGljbGUpIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLnBhcnRpY2xlcy5pbmRleE9mKHBhcnRpY2xlKTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICB0aGlzLnBhcnRpY2xlcy5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgaWYgKHRoaXMubmVpZ2hib3JzLmxlbmd0aCA+IHRoaXMucGFydGljbGVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLm5laWdoYm9ycy5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXROZWlnaGJvcnMocGFydGljbGUsIG5laWdoYm9ycykge1xuICAgIGNvbnN0IE4gPSB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7XG4gICAgY29uc3QgaWQgPSBwYXJ0aWNsZS5pZDtcbiAgICBjb25zdCBSMiA9IHRoaXMuc21vb3RoaW5nUmFkaXVzICogdGhpcy5zbW9vdGhpbmdSYWRpdXM7XG4gICAgY29uc3QgZGlzdCA9IFNQSFN5c3RlbV9nZXROZWlnaGJvcnNfZGlzdDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSB0aGlzLnBhcnRpY2xlc1tpXTtcbiAgICAgIHAucG9zaXRpb24udnN1YihwYXJ0aWNsZS5wb3NpdGlvbiwgZGlzdCk7XG5cbiAgICAgIGlmIChpZCAhPT0gcC5pZCAmJiBkaXN0Lmxlbmd0aFNxdWFyZWQoKSA8IFIyKSB7XG4gICAgICAgIG5laWdoYm9ycy5wdXNoKHApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBOID0gdGhpcy5wYXJ0aWNsZXMubGVuZ3RoO1xuICAgIGNvbnN0IGRpc3QgPSBTUEhTeXN0ZW1fdXBkYXRlX2Rpc3Q7XG4gICAgY29uc3QgY3MgPSB0aGlzLnNwZWVkT2ZTb3VuZDtcbiAgICBjb25zdCBlcHMgPSB0aGlzLmVwcztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSB0aGlzLnBhcnRpY2xlc1tpXTsgLy8gQ3VycmVudCBwYXJ0aWNsZVxuXG4gICAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLm5laWdoYm9yc1tpXTsgLy8gR2V0IG5laWdoYm9yc1xuXG4gICAgICBuZWlnaGJvcnMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuZ2V0TmVpZ2hib3JzKHAsIG5laWdoYm9ycyk7XG4gICAgICBuZWlnaGJvcnMucHVzaCh0aGlzLnBhcnRpY2xlc1tpXSk7IC8vIEFkZCBjdXJyZW50IHRvb1xuXG4gICAgICBjb25zdCBudW1OZWlnaGJvcnMgPSBuZWlnaGJvcnMubGVuZ3RoOyAvLyBBY2N1bXVsYXRlIGRlbnNpdHkgZm9yIHRoZSBwYXJ0aWNsZVxuXG4gICAgICBsZXQgc3VtID0gMC4wO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtTmVpZ2hib3JzOyBqKyspIHtcbiAgICAgICAgLy9wcmludGYoXCJDdXJyZW50IHBhcnRpY2xlIGhhcyBwb3NpdGlvbiAlZiAlZiAlZlxcblwiLG9iamVjdHNbaWRdLnBvcy54KCksb2JqZWN0c1tpZF0ucG9zLnkoKSxvYmplY3RzW2lkXS5wb3MueigpKTtcbiAgICAgICAgcC5wb3NpdGlvbi52c3ViKG5laWdoYm9yc1tqXS5wb3NpdGlvbiwgZGlzdCk7XG4gICAgICAgIGNvbnN0IGxlbiA9IGRpc3QubGVuZ3RoKCk7XG4gICAgICAgIGNvbnN0IHdlaWdodCA9IHRoaXMudyhsZW4pO1xuICAgICAgICBzdW0gKz0gbmVpZ2hib3JzW2pdLm1hc3MgKiB3ZWlnaHQ7XG4gICAgICB9IC8vIFNhdmVcblxuXG4gICAgICB0aGlzLmRlbnNpdGllc1tpXSA9IHN1bTtcbiAgICAgIHRoaXMucHJlc3N1cmVzW2ldID0gY3MgKiBjcyAqICh0aGlzLmRlbnNpdGllc1tpXSAtIHRoaXMuZGVuc2l0eSk7XG4gICAgfSAvLyBBZGQgZm9yY2VzXG4gICAgLy8gU3VtIHRvIHRoZXNlIGFjY2VsZXJhdGlvbnNcblxuXG4gICAgY29uc3QgYV9wcmVzc3VyZSA9IFNQSFN5c3RlbV91cGRhdGVfYV9wcmVzc3VyZTtcbiAgICBjb25zdCBhX3Zpc2MgPSBTUEhTeXN0ZW1fdXBkYXRlX2FfdmlzYztcbiAgICBjb25zdCBncmFkVyA9IFNQSFN5c3RlbV91cGRhdGVfZ3JhZFc7XG4gICAgY29uc3Qgcl92ZWMgPSBTUEhTeXN0ZW1fdXBkYXRlX3JfdmVjO1xuICAgIGNvbnN0IHUgPSBTUEhTeXN0ZW1fdXBkYXRlX3U7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMucGFydGljbGVzW2ldO1xuICAgICAgYV9wcmVzc3VyZS5zZXQoMCwgMCwgMCk7XG4gICAgICBhX3Zpc2Muc2V0KDAsIDAsIDApOyAvLyBJbml0IHZhcnNcblxuICAgICAgbGV0IFBpajtcbiAgICAgIGxldCBuYWJsYTtcblxuICAgICAgY29uc3QgbmVpZ2hib3JzID0gdGhpcy5uZWlnaGJvcnNbaV07XG4gICAgICBjb25zdCBudW1OZWlnaGJvcnMgPSBuZWlnaGJvcnMubGVuZ3RoOyAvL3ByaW50ZihcIk5laWdoYm9yczogXCIpO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtTmVpZ2hib3JzOyBqKyspIHtcbiAgICAgICAgY29uc3QgbmVpZ2hib3IgPSBuZWlnaGJvcnNbal07IC8vcHJpbnRmKFwiJWQgXCIsbmopO1xuICAgICAgICAvLyBHZXQgciBvbmNlIGZvciBhbGwuLlxuXG4gICAgICAgIHBhcnRpY2xlLnBvc2l0aW9uLnZzdWIobmVpZ2hib3IucG9zaXRpb24sIHJfdmVjKTtcbiAgICAgICAgY29uc3QgciA9IHJfdmVjLmxlbmd0aCgpOyAvLyBQcmVzc3VyZSBjb250cmlidXRpb25cblxuICAgICAgICBQaWogPSAtbmVpZ2hib3IubWFzcyAqICh0aGlzLnByZXNzdXJlc1tpXSAvICh0aGlzLmRlbnNpdGllc1tpXSAqIHRoaXMuZGVuc2l0aWVzW2ldICsgZXBzKSArIHRoaXMucHJlc3N1cmVzW2pdIC8gKHRoaXMuZGVuc2l0aWVzW2pdICogdGhpcy5kZW5zaXRpZXNbal0gKyBlcHMpKTtcbiAgICAgICAgdGhpcy5ncmFkdyhyX3ZlYywgZ3JhZFcpOyAvLyBBZGQgdG8gcHJlc3N1cmUgYWNjZWxlcmF0aW9uXG5cbiAgICAgICAgZ3JhZFcuc2NhbGUoUGlqLCBncmFkVyk7XG4gICAgICAgIGFfcHJlc3N1cmUudmFkZChncmFkVywgYV9wcmVzc3VyZSk7IC8vIFZpc2Nvc2l0eSBjb250cmlidXRpb25cblxuICAgICAgICBuZWlnaGJvci52ZWxvY2l0eS52c3ViKHBhcnRpY2xlLnZlbG9jaXR5LCB1KTtcbiAgICAgICAgdS5zY2FsZSgxLjAgLyAoMC4wMDAxICsgdGhpcy5kZW5zaXRpZXNbaV0gKiB0aGlzLmRlbnNpdGllc1tqXSkgKiB0aGlzLnZpc2Nvc2l0eSAqIG5laWdoYm9yLm1hc3MsIHUpO1xuICAgICAgICBuYWJsYSA9IHRoaXMubmFibGF3KHIpO1xuICAgICAgICB1LnNjYWxlKG5hYmxhLCB1KTsgLy8gQWRkIHRvIHZpc2Nvc2l0eSBhY2NlbGVyYXRpb25cblxuICAgICAgICBhX3Zpc2MudmFkZCh1LCBhX3Zpc2MpO1xuICAgICAgfSAvLyBDYWxjdWxhdGUgZm9yY2VcblxuXG4gICAgICBhX3Zpc2Muc2NhbGUocGFydGljbGUubWFzcywgYV92aXNjKTtcbiAgICAgIGFfcHJlc3N1cmUuc2NhbGUocGFydGljbGUubWFzcywgYV9wcmVzc3VyZSk7IC8vIEFkZCBmb3JjZSB0byBwYXJ0aWNsZXNcblxuICAgICAgcGFydGljbGUuZm9yY2UudmFkZChhX3Zpc2MsIHBhcnRpY2xlLmZvcmNlKTtcbiAgICAgIHBhcnRpY2xlLmZvcmNlLnZhZGQoYV9wcmVzc3VyZSwgcGFydGljbGUuZm9yY2UpO1xuICAgIH1cbiAgfSAvLyBDYWxjdWxhdGUgdGhlIHdlaWdodCB1c2luZyB0aGUgVyhyKSB3ZWlnaHRmdW5jdGlvblxuXG5cbiAgdyhyKSB7XG4gICAgLy8gMzE1XG4gICAgY29uc3QgaCA9IHRoaXMuc21vb3RoaW5nUmFkaXVzO1xuICAgIHJldHVybiAzMTUuMCAvICg2NC4wICogTWF0aC5QSSAqIGggKiogOSkgKiAoaCAqIGggLSByICogcikgKiogMztcbiAgfSAvLyBjYWxjdWxhdGUgZ3JhZGllbnQgb2YgdGhlIHdlaWdodCBmdW5jdGlvblxuXG5cbiAgZ3JhZHcoclZlYywgcmVzdWx0VmVjKSB7XG4gICAgY29uc3QgciA9IHJWZWMubGVuZ3RoKCk7XG4gICAgY29uc3QgaCA9IHRoaXMuc21vb3RoaW5nUmFkaXVzO1xuICAgIHJWZWMuc2NhbGUoOTQ1LjAgLyAoMzIuMCAqIE1hdGguUEkgKiBoICoqIDkpICogKGggKiBoIC0gciAqIHIpICoqIDIsIHJlc3VsdFZlYyk7XG4gIH0gLy8gQ2FsY3VsYXRlIG5hYmxhKFcpXG5cblxuICBuYWJsYXcocikge1xuICAgIGNvbnN0IGggPSB0aGlzLnNtb290aGluZ1JhZGl1cztcbiAgICBjb25zdCBuYWJsYSA9IDk0NS4wIC8gKDMyLjAgKiBNYXRoLlBJICogaCAqKiA5KSAqIChoICogaCAtIHIgKiByKSAqICg3ICogciAqIHIgLSAzICogaCAqIGgpO1xuICAgIHJldHVybiBuYWJsYTtcbiAgfVxuXG59XG4vKipcclxuICogR2V0IG5laWdoYm9ycyB3aXRoaW4gc21vb3RoaW5nIHZvbHVtZSwgc2F2ZSBpbiB0aGUgYXJyYXkgbmVpZ2hib3JzXHJcbiAqIEBtZXRob2QgZ2V0TmVpZ2hib3JzXHJcbiAqIEBwYXJhbSB7Qm9keX0gcGFydGljbGVcclxuICogQHBhcmFtIHtBcnJheX0gbmVpZ2hib3JzXHJcbiAqL1xuXG5jb25zdCBTUEhTeXN0ZW1fZ2V0TmVpZ2hib3JzX2Rpc3QgPSBuZXcgVmVjMygpOyAvLyBUZW1wIHZlY3RvcnMgZm9yIGNhbGN1bGF0aW9uXG5cbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfZGlzdCA9IG5ldyBWZWMzKCk7IC8vIFJlbGF0aXZlIHZlbG9jaXR5XG5cbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfYV9wcmVzc3VyZSA9IG5ldyBWZWMzKCk7XG5jb25zdCBTUEhTeXN0ZW1fdXBkYXRlX2FfdmlzYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBTUEhTeXN0ZW1fdXBkYXRlX2dyYWRXID0gbmV3IFZlYzMoKTtcbmNvbnN0IFNQSFN5c3RlbV91cGRhdGVfcl92ZWMgPSBuZXcgVmVjMygpO1xuY29uc3QgU1BIU3lzdGVtX3VwZGF0ZV91ID0gbmV3IFZlYzMoKTtcblxuLyoqXHJcbiAqIEBjbGFzcyBDeWxpbmRlclxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgQ29udmV4UG9seWhlZHJvblxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNUb3BcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c0JvdHRvbVxyXG4gKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW1TZWdtZW50cyBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIHRvIGJ1aWxkIHRoZSBjeWxpbmRlciBvdXQgb2ZcclxuICovXG5cbmNsYXNzIEN5bGluZGVyIGV4dGVuZHMgQ29udmV4UG9seWhlZHJvbiB7XG4gIGNvbnN0cnVjdG9yKHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzKSB7XG4gICAgY29uc3QgTiA9IG51bVNlZ21lbnRzO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gW107XG4gICAgY29uc3QgYXhlcyA9IFtdO1xuICAgIGNvbnN0IGZhY2VzID0gW107XG4gICAgY29uc3QgYm90dG9tZmFjZSA9IFtdO1xuICAgIGNvbnN0IHRvcGZhY2UgPSBbXTtcbiAgICBjb25zdCBjb3MgPSBNYXRoLmNvcztcbiAgICBjb25zdCBzaW4gPSBNYXRoLnNpbjsgLy8gRmlyc3QgYm90dG9tIHBvaW50XG5cbiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4oMCksIC1oZWlnaHQgKiAwLjUsIHJhZGl1c0JvdHRvbSAqIGNvcygwKSkpO1xuICAgIGJvdHRvbWZhY2UucHVzaCgwKTsgLy8gRmlyc3QgdG9wIHBvaW50XG5cbiAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNUb3AgKiBzaW4oMCksIGhlaWdodCAqIDAuNSwgcmFkaXVzVG9wICogY29zKDApKSk7XG4gICAgdG9wZmFjZS5wdXNoKDEpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyBpKyspIHtcbiAgICAgIGNvbnN0IHRoZXRhID0gMiAqIE1hdGguUEkgLyBOICogKGkgKyAxKTtcbiAgICAgIGNvbnN0IHRoZXRhTiA9IDIgKiBNYXRoLlBJIC8gTiAqIChpICsgMC41KTtcblxuICAgICAgaWYgKGkgPCBOIC0gMSkge1xuICAgICAgICAvLyBCb3R0b21cbiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzQm90dG9tICogc2luKHRoZXRhKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKHRoZXRhKSkpO1xuICAgICAgICBib3R0b21mYWNlLnB1c2goMiAqIGkgKyAyKTsgLy8gVG9wXG5cbiAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzVG9wICogc2luKHRoZXRhKSwgaGVpZ2h0ICogMC41LCByYWRpdXNUb3AgKiBjb3ModGhldGEpKSk7XG4gICAgICAgIHRvcGZhY2UucHVzaCgyICogaSArIDMpOyAvLyBGYWNlXG5cbiAgICAgICAgZmFjZXMucHVzaChbMiAqIGksIDIgKiBpICsgMSwgMiAqIGkgKyAzLCAyICogaSArIDJdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY2VzLnB1c2goWzIgKiBpLCAyICogaSArIDEsIDEsIDBdKTsgLy8gQ29ubmVjdFxuICAgICAgfSAvLyBBeGlzOiB3ZSBjYW4gY3V0IG9mZiBoYWxmIG9mIHRoZW0gaWYgd2UgaGF2ZSBldmVuIG51bWJlciBvZiBzZWdtZW50c1xuXG5cbiAgICAgIGlmIChOICUgMiA9PT0gMSB8fCBpIDwgTiAvIDIpIHtcbiAgICAgICAgYXhlcy5wdXNoKG5ldyBWZWMzKC1zaW4odGhldGFOKSwgMCwgY29zKHRoZXRhTikpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmYWNlcy5wdXNoKGJvdHRvbWZhY2UpO1xuICAgIGF4ZXMucHVzaChuZXcgVmVjMygwLCAxLCAwKSk7IC8vIFJlb3JkZXIgdG9wIGZhY2VcblxuICAgIGNvbnN0IHRlbXAgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9wZmFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGVtcC5wdXNoKHRvcGZhY2VbdG9wZmFjZS5sZW5ndGggLSBpIC0gMV0pO1xuICAgIH1cblxuICAgIGZhY2VzLnB1c2godGVtcCk7XG4gICAgc3VwZXIoe1xuICAgICAgdmVydGljZXMsXG4gICAgICBmYWNlcyxcbiAgICAgIGF4ZXNcbiAgICB9KTtcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBQYXJ0aWNsZSBzaGFwZS5cclxuICogQGNsYXNzIFBhcnRpY2xlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqIEBleHRlbmRzIFNoYXBlXHJcbiAqL1xuY2xhc3MgUGFydGljbGUgZXh0ZW5kcyBTaGFwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFXG4gICAgfSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3NcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtWZWMzfVxyXG4gICAqL1xuXG5cbiAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHtcbiAgICB0YXJnZXQuc2V0KDAsIDAsIDApO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDtcbiAgfVxuXG4gIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7XG4gICAgLy8gR2V0IGVhY2ggYXhpcyBtYXhcbiAgICBtaW4uY29weShwb3MpO1xuICAgIG1heC5jb3B5KHBvcyk7XG4gIH1cblxufVxuXG4vKipcclxuICogQSBwbGFuZSwgZmFjaW5nIGluIHRoZSBaIGRpcmVjdGlvbi4gVGhlIHBsYW5lIGhhcyBpdHMgc3VyZmFjZSBhdCB6PTAgYW5kIGV2ZXJ5dGhpbmcgYmVsb3cgej0wIGlzIGFzc3VtZWQgdG8gYmUgc29saWQgcGxhbmUuIFRvIG1ha2UgdGhlIHBsYW5lIGZhY2UgaW4gc29tZSBvdGhlciBkaXJlY3Rpb24gdGhhbiB6LCB5b3UgbXVzdCBwdXQgaXQgaW5zaWRlIGEgQm9keSBhbmQgcm90YXRlIHRoYXQgYm9keS4gU2VlIHRoZSBkZW1vcy5cclxuICogQGNsYXNzIFBsYW5lXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBTaGFwZVxyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXHJcbiAqL1xuY2xhc3MgUGxhbmUgZXh0ZW5kcyBTaGFwZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBMQU5FXG4gICAgfSk7IC8vIFdvcmxkIG9yaWVudGVkIG5vcm1hbFxuXG4gICAgdGhpcy53b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7XG4gICAgdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgfVxuXG4gIGNvbXB1dGVXb3JsZE5vcm1hbChxdWF0KSB7XG4gICAgY29uc3QgbiA9IHRoaXMud29ybGROb3JtYWw7XG4gICAgbi5zZXQoMCwgMCwgMSk7XG4gICAgcXVhdC52bXVsdChuLCBuKTtcbiAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHZvbHVtZSgpIHtcbiAgICByZXR1cm4gKC8vIFRoZSBwbGFuZSBpcyBpbmZpbml0ZS4uLlxuICAgICAgTnVtYmVyLk1BWF9WQUxVRVxuICAgICk7XG4gIH1cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIC8vIFRoZSBwbGFuZSBBQUJCIGlzIGluZmluaXRlLCBleGNlcHQgaWYgdGhlIG5vcm1hbCBpcyBwb2ludGluZyBhbG9uZyBhbnkgYXhpc1xuICAgIHRlbXBOb3JtYWwuc2V0KDAsIDAsIDEpOyAvLyBEZWZhdWx0IHBsYW5lIG5vcm1hbCBpcyB6XG5cbiAgICBxdWF0LnZtdWx0KHRlbXBOb3JtYWwsIHRlbXBOb3JtYWwpO1xuICAgIGNvbnN0IG1heFZhbCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgbWluLnNldCgtbWF4VmFsLCAtbWF4VmFsLCAtbWF4VmFsKTtcbiAgICBtYXguc2V0KG1heFZhbCwgbWF4VmFsLCBtYXhWYWwpO1xuXG4gICAgaWYgKHRlbXBOb3JtYWwueCA9PT0gMSkge1xuICAgICAgbWF4LnggPSBwb3MueDtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueCA9PT0gLTEpIHtcbiAgICAgIG1pbi54ID0gcG9zLng7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBOb3JtYWwueSA9PT0gMSkge1xuICAgICAgbWF4LnkgPSBwb3MueTtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueSA9PT0gLTEpIHtcbiAgICAgIG1pbi55ID0gcG9zLnk7XG4gICAgfVxuXG4gICAgaWYgKHRlbXBOb3JtYWwueiA9PT0gMSkge1xuICAgICAgbWF4LnogPSBwb3MuejtcbiAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueiA9PT0gLTEpIHtcbiAgICAgIG1pbi56ID0gcG9zLno7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE51bWJlci5NQVhfVkFMVUU7XG4gIH1cblxufVxuY29uc3QgdGVtcE5vcm1hbCA9IG5ldyBWZWMzKCk7XG5cbi8qKlxyXG4gKiBIZWlnaHRmaWVsZCBzaGFwZSBjbGFzcy4gSGVpZ2h0IGRhdGEgaXMgZ2l2ZW4gYXMgYW4gYXJyYXkuIFRoZXNlIGRhdGEgcG9pbnRzIGFyZSBzcHJlYWQgb3V0IGV2ZW5seSB3aXRoIGEgZ2l2ZW4gZGlzdGFuY2UuXHJcbiAqIEBjbGFzcyBIZWlnaHRmaWVsZFxyXG4gKiBAZXh0ZW5kcyBTaGFwZVxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtBcnJheX0gZGF0YSBBbiBhcnJheSBvZiBZIHZhbHVlcyB0aGF0IHdpbGwgYmUgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHRlcnJhaW4uXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5taW5WYWx1ZV0gTWluaW11bSB2YWx1ZSBvZiB0aGUgZGF0YSBwb2ludHMgaW4gdGhlIGRhdGEgYXJyYXkuIFdpbGwgYmUgY29tcHV0ZWQgYXV0b21hdGljYWxseSBpZiBub3QgZ2l2ZW4uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhWYWx1ZV0gTWF4aW11bSB2YWx1ZS5cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmVsZW1lbnRTaXplPTAuMV0gV29ybGQgc3BhY2luZyBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvbi5cclxuICogQHRvZG8gU2hvdWxkIGJlIHBvc3NpYmxlIHRvIHVzZSBhbG9uZyBhbGwgYXhlcywgbm90IGp1c3QgeVxyXG4gKiBAdG9kbyBzaG91bGQgYmUgcG9zc2libGUgdG8gc2NhbGUgYWxvbmcgYWxsIGF4ZXNcclxuICogQHRvZG8gUmVmYWN0b3IgZWxlbWVudFNpemUgdG8gZWxlbWVudFNpemVYIGFuZCBlbGVtZW50U2l6ZVlcclxuICpcclxuICogQGV4YW1wbGVcclxuICogICAgIC8vIEdlbmVyYXRlIHNvbWUgaGVpZ2h0IGRhdGEgKHktdmFsdWVzKS5cclxuICogICAgIGNvbnN0IGRhdGEgPSBbXTtcclxuICogICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDAwOyBpKyspe1xyXG4gKiAgICAgICAgIGNvbnN0IHkgPSAwLjUgKiBNYXRoLmNvcygwLjIgKiBpKTtcclxuICogICAgICAgICBkYXRhLnB1c2goeSk7XHJcbiAqICAgICB9XHJcbiAqXHJcbiAqICAgICAvLyBDcmVhdGUgdGhlIGhlaWdodGZpZWxkIHNoYXBlXHJcbiAqICAgICBjb25zdCBoZWlnaHRmaWVsZFNoYXBlID0gbmV3IEhlaWdodGZpZWxkKGRhdGEsIHtcclxuICogICAgICAgICBlbGVtZW50U2l6ZTogMSAvLyBEaXN0YW5jZSBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGFuZCBZIGRpcmVjdGlvbnNcclxuICogICAgIH0pO1xyXG4gKiAgICAgY29uc3QgaGVpZ2h0ZmllbGRCb2R5ID0gbmV3IEJvZHkoKTtcclxuICogICAgIGhlaWdodGZpZWxkQm9keS5hZGRTaGFwZShoZWlnaHRmaWVsZFNoYXBlKTtcclxuICogICAgIHdvcmxkLmFkZEJvZHkoaGVpZ2h0ZmllbGRCb2R5KTtcclxuICovXG5jbGFzcyBIZWlnaHRmaWVsZCBleHRlbmRzIFNoYXBlIHtcbiAgLy8gQW4gYXJyYXkgb2YgbnVtYmVycywgb3IgaGVpZ2h0IHZhbHVlcywgdGhhdCBhcmUgc3ByZWFkIG91dCBhbG9uZyB0aGUgeCBheGlzLlxuICAvLyBNYXggdmFsdWUgb2YgdGhlIGRhdGEuXG4gIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS5cbiAgLy8gVGhlIHdpZHRoIG9mIGVhY2ggZWxlbWVudC4gVG8gZG86IGVsZW1lbnRTaXplWCBhbmQgWVxuICBjb25zdHJ1Y3RvcihkYXRhLCBvcHRpb25zID0ge30pIHtcbiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywge1xuICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgIGVsZW1lbnRTaXplOiAxXG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgdHlwZTogU2hhcGUudHlwZXMuSEVJR0hURklFTERcbiAgICB9KTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMubWF4VmFsdWUgPSBvcHRpb25zLm1heFZhbHVlO1xuICAgIHRoaXMubWluVmFsdWUgPSBvcHRpb25zLm1pblZhbHVlO1xuICAgIHRoaXMuZWxlbWVudFNpemUgPSBvcHRpb25zLmVsZW1lbnRTaXplO1xuXG4gICAgaWYgKG9wdGlvbnMubWluVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5tYXhWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy51cGRhdGVNYXhWYWx1ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuY2FjaGVFbmFibGVkID0gdHJ1ZTtcbiAgICB0aGlzLnBpbGxhckNvbnZleCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7XG4gICAgdGhpcy5waWxsYXJPZmZzZXQgPSBuZXcgVmVjMygpO1xuICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsgLy8gXCJpX2pfaXNVcHBlclwiID0+IHsgY29udmV4OiAuLi4sIG9mZnNldDogLi4uIH1cbiAgICAvLyBmb3IgZXhhbXBsZTpcbiAgICAvLyBfY2FjaGVkUGlsbGFyc1tcIjBfMl8xXCJdXG5cbiAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307XG4gIH1cbiAgLyoqXHJcbiAgICogQ2FsbCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBkYXRhIGFycmF5LlxyXG4gICAqIEBtZXRob2QgdXBkYXRlXHJcbiAgICovXG5cblxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5fY2FjaGVkUGlsbGFycyA9IHt9O1xuICB9XG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgLm1pblZhbHVlIHByb3BlcnR5XHJcbiAgICogQG1ldGhvZCB1cGRhdGVNaW5WYWx1ZVxyXG4gICAqL1xuXG5cbiAgdXBkYXRlTWluVmFsdWUoKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBsZXQgbWluVmFsdWUgPSBkYXRhWzBdWzBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHYgPSBkYXRhW2ldW2pdO1xuXG4gICAgICAgIGlmICh2IDwgbWluVmFsdWUpIHtcbiAgICAgICAgICBtaW5WYWx1ZSA9IHY7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm1pblZhbHVlID0gbWluVmFsdWU7XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSAubWF4VmFsdWUgcHJvcGVydHlcclxuICAgKiBAbWV0aG9kIHVwZGF0ZU1heFZhbHVlXHJcbiAgICovXG5cblxuICB1cGRhdGVNYXhWYWx1ZSgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBtYXhWYWx1ZSA9IGRhdGFbMF1bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07XG5cbiAgICAgICAgaWYgKHYgPiBtYXhWYWx1ZSkge1xuICAgICAgICAgIG1heFZhbHVlID0gdjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTtcbiAgfVxuICAvKipcclxuICAgKiBTZXQgdGhlIGhlaWdodCB2YWx1ZSBhdCBhbiBpbmRleC4gRG9uJ3QgZm9yZ2V0IHRvIHVwZGF0ZSBtYXhWYWx1ZSBhbmQgbWluVmFsdWUgYWZ0ZXIgeW91J3JlIGRvbmUuXHJcbiAgICogQG1ldGhvZCBzZXRIZWlnaHRWYWx1ZUF0SW5kZXhcclxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHhpXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB5aVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gICAqL1xuXG5cbiAgc2V0SGVpZ2h0VmFsdWVBdEluZGV4KHhpLCB5aSwgdmFsdWUpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGRhdGFbeGldW3lpXSA9IHZhbHVlOyAvLyBJbnZhbGlkYXRlIGNhY2hlXG5cbiAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBmYWxzZSk7XG5cbiAgICBpZiAoeGkgPiAwKSB7XG4gICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSwgdHJ1ZSk7XG4gICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICh5aSA+IDApIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWkgLSAxLCB0cnVlKTtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWkgLSAxLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHlpID4gMCAmJiB4aSA+IDApIHtcbiAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpIC0gMSwgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCBtYXgvbWluIGluIGEgcmVjdGFuZ2xlIGluIHRoZSBtYXRyaXggZGF0YVxyXG4gICAqIEBtZXRob2QgZ2V0UmVjdE1pbk1heFxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNaW5YXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pbllcclxuICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWF4WFxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNYXhZXHJcbiAgICogQHBhcmFtICB7YXJyYXl9IFtyZXN1bHRdIEFuIGFycmF5IHRvIHN0b3JlIHRoZSByZXN1bHRzIGluLlxyXG4gICAqIEByZXR1cm4ge2FycmF5fSBUaGUgcmVzdWx0IGFycmF5LCBpZiBpdCB3YXMgcGFzc2VkIGluLiBNaW5pbXVtIHdpbGwgYmUgYXQgcG9zaXRpb24gMCBhbmQgbWF4IGF0IDEuXHJcbiAgICovXG5cblxuICBnZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCByZXN1bHQgPSBbXSkge1xuICAgIC8vIEdldCBtYXggYW5kIG1pbiBvZiB0aGUgZGF0YVxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7IC8vIFNldCBmaXJzdCB2YWx1ZVxuXG4gICAgbGV0IG1heCA9IHRoaXMubWluVmFsdWU7XG5cbiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPD0gaU1heFg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDw9IGlNYXhZOyBqKyspIHtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZGF0YVtpXVtqXTtcblxuICAgICAgICBpZiAoaGVpZ2h0ID4gbWF4KSB7XG4gICAgICAgICAgbWF4ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVzdWx0WzBdID0gdGhpcy5taW5WYWx1ZTtcbiAgICByZXN1bHRbMV0gPSBtYXg7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBpbmRleCBvZiBhIGxvY2FsIHBvc2l0aW9uIG9uIHRoZSBoZWlnaHRmaWVsZC4gVGhlIGluZGV4ZXMgaW5kaWNhdGUgdGhlIHJlY3RhbmdsZXMsIHNvIGlmIHlvdXIgdGVycmFpbiBpcyBtYWRlIG9mIE4geCBOIGhlaWdodCBkYXRhIHBvaW50cywgeW91IHdpbGwgaGF2ZSByZWN0YW5nbGUgaW5kZXhlcyByYW5naW5nIGZyb20gMCB0byBOLTEuXHJcbiAgICogQG1ldGhvZCBnZXRJbmRleE9mUG9zaXRpb25cclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHhcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlcclxuICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IFR3by1lbGVtZW50IGFycmF5XHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gY2xhbXAgSWYgdGhlIHBvc2l0aW9uIHNob3VsZCBiZSBjbGFtcGVkIHRvIHRoZSBoZWlnaHRmaWVsZCBlZGdlLlxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICovXG5cblxuICBnZXRJbmRleE9mUG9zaXRpb24oeCwgeSwgcmVzdWx0LCBjbGFtcCkge1xuICAgIC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdFxuICAgIGNvbnN0IHcgPSB0aGlzLmVsZW1lbnRTaXplO1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgbGV0IHhpID0gTWF0aC5mbG9vcih4IC8gdyk7XG4gICAgbGV0IHlpID0gTWF0aC5mbG9vcih5IC8gdyk7XG4gICAgcmVzdWx0WzBdID0geGk7XG4gICAgcmVzdWx0WzFdID0geWk7XG5cbiAgICBpZiAoY2xhbXApIHtcbiAgICAgIC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzXG4gICAgICBpZiAoeGkgPCAwKSB7XG4gICAgICAgIHhpID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHlpIDwgMCkge1xuICAgICAgICB5aSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmICh4aSA+PSBkYXRhLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgeGkgPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh5aSA+PSBkYXRhWzBdLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgeWkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgICB9XG4gICAgfSAvLyBCYWlsIG91dCBpZiB3ZSBhcmUgb3V0IG9mIHRoZSB0ZXJyYWluXG5cblxuICAgIGlmICh4aSA8IDAgfHwgeWkgPCAwIHx8IHhpID49IGRhdGEubGVuZ3RoIC0gMSB8fCB5aSA+PSBkYXRhWzBdLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKSB7XG4gICAgY29uc3QgaWR4ID0gZ2V0SGVpZ2h0QXRfaWR4O1xuICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTtcbiAgICBsZXQgeGkgPSBpZHhbMF07XG4gICAgbGV0IHlpID0gaWR4WzFdO1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG5cbiAgICBpZiAoZWRnZUNsYW1wKSB7XG4gICAgICB4aSA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeGkpKTtcbiAgICAgIHlpID0gTWF0aC5taW4oZGF0YVswXS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB5aSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCBsb3dlckRpc3QyID0gKHggLyBlbGVtZW50U2l6ZSAtIHhpKSAqKiAyICsgKHkgLyBlbGVtZW50U2l6ZSAtIHlpKSAqKiAyO1xuICAgIGNvbnN0IHVwcGVyRGlzdDIgPSAoeCAvIGVsZW1lbnRTaXplIC0gKHhpICsgMSkpICoqIDIgKyAoeSAvIGVsZW1lbnRTaXplIC0gKHlpICsgMSkpICoqIDI7XG4gICAgY29uc3QgdXBwZXIgPSBsb3dlckRpc3QyID4gdXBwZXJEaXN0MjtcbiAgICB0aGlzLmdldFRyaWFuZ2xlKHhpLCB5aSwgdXBwZXIsIGEsIGIsIGMpO1xuICAgIHJldHVybiB1cHBlcjtcbiAgfVxuXG4gIGdldE5vcm1hbEF0KHgsIHksIGVkZ2VDbGFtcCwgcmVzdWx0KSB7XG4gICAgY29uc3QgYSA9IGdldE5vcm1hbEF0X2E7XG4gICAgY29uc3QgYiA9IGdldE5vcm1hbEF0X2I7XG4gICAgY29uc3QgYyA9IGdldE5vcm1hbEF0X2M7XG4gICAgY29uc3QgZTAgPSBnZXROb3JtYWxBdF9lMDtcbiAgICBjb25zdCBlMSA9IGdldE5vcm1hbEF0X2UxO1xuICAgIHRoaXMuZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpO1xuICAgIGIudnN1YihhLCBlMCk7XG4gICAgYy52c3ViKGEsIGUxKTtcbiAgICBlMC5jcm9zcyhlMSwgcmVzdWx0KTtcbiAgICByZXN1bHQubm9ybWFsaXplKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFuIEFBQkIgb2YgYSBzcXVhcmUgaW4gdGhlIGhlaWdodGZpZWxkXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSB4aVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0geWlcclxuICAgKiBAcGFyYW0gIHtBQUJCfSByZXN1bHRcclxuICAgKi9cblxuXG4gIGdldEFhYmJBdEluZGV4KHhpLCB5aSwge1xuICAgIGxvd2VyQm91bmQsXG4gICAgdXBwZXJCb3VuZFxuICB9KSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7XG4gICAgbG93ZXJCb3VuZC5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTtcbiAgICB1cHBlckJvdW5kLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBoZWlnaHQgaW4gdGhlIGhlaWdodGZpZWxkIGF0IGEgZ2l2ZW4gcG9zaXRpb25cclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHhcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHlcclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBlZGdlQ2xhbXBcclxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAgICovXG5cblxuICBnZXRIZWlnaHRBdCh4LCB5LCBlZGdlQ2xhbXApIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGEgPSBnZXRIZWlnaHRBdF9hO1xuICAgIGNvbnN0IGIgPSBnZXRIZWlnaHRBdF9iO1xuICAgIGNvbnN0IGMgPSBnZXRIZWlnaHRBdF9jO1xuICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDtcbiAgICB0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCBpZHgsIGVkZ2VDbGFtcCk7XG4gICAgbGV0IHhpID0gaWR4WzBdO1xuICAgIGxldCB5aSA9IGlkeFsxXTtcblxuICAgIGlmIChlZGdlQ2xhbXApIHtcbiAgICAgIHhpID0gTWF0aC5taW4oZGF0YS5sZW5ndGggLSAyLCBNYXRoLm1heCgwLCB4aSkpO1xuICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBwZXIgPSB0aGlzLmdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKTtcbiAgICBiYXJ5Y2VudHJpY1dlaWdodHMoeCwgeSwgYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgZ2V0SGVpZ2h0QXRfd2VpZ2h0cyk7XG4gICAgY29uc3QgdyA9IGdldEhlaWdodEF0X3dlaWdodHM7XG5cbiAgICBpZiAodXBwZXIpIHtcbiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuICAgICAgcmV0dXJuIGRhdGFbeGkgKyAxXVt5aSArIDFdICogdy54ICsgZGF0YVt4aV1beWkgKyAxXSAqIHcueSArIGRhdGFbeGkgKyAxXVt5aV0gKiB3Lno7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuICAgICAgcmV0dXJuIGRhdGFbeGldW3lpXSAqIHcueCArIGRhdGFbeGkgKyAxXVt5aV0gKiB3LnkgKyBkYXRhW3hpXVt5aSArIDFdICogdy56O1xuICAgIH1cbiAgfVxuXG4gIGdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7XG4gICAgcmV0dXJuIHhpICsgXCJfXCIgKyB5aSArIFwiX1wiICsgKGdldFVwcGVyVHJpYW5nbGUgPyAxIDogMCk7XG4gIH1cblxuICBnZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07XG4gIH1cblxuICBzZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIGNvbnZleCwgb2Zmc2V0KSB7XG4gICAgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV0gPSB7XG4gICAgICBjb252ZXgsXG4gICAgICBvZmZzZXRcbiAgICB9O1xuICB9XG5cbiAgY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGEgdHJpYW5nbGUgZnJvbSB0aGUgaGVpZ2h0ZmllbGRcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IHhpXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSB5aVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IHVwcGVyXHJcbiAgICogQHBhcmFtICB7VmVjM30gYVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGJcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBjXHJcbiAgICovXG5cblxuICBnZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7XG5cbiAgICBpZiAodXBwZXIpIHtcbiAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0c1xuICAgICAgYS5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0pO1xuICAgICAgYi5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSk7XG4gICAgICBjLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG4gICAgICBhLnNldCh4aSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aV0pO1xuICAgICAgYi5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSk7XG4gICAgICBjLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGEgdHJpYW5nbGUgaW4gdGhlIHRlcnJhaW4gaW4gdGhlIGZvcm0gb2YgYSB0cmlhbmd1bGFyIGNvbnZleCBzaGFwZS5cclxuICAgKiBAbWV0aG9kIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyXHJcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaVxyXG4gICAqIEBwYXJhbSAge2ludGVnZXJ9IGpcclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBnZXRVcHBlclRyaWFuZ2xlXHJcbiAgICovXG5cblxuICBnZXRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5waWxsYXJDb252ZXg7XG4gICAgbGV0IG9mZnNldFJlc3VsdCA9IHRoaXMucGlsbGFyT2Zmc2V0O1xuXG4gICAgaWYgKHRoaXMuY2FjaGVFbmFibGVkKSB7XG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICB0aGlzLnBpbGxhckNvbnZleCA9IGRhdGEuY29udmV4O1xuICAgICAgICB0aGlzLnBpbGxhck9mZnNldCA9IGRhdGEub2Zmc2V0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7XG4gICAgICBvZmZzZXRSZXN1bHQgPSBuZXcgVmVjMygpO1xuICAgICAgdGhpcy5waWxsYXJDb252ZXggPSByZXN1bHQ7XG4gICAgICB0aGlzLnBpbGxhck9mZnNldCA9IG9mZnNldFJlc3VsdDtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTtcbiAgICBjb25zdCBmYWNlcyA9IHJlc3VsdC5mYWNlczsgLy8gUmV1c2UgdmVydHMgaWYgcG9zc2libGVcblxuICAgIHJlc3VsdC52ZXJ0aWNlcy5sZW5ndGggPSA2O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgIGlmICghcmVzdWx0LnZlcnRpY2VzW2ldKSB7XG4gICAgICAgIHJlc3VsdC52ZXJ0aWNlc1tpXSA9IG5ldyBWZWMzKCk7XG4gICAgICB9XG4gICAgfSAvLyBSZXVzZSBmYWNlcyBpZiBwb3NzaWJsZVxuXG5cbiAgICBmYWNlcy5sZW5ndGggPSA1O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgIGlmICghZmFjZXNbaV0pIHtcbiAgICAgICAgZmFjZXNbaV0gPSBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB2ZXJ0cyA9IHJlc3VsdC52ZXJ0aWNlcztcbiAgICBjb25zdCBoID0gKE1hdGgubWluKGRhdGFbeGldW3lpXSwgZGF0YVt4aSArIDFdW3lpXSwgZGF0YVt4aV1beWkgKyAxXSwgZGF0YVt4aSArIDFdW3lpICsgMV0pIC0gdGhpcy5taW5WYWx1ZSkgLyAyICsgdGhpcy5taW5WYWx1ZTtcblxuICAgIGlmICghZ2V0VXBwZXJUcmlhbmdsZSkge1xuICAgICAgLy8gQ2VudGVyIG9mIHRoZSB0cmlhbmdsZSBwaWxsYXIgLSBhbGwgcG9seWdvbnMgYXJlIGdpdmVuIHJlbGF0aXZlIHRvIHRoaXMgb25lXG4gICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuMjUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGVcbiAgICAgICh5aSArIDAuMjUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyXG4gICAgICApOyAvLyBUb3AgdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbMF0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSAtIGgpO1xuICAgICAgdmVydHNbMV0uc2V0KDAuNzUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpO1xuICAgICAgdmVydHNbMl0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIDAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHNcblxuICAgICAgdmVydHNbM10uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7XG4gICAgICB2ZXJ0c1s0XS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpO1xuICAgICAgdmVydHNbNV0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIDAuNzUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTsgLy8gdG9wIHRyaWFuZ2xlXG5cbiAgICAgIGZhY2VzWzBdWzBdID0gMDtcbiAgICAgIGZhY2VzWzBdWzFdID0gMTtcbiAgICAgIGZhY2VzWzBdWzJdID0gMjsgLy8gYm90dG9tIHRyaWFuZ2xlXG5cbiAgICAgIGZhY2VzWzFdWzBdID0gNTtcbiAgICAgIGZhY2VzWzFdWzFdID0gNDtcbiAgICAgIGZhY2VzWzFdWzJdID0gMzsgLy8gLXggZmFjaW5nIHF1YWRcblxuICAgICAgZmFjZXNbMl1bMF0gPSAwO1xuICAgICAgZmFjZXNbMl1bMV0gPSAyO1xuICAgICAgZmFjZXNbMl1bMl0gPSA1O1xuICAgICAgZmFjZXNbMl1bM10gPSAzOyAvLyAteSBmYWNpbmcgcXVhZFxuXG4gICAgICBmYWNlc1szXVswXSA9IDE7XG4gICAgICBmYWNlc1szXVsxXSA9IDA7XG4gICAgICBmYWNlc1szXVsyXSA9IDM7XG4gICAgICBmYWNlc1szXVszXSA9IDQ7IC8vICt4eSBmYWNpbmcgcXVhZFxuXG4gICAgICBmYWNlc1s0XVswXSA9IDQ7XG4gICAgICBmYWNlc1s0XVsxXSA9IDU7XG4gICAgICBmYWNlc1s0XVsyXSA9IDI7XG4gICAgICBmYWNlc1s0XVszXSA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENlbnRlciBvZiB0aGUgdHJpYW5nbGUgcGlsbGFyIC0gYWxsIHBvbHlnb25zIGFyZSBnaXZlbiByZWxhdGl2ZSB0byB0aGlzIG9uZVxuICAgICAgb2Zmc2V0UmVzdWx0LnNldCgoeGkgKyAwLjc1KSAqIGVsZW1lbnRTaXplLCAvLyBzb3J0IG9mIGNlbnRlciBvZiBhIHRyaWFuZ2xlXG4gICAgICAoeWkgKyAwLjc1KSAqIGVsZW1lbnRTaXplLCBoIC8vIHZlcnRpY2FsIGNlbnRlclxuICAgICAgKTsgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzXG5cbiAgICAgIHZlcnRzWzBdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0gLSBoKTtcbiAgICAgIHZlcnRzWzFdLnNldCgtMC43NSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0gLSBoKTtcbiAgICAgIHZlcnRzWzJdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0gLSBoKTsgLy8gYm90dG9tIHRyaWFuZ2xlIHZlcnRzXG5cbiAgICAgIHZlcnRzWzNdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgLWggLSAxKTtcbiAgICAgIHZlcnRzWzRdLnNldCgtMC43NSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIC1oIC0gMSk7XG4gICAgICB2ZXJ0c1s1XS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAtMC43NSAqIGVsZW1lbnRTaXplLCAtaCAtIDEpOyAvLyBUb3AgdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMF1bMF0gPSAwO1xuICAgICAgZmFjZXNbMF1bMV0gPSAxO1xuICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGVcblxuICAgICAgZmFjZXNbMV1bMF0gPSA1O1xuICAgICAgZmFjZXNbMV1bMV0gPSA0O1xuICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAreCBmYWNpbmcgcXVhZFxuXG4gICAgICBmYWNlc1syXVswXSA9IDI7XG4gICAgICBmYWNlc1syXVsxXSA9IDU7XG4gICAgICBmYWNlc1syXVsyXSA9IDM7XG4gICAgICBmYWNlc1syXVszXSA9IDA7IC8vICt5IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzNdWzBdID0gMztcbiAgICAgIGZhY2VzWzNdWzFdID0gNDtcbiAgICAgIGZhY2VzWzNdWzJdID0gMTtcbiAgICAgIGZhY2VzWzNdWzNdID0gMDsgLy8gLXh5IGZhY2luZyBxdWFkXG5cbiAgICAgIGZhY2VzWzRdWzBdID0gMTtcbiAgICAgIGZhY2VzWzRdWzFdID0gNDtcbiAgICAgIGZhY2VzWzRdWzJdID0gNTtcbiAgICAgIGZhY2VzWzRdWzNdID0gMjtcbiAgICB9XG5cbiAgICByZXN1bHQuY29tcHV0ZU5vcm1hbHMoKTtcbiAgICByZXN1bHQuY29tcHV0ZUVkZ2VzKCk7XG4gICAgcmVzdWx0LnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gICAgdGhpcy5zZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIHJlc3VsdCwgb2Zmc2V0UmVzdWx0KTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7XG4gICAgdGFyZ2V0LnNldCgwLCAwLCAwKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiAoLy8gVGhlIHRlcnJhaW4gaXMgaW5maW5pdGVcbiAgICAgIE51bWJlci5NQVhfVkFMVUVcbiAgICApO1xuICB9XG5cbiAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHtcbiAgICAvLyBUT0RPOiBkbyBpdCBwcm9wZXJseVxuICAgIG1pbi5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgbWF4LnNldChOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKTtcbiAgfVxuXG4gIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkge1xuICAgIC8vIFVzZSB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSBtaW4vbWF4IHZhbHVlc1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgY29uc3QgcyA9IHRoaXMuZWxlbWVudFNpemU7XG4gICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IG5ldyBWZWMzKGRhdGEubGVuZ3RoICogcywgZGF0YVswXS5sZW5ndGggKiBzLCBNYXRoLm1heChNYXRoLmFicyh0aGlzLm1heFZhbHVlKSwgTWF0aC5hYnModGhpcy5taW5WYWx1ZSkpKS5sZW5ndGgoKTtcbiAgfVxuICAvKipcclxuICAgKiBTZXRzIHRoZSBoZWlnaHQgdmFsdWVzIGZyb20gYW4gaW1hZ2UuIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyLlxyXG4gICAqIEBtZXRob2Qgc2V0SGVpZ2h0c0Zyb21JbWFnZVxyXG4gICAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlXHJcbiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZVxyXG4gICAqL1xuXG5cbiAgc2V0SGVpZ2h0c0Zyb21JbWFnZShpbWFnZSwgc2NhbGUpIHtcbiAgICBjb25zdCB7XG4gICAgICB4LFxuICAgICAgeixcbiAgICAgIHlcbiAgICB9ID0gc2NhbGU7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xuICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuZGF0YTtcbiAgICBtYXRyaXgubGVuZ3RoID0gMDtcbiAgICB0aGlzLmVsZW1lbnRTaXplID0gTWF0aC5hYnMoeCkgLyBpbWFnZURhdGEud2lkdGg7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5oZWlnaHQ7IGkrKykge1xuICAgICAgY29uc3Qgcm93ID0gW107XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW1hZ2VEYXRhLndpZHRoOyBqKyspIHtcbiAgICAgICAgY29uc3QgYSA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNF07XG4gICAgICAgIGNvbnN0IGIgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDQgKyAxXTtcbiAgICAgICAgY29uc3QgYyA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDJdO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSAoYSArIGIgKyBjKSAvIDQgLyAyNTUgKiB6O1xuXG4gICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgIHJvdy5wdXNoKGhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnVuc2hpZnQoaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoeSA8IDApIHtcbiAgICAgICAgbWF0cml4LnVuc2hpZnQocm93KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdHJpeC5wdXNoKHJvdyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVNYXhWYWx1ZSgpO1xuICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbn1cbmNvbnN0IGdldEhlaWdodEF0X2lkeCA9IFtdO1xuY29uc3QgZ2V0SGVpZ2h0QXRfd2VpZ2h0cyA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXRIZWlnaHRBdF9hID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldEhlaWdodEF0X2IgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0SGVpZ2h0QXRfYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXROb3JtYWxBdF9hID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldE5vcm1hbEF0X2IgPSBuZXcgVmVjMygpO1xuY29uc3QgZ2V0Tm9ybWFsQXRfYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXROb3JtYWxBdF9lMCA9IG5ldyBWZWMzKCk7XG5jb25zdCBnZXROb3JtYWxBdF9lMSA9IG5ldyBWZWMzKCk7IC8vIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFyeWNlbnRyaWNfY29vcmRpbmF0ZV9zeXN0ZW1cblxuZnVuY3Rpb24gYmFyeWNlbnRyaWNXZWlnaHRzKHgsIHksIGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHJlc3VsdCkge1xuICByZXN1bHQueCA9ICgoYnkgLSBjeSkgKiAoeCAtIGN4KSArIChjeCAtIGJ4KSAqICh5IC0gY3kpKSAvICgoYnkgLSBjeSkgKiAoYXggLSBjeCkgKyAoY3ggLSBieCkgKiAoYXkgLSBjeSkpO1xuICByZXN1bHQueSA9ICgoY3kgLSBheSkgKiAoeCAtIGN4KSArIChheCAtIGN4KSAqICh5IC0gY3kpKSAvICgoYnkgLSBjeSkgKiAoYXggLSBjeCkgKyAoY3ggLSBieCkgKiAoYXkgLSBjeSkpO1xuICByZXN1bHQueiA9IDEgLSByZXN1bHQueCAtIHJlc3VsdC55O1xufVxuXG4vKipcclxuICogQGNsYXNzIE9jdHJlZU5vZGVcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cclxuICogQHBhcmFtIHtPY3RyZWV9IFtvcHRpb25zLnJvb3RdXHJcbiAqIEBwYXJhbSB7QUFCQn0gW29wdGlvbnMuYWFiYl1cclxuICovXG5jbGFzcyBPY3RyZWVOb2RlIHtcbiAgLy8gVGhlIHJvb3Qgbm9kZVxuICAvLyBCb3VuZGFyeSBvZiB0aGlzIG5vZGVcbiAgLy8gQ29udGFpbmVkIGRhdGEgYXQgdGhlIGN1cnJlbnQgbm9kZSBsZXZlbFxuICAvLyBDaGlsZHJlbiB0byB0aGlzIG5vZGVcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5yb290ID0gb3B0aW9ucy5yb290IHx8IG51bGw7XG4gICAgdGhpcy5hYWJiID0gb3B0aW9ucy5hYWJiID8gb3B0aW9ucy5hYWJiLmNsb25lKCkgOiBuZXcgQUFCQigpO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aCA9IDA7XG4gIH1cbiAgLyoqXHJcbiAgICogSW5zZXJ0IGRhdGEgaW50byB0aGlzIG5vZGVcclxuICAgKiBAbWV0aG9kIGluc2VydFxyXG4gICAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcclxuICAgKiBAcGFyYW0gIHtvYmplY3R9IGVsZW1lbnREYXRhXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgZmFsc2VcclxuICAgKi9cblxuXG4gIGluc2VydChhYWJiLCBlbGVtZW50RGF0YSwgbGV2ZWwgPSAwKSB7XG4gICAgY29uc3Qgbm9kZURhdGEgPSB0aGlzLmRhdGE7IC8vIElnbm9yZSBvYmplY3RzIHRoYXQgZG8gbm90IGJlbG9uZyBpbiB0aGlzIG5vZGVcblxuICAgIGlmICghdGhpcy5hYWJiLmNvbnRhaW5zKGFhYmIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIG9iamVjdCBjYW5ub3QgYmUgYWRkZWRcbiAgICB9XG5cbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgY29uc3QgbWF4RGVwdGggPSB0aGlzLm1heERlcHRoIHx8IHRoaXMucm9vdC5tYXhEZXB0aDtcblxuICAgIGlmIChsZXZlbCA8IG1heERlcHRoKSB7XG4gICAgICAvLyBTdWJkaXZpZGUgaWYgdGhlcmUgYXJlIG5vIGNoaWxkcmVuIHlldFxuICAgICAgbGV0IHN1YmRpdmlkZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKCFjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zdWJkaXZpZGUoKTtcbiAgICAgICAgc3ViZGl2aWRlZCA9IHRydWU7XG4gICAgICB9IC8vIGFkZCB0byB3aGljaGV2ZXIgbm9kZSB3aWxsIGFjY2VwdCBpdFxuXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLmluc2VydChhYWJiLCBlbGVtZW50RGF0YSwgbGV2ZWwgKyAxKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdWJkaXZpZGVkKSB7XG4gICAgICAgIC8vIE5vIGNoaWxkcmVuIGFjY2VwdGVkISBNaWdodCBhcyB3ZWxsIGp1c3QgcmVtb3ZlIGVtIHNpbmNlIHRoZXkgY29udGFpbiBub25lXG4gICAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgfSAvLyBUb28gZGVlcCwgb3IgY2hpbGRyZW4gZGlkbnQgd2FudCBpdC4gYWRkIGl0IGluIGN1cnJlbnQgbm9kZVxuXG5cbiAgICBub2RlRGF0YS5wdXNoKGVsZW1lbnREYXRhKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcclxuICAgKiBDcmVhdGUgOCBlcXVhbGx5IHNpemVkIGNoaWxkcmVuIG5vZGVzIGFuZCBwdXQgdGhlbSBpbiB0aGUgLmNoaWxkcmVuIGFycmF5LlxyXG4gICAqIEBtZXRob2Qgc3ViZGl2aWRlXHJcbiAgICovXG5cblxuICBzdWJkaXZpZGUoKSB7XG4gICAgY29uc3QgYWFiYiA9IHRoaXMuYWFiYjtcbiAgICBjb25zdCBsID0gYWFiYi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7XG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIGNoaWxkcmVuLnB1c2gobmV3IE9jdHJlZU5vZGUoe1xuICAgICAgYWFiYjogbmV3IEFBQkIoe1xuICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAwLCAwKVxuICAgICAgfSlcbiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoe1xuICAgICAgYWFiYjogbmV3IEFBQkIoe1xuICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAwLCAwKVxuICAgICAgfSlcbiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoe1xuICAgICAgYWFiYjogbmV3IEFBQkIoe1xuICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAxLCAwKVxuICAgICAgfSlcbiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoe1xuICAgICAgYWFiYjogbmV3IEFBQkIoe1xuICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAxLCAxKVxuICAgICAgfSlcbiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoe1xuICAgICAgYWFiYjogbmV3IEFBQkIoe1xuICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAxLCAxKVxuICAgICAgfSlcbiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoe1xuICAgICAgYWFiYjogbmV3IEFBQkIoe1xuICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAwLCAxKVxuICAgICAgfSlcbiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoe1xuICAgICAgYWFiYjogbmV3IEFBQkIoe1xuICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAwLCAxKVxuICAgICAgfSlcbiAgICB9KSwgbmV3IE9jdHJlZU5vZGUoe1xuICAgICAgYWFiYjogbmV3IEFBQkIoe1xuICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAxLCAwKVxuICAgICAgfSlcbiAgICB9KSk7XG4gICAgdS52c3ViKGwsIGhhbGZEaWFnb25hbCk7XG4gICAgaGFsZkRpYWdvbmFsLnNjYWxlKDAuNSwgaGFsZkRpYWdvbmFsKTtcbiAgICBjb25zdCByb290ID0gdGhpcy5yb290IHx8IHRoaXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldOyAvLyBTZXQgY3VycmVudCBub2RlIGFzIHJvb3RcblxuICAgICAgY2hpbGQucm9vdCA9IHJvb3Q7IC8vIENvbXB1dGUgYm91bmRzXG5cbiAgICAgIGNvbnN0IGxvd2VyQm91bmQgPSBjaGlsZC5hYWJiLmxvd2VyQm91bmQ7XG4gICAgICBsb3dlckJvdW5kLnggKj0gaGFsZkRpYWdvbmFsLng7XG4gICAgICBsb3dlckJvdW5kLnkgKj0gaGFsZkRpYWdvbmFsLnk7XG4gICAgICBsb3dlckJvdW5kLnogKj0gaGFsZkRpYWdvbmFsLno7XG4gICAgICBsb3dlckJvdW5kLnZhZGQobCwgbG93ZXJCb3VuZCk7IC8vIFVwcGVyIGJvdW5kIGlzIGFsd2F5cyBsb3dlciBib3VuZCArIGhhbGZEaWFnb25hbFxuXG4gICAgICBsb3dlckJvdW5kLnZhZGQoaGFsZkRpYWdvbmFsLCBjaGlsZC5hYWJiLnVwcGVyQm91bmQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHZXQgYWxsIGRhdGEsIHBvdGVudGlhbGx5IHdpdGhpbiBhbiBBQUJCXHJcbiAgICogQG1ldGhvZCBhYWJiUXVlcnlcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge2FycmF5fSBUaGUgXCJyZXN1bHRcIiBvYmplY3RcclxuICAgKi9cblxuXG4gIGFhYmJRdWVyeShhYWJiLCByZXN1bHQpIHtcbiAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZGF0YTsgLy8gYWJvcnQgaWYgdGhlIHJhbmdlIGRvZXMgbm90IGludGVyc2VjdCB0aGlzIG5vZGVcbiAgICAvLyBpZiAoIXRoaXMuYWFiYi5vdmVybGFwcyhhYWJiKSl7XG4gICAgLy8gICAgIHJldHVybiByZXN1bHQ7XG4gICAgLy8gfVxuICAgIC8vIEFkZCBvYmplY3RzIGF0IHRoaXMgbGV2ZWxcbiAgICAvLyBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyZXN1bHQsIG5vZGVEYXRhKTtcbiAgICAvLyBBZGQgY2hpbGQgZGF0YVxuICAgIC8vIEB0b2RvIHVud3JhcCByZWN1cnNpb24gaW50byBhIHF1ZXVlIC8gbG9vcCwgdGhhdCdzIGZhc3RlciBpbiBKU1xuXG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuOyAvLyBmb3IgKGxldCBpID0gMCwgTiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpICE9PSBOOyBpKyspIHtcbiAgICAvLyAgICAgY2hpbGRyZW5baV0uYWFiYlF1ZXJ5KGFhYmIsIHJlc3VsdCk7XG4gICAgLy8gfVxuXG4gICAgY29uc3QgcXVldWUgPSBbdGhpc107XG5cbiAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7XG5cbiAgICAgIGlmIChub2RlLmFhYmIub3ZlcmxhcHMoYWFiYikpIHtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVzdWx0LCBub2RlLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShxdWV1ZSwgbm9kZS5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYWxsIGRhdGEsIHBvdGVudGlhbGx5IGludGVyc2VjdGVkIGJ5IGEgcmF5LlxyXG4gICAqIEBtZXRob2QgcmF5UXVlcnlcclxuICAgKiBAcGFyYW0gIHtSYXl9IHJheVxyXG4gICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gdHJlZVRyYW5zZm9ybVxyXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHthcnJheX0gVGhlIFwicmVzdWx0XCIgb2JqZWN0XHJcbiAgICovXG5cblxuICByYXlRdWVyeShyYXksIHRyZWVUcmFuc2Zvcm0sIHJlc3VsdCkge1xuICAgIC8vIFVzZSBhYWJiIHF1ZXJ5IGZvciBub3cuXG4gICAgLy8gQHRvZG8gaW1wbGVtZW50IHJlYWwgcmF5IHF1ZXJ5IHdoaWNoIG5lZWRzIGxlc3MgbG9va3Vwc1xuICAgIHJheS5nZXRBQUJCKHRtcEFBQkIkMSk7XG4gICAgdG1wQUFCQiQxLnRvTG9jYWxGcmFtZSh0cmVlVHJhbnNmb3JtLCB0bXBBQUJCJDEpO1xuICAgIHRoaXMuYWFiYlF1ZXJ5KHRtcEFBQkIkMSwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgcmVtb3ZlRW1wdHlOb2Rlc1xyXG4gICAqL1xuXG5cbiAgcmVtb3ZlRW1wdHlOb2RlcygpIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW1vdmVFbXB0eU5vZGVzKCk7XG5cbiAgICAgIGlmICghdGhpcy5jaGlsZHJlbltpXS5jaGlsZHJlbi5sZW5ndGggJiYgIXRoaXMuY2hpbGRyZW5baV0uZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cbi8qKlxyXG4gKiBAY2xhc3MgT2N0cmVlXHJcbiAqIEBwYXJhbSB7QUFCQn0gYWFiYiBUaGUgdG90YWwgQUFCQiBvZiB0aGUgdHJlZVxyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhEZXB0aD04XSBNYXhpbXVtIHN1YmRpdmlzaW9uIGRlcHRoXHJcbiAqIEBleHRlbmRzIE9jdHJlZU5vZGVcclxuICovXG5cblxuY2xhc3MgT2N0cmVlIGV4dGVuZHMgT2N0cmVlTm9kZSB7XG4gIC8vIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGhcbiAgY29uc3RydWN0b3IoYWFiYiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgcm9vdDogbnVsbCxcbiAgICAgIGFhYmJcbiAgICB9KTtcbiAgICB0aGlzLm1heERlcHRoID0gdHlwZW9mIG9wdGlvbnMubWF4RGVwdGggIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhEZXB0aCA6IDg7XG4gIH1cblxufVxuY29uc3QgaGFsZkRpYWdvbmFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcEFBQkIkMSA9IG5ldyBBQUJCKCk7XG5cbi8qKlxyXG4gKiBAY2xhc3MgVHJpbWVzaFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHthcnJheX0gdmVydGljZXNcclxuICogQHBhcmFtIHthcnJheX0gaW5kaWNlc1xyXG4gKiBAZXh0ZW5kcyBTaGFwZVxyXG4gKiBAZXhhbXBsZVxyXG4gKiAgICAgLy8gSG93IHRvIG1ha2UgYSBtZXNoIHdpdGggYSBzaW5nbGUgdHJpYW5nbGVcclxuICogICAgIGNvbnN0IHZlcnRpY2VzID0gW1xyXG4gKiAgICAgICAgIDAsIDAsIDAsIC8vIHZlcnRleCAwXHJcbiAqICAgICAgICAgMSwgMCwgMCwgLy8gdmVydGV4IDFcclxuICogICAgICAgICAwLCAxLCAwICAvLyB2ZXJ0ZXggMlxyXG4gKiAgICAgXTtcclxuICogICAgIGNvbnN0IGluZGljZXMgPSBbXHJcbiAqICAgICAgICAgMCwgMSwgMiAgLy8gdHJpYW5nbGUgMFxyXG4gKiAgICAgXTtcclxuICogICAgIGNvbnN0IHRyaW1lc2hTaGFwZSA9IG5ldyBUcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTtcclxuICovXG5jbGFzcyBUcmltZXNoIGV4dGVuZHMgU2hhcGUge1xuICAvLyBBcnJheSBvZiBpbnRlZ2VycywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIHRyaWFuZ2xlIGNvbnNpc3RzIG9mLiBUaGUgbGVuZ3RoIG9mIHRoaXMgYXJyYXkgaXMgdGh1cyAzIHRpbWVzIHRoZSBudW1iZXIgb2YgdHJpYW5nbGVzLlxuICAvLyBUaGUgbm9ybWFscyBkYXRhLlxuICAvLyBUaGUgbG9jYWwgQUFCQiBvZiB0aGUgbWVzaC5cbiAgLy8gUmVmZXJlbmNlcyB0byB2ZXJ0ZXggcGFpcnMsIG1ha2luZyB1cCBhbGwgdW5pcXVlIGVkZ2VzIGluIHRoZSB0cmltZXNoLlxuICAvLyBMb2NhbCBzY2FsaW5nIG9mIHRoZSBtZXNoLiBVc2UgLnNldFNjYWxlKCkgdG8gc2V0IGl0LlxuICAvLyBUaGUgaW5kZXhlZCB0cmlhbmdsZXMuIFVzZSAudXBkYXRlVHJlZSgpIHRvIHVwZGF0ZSBpdC5cbiAgY29uc3RydWN0b3IodmVydGljZXMsIGluZGljZXMpIHtcbiAgICBzdXBlcih7XG4gICAgICB0eXBlOiBTaGFwZS50eXBlcy5UUklNRVNIXG4gICAgfSk7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpO1xuICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBJbnQxNkFycmF5KGluZGljZXMpO1xuICAgIHRoaXMubm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoaW5kaWNlcy5sZW5ndGgpO1xuICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7XG4gICAgdGhpcy5lZGdlcyA9IG51bGw7XG4gICAgdGhpcy5zY2FsZSA9IG5ldyBWZWMzKDEsIDEsIDEpO1xuICAgIHRoaXMudHJlZSA9IG5ldyBPY3RyZWUoKTtcbiAgICB0aGlzLnVwZGF0ZUVkZ2VzKCk7XG4gICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7XG4gICAgdGhpcy51cGRhdGVBQUJCKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpO1xuICAgIHRoaXMudXBkYXRlVHJlZSgpO1xuICB9XG4gIC8qKlxyXG4gICAqIEBtZXRob2QgdXBkYXRlVHJlZVxyXG4gICAqL1xuXG5cbiAgdXBkYXRlVHJlZSgpIHtcbiAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlO1xuICAgIHRyZWUucmVzZXQoKTtcbiAgICB0cmVlLmFhYmIuY29weSh0aGlzLmFhYmIpO1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsgLy8gVGhlIGxvY2FsIG1lc2ggQUFCQiBpcyBzY2FsZWQsIGJ1dCB0aGUgb2N0cmVlIEFBQkIgc2hvdWxkIGJlIHVuc2NhbGVkXG5cbiAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54O1xuICAgIHRyZWUuYWFiYi5sb3dlckJvdW5kLnkgKj0gMSAvIHNjYWxlLnk7XG4gICAgdHJlZS5hYWJiLmxvd2VyQm91bmQueiAqPSAxIC8gc2NhbGUuejtcbiAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54O1xuICAgIHRyZWUuYWFiYi51cHBlckJvdW5kLnkgKj0gMSAvIHNjYWxlLnk7XG4gICAgdHJlZS5hYWJiLnVwcGVyQm91bmQueiAqPSAxIC8gc2NhbGUuejsgLy8gSW5zZXJ0IGFsbCB0cmlhbmdsZXNcblxuICAgIGNvbnN0IHRyaWFuZ2xlQUFCQiA9IG5ldyBBQUJCKCk7XG4gICAgY29uc3QgYSA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgYiA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgYyA9IG5ldyBWZWMzKCk7XG4gICAgY29uc3QgcG9pbnRzID0gW2EsIGIsIGNdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7XG4gICAgICAvL3RoaXMuZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKTtcbiAgICAgIC8vIEdldCB1bnNjYWxlZCB0cmlhbmdsZSB2ZXJ0c1xuICAgICAgY29uc3QgaTMgPSBpICogMztcblxuICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7XG5cbiAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTtcblxuICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpO1xuXG4gICAgICB0cmlhbmdsZUFBQkIuc2V0RnJvbVBvaW50cyhwb2ludHMpO1xuICAgICAgdHJlZS5pbnNlcnQodHJpYW5nbGVBQUJCLCBpKTtcbiAgICB9XG5cbiAgICB0cmVlLnJlbW92ZUVtcHR5Tm9kZXMoKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdHJpYW5nbGVzIGluIGEgbG9jYWwgQUFCQiBmcm9tIHRoZSB0cmltZXNoLlxyXG4gICAqIEBtZXRob2QgZ2V0VHJpYW5nbGVzSW5BQUJCXHJcbiAgICogQHBhcmFtICB7QUFCQn0gYWFiYlxyXG4gICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgb2YgaW50ZWdlcnMsIHJlZmVyZW5jaW5nIHRoZSBxdWVyaWVkIHRyaWFuZ2xlcy5cclxuICAgKi9cblxuXG4gIGdldFRyaWFuZ2xlc0luQUFCQihhYWJiLCByZXN1bHQpIHtcbiAgICB1bnNjYWxlZEFBQkIuY29weShhYWJiKTsgLy8gU2NhbGUgaXQgdG8gbG9jYWxcblxuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICBjb25zdCBpc3ggPSBzY2FsZS54O1xuICAgIGNvbnN0IGlzeSA9IHNjYWxlLnk7XG4gICAgY29uc3QgaXN6ID0gc2NhbGUuejtcbiAgICBjb25zdCBsID0gdW5zY2FsZWRBQUJCLmxvd2VyQm91bmQ7XG4gICAgY29uc3QgdSA9IHVuc2NhbGVkQUFCQi51cHBlckJvdW5kO1xuICAgIGwueCAvPSBpc3g7XG4gICAgbC55IC89IGlzeTtcbiAgICBsLnogLz0gaXN6O1xuICAgIHUueCAvPSBpc3g7XG4gICAgdS55IC89IGlzeTtcbiAgICB1LnogLz0gaXN6O1xuICAgIHJldHVybiB0aGlzLnRyZWUuYWFiYlF1ZXJ5KHVuc2NhbGVkQUFCQiwgcmVzdWx0KTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHNldFNjYWxlXHJcbiAgICogQHBhcmFtIHtWZWMzfSBzY2FsZVxyXG4gICAqL1xuXG5cbiAgc2V0U2NhbGUoc2NhbGUpIHtcbiAgICBjb25zdCB3YXNVbmlmb3JtID0gdGhpcy5zY2FsZS54ID09PSB0aGlzLnNjYWxlLnkgJiYgdGhpcy5zY2FsZS55ID09PSB0aGlzLnNjYWxlLno7XG4gICAgY29uc3QgaXNVbmlmb3JtID0gc2NhbGUueCA9PT0gc2NhbGUueSAmJiBzY2FsZS55ID09PSBzY2FsZS56O1xuXG4gICAgaWYgKCEod2FzVW5pZm9ybSAmJiBpc1VuaWZvcm0pKSB7XG4gICAgICAvLyBOb24tdW5pZm9ybSBzY2FsaW5nLiBOZWVkIHRvIHVwZGF0ZSBub3JtYWxzLlxuICAgICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zY2FsZS5jb3B5KHNjYWxlKTtcbiAgICB0aGlzLnVwZGF0ZUFBQkIoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0aGUgbm9ybWFscyBvZiB0aGUgZmFjZXMuIFdpbGwgc2F2ZSBpbiB0aGUgLm5vcm1hbHMgYXJyYXkuXHJcbiAgICogQG1ldGhvZCB1cGRhdGVOb3JtYWxzXHJcbiAgICovXG5cblxuICB1cGRhdGVOb3JtYWxzKCkge1xuICAgIGNvbnN0IG4gPSBjb21wdXRlTm9ybWFsc19uOyAvLyBHZW5lcmF0ZSBub3JtYWxzXG5cbiAgICBjb25zdCBub3JtYWxzID0gdGhpcy5ub3JtYWxzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7XG4gICAgICBjb25zdCBpMyA9IGkgKiAzO1xuICAgICAgY29uc3QgYSA9IHRoaXMuaW5kaWNlc1tpM107XG4gICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07XG4gICAgICBjb25zdCBjID0gdGhpcy5pbmRpY2VzW2kzICsgMl07XG4gICAgICB0aGlzLmdldFZlcnRleChhLCB2YSk7XG4gICAgICB0aGlzLmdldFZlcnRleChiLCB2Yik7XG4gICAgICB0aGlzLmdldFZlcnRleChjLCB2Yyk7XG4gICAgICBUcmltZXNoLmNvbXB1dGVOb3JtYWwodmIsIHZhLCB2Yywgbik7XG4gICAgICBub3JtYWxzW2kzXSA9IG4ueDtcbiAgICAgIG5vcm1hbHNbaTMgKyAxXSA9IG4ueTtcbiAgICAgIG5vcm1hbHNbaTMgKyAyXSA9IG4uejtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSAuZWRnZXMgcHJvcGVydHlcclxuICAgKiBAbWV0aG9kIHVwZGF0ZUVkZ2VzXHJcbiAgICovXG5cblxuICB1cGRhdGVFZGdlcygpIHtcbiAgICBjb25zdCBlZGdlcyA9IHt9O1xuXG4gICAgY29uc3QgYWRkID0gKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IGEgPCBiID8gYSArIFwiX1wiICsgYiA6IGIgKyBcIl9cIiArIGE7XG4gICAgICBlZGdlc1trZXldID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7XG4gICAgICBjb25zdCBpMyA9IGkgKiAzO1xuICAgICAgY29uc3QgYSA9IHRoaXMuaW5kaWNlc1tpM107XG4gICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07XG4gICAgICBjb25zdCBjID0gdGhpcy5pbmRpY2VzW2kzICsgMl07XG4gICAgICBhZGQoYSwgYik7XG4gICAgICBhZGQoYiwgYyk7XG4gICAgICBhZGQoYywgYSk7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VzKTtcbiAgICB0aGlzLmVkZ2VzID0gbmV3IEludDE2QXJyYXkoa2V5cy5sZW5ndGggKiAyKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaW5kaWNlcyA9IGtleXNbaV0uc3BsaXQoJ18nKTtcbiAgICAgIHRoaXMuZWRnZXNbMiAqIGldID0gcGFyc2VJbnQoaW5kaWNlc1swXSwgMTApO1xuICAgICAgdGhpcy5lZGdlc1syICogaSArIDFdID0gcGFyc2VJbnQoaW5kaWNlc1sxXSwgMTApO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHZXQgYW4gZWRnZSB2ZXJ0ZXhcclxuICAgKiBAbWV0aG9kIGdldEVkZ2VWZXJ0ZXhcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVkZ2VJbmRleFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gZmlyc3RPclNlY29uZCAwIG9yIDEsIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgb2YgdGhlIHZlcnRpY2VzIHlvdSBuZWVkLlxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHZlcnRleFN0b3JlIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcclxuICAgKi9cblxuXG4gIGdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCBmaXJzdE9yU2Vjb25kLCB2ZXJ0ZXhTdG9yZSkge1xuICAgIGNvbnN0IHZlcnRleEluZGV4ID0gdGhpcy5lZGdlc1tlZGdlSW5kZXggKiAyICsgKGZpcnN0T3JTZWNvbmQgPyAxIDogMCldO1xuICAgIHRoaXMuZ2V0VmVydGV4KHZlcnRleEluZGV4LCB2ZXJ0ZXhTdG9yZSk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGEgdmVjdG9yIGFsb25nIGFuIGVkZ2UuXHJcbiAgICogQG1ldGhvZCBnZXRFZGdlVmVjdG9yXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBlZGdlSW5kZXhcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB2ZWN0b3JTdG9yZVxyXG4gICAqL1xuXG5cbiAgZ2V0RWRnZVZlY3RvcihlZGdlSW5kZXgsIHZlY3RvclN0b3JlKSB7XG4gICAgY29uc3QgdmEgPSBnZXRFZGdlVmVjdG9yX3ZhO1xuICAgIGNvbnN0IHZiID0gZ2V0RWRnZVZlY3Rvcl92YjtcbiAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAwLCB2YSk7XG4gICAgdGhpcy5nZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgMSwgdmIpO1xuICAgIHZiLnZzdWIodmEsIHZlY3RvclN0b3JlKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdmVydGV4IGkuXHJcbiAgICogQG1ldGhvZCBnZXRWZXJ0ZXhcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBvdXRcclxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJvdXRcIiB2ZWN0b3Igb2JqZWN0XHJcbiAgICovXG5cblxuICBnZXRWZXJ0ZXgoaSwgb3V0KSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlO1xuXG4gICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgoaSwgb3V0KTtcblxuICAgIG91dC54ICo9IHNjYWxlLng7XG4gICAgb3V0LnkgKj0gc2NhbGUueTtcbiAgICBvdXQueiAqPSBzY2FsZS56O1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHJhdyB2ZXJ0ZXggaVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQG1ldGhvZCBfZ2V0VW5zY2FsZWRWZXJ0ZXhcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBvdXRcclxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJvdXRcIiB2ZWN0b3Igb2JqZWN0XHJcbiAgICovXG5cblxuICBfZ2V0VW5zY2FsZWRWZXJ0ZXgoaSwgb3V0KSB7XG4gICAgY29uc3QgaTMgPSBpICogMztcbiAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgcmV0dXJuIG91dC5zZXQodmVydGljZXNbaTNdLCB2ZXJ0aWNlc1tpMyArIDFdLCB2ZXJ0aWNlc1tpMyArIDJdKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYSB2ZXJ0ZXggZnJvbSB0aGUgdHJpbWVzaCx0cmFuc2Zvcm1lZCBieSB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHF1YXRlcm5pb24uXHJcbiAgICogQG1ldGhvZCBnZXRXb3JsZFZlcnRleFxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHBvc1xyXG4gICAqIEBwYXJhbSAge1F1YXRlcm5pb259IHF1YXRcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBvdXRcclxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJvdXRcIiB2ZWN0b3Igb2JqZWN0XHJcbiAgICovXG5cblxuICBnZXRXb3JsZFZlcnRleChpLCBwb3MsIHF1YXQsIG91dCkge1xuICAgIHRoaXMuZ2V0VmVydGV4KGksIG91dCk7XG4gICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvcywgcXVhdCwgb3V0LCBvdXQpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSB0aHJlZSB2ZXJ0aWNlcyBmb3IgdHJpYW5nbGUgaS5cclxuICAgKiBAbWV0aG9kIGdldFRyaWFuZ2xlVmVydGljZXNcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGlcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBhXHJcbiAgICogQHBhcmFtICB7VmVjM30gYlxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGNcclxuICAgKi9cblxuXG4gIGdldFRyaWFuZ2xlVmVydGljZXMoaSwgYSwgYiwgYykge1xuICAgIGNvbnN0IGkzID0gaSAqIDM7XG4gICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7XG4gICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMV0sIGIpO1xuICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDJdLCBjKTtcbiAgfVxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgdHJpYW5nbGUgaS5cclxuICAgKiBAbWV0aG9kIGdldE5vcm1hbFxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBcInRhcmdldFwiIHZlY3RvciBvYmplY3RcclxuICAgKi9cblxuXG4gIGdldE5vcm1hbChpLCB0YXJnZXQpIHtcbiAgICBjb25zdCBpMyA9IGkgKiAzO1xuICAgIHJldHVybiB0YXJnZXQuc2V0KHRoaXMubm9ybWFsc1tpM10sIHRoaXMubm9ybWFsc1tpMyArIDFdLCB0aGlzLm5vcm1hbHNbaTMgKyAyXSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWFcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3NcclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXRcclxuICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgXCJ0YXJnZXRcIiB2ZWN0b3Igb2JqZWN0XHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7XG4gICAgLy8gQXBwcm94aW1hdGUgd2l0aCBib3ggaW5lcnRpYVxuICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdFxuICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihjbGlfYWFiYik7XG4gICAgY29uc3QgeCA9IGNsaV9hYWJiLnVwcGVyQm91bmQueCAtIGNsaV9hYWJiLmxvd2VyQm91bmQueDtcbiAgICBjb25zdCB5ID0gY2xpX2FhYmIudXBwZXJCb3VuZC55IC0gY2xpX2FhYmIubG93ZXJCb3VuZC55O1xuICAgIGNvbnN0IHogPSBjbGlfYWFiYi51cHBlckJvdW5kLnogLSBjbGlfYWFiYi5sb3dlckJvdW5kLno7XG4gICAgcmV0dXJuIHRhcmdldC5zZXQoMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB6ICogMiAqIHopLCAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeCAqIDIgKiB4ICsgMiAqIHogKiAyICogeiksIDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeCAqIDIgKiB4KSk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0aGUgbG9jYWwgQUFCQiBmb3IgdGhlIHRyaW1lc2hcclxuICAgKiBAbWV0aG9kIGNvbXB1dGVMb2NhbEFBQkJcclxuICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiXHJcbiAgICovXG5cblxuICBjb21wdXRlTG9jYWxBQUJCKGFhYmIpIHtcbiAgICBjb25zdCBsID0gYWFiYi5sb3dlckJvdW5kO1xuICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7XG4gICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCB2ID0gY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQ7XG4gICAgdGhpcy5nZXRWZXJ0ZXgoMCwgdik7XG4gICAgbC5jb3B5KHYpO1xuICAgIHUuY29weSh2KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBuOyBpKyspIHtcbiAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpO1xuXG4gICAgICBpZiAodi54IDwgbC54KSB7XG4gICAgICAgIGwueCA9IHYueDtcbiAgICAgIH0gZWxzZSBpZiAodi54ID4gdS54KSB7XG4gICAgICAgIHUueCA9IHYueDtcbiAgICAgIH1cblxuICAgICAgaWYgKHYueSA8IGwueSkge1xuICAgICAgICBsLnkgPSB2Lnk7XG4gICAgICB9IGVsc2UgaWYgKHYueSA+IHUueSkge1xuICAgICAgICB1LnkgPSB2Lnk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2LnogPCBsLnopIHtcbiAgICAgICAgbC56ID0gdi56O1xuICAgICAgfSBlbHNlIGlmICh2LnogPiB1LnopIHtcbiAgICAgICAgdS56ID0gdi56O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIC5hYWJiIHByb3BlcnR5XHJcbiAgICogQG1ldGhvZCB1cGRhdGVBQUJCXHJcbiAgICovXG5cblxuICB1cGRhdGVBQUJCKCkge1xuICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQih0aGlzLmFhYmIpO1xuICB9XG4gIC8qKlxyXG4gICAqIFdpbGwgdXBkYXRlIHRoZSAuYm91bmRpbmdTcGhlcmVSYWRpdXMgcHJvcGVydHlcclxuICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzXHJcbiAgICovXG5cblxuICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHtcbiAgICAvLyBBc3N1bWUgcG9pbnRzIGFyZSBkaXN0cmlidXRlZCB3aXRoIGxvY2FsICgwLDAsMCkgYXMgY2VudGVyXG4gICAgbGV0IG1heDIgPSAwO1xuICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBjb25zdCB2ID0gbmV3IFZlYzMoKTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBOID0gdmVydGljZXMubGVuZ3RoIC8gMzsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICB0aGlzLmdldFZlcnRleChpLCB2KTtcbiAgICAgIGNvbnN0IG5vcm0yID0gdi5sZW5ndGhTcXVhcmVkKCk7XG5cbiAgICAgIGlmIChub3JtMiA+IG1heDIpIHtcbiAgICAgICAgbWF4MiA9IG5vcm0yO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBNYXRoLnNxcnQobWF4Mik7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBjYWxjdWxhdGVXb3JsZEFBQkJcclxuICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBwb3NcclxuICAgKiBAcGFyYW0ge1F1YXRlcm5pb259ICBxdWF0XHJcbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWluXHJcbiAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWF4XHJcbiAgICovXG5cblxuICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkge1xuICAgIC8qXHJcbiAgICAgICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoIC8gMyxcclxuICAgICAgICAgICAgdmVydHMgPSB0aGlzLnZlcnRpY2VzO1xyXG4gICAgICAgIGNvbnN0IG1pbngsbWlueSxtaW56LG1heHgsbWF4eSxtYXh6O1xyXG4gICAgICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDtcclxuICAgICAgICBmb3IobGV0IGk9MDsgaTxuOyBpKyspe1xyXG4gICAgICAgICAgICB0aGlzLmdldFZlcnRleChpLCB2KTtcclxuICAgICAgICAgICAgcXVhdC52bXVsdCh2LCB2KTtcclxuICAgICAgICAgICAgcG9zLnZhZGQodiwgdik7XHJcbiAgICAgICAgICAgIGlmICh2LnggPCBtaW54IHx8IG1pbng9PT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgbWlueCA9IHYueDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHYueCA+IG1heHggfHwgbWF4eD09PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBtYXh4ID0gdi54O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHYueSA8IG1pbnkgfHwgbWlueT09PXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICBtaW55ID0gdi55O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYodi55ID4gbWF4eSB8fCBtYXh5PT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIG1heHkgPSB2Lnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAodi56IDwgbWlueiB8fCBtaW56PT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgICAgIG1pbnogPSB2Lno7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZih2LnogPiBtYXh6IHx8IG1heHo9PT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgbWF4eiA9IHYuejtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBtaW4uc2V0KG1pbngsbWlueSxtaW56KTtcclxuICAgICAgICBtYXguc2V0KG1heHgsbWF4eSxtYXh6KTtcclxuICAgICAgICAqL1xuICAgIC8vIEZhc3RlciBhcHByb3hpbWF0aW9uIHVzaW5nIGxvY2FsIEFBQkJcbiAgICBjb25zdCBmcmFtZSA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZTtcbiAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYjtcbiAgICBmcmFtZS5wb3NpdGlvbiA9IHBvcztcbiAgICBmcmFtZS5xdWF0ZXJuaW9uID0gcXVhdDtcbiAgICB0aGlzLmFhYmIudG9Xb3JsZEZyYW1lKGZyYW1lLCByZXN1bHQpO1xuICAgIG1pbi5jb3B5KHJlc3VsdC5sb3dlckJvdW5kKTtcbiAgICBtYXguY29weShyZXN1bHQudXBwZXJCb3VuZCk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IGFwcHJveGltYXRlIHZvbHVtZVxyXG4gICAqIEBtZXRob2Qgdm9sdW1lXHJcbiAgICogQHJldHVybiB7TnVtYmVyfVxyXG4gICAqL1xuXG5cbiAgdm9sdW1lKCkge1xuICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyAvIDMuMDtcbiAgfVxuXG59XG5jb25zdCBjb21wdXRlTm9ybWFsc19uID0gbmV3IFZlYzMoKTtcbmNvbnN0IHVuc2NhbGVkQUFCQiA9IG5ldyBBQUJCKCk7XG5jb25zdCBnZXRFZGdlVmVjdG9yX3ZhID0gbmV3IFZlYzMoKTtcbmNvbnN0IGdldEVkZ2VWZWN0b3JfdmIgPSBuZXcgVmVjMygpO1xuLyoqXHJcbiAqIEdldCBmYWNlIG5vcm1hbCBnaXZlbiAzIHZlcnRpY2VzXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBjb21wdXRlTm9ybWFsXHJcbiAqIEBwYXJhbSB7VmVjM30gdmFcclxuICogQHBhcmFtIHtWZWMzfSB2YlxyXG4gKiBAcGFyYW0ge1ZlYzN9IHZjXHJcbiAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0XHJcbiAqL1xuXG5jb25zdCBjYiA9IG5ldyBWZWMzKCk7XG5jb25zdCBhYiA9IG5ldyBWZWMzKCk7XG5cblRyaW1lc2guY29tcHV0ZU5vcm1hbCA9ICh2YSwgdmIsIHZjLCB0YXJnZXQpID0+IHtcbiAgdmIudnN1Yih2YSwgYWIpO1xuICB2Yy52c3ViKHZiLCBjYik7XG4gIGNiLmNyb3NzKGFiLCB0YXJnZXQpO1xuXG4gIGlmICghdGFyZ2V0LmlzWmVybygpKSB7XG4gICAgdGFyZ2V0Lm5vcm1hbGl6ZSgpO1xuICB9XG59O1xuXG5jb25zdCB2YSA9IG5ldyBWZWMzKCk7XG5jb25zdCB2YiA9IG5ldyBWZWMzKCk7XG5jb25zdCB2YyA9IG5ldyBWZWMzKCk7XG5jb25zdCBjbGlfYWFiYiA9IG5ldyBBQUJCKCk7XG5jb25zdCBjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydCA9IG5ldyBWZWMzKCk7XG5jb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWUgPSBuZXcgVHJhbnNmb3JtKCk7XG5jb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYiA9IG5ldyBBQUJCKCk7XG4vKipcclxuICogQ3JlYXRlIGEgVHJpbWVzaCBpbnN0YW5jZSwgc2hhcGVkIGFzIGEgdG9ydXMuXHJcbiAqIEBzdGF0aWNcclxuICogQG1ldGhvZCBjcmVhdGVUb3J1c1xyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IFtyYWRpdXM9MV1cclxuICogQHBhcmFtICB7bnVtYmVyfSBbdHViZT0wLjVdXHJcbiAqIEBwYXJhbSAge251bWJlcn0gW3JhZGlhbFNlZ21lbnRzPThdXHJcbiAqIEBwYXJhbSAge251bWJlcn0gW3R1YnVsYXJTZWdtZW50cz02XVxyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IFthcmM9Ni4yODMxODUzMDcxNzk1ODZdXHJcbiAqIEByZXR1cm4ge1RyaW1lc2h9IEEgdG9ydXNcclxuICovXG5cblRyaW1lc2guY3JlYXRlVG9ydXMgPSAocmFkaXVzID0gMSwgdHViZSA9IDAuNSwgcmFkaWFsU2VnbWVudHMgPSA4LCB0dWJ1bGFyU2VnbWVudHMgPSA2LCBhcmMgPSBNYXRoLlBJICogMikgPT4ge1xuICBjb25zdCB2ZXJ0aWNlcyA9IFtdO1xuICBjb25zdCBpbmRpY2VzID0gW107XG5cbiAgZm9yIChsZXQgaiA9IDA7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHR1YnVsYXJTZWdtZW50czsgaSsrKSB7XG4gICAgICBjb25zdCB1ID0gaSAvIHR1YnVsYXJTZWdtZW50cyAqIGFyYztcbiAgICAgIGNvbnN0IHYgPSBqIC8gcmFkaWFsU2VnbWVudHMgKiBNYXRoLlBJICogMjtcbiAgICAgIGNvbnN0IHggPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYpKSAqIE1hdGguY29zKHUpO1xuICAgICAgY29uc3QgeSA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5zaW4odSk7XG4gICAgICBjb25zdCB6ID0gdHViZSAqIE1hdGguc2luKHYpO1xuICAgICAgdmVydGljZXMucHVzaCh4LCB5LCB6KTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBqID0gMTsgaiA8PSByYWRpYWxTZWdtZW50czsgaisrKSB7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHtcbiAgICAgIGNvbnN0IGEgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiBqICsgaSAtIDE7XG4gICAgICBjb25zdCBiID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGkgLSAxO1xuICAgICAgY29uc3QgYyA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIChqIC0gMSkgKyBpO1xuICAgICAgY29uc3QgZCA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpO1xuICAgICAgaW5kaWNlcy5wdXNoKGEsIGIsIGQpO1xuICAgICAgaW5kaWNlcy5wdXNoKGIsIGMsIGQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJpbWVzaCh2ZXJ0aWNlcywgaW5kaWNlcyk7XG59O1xuXG4vKipcclxuICogQ29uc3RyYWludCBlcXVhdGlvbiBzb2x2ZXIgYmFzZSBjbGFzcy5cclxuICogQGNsYXNzIFNvbHZlclxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxyXG4gKi9cbmNsYXNzIFNvbHZlciB7XG4gIC8vIEFsbCBlcXVhdGlvbnMgdG8gYmUgc29sdmVkXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZXF1YXRpb25zID0gW107XG4gIH1cbiAgLyoqXHJcbiAgICogU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzZXMhXHJcbiAgICogQG1ldGhvZCBzb2x2ZVxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gZHRcclxuICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZFxyXG4gICAqL1xuXG5cbiAgc29sdmUoZHQsIHdvcmxkKSB7XG4gICAgcmV0dXJuICgvLyBTaG91bGQgcmV0dXJuIHRoZSBudW1iZXIgb2YgaXRlcmF0aW9ucyBkb25lIVxuICAgICAgMFxuICAgICk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGFuIGVxdWF0aW9uXHJcbiAgICogQG1ldGhvZCBhZGRFcXVhdGlvblxyXG4gICAqIEBwYXJhbSB7RXF1YXRpb259IGVxXHJcbiAgICovXG5cblxuICBhZGRFcXVhdGlvbihlcSkge1xuICAgIGlmIChlcS5lbmFibGVkKSB7XG4gICAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGVxKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlIGFuIGVxdWF0aW9uXHJcbiAgICogQG1ldGhvZCByZW1vdmVFcXVhdGlvblxyXG4gICAqIEBwYXJhbSB7RXF1YXRpb259IGVxXHJcbiAgICovXG5cblxuICByZW1vdmVFcXVhdGlvbihlcSkge1xuICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGNvbnN0IGkgPSBlcXMuaW5kZXhPZihlcSk7XG5cbiAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgIGVxcy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEFkZCBhbGwgZXF1YXRpb25zXHJcbiAgICogQG1ldGhvZCByZW1vdmVBbGxFcXVhdGlvbnNcclxuICAgKi9cblxuXG4gIHJlbW92ZUFsbEVxdWF0aW9ucygpIHtcbiAgICB0aGlzLmVxdWF0aW9ucy5sZW5ndGggPSAwO1xuICB9XG5cbn1cblxuLyoqXHJcbiAqIENvbnN0cmFpbnQgZXF1YXRpb24gR2F1c3MtU2VpZGVsIHNvbHZlci5cclxuICogQGNsYXNzIEdTU29sdmVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAdG9kbyBUaGUgc3Bvb2sgcGFyYW1ldGVycyBzaG91bGQgYmUgc3BlY2lmaWVkIGZvciBlYWNoIGNvbnN0cmFpbnQsIG5vdCBnbG9iYWxseS5cclxuICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZVxyXG4gKiBAc2VlIGh0dHBzOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyLzVEVjA1OC9WVDA5L2xlY3R1cmVzL3Nwb29rbm90ZXMucGRmXHJcbiAqIEBleHRlbmRzIFNvbHZlclxyXG4gKi9cbmNsYXNzIEdTU29sdmVyIGV4dGVuZHMgU29sdmVyIHtcbiAgLy8gVGhlIG51bWJlciBvZiBzb2x2ZXIgaXRlcmF0aW9ucyBkZXRlcm1pbmVzIHF1YWxpdHkgb2YgdGhlIGNvbnN0cmFpbnRzIGluIHRoZSB3b3JsZC4gVGhlIG1vcmUgaXRlcmF0aW9ucywgdGhlIG1vcmUgY29ycmVjdCBzaW11bGF0aW9uLiBNb3JlIGl0ZXJhdGlvbnMgbmVlZCBtb3JlIGNvbXB1dGF0aW9ucyB0aG91Z2guIElmIHlvdSBoYXZlIGEgbGFyZ2UgZ3Jhdml0eSBmb3JjZSBpbiB5b3VyIHdvcmxkLCB5b3Ugd2lsbCBuZWVkIG1vcmUgaXRlcmF0aW9ucy5cbiAgLy8gV2hlbiB0b2xlcmFuY2UgaXMgcmVhY2hlZCwgdGhlIHN5c3RlbSBpcyBhc3N1bWVkIHRvIGJlIGNvbnZlcmdlZC5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLml0ZXJhdGlvbnMgPSAxMDtcbiAgICB0aGlzLnRvbGVyYW5jZSA9IDFlLTc7XG4gIH1cbiAgLyoqXHJcbiAgICogU29sdmVcclxuICAgKiBAbWV0aG9kIHNvbHZlXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBkdFxyXG4gICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxyXG4gICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkXHJcbiAgICovXG5cblxuICBzb2x2ZShkdCwgd29ybGQpIHtcbiAgICBsZXQgaXRlciA9IDA7XG4gICAgY29uc3QgbWF4SXRlciA9IHRoaXMuaXRlcmF0aW9ucztcbiAgICBjb25zdCB0b2xTcXVhcmVkID0gdGhpcy50b2xlcmFuY2UgKiB0aGlzLnRvbGVyYW5jZTtcbiAgICBjb25zdCBlcXVhdGlvbnMgPSB0aGlzLmVxdWF0aW9ucztcbiAgICBjb25zdCBOZXEgPSBlcXVhdGlvbnMubGVuZ3RoO1xuICAgIGNvbnN0IGJvZGllcyA9IHdvcmxkLmJvZGllcztcbiAgICBjb25zdCBOYm9kaWVzID0gYm9kaWVzLmxlbmd0aDtcbiAgICBjb25zdCBoID0gZHQ7XG4gICAgbGV0IEI7XG4gICAgbGV0IGludkM7XG4gICAgbGV0IGRlbHRhbGFtYmRhO1xuICAgIGxldCBkZWx0YWxhbWJkYVRvdDtcbiAgICBsZXQgR1dsYW1iZGE7XG4gICAgbGV0IGxhbWJkYWo7IC8vIFVwZGF0ZSBzb2x2ZSBtYXNzXG5cbiAgICBpZiAoTmVxICE9PSAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7XG4gICAgICAgIGJvZGllc1tpXS51cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgfSAvLyBUaGluZ3MgdGhhdCBkb2VzIG5vdCBjaGFuZ2UgZHVyaW5nIGl0ZXJhdGlvbiBjYW4gYmUgY29tcHV0ZWQgb25jZVxuXG5cbiAgICBjb25zdCBpbnZDcyA9IEdTU29sdmVyX3NvbHZlX2ludkNzO1xuICAgIGNvbnN0IEJzID0gR1NTb2x2ZXJfc29sdmVfQnM7XG4gICAgY29uc3QgbGFtYmRhID0gR1NTb2x2ZXJfc29sdmVfbGFtYmRhO1xuICAgIGludkNzLmxlbmd0aCA9IE5lcTtcbiAgICBCcy5sZW5ndGggPSBOZXE7XG4gICAgbGFtYmRhLmxlbmd0aCA9IE5lcTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOZXE7IGkrKykge1xuICAgICAgY29uc3QgYyA9IGVxdWF0aW9uc1tpXTtcbiAgICAgIGxhbWJkYVtpXSA9IDAuMDtcbiAgICAgIEJzW2ldID0gYy5jb21wdXRlQihoKTtcbiAgICAgIGludkNzW2ldID0gMS4wIC8gYy5jb21wdXRlQygpO1xuICAgIH1cblxuICAgIGlmIChOZXEgIT09IDApIHtcbiAgICAgIC8vIFJlc2V0IHZsYW1iZGFcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHtcbiAgICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTtcbiAgICAgICAgY29uc3QgdmxhbWJkYSA9IGIudmxhbWJkYTtcbiAgICAgICAgY29uc3Qgd2xhbWJkYSA9IGIud2xhbWJkYTtcbiAgICAgICAgdmxhbWJkYS5zZXQoMCwgMCwgMCk7XG4gICAgICAgIHdsYW1iZGEuc2V0KDAsIDAsIDApO1xuICAgICAgfSAvLyBJdGVyYXRlIG92ZXIgZXF1YXRpb25zXG5cblxuICAgICAgZm9yIChpdGVyID0gMDsgaXRlciAhPT0gbWF4SXRlcjsgaXRlcisrKSB7XG4gICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIHRvdGFsIGVycm9yIGZvciBlYWNoIGl0ZXJhdGlvbi5cbiAgICAgICAgZGVsdGFsYW1iZGFUb3QgPSAwLjA7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IE5lcTsgaisrKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGVxdWF0aW9uc1tqXTsgLy8gQ29tcHV0ZSBpdGVyYXRpb25cblxuICAgICAgICAgIEIgPSBCc1tqXTtcbiAgICAgICAgICBpbnZDID0gaW52Q3Nbal07XG4gICAgICAgICAgbGFtYmRhaiA9IGxhbWJkYVtqXTtcbiAgICAgICAgICBHV2xhbWJkYSA9IGMuY29tcHV0ZUdXbGFtYmRhKCk7XG4gICAgICAgICAgZGVsdGFsYW1iZGEgPSBpbnZDICogKEIgLSBHV2xhbWJkYSAtIGMuZXBzICogbGFtYmRhaik7IC8vIENsYW1wIGlmIHdlIGFyZSBub3Qgd2l0aGluIHRoZSBtaW4vbWF4IGludGVydmFsXG5cbiAgICAgICAgICBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhIDwgYy5taW5Gb3JjZSkge1xuICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBjLm1pbkZvcmNlIC0gbGFtYmRhajtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxhbWJkYWogKyBkZWx0YWxhbWJkYSA+IGMubWF4Rm9yY2UpIHtcbiAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gYy5tYXhGb3JjZSAtIGxhbWJkYWo7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGFtYmRhW2pdICs9IGRlbHRhbGFtYmRhO1xuICAgICAgICAgIGRlbHRhbGFtYmRhVG90ICs9IGRlbHRhbGFtYmRhID4gMC4wID8gZGVsdGFsYW1iZGEgOiAtZGVsdGFsYW1iZGE7IC8vIGFicyhkZWx0YWxhbWJkYSlcblxuICAgICAgICAgIGMuYWRkVG9XbGFtYmRhKGRlbHRhbGFtYmRhKTtcbiAgICAgICAgfSAvLyBJZiB0aGUgdG90YWwgZXJyb3IgaXMgc21hbGwgZW5vdWdoIC0gc3RvcCBpdGVyYXRlXG5cblxuICAgICAgICBpZiAoZGVsdGFsYW1iZGFUb3QgKiBkZWx0YWxhbWJkYVRvdCA8IHRvbFNxdWFyZWQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSAvLyBBZGQgcmVzdWx0IHRvIHZlbG9jaXR5XG5cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykge1xuICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldO1xuICAgICAgICBjb25zdCB2ID0gYi52ZWxvY2l0eTtcbiAgICAgICAgY29uc3QgdyA9IGIuYW5ndWxhclZlbG9jaXR5O1xuICAgICAgICBiLnZsYW1iZGEudm11bChiLmxpbmVhckZhY3RvciwgYi52bGFtYmRhKTtcbiAgICAgICAgdi52YWRkKGIudmxhbWJkYSwgdik7XG4gICAgICAgIGIud2xhbWJkYS52bXVsKGIuYW5ndWxhckZhY3RvciwgYi53bGFtYmRhKTtcbiAgICAgICAgdy52YWRkKGIud2xhbWJkYSwgdyk7XG4gICAgICB9IC8vIFNldCB0aGUgLm11bHRpcGxpZXIgcHJvcGVydHkgb2YgZWFjaCBlcXVhdGlvblxuXG5cbiAgICAgIGxldCBsID0gZXF1YXRpb25zLmxlbmd0aDtcbiAgICAgIGNvbnN0IGludkR0ID0gMSAvIGg7XG5cbiAgICAgIHdoaWxlIChsLS0pIHtcbiAgICAgICAgZXF1YXRpb25zW2xdLm11bHRpcGxpZXIgPSBsYW1iZGFbbF0gKiBpbnZEdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcjtcbiAgfVxuXG59XG5jb25zdCBHU1NvbHZlcl9zb2x2ZV9sYW1iZGEgPSBbXTsgLy8gSnVzdCB0ZW1wb3JhcnkgbnVtYmVyIGhvbGRlcnMgdGhhdCB3ZSB3YW50IHRvIHJldXNlIGVhY2ggc29sdmUuXG5cbmNvbnN0IEdTU29sdmVyX3NvbHZlX2ludkNzID0gW107XG5jb25zdCBHU1NvbHZlcl9zb2x2ZV9CcyA9IFtdO1xuXG4vKipcclxuICogU3BsaXRzIHRoZSBlcXVhdGlvbnMgaW50byBpc2xhbmRzIGFuZCBzb2x2ZXMgdGhlbSBpbmRlcGVuZGVudGx5LiBDYW4gaW1wcm92ZSBwZXJmb3JtYW5jZS5cclxuICogQGNsYXNzIFNwbGl0U29sdmVyXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAZXh0ZW5kcyBTb2x2ZXJcclxuICogQHBhcmFtIHtTb2x2ZXJ9IHN1YnNvbHZlclxyXG4gKi9cbmNsYXNzIFNwbGl0U29sdmVyIGV4dGVuZHMgU29sdmVyIHtcbiAgLy8gVGhlIG51bWJlciBvZiBzb2x2ZXIgaXRlcmF0aW9ucyBkZXRlcm1pbmVzIHF1YWxpdHkgb2YgdGhlIGNvbnN0cmFpbnRzIGluIHRoZSB3b3JsZC4gVGhlIG1vcmUgaXRlcmF0aW9ucywgdGhlIG1vcmUgY29ycmVjdCBzaW11bGF0aW9uLiBNb3JlIGl0ZXJhdGlvbnMgbmVlZCBtb3JlIGNvbXB1dGF0aW9ucyB0aG91Z2guIElmIHlvdSBoYXZlIGEgbGFyZ2UgZ3Jhdml0eSBmb3JjZSBpbiB5b3VyIHdvcmxkLCB5b3Ugd2lsbCBuZWVkIG1vcmUgaXRlcmF0aW9ucy5cbiAgLy8gV2hlbiB0b2xlcmFuY2UgaXMgcmVhY2hlZCwgdGhlIHN5c3RlbSBpcyBhc3N1bWVkIHRvIGJlIGNvbnZlcmdlZC5cbiAgY29uc3RydWN0b3Ioc3Vic29sdmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLml0ZXJhdGlvbnMgPSAxMDtcbiAgICB0aGlzLnRvbGVyYW5jZSA9IDFlLTc7XG4gICAgdGhpcy5zdWJzb2x2ZXIgPSBzdWJzb2x2ZXI7XG4gICAgdGhpcy5ub2RlcyA9IFtdO1xuICAgIHRoaXMubm9kZVBvb2wgPSBbXTsgLy8gQ3JlYXRlIG5lZWRlZCBub2RlcywgcmV1c2UgaWYgcG9zc2libGVcblxuICAgIHdoaWxlICh0aGlzLm5vZGVQb29sLmxlbmd0aCA8IDEyOCkge1xuICAgICAgdGhpcy5ub2RlUG9vbC5wdXNoKHRoaXMuY3JlYXRlTm9kZSgpKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVOb2RlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBib2R5OiBudWxsLFxuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgZXFzOiBbXSxcbiAgICAgIHZpc2l0ZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuICAvKipcclxuICAgKiBTb2x2ZSB0aGUgc3Vic3lzdGVtc1xyXG4gICAqIEBtZXRob2Qgc29sdmVcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0XHJcbiAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkXHJcbiAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWRcclxuICAgKi9cblxuXG4gIHNvbHZlKGR0LCB3b3JsZCkge1xuICAgIGNvbnN0IG5vZGVzID0gU3BsaXRTb2x2ZXJfc29sdmVfbm9kZXM7XG4gICAgY29uc3Qgbm9kZVBvb2wgPSB0aGlzLm5vZGVQb29sO1xuICAgIGNvbnN0IGJvZGllcyA9IHdvcmxkLmJvZGllcztcbiAgICBjb25zdCBlcXVhdGlvbnMgPSB0aGlzLmVxdWF0aW9ucztcbiAgICBjb25zdCBOZXEgPSBlcXVhdGlvbnMubGVuZ3RoO1xuICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoO1xuICAgIGNvbnN0IHN1YnNvbHZlciA9IHRoaXMuc3Vic29sdmVyOyAvLyBDcmVhdGUgbmVlZGVkIG5vZGVzLCByZXVzZSBpZiBwb3NzaWJsZVxuXG4gICAgd2hpbGUgKG5vZGVQb29sLmxlbmd0aCA8IE5ib2RpZXMpIHtcbiAgICAgIG5vZGVQb29sLnB1c2godGhpcy5jcmVhdGVOb2RlKCkpO1xuICAgIH1cblxuICAgIG5vZGVzLmxlbmd0aCA9IE5ib2RpZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE5ib2RpZXM7IGkrKykge1xuICAgICAgbm9kZXNbaV0gPSBub2RlUG9vbFtpXTtcbiAgICB9IC8vIFJlc2V0IG5vZGUgdmFsdWVzXG5cblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIG5vZGUuYm9keSA9IGJvZGllc1tpXTtcbiAgICAgIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID0gMDtcbiAgICAgIG5vZGUuZXFzLmxlbmd0aCA9IDA7XG4gICAgICBub2RlLnZpc2l0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gTmVxOyBrKyspIHtcbiAgICAgIGNvbnN0IGVxID0gZXF1YXRpb25zW2tdO1xuICAgICAgY29uc3QgaSA9IGJvZGllcy5pbmRleE9mKGVxLmJpKTtcbiAgICAgIGNvbnN0IGogPSBib2RpZXMuaW5kZXhPZihlcS5iaik7XG4gICAgICBjb25zdCBuaSA9IG5vZGVzW2ldO1xuICAgICAgY29uc3QgbmogPSBub2Rlc1tqXTtcbiAgICAgIG5pLmNoaWxkcmVuLnB1c2gobmopO1xuICAgICAgbmkuZXFzLnB1c2goZXEpO1xuICAgICAgbmouY2hpbGRyZW4ucHVzaChuaSk7XG4gICAgICBuai5lcXMucHVzaChlcSk7XG4gICAgfVxuXG4gICAgbGV0IGNoaWxkO1xuICAgIGxldCBuID0gMDtcbiAgICBsZXQgZXFzID0gU3BsaXRTb2x2ZXJfc29sdmVfZXFzO1xuICAgIHN1YnNvbHZlci50b2xlcmFuY2UgPSB0aGlzLnRvbGVyYW5jZTtcbiAgICBzdWJzb2x2ZXIuaXRlcmF0aW9ucyA9IHRoaXMuaXRlcmF0aW9ucztcbiAgICBjb25zdCBkdW1teVdvcmxkID0gU3BsaXRTb2x2ZXJfc29sdmVfZHVtbXlXb3JsZDtcblxuICAgIHdoaWxlIChjaGlsZCA9IGdldFVudmlzaXRlZE5vZGUobm9kZXMpKSB7XG4gICAgICBlcXMubGVuZ3RoID0gMDtcbiAgICAgIGR1bW15V29ybGQuYm9kaWVzLmxlbmd0aCA9IDA7XG4gICAgICBiZnMoY2hpbGQsIHZpc2l0RnVuYywgZHVtbXlXb3JsZC5ib2RpZXMsIGVxcyk7XG4gICAgICBjb25zdCBOZXFzID0gZXFzLmxlbmd0aDtcbiAgICAgIGVxcyA9IGVxcy5zb3J0KHNvcnRCeUlkKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcXM7IGkrKykge1xuICAgICAgICBzdWJzb2x2ZXIuYWRkRXF1YXRpb24oZXFzW2ldKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXRlciA9IHN1YnNvbHZlci5zb2x2ZShkdCwgZHVtbXlXb3JsZCk7XG4gICAgICBzdWJzb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7XG4gICAgICBuKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIG47XG4gIH1cblxufSAvLyBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygc3Vic3lzdGVtc1xuXG5jb25zdCBTcGxpdFNvbHZlcl9zb2x2ZV9ub2RlcyA9IFtdOyAvLyBBbGwgYWxsb2NhdGVkIG5vZGUgb2JqZWN0c1xuXG5jb25zdCBTcGxpdFNvbHZlcl9zb2x2ZV9lcXMgPSBbXTsgLy8gVGVtcCBhcnJheVxuXG5jb25zdCBTcGxpdFNvbHZlcl9zb2x2ZV9kdW1teVdvcmxkID0ge1xuICBib2RpZXM6IFtdXG59OyAvLyBUZW1wIG9iamVjdFxuXG5jb25zdCBTVEFUSUMgPSBCb2R5LlNUQVRJQztcblxuZnVuY3Rpb24gZ2V0VW52aXNpdGVkTm9kZShub2Rlcykge1xuICBjb25zdCBObm9kZXMgPSBub2Rlcy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ub2RlczsgaSsrKSB7XG4gICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXG4gICAgaWYgKCFub2RlLnZpc2l0ZWQgJiYgIShub2RlLmJvZHkudHlwZSAmIFNUQVRJQykpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuY29uc3QgcXVldWUgPSBbXTtcblxuZnVuY3Rpb24gYmZzKHJvb3QsIHZpc2l0RnVuYywgYmRzLCBlcXMpIHtcbiAgcXVldWUucHVzaChyb290KTtcbiAgcm9vdC52aXNpdGVkID0gdHJ1ZTtcbiAgdmlzaXRGdW5jKHJvb3QsIGJkcywgZXFzKTtcblxuICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgY29uc3Qgbm9kZSA9IHF1ZXVlLnBvcCgpOyAvLyBMb29wIG92ZXIgdW52aXNpdGVkIGNoaWxkIG5vZGVzXG5cbiAgICBsZXQgY2hpbGQ7XG5cbiAgICB3aGlsZSAoY2hpbGQgPSBnZXRVbnZpc2l0ZWROb2RlKG5vZGUuY2hpbGRyZW4pKSB7XG4gICAgICBjaGlsZC52aXNpdGVkID0gdHJ1ZTtcbiAgICAgIHZpc2l0RnVuYyhjaGlsZCwgYmRzLCBlcXMpO1xuICAgICAgcXVldWUucHVzaChjaGlsZCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHZpc2l0RnVuYyhub2RlLCBiZHMsIGVxcykge1xuICBiZHMucHVzaChub2RlLmJvZHkpO1xuICBjb25zdCBOZXFzID0gbm9kZS5lcXMubGVuZ3RoO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpICE9PSBOZXFzOyBpKyspIHtcbiAgICBjb25zdCBlcSA9IG5vZGUuZXFzW2ldO1xuXG4gICAgaWYgKCFlcXMuaW5jbHVkZXMoZXEpKSB7XG4gICAgICBlcXMucHVzaChlcSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNvcnRCeUlkKGEsIGIpIHtcbiAgcmV0dXJuIGIuaWQgLSBhLmlkO1xufVxuXG4vKipcclxuICogRm9yIHBvb2xpbmcgb2JqZWN0cyB0aGF0IGNhbiBiZSByZXVzZWQuXHJcbiAqIEBjbGFzcyBQb29sXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbmNsYXNzIFBvb2wge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm9iamVjdHMgPSBbXTtcbiAgICB0aGlzLnR5cGUgPSBPYmplY3Q7XG4gIH1cbiAgLyoqXHJcbiAgICogUmVsZWFzZSBhbiBvYmplY3QgYWZ0ZXIgdXNlXHJcbiAgICogQG1ldGhvZCByZWxlYXNlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9ialxyXG4gICAqL1xuXG5cbiAgcmVsZWFzZSguLi5hcmdzKSB7XG4gICAgY29uc3QgTmFyZ3MgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYXJnczsgaSsrKSB7XG4gICAgICB0aGlzLm9iamVjdHMucHVzaChhcmdzW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBHZXQgYW4gb2JqZWN0XHJcbiAgICogQG1ldGhvZCBnZXRcclxuICAgKiBAcmV0dXJuIHttaXhlZH1cclxuICAgKi9cblxuXG4gIGdldCgpIHtcbiAgICBpZiAodGhpcy5vYmplY3RzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0T2JqZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLm9iamVjdHMucG9wKCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBhbiBvYmplY3QuIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBlYWNoIHN1YmNsYXNzLlxyXG4gICAqIEBtZXRob2QgY29uc3RydWN0T2JqZWN0XHJcbiAgICogQHJldHVybiB7bWl4ZWR9XHJcbiAgICovXG5cblxuICBjb25zdHJ1Y3RPYmplY3QoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb25zdHJ1Y3RPYmplY3QoKSBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBQb29sIHN1YmNsYXNzIHlldCEnKTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHJlc2l6ZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXHJcbiAgICogQHJldHVybiB7UG9vbH0gU2VsZiwgZm9yIGNoYWluaW5nXHJcbiAgICovXG5cblxuICByZXNpemUoc2l6ZSkge1xuICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLm9iamVjdHM7XG5cbiAgICB3aGlsZSAob2JqZWN0cy5sZW5ndGggPiBzaXplKSB7XG4gICAgICBvYmplY3RzLnBvcCgpO1xuICAgIH1cblxuICAgIHdoaWxlIChvYmplY3RzLmxlbmd0aCA8IHNpemUpIHtcbiAgICAgIG9iamVjdHMucHVzaCh0aGlzLmNvbnN0cnVjdE9iamVjdCgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG59XG5cbi8qKlxyXG4gKiBAY2xhc3MgVmVjM1Bvb2xcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBleHRlbmRzIFBvb2xcclxuICovXG5cbmNsYXNzIFZlYzNQb29sIGV4dGVuZHMgUG9vbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy50eXBlID0gVmVjMztcbiAgfVxuICAvKipcclxuICAgKiBDb25zdHJ1Y3QgYSB2ZWN0b3JcclxuICAgKiBAbWV0aG9kIGNvbnN0cnVjdE9iamVjdFxyXG4gICAqIEByZXR1cm4ge1ZlYzN9XHJcbiAgICovXG5cblxuICBjb25zdHJ1Y3RPYmplY3QoKSB7XG4gICAgcmV0dXJuIG5ldyBWZWMzKCk7XG4gIH1cblxufVxuXG5jb25zdCBDT0xMSVNJT05fVFlQRVMgPSB7XG4gIHNwaGVyZVNwaGVyZTogU2hhcGUudHlwZXMuU1BIRVJFLFxuICBzcGhlcmVQbGFuZTogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuUExBTkUsXG4gIGJveEJveDogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuQk9YLFxuICBzcGhlcmVCb3g6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLkJPWCxcbiAgcGxhbmVCb3g6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuQk9YLFxuICBjb252ZXhDb252ZXg6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sXG4gIHNwaGVyZUNvbnZleDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgcGxhbmVDb252ZXg6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixcbiAgYm94Q29udmV4OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFxuICBzcGhlcmVIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsXG4gIGJveEhlaWdodGZpZWxkOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCxcbiAgY29udmV4SGVpZ2h0ZmllbGQ6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04gfCBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRCxcbiAgc3BoZXJlUGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuU1BIRVJFLFxuICBwbGFuZVBhcnRpY2xlOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlBBUlRJQ0xFLFxuICBib3hQYXJ0aWNsZTogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuUEFSVElDTEUsXG4gIGNvbnZleFBhcnRpY2xlOiBTaGFwZS50eXBlcy5QQVJUSUNMRSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sXG4gIHNwaGVyZVRyaW1lc2g6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLlRSSU1FU0gsXG4gIHBsYW5lVHJpbWVzaDogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5UUklNRVNIXG59O1xuXG4vKipcclxuICogSGVscGVyIGNsYXNzIGZvciB0aGUgV29ybGQuIEdlbmVyYXRlcyBDb250YWN0RXF1YXRpb25zLlxyXG4gKiBAY2xhc3MgTmFycm93cGhhc2VcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEB0b2RvIFNwaGVyZS1Db252ZXhQb2x5aGVkcm9uIGNvbnRhY3RzXHJcbiAqIEB0b2RvIENvbnRhY3QgcmVkdWN0aW9uXHJcbiAqIEB0b2RvIHNob3VsZCBtb3ZlIG1ldGhvZHMgdG8gcHJvdG90eXBlXHJcbiAqL1xuY2xhc3MgTmFycm93cGhhc2Uge1xuICAvLyBJbnRlcm5hbCBzdG9yYWdlIG9mIHBvb2xlZCBjb250YWN0IHBvaW50cy5cbiAgLy8gUG9vbGVkIHZlY3RvcnMuXG4gIGNvbnN0cnVjdG9yKHdvcmxkKSB7XG4gICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gW107XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IFtdO1xuICAgIHRoaXMucmVzdWx0ID0gW107XG4gICAgdGhpcy5mcmljdGlvblJlc3VsdCA9IFtdO1xuICAgIHRoaXMudjNwb29sID0gbmV3IFZlYzNQb29sKCk7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7XG4gICAgdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiA9IGZhbHNlO1xuICB9XG4gIC8qKlxyXG4gICAqIE1ha2UgYSBjb250YWN0IG9iamVjdCwgYnkgdXNpbmcgdGhlIGludGVybmFsIHBvb2wgb3IgY3JlYXRpbmcgYSBuZXcgb25lLlxyXG4gICAqIEBtZXRob2QgY3JlYXRlQ29udGFjdEVxdWF0aW9uXHJcbiAgICogQHBhcmFtIHtCb2R5fSBiaVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYmpcclxuICAgKiBAcGFyYW0ge1NoYXBlfSBzaVxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IHNqXHJcbiAgICogQHBhcmFtIHtTaGFwZX0gb3ZlcnJpZGVTaGFwZUFcclxuICAgKiBAcGFyYW0ge1NoYXBlfSBvdmVycmlkZVNoYXBlQlxyXG4gICAqIEByZXR1cm4ge0NvbnRhY3RFcXVhdGlvbn1cclxuICAgKi9cblxuXG4gIGNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgb3ZlcnJpZGVTaGFwZUEsIG92ZXJyaWRlU2hhcGVCKSB7XG4gICAgbGV0IGM7XG5cbiAgICBpZiAodGhpcy5jb250YWN0UG9pbnRQb29sLmxlbmd0aCkge1xuICAgICAgYyA9IHRoaXMuY29udGFjdFBvaW50UG9vbC5wb3AoKTtcbiAgICAgIGMuYmkgPSBiaTtcbiAgICAgIGMuYmogPSBiajtcbiAgICB9IGVsc2Uge1xuICAgICAgYyA9IG5ldyBDb250YWN0RXF1YXRpb24oYmksIGJqKTtcbiAgICB9XG5cbiAgICBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTtcbiAgICBjb25zdCBjbSA9IHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbDtcbiAgICBjLnJlc3RpdHV0aW9uID0gY20ucmVzdGl0dXRpb247XG4gICAgYy5zZXRTcG9va1BhcmFtcyhjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sIHRoaXMud29ybGQuZHQpO1xuICAgIGNvbnN0IG1hdEEgPSBzaS5tYXRlcmlhbCB8fCBiaS5tYXRlcmlhbDtcbiAgICBjb25zdCBtYXRCID0gc2oubWF0ZXJpYWwgfHwgYmoubWF0ZXJpYWw7XG5cbiAgICBpZiAobWF0QSAmJiBtYXRCICYmIG1hdEEucmVzdGl0dXRpb24gPj0gMCAmJiBtYXRCLnJlc3RpdHV0aW9uID49IDApIHtcbiAgICAgIGMucmVzdGl0dXRpb24gPSBtYXRBLnJlc3RpdHV0aW9uICogbWF0Qi5yZXN0aXR1dGlvbjtcbiAgICB9XG5cbiAgICBjLnNpID0gb3ZlcnJpZGVTaGFwZUEgfHwgc2k7XG4gICAgYy5zaiA9IG92ZXJyaWRlU2hhcGVCIHx8IHNqO1xuICAgIHJldHVybiBjO1xuICB9XG5cbiAgY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjb250YWN0RXF1YXRpb24sIG91dEFycmF5KSB7XG4gICAgY29uc3QgYm9keUEgPSBjb250YWN0RXF1YXRpb24uYmk7XG4gICAgY29uc3QgYm9keUIgPSBjb250YWN0RXF1YXRpb24uYmo7XG4gICAgY29uc3Qgc2hhcGVBID0gY29udGFjdEVxdWF0aW9uLnNpO1xuICAgIGNvbnN0IHNoYXBlQiA9IGNvbnRhY3RFcXVhdGlvbi5zajtcbiAgICBjb25zdCB3b3JsZCA9IHRoaXMud29ybGQ7XG4gICAgY29uc3QgY20gPSB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7IC8vIElmIGZyaWN0aW9uIG9yIHJlc3RpdHV0aW9uIHdlcmUgc3BlY2lmaWVkIGluIHRoZSBtYXRlcmlhbCwgdXNlIHRoZW1cblxuICAgIGxldCBmcmljdGlvbiA9IGNtLmZyaWN0aW9uO1xuICAgIGNvbnN0IG1hdEEgPSBzaGFwZUEubWF0ZXJpYWwgfHwgYm9keUEubWF0ZXJpYWw7XG4gICAgY29uc3QgbWF0QiA9IHNoYXBlQi5tYXRlcmlhbCB8fCBib2R5Qi5tYXRlcmlhbDtcblxuICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5mcmljdGlvbiA+PSAwICYmIG1hdEIuZnJpY3Rpb24gPj0gMCkge1xuICAgICAgZnJpY3Rpb24gPSBtYXRBLmZyaWN0aW9uICogbWF0Qi5mcmljdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoZnJpY3Rpb24gPiAwKSB7XG4gICAgICAvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9uc1xuICAgICAgY29uc3QgbXVnID0gZnJpY3Rpb24gKiB3b3JsZC5ncmF2aXR5Lmxlbmd0aCgpO1xuICAgICAgbGV0IHJlZHVjZWRNYXNzID0gYm9keUEuaW52TWFzcyArIGJvZHlCLmludk1hc3M7XG5cbiAgICAgIGlmIChyZWR1Y2VkTWFzcyA+IDApIHtcbiAgICAgICAgcmVkdWNlZE1hc3MgPSAxIC8gcmVkdWNlZE1hc3M7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBvb2wgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sO1xuICAgICAgY29uc3QgYzEgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihib2R5QSwgYm9keUIsIG11ZyAqIHJlZHVjZWRNYXNzKTtcbiAgICAgIGNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtdWcgKiByZWR1Y2VkTWFzcyk7XG4gICAgICBjMS5iaSA9IGMyLmJpID0gYm9keUE7XG4gICAgICBjMS5iaiA9IGMyLmJqID0gYm9keUI7XG4gICAgICBjMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZyAqIHJlZHVjZWRNYXNzO1xuICAgICAgYzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZyAqIHJlZHVjZWRNYXNzOyAvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnNcblxuICAgICAgYzEucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpO1xuICAgICAgYzEucmouY29weShjb250YWN0RXF1YXRpb24ucmopO1xuICAgICAgYzIucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpO1xuICAgICAgYzIucmouY29weShjb250YWN0RXF1YXRpb24ucmopOyAvLyBDb25zdHJ1Y3QgdGFuZ2VudHNcblxuICAgICAgY29udGFjdEVxdWF0aW9uLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpOyAvLyBTZXQgc3Bvb2sgcGFyYW1zXG5cbiAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7XG4gICAgICBjMi5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgd29ybGQuZHQpO1xuICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjb250YWN0RXF1YXRpb24uZW5hYmxlZDtcbiAgICAgIG91dEFycmF5LnB1c2goYzEsIGMyKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBUYWtlIHRoZSBhdmVyYWdlIE4gbGF0ZXN0IGNvbnRhY3QgcG9pbnQgb24gdGhlIHBsYW5lLlxuXG5cbiAgY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cykge1xuICAgIC8vIFRoZSBsYXN0IGNvbnRhY3RFcXVhdGlvblxuICAgIGxldCBjID0gdGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoIC0gMV07IC8vIENyZWF0ZSB0aGUgcmVzdWx0OiB0d28gXCJhdmVyYWdlXCIgZnJpY3Rpb24gZXF1YXRpb25zXG5cbiAgICBpZiAoIXRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjLCB0aGlzLmZyaWN0aW9uUmVzdWx0KSB8fCBudW1Db250YWN0cyA9PT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGYxID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDJdO1xuICAgIGNvbnN0IGYyID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgIGF2ZXJhZ2VOb3JtYWwuc2V0WmVybygpO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNldFplcm8oKTtcbiAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi5zZXRaZXJvKCk7XG4gICAgY29uc3QgYm9keUEgPSBjLmJpO1xuICAgIGNvbnN0IGJvZHlCID0gYy5iajtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBudW1Db250YWN0czsgaSsrKSB7XG4gICAgICBjID0gdGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoIC0gMSAtIGldO1xuXG4gICAgICBpZiAoYy5iaSAhPT0gYm9keUEpIHtcbiAgICAgICAgYXZlcmFnZU5vcm1hbC52YWRkKGMubmksIGF2ZXJhZ2VOb3JtYWwpO1xuICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTtcbiAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEIudmFkZChjLnJqLCBhdmVyYWdlQ29udGFjdFBvaW50Qik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdmVyYWdlTm9ybWFsLnZzdWIoYy5uaSwgYXZlcmFnZU5vcm1hbCk7XG4gICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnZhZGQoYy5yaiwgYXZlcmFnZUNvbnRhY3RQb2ludEEpO1xuICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBpbnZOdW1Db250YWN0cyA9IDEgLyBudW1Db250YWN0cztcbiAgICBhdmVyYWdlQ29udGFjdFBvaW50QS5zY2FsZShpbnZOdW1Db250YWN0cywgZjEucmkpO1xuICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaik7XG4gICAgZjIucmkuY29weShmMS5yaSk7IC8vIFNob3VsZCBiZSB0aGUgc2FtZVxuXG4gICAgZjIucmouY29weShmMS5yaik7XG4gICAgYXZlcmFnZU5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICBhdmVyYWdlTm9ybWFsLnRhbmdlbnRzKGYxLnQsIGYyLnQpOyAvLyByZXR1cm4gZXE7XG4gIH1cbiAgLyoqXHJcbiAgICogR2VuZXJhdGUgYWxsIGNvbnRhY3RzIGJldHdlZW4gYSBsaXN0IG9mIGJvZHkgcGFpcnNcclxuICAgKiBAbWV0aG9kIGdldENvbnRhY3RzXHJcbiAgICogQHBhcmFtIHthcnJheX0gcDEgQXJyYXkgb2YgYm9keSBpbmRpY2VzXHJcbiAgICogQHBhcmFtIHthcnJheX0gcDIgQXJyYXkgb2YgYm9keSBpbmRpY2VzXHJcbiAgICogQHBhcmFtIHtXb3JsZH0gd29ybGRcclxuICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQXJyYXkgdG8gc3RvcmUgZ2VuZXJhdGVkIGNvbnRhY3RzXHJcbiAgICogQHBhcmFtIHthcnJheX0gb2xkY29udGFjdHMgT3B0aW9uYWwuIEFycmF5IG9mIHJldXNhYmxlIGNvbnRhY3Qgb2JqZWN0c1xyXG4gICAqL1xuXG5cbiAgZ2V0Q29udGFjdHMocDEsIHAyLCB3b3JsZCwgcmVzdWx0LCBvbGRjb250YWN0cywgZnJpY3Rpb25SZXN1bHQsIGZyaWN0aW9uUG9vbCkge1xuICAgIC8vIFNhdmUgb2xkIGNvbnRhY3Qgb2JqZWN0c1xuICAgIHRoaXMuY29udGFjdFBvaW50UG9vbCA9IG9sZGNvbnRhY3RzO1xuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBmcmljdGlvblBvb2w7XG4gICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgdGhpcy5mcmljdGlvblJlc3VsdCA9IGZyaWN0aW9uUmVzdWx0O1xuICAgIGNvbnN0IHFpID0gdG1wUXVhdDE7XG4gICAgY29uc3QgcWogPSB0bXBRdWF0MjtcbiAgICBjb25zdCB4aSA9IHRtcFZlYzEkMjtcbiAgICBjb25zdCB4aiA9IHRtcFZlYzIkMjtcblxuICAgIGZvciAobGV0IGsgPSAwLCBOID0gcDEubGVuZ3RoOyBrICE9PSBOOyBrKyspIHtcbiAgICAgIC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBib2RpZXNcbiAgICAgIGNvbnN0IGJpID0gcDFba107XG4gICAgICBjb25zdCBiaiA9IHAyW2tdOyAvLyBHZXQgY29udGFjdCBtYXRlcmlhbFxuXG4gICAgICBsZXQgYm9keUNvbnRhY3RNYXRlcmlhbCA9IG51bGw7XG5cbiAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkge1xuICAgICAgICBib2R5Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QganVzdFRlc3QgPSBiaS50eXBlICYgQm9keS5LSU5FTUFUSUMgJiYgYmoudHlwZSAmIEJvZHkuU1RBVElDIHx8IGJpLnR5cGUgJiBCb2R5LlNUQVRJQyAmJiBiai50eXBlICYgQm9keS5LSU5FTUFUSUMgfHwgYmkudHlwZSAmIEJvZHkuS0lORU1BVElDICYmIGJqLnR5cGUgJiBCb2R5LktJTkVNQVRJQztcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaS5zaGFwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmkucXVhdGVybmlvbi5tdWx0KGJpLnNoYXBlT3JpZW50YXRpb25zW2ldLCBxaSk7XG4gICAgICAgIGJpLnF1YXRlcm5pb24udm11bHQoYmkuc2hhcGVPZmZzZXRzW2ldLCB4aSk7XG4gICAgICAgIHhpLnZhZGQoYmkucG9zaXRpb24sIHhpKTtcbiAgICAgICAgY29uc3Qgc2kgPSBiaS5zaGFwZXNbaV07XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBiai5zaGFwZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAvLyBDb21wdXRlIHdvcmxkIHRyYW5zZm9ybSBvZiBzaGFwZXNcbiAgICAgICAgICBiai5xdWF0ZXJuaW9uLm11bHQoYmouc2hhcGVPcmllbnRhdGlvbnNbal0sIHFqKTtcbiAgICAgICAgICBiai5xdWF0ZXJuaW9uLnZtdWx0KGJqLnNoYXBlT2Zmc2V0c1tqXSwgeGopO1xuICAgICAgICAgIHhqLnZhZGQoYmoucG9zaXRpb24sIHhqKTtcbiAgICAgICAgICBjb25zdCBzaiA9IGJqLnNoYXBlc1tqXTtcblxuICAgICAgICAgIGlmICghKHNpLmNvbGxpc2lvbkZpbHRlck1hc2sgJiBzai5jb2xsaXNpb25GaWx0ZXJHcm91cCAmJiBzai5jb2xsaXNpb25GaWx0ZXJNYXNrICYgc2kuY29sbGlzaW9uRmlsdGVyR3JvdXApKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IC8vIEdldCBjb2xsaXNpb24gbWF0ZXJpYWxcblxuXG4gICAgICAgICAgbGV0IHNoYXBlQ29udGFjdE1hdGVyaWFsID0gbnVsbDtcblxuICAgICAgICAgIGlmIChzaS5tYXRlcmlhbCAmJiBzai5tYXRlcmlhbCkge1xuICAgICAgICAgICAgc2hhcGVDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwoc2kubWF0ZXJpYWwsIHNqLm1hdGVyaWFsKSB8fCBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHNoYXBlQ29udGFjdE1hdGVyaWFsIHx8IGJvZHlDb250YWN0TWF0ZXJpYWwgfHwgd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsgLy8gR2V0IGNvbnRhY3RzXG5cbiAgICAgICAgICBjb25zdCByZXNvbHZlckluZGV4ID0gc2kudHlwZSB8IHNqLnR5cGU7XG4gICAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSB0aGlzW3Jlc29sdmVySW5kZXhdO1xuXG4gICAgICAgICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICAgICAgICBsZXQgcmV0dmFsID0gZmFsc2U7IC8vIFRPIERPOiBpbnZlc3RpZ2F0ZSB3aHkgc3BoZXJlUGFydGljbGUgYW5kIGNvbnZleFBhcnRpY2xlXG4gICAgICAgICAgICAvLyByZXNvbHZlcnMgZXhwZWN0IHNpIGFuZCBzaiBzaGFwZXMgdG8gYmUgaW4gcmV2ZXJzZSBvcmRlclxuICAgICAgICAgICAgLy8gKGkuZS4gbGFyZ2VyIGludGVnZXIgdmFsdWUgdHlwZSBmaXJzdCBpbnN0ZWFkIG9mIHNtYWxsZXIgZmlyc3QpXG5cbiAgICAgICAgICAgIGlmIChzaS50eXBlIDwgc2oudHlwZSkge1xuICAgICAgICAgICAgICByZXR2YWwgPSByZXNvbHZlci5jYWxsKHRoaXMsIHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR2YWwgPSByZXNvbHZlci5jYWxsKHRoaXMsIHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgc2ksIHNqLCBqdXN0VGVzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXR2YWwgJiYganVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgb3ZlcmxhcFxuICAgICAgICAgICAgICB3b3JsZC5zaGFwZU92ZXJsYXBLZWVwZXIuc2V0KHNpLmlkLCBzai5pZCk7XG4gICAgICAgICAgICAgIHdvcmxkLmJvZHlPdmVybGFwS2VlcGVyLnNldChiaS5pZCwgYmouaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNwaGVyZVNwaGVyZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgcmV0dXJuIHhpLmRpc3RhbmNlU3F1YXJlZCh4aikgPCAoc2kucmFkaXVzICsgc2oucmFkaXVzKSAqKiAyO1xuICAgIH0gLy8gV2Ugd2lsbCBoYXZlIG9ubHkgb25lIGNvbnRhY3QgaW4gdGhpcyBjYXNlXG5cblxuICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOyAvLyBDb250YWN0IG5vcm1hbFxuXG4gICAgeGoudnN1Yih4aSwgci5uaSk7XG4gICAgci5uaS5ub3JtYWxpemUoKTsgLy8gQ29udGFjdCBwb2ludCBsb2NhdGlvbnNcblxuICAgIHIucmkuY29weShyLm5pKTtcbiAgICByLnJqLmNvcHkoci5uaSk7XG4gICAgci5yaS5zY2FsZShzaS5yYWRpdXMsIHIucmkpO1xuICAgIHIucmouc2NhbGUoLXNqLnJhZGl1cywgci5yaik7XG4gICAgci5yaS52YWRkKHhpLCByLnJpKTtcbiAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpO1xuICAgIHIucmoudmFkZCh4aiwgci5yaik7XG4gICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgfVxuXG4gIHNwaGVyZVBsYW5lKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gV2Ugd2lsbCBoYXZlIG9uZSBjb250YWN0IGluIHRoaXMgY2FzZVxuICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOyAvLyBDb250YWN0IG5vcm1hbFxuXG4gICAgci5uaS5zZXQoMCwgMCwgMSk7XG4gICAgcWoudm11bHQoci5uaSwgci5uaSk7XG4gICAgci5uaS5uZWdhdGUoci5uaSk7IC8vIGJvZHkgaSBpcyB0aGUgc3BoZXJlLCBmbGlwIG5vcm1hbFxuXG4gICAgci5uaS5ub3JtYWxpemUoKTsgLy8gTmVlZGVkP1xuICAgIC8vIFZlY3RvciBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gY29udGFjdCBwb2ludFxuXG4gICAgci5uaS5zY2FsZShzaS5yYWRpdXMsIHIucmkpOyAvLyBQcm9qZWN0IGRvd24gc3BoZXJlIG9uIHBsYW5lXG5cbiAgICB4aS52c3ViKHhqLCBwb2ludF9vbl9wbGFuZV90b19zcGhlcmUpO1xuICAgIHIubmkuc2NhbGUoci5uaS5kb3QocG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlKSwgcGxhbmVfdG9fc3BoZXJlX29ydGhvKTtcbiAgICBwb2ludF9vbl9wbGFuZV90b19zcGhlcmUudnN1YihwbGFuZV90b19zcGhlcmVfb3J0aG8sIHIucmopOyAvLyBUaGUgc3BoZXJlIHBvc2l0aW9uIHByb2plY3RlZCB0byBwbGFuZVxuXG4gICAgaWYgKC1wb2ludF9vbl9wbGFuZV90b19zcGhlcmUuZG90KHIubmkpIDw9IHNpLnJhZGl1cykge1xuICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSAvLyBNYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSBib2R5XG5cblxuICAgICAgY29uc3QgcmkgPSByLnJpO1xuICAgICAgY29uc3QgcmogPSByLnJqO1xuICAgICAgcmkudmFkZCh4aSwgcmkpO1xuICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpO1xuICAgICAgcmoudmFkZCh4aiwgcmopO1xuICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopO1xuICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICBib3hCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDtcbiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzai5tYXRlcmlhbDtcbiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTtcbiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzai5jb2xsaXNpb25SZXNwb25zZTtcbiAgICByZXR1cm4gdGhpcy5jb252ZXhDb252ZXgoc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgc3BoZXJlQm94KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3QgdjNwb29sID0gdGhpcy52M3Bvb2w7IC8vIHdlIHJlZmVyIHRvIHRoZSBib3ggYXMgYm9keSBqXG5cbiAgICBjb25zdCBzaWRlcyA9IHNwaGVyZUJveF9zaWRlcztcbiAgICB4aS52c3ViKHhqLCBib3hfdG9fc3BoZXJlKTtcbiAgICBzai5nZXRTaWRlTm9ybWFscyhzaWRlcywgcWopO1xuICAgIGNvbnN0IFIgPSBzaS5yYWRpdXM7XG5cbiAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gU3RvcmUgdGhlIHJlc3VsdGluZyBzaWRlIHBlbmV0cmF0aW9uIGluZm9cblxuICAgIGNvbnN0IHNpZGVfbnMgPSBzcGhlcmVCb3hfc2lkZV9ucztcbiAgICBjb25zdCBzaWRlX25zMSA9IHNwaGVyZUJveF9zaWRlX25zMTtcbiAgICBjb25zdCBzaWRlX25zMiA9IHNwaGVyZUJveF9zaWRlX25zMjtcbiAgICBsZXQgc2lkZV9oID0gbnVsbDtcbiAgICBsZXQgc2lkZV9wZW5ldHJhdGlvbnMgPSAwO1xuICAgIGxldCBzaWRlX2RvdDEgPSAwO1xuICAgIGxldCBzaWRlX2RvdDIgPSAwO1xuICAgIGxldCBzaWRlX2Rpc3RhbmNlID0gbnVsbDtcblxuICAgIGZvciAobGV0IGlkeCA9IDAsIG5zaWRlcyA9IHNpZGVzLmxlbmd0aDsgaWR4ICE9PSBuc2lkZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpZHgrKykge1xuICAgICAgLy8gR2V0IHRoZSBwbGFuZSBzaWRlIG5vcm1hbCAobnMpXG4gICAgICBjb25zdCBucyA9IHNwaGVyZUJveF9ucztcbiAgICAgIG5zLmNvcHkoc2lkZXNbaWR4XSk7XG4gICAgICBjb25zdCBoID0gbnMubGVuZ3RoKCk7XG4gICAgICBucy5ub3JtYWxpemUoKTsgLy8gVGhlIG5vcm1hbC9kaXN0YW5jZSBkb3QgcHJvZHVjdCB0ZWxscyB3aGljaCBzaWRlIG9mIHRoZSBwbGFuZSB3ZSBhcmVcblxuICAgICAgY29uc3QgZG90ID0gYm94X3RvX3NwaGVyZS5kb3QobnMpO1xuXG4gICAgICBpZiAoZG90IDwgaCArIFIgJiYgZG90ID4gMCkge1xuICAgICAgICAvLyBJbnRlcnNlY3RzIHBsYW5lLiBOb3cgY2hlY2sgdGhlIG90aGVyIHR3byBkaW1lbnNpb25zXG4gICAgICAgIGNvbnN0IG5zMSA9IHNwaGVyZUJveF9uczE7XG4gICAgICAgIGNvbnN0IG5zMiA9IHNwaGVyZUJveF9uczI7XG4gICAgICAgIG5zMS5jb3B5KHNpZGVzWyhpZHggKyAxKSAlIDNdKTtcbiAgICAgICAgbnMyLmNvcHkoc2lkZXNbKGlkeCArIDIpICUgM10pO1xuICAgICAgICBjb25zdCBoMSA9IG5zMS5sZW5ndGgoKTtcbiAgICAgICAgY29uc3QgaDIgPSBuczIubGVuZ3RoKCk7XG4gICAgICAgIG5zMS5ub3JtYWxpemUoKTtcbiAgICAgICAgbnMyLm5vcm1hbGl6ZSgpO1xuICAgICAgICBjb25zdCBkb3QxID0gYm94X3RvX3NwaGVyZS5kb3QobnMxKTtcbiAgICAgICAgY29uc3QgZG90MiA9IGJveF90b19zcGhlcmUuZG90KG5zMik7XG5cbiAgICAgICAgaWYgKGRvdDEgPCBoMSAmJiBkb3QxID4gLWgxICYmIGRvdDIgPCBoMiAmJiBkb3QyID4gLWgyKSB7XG4gICAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguYWJzKGRvdCAtIGggLSBSKTtcblxuICAgICAgICAgIGlmIChzaWRlX2Rpc3RhbmNlID09PSBudWxsIHx8IGRpc3QgPCBzaWRlX2Rpc3RhbmNlKSB7XG4gICAgICAgICAgICBzaWRlX2Rpc3RhbmNlID0gZGlzdDtcbiAgICAgICAgICAgIHNpZGVfZG90MSA9IGRvdDE7XG4gICAgICAgICAgICBzaWRlX2RvdDIgPSBkb3QyO1xuICAgICAgICAgICAgc2lkZV9oID0gaDtcbiAgICAgICAgICAgIHNpZGVfbnMuY29weShucyk7XG4gICAgICAgICAgICBzaWRlX25zMS5jb3B5KG5zMSk7XG4gICAgICAgICAgICBzaWRlX25zMi5jb3B5KG5zMik7XG4gICAgICAgICAgICBzaWRlX3BlbmV0cmF0aW9ucysrO1xuXG4gICAgICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNpZGVfcGVuZXRyYXRpb25zKSB7XG4gICAgICBmb3VuZCA9IHRydWU7XG4gICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgIHNpZGVfbnMuc2NhbGUoLVIsIHIucmkpOyAvLyBTcGhlcmUgclxuXG4gICAgICByLm5pLmNvcHkoc2lkZV9ucyk7XG4gICAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHNob3VsZCBiZSBvdXQgb2Ygc3BoZXJlXG5cbiAgICAgIHNpZGVfbnMuc2NhbGUoc2lkZV9oLCBzaWRlX25zKTtcbiAgICAgIHNpZGVfbnMxLnNjYWxlKHNpZGVfZG90MSwgc2lkZV9uczEpO1xuICAgICAgc2lkZV9ucy52YWRkKHNpZGVfbnMxLCBzaWRlX25zKTtcbiAgICAgIHNpZGVfbnMyLnNjYWxlKHNpZGVfZG90Miwgc2lkZV9uczIpO1xuICAgICAgc2lkZV9ucy52YWRkKHNpZGVfbnMyLCByLnJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgci5yaS52YWRkKHhpLCByLnJpKTtcbiAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICByLnJqLnZhZGQoeGosIHIucmopO1xuICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTtcbiAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgfSAvLyBDaGVjayBjb3JuZXJzXG5cblxuICAgIGxldCByaiA9IHYzcG9vbC5nZXQoKTtcbiAgICBjb25zdCBzcGhlcmVfdG9fY29ybmVyID0gc3BoZXJlQm94X3NwaGVyZV90b19jb3JuZXI7XG5cbiAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gMiAmJiAhZm91bmQ7IGorKykge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgIT09IDIgJiYgIWZvdW5kOyBrKyspIHtcbiAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgIT09IDIgJiYgIWZvdW5kOyBsKyspIHtcbiAgICAgICAgICByai5zZXQoMCwgMCwgMCk7XG5cbiAgICAgICAgICBpZiAoaikge1xuICAgICAgICAgICAgcmoudmFkZChzaWRlc1swXSwgcmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByai52c3ViKHNpZGVzWzBdLCByaik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGspIHtcbiAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMV0sIHJqKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmoudnN1YihzaWRlc1sxXSwgcmopO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICByai52YWRkKHNpZGVzWzJdLCByaik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMl0sIHJqKTtcbiAgICAgICAgICB9IC8vIFdvcmxkIHBvc2l0aW9uIG9mIGNvcm5lclxuXG5cbiAgICAgICAgICB4ai52YWRkKHJqLCBzcGhlcmVfdG9fY29ybmVyKTtcbiAgICAgICAgICBzcGhlcmVfdG9fY29ybmVyLnZzdWIoeGksIHNwaGVyZV90b19jb3JuZXIpO1xuXG4gICAgICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHtcbiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7XG4gICAgICAgICAgICByLnJpLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgci5uaS5jb3B5KHIucmkpO1xuICAgICAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTtcbiAgICAgICAgICAgIHIucmouY29weShyaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzXG5cbiAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7XG4gICAgICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHYzcG9vbC5yZWxlYXNlKHJqKTtcbiAgICByaiA9IG51bGw7IC8vIENoZWNrIGVkZ2VzXG5cbiAgICBjb25zdCBlZGdlVGFuZ2VudCA9IHYzcG9vbC5nZXQoKTtcbiAgICBjb25zdCBlZGdlQ2VudGVyID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IHIgPSB2M3Bvb2wuZ2V0KCk7IC8vIHIgPSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyXG5cbiAgICBjb25zdCBvcnRob2dvbmFsID0gdjNwb29sLmdldCgpO1xuICAgIGNvbnN0IGRpc3QgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgY29uc3QgTnNpZGVzID0gc2lkZXMubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogIT09IE5zaWRlcyAmJiAhZm91bmQ7IGorKykge1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgIT09IE5zaWRlcyAmJiAhZm91bmQ7IGsrKykge1xuICAgICAgICBpZiAoaiAlIDMgIT09IGsgJSAzKSB7XG4gICAgICAgICAgLy8gR2V0IGVkZ2UgdGFuZ2VudFxuICAgICAgICAgIHNpZGVzW2tdLmNyb3NzKHNpZGVzW2pdLCBlZGdlVGFuZ2VudCk7XG4gICAgICAgICAgZWRnZVRhbmdlbnQubm9ybWFsaXplKCk7XG4gICAgICAgICAgc2lkZXNbal0udmFkZChzaWRlc1trXSwgZWRnZUNlbnRlcik7XG4gICAgICAgICAgci5jb3B5KHhpKTtcbiAgICAgICAgICByLnZzdWIoZWRnZUNlbnRlciwgcik7XG4gICAgICAgICAgci52c3ViKHhqLCByKTtcbiAgICAgICAgICBjb25zdCBvcnRob25vcm0gPSByLmRvdChlZGdlVGFuZ2VudCk7IC8vIGRpc3RhbmNlIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlciBpbiB0aGUgdGFuZ2VudCBkaXJlY3Rpb25cblxuICAgICAgICAgIGVkZ2VUYW5nZW50LnNjYWxlKG9ydGhvbm9ybSwgb3J0aG9nb25hbCk7IC8vIFZlY3RvciBmcm9tIGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXIgaW4gdGhlIHRhbmdlbnQgZGlyZWN0aW9uXG4gICAgICAgICAgLy8gRmluZCB0aGUgdGhpcmQgc2lkZSBvcnRob2dvbmFsIHRvIHRoaXMgb25lXG5cbiAgICAgICAgICBsZXQgbCA9IDA7XG5cbiAgICAgICAgICB3aGlsZSAobCA9PT0gaiAlIDMgfHwgbCA9PT0gayAlIDMpIHtcbiAgICAgICAgICAgIGwrKztcbiAgICAgICAgICB9IC8vIHZlYyBmcm9tIGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBwcm9qZWN0ZWQgdG8gdGhlIHBsYW5lIG9ydGhvZ29uYWwgdG8gdGhlIGVkZ2UgdGFuZ2VudFxuXG5cbiAgICAgICAgICBkaXN0LmNvcHkoeGkpO1xuICAgICAgICAgIGRpc3QudnN1YihvcnRob2dvbmFsLCBkaXN0KTtcbiAgICAgICAgICBkaXN0LnZzdWIoZWRnZUNlbnRlciwgZGlzdCk7XG4gICAgICAgICAgZGlzdC52c3ViKHhqLCBkaXN0KTsgLy8gRGlzdGFuY2VzIGluIHRhbmdlbnQgZGlyZWN0aW9uIGFuZCBkaXN0YW5jZSBpbiB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byBpdFxuXG4gICAgICAgICAgY29uc3QgdGRpc3QgPSBNYXRoLmFicyhvcnRob25vcm0pO1xuICAgICAgICAgIGNvbnN0IG5kaXN0ID0gZGlzdC5sZW5ndGgoKTtcblxuICAgICAgICAgIGlmICh0ZGlzdCA8IHNpZGVzW2xdLmxlbmd0aCgpICYmIG5kaXN0IDwgUikge1xuICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICAgICAgZWRnZUNlbnRlci52YWRkKG9ydGhvZ29uYWwsIHJlcy5yaik7IC8vIGJveCByalxuXG4gICAgICAgICAgICByZXMucmouY29weShyZXMucmopO1xuICAgICAgICAgICAgZGlzdC5uZWdhdGUocmVzLm5pKTtcbiAgICAgICAgICAgIHJlcy5uaS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgIHJlcy5yaS5jb3B5KHJlcy5yaik7XG4gICAgICAgICAgICByZXMucmkudmFkZCh4aiwgcmVzLnJpKTtcbiAgICAgICAgICAgIHJlcy5yaS52c3ViKHhpLCByZXMucmkpO1xuICAgICAgICAgICAgcmVzLnJpLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgcmVzLnJpLnNjYWxlKFIsIHJlcy5yaSk7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzXG5cbiAgICAgICAgICAgIHJlcy5yaS52YWRkKHhpLCByZXMucmkpO1xuICAgICAgICAgICAgcmVzLnJpLnZzdWIoYmkucG9zaXRpb24sIHJlcy5yaSk7XG4gICAgICAgICAgICByZXMucmoudmFkZCh4aiwgcmVzLnJqKTtcbiAgICAgICAgICAgIHJlcy5yai52c3ViKGJqLnBvc2l0aW9uLCByZXMucmopO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyZXMpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHJlcywgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdjNwb29sLnJlbGVhc2UoZWRnZVRhbmdlbnQsIGVkZ2VDZW50ZXIsIHIsIG9ydGhvZ29uYWwsIGRpc3QpO1xuICB9XG5cbiAgcGxhbmVCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzai5tYXRlcmlhbDtcbiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzai5jb2xsaXNpb25SZXNwb25zZTtcbiAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uaWQgPSBzai5pZDtcbiAgICByZXR1cm4gdGhpcy5wbGFuZUNvbnZleChzaSwgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgfVxuXG4gIGNvbnZleENvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCwgZmFjZUxpc3RBLCBmYWNlTGlzdEIpIHtcbiAgICBjb25zdCBzZXBBeGlzID0gY29udmV4Q29udmV4X3NlcEF4aXM7XG5cbiAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNpLmZpbmRTZXBhcmF0aW5nQXhpcyhzaiwgeGksIHFpLCB4aiwgcWosIHNlcEF4aXMsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSkge1xuICAgICAgY29uc3QgcmVzID0gW107XG4gICAgICBjb25zdCBxID0gY29udmV4Q29udmV4X3E7XG4gICAgICBzaS5jbGlwQWdhaW5zdEh1bGwoeGksIHFpLCBzaiwgeGosIHFqLCBzZXBBeGlzLCAtMTAwLCAxMDAsIHJlcyk7XG4gICAgICBsZXQgbnVtQ29udGFjdHMgPSAwO1xuXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gcmVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgIGNvbnN0IHJpID0gci5yaTtcbiAgICAgICAgY29uc3QgcmogPSByLnJqO1xuICAgICAgICBzZXBBeGlzLm5lZ2F0ZShyLm5pKTtcbiAgICAgICAgcmVzW2pdLm5vcm1hbC5uZWdhdGUocSk7XG4gICAgICAgIHEuc2NhbGUocmVzW2pdLmRlcHRoLCBxKTtcbiAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpO1xuICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7IC8vIENvbnRhY3QgcG9pbnRzIGFyZSBpbiB3b3JsZCBjb29yZGluYXRlcy4gVHJhbnNmb3JtIGJhY2sgdG8gcmVsYXRpdmVcblxuICAgICAgICByaS52c3ViKHhpLCByaSk7XG4gICAgICAgIHJqLnZzdWIoeGosIHJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICByaS52YWRkKHhpLCByaSk7XG4gICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTtcbiAgICAgICAgcmoudmFkZCh4aiwgcmopO1xuICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIG51bUNvbnRhY3RzKys7XG5cbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uICYmIG51bUNvbnRhY3RzKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3BoZXJlQ29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3QgdjNwb29sID0gdGhpcy52M3Bvb2w7XG4gICAgeGkudnN1Yih4aiwgY29udmV4X3RvX3NwaGVyZSk7XG4gICAgY29uc3Qgbm9ybWFscyA9IHNqLmZhY2VOb3JtYWxzO1xuICAgIGNvbnN0IGZhY2VzID0gc2ouZmFjZXM7XG4gICAgY29uc3QgdmVydHMgPSBzai52ZXJ0aWNlcztcbiAgICBjb25zdCBSID0gc2kucmFkaXVzO1xuICAgIC8vICAgICByZXR1cm47XG4gICAgLy8gfVxuXG4gICAgbGV0IGZvdW5kID0gZmFsc2U7IC8vIENoZWNrIGNvcm5lcnNcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB2ZXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdiA9IHZlcnRzW2ldOyAvLyBXb3JsZCBwb3NpdGlvbiBvZiBjb3JuZXJcblxuICAgICAgY29uc3Qgd29ybGRDb3JuZXIgPSBzcGhlcmVDb252ZXhfd29ybGRDb3JuZXI7XG4gICAgICBxai52bXVsdCh2LCB3b3JsZENvcm5lcik7XG4gICAgICB4ai52YWRkKHdvcmxkQ29ybmVyLCB3b3JsZENvcm5lcik7XG4gICAgICBjb25zdCBzcGhlcmVfdG9fY29ybmVyID0gc3BoZXJlQ29udmV4X3NwaGVyZVRvQ29ybmVyO1xuICAgICAgd29ybGRDb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7XG5cbiAgICAgIGlmIChzcGhlcmVfdG9fY29ybmVyLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgci5yaS5jb3B5KHNwaGVyZV90b19jb3JuZXIpO1xuICAgICAgICByLnJpLm5vcm1hbGl6ZSgpO1xuICAgICAgICByLm5pLmNvcHkoci5yaSk7XG4gICAgICAgIHIucmkuc2NhbGUoUiwgci5yaSk7XG4gICAgICAgIHdvcmxkQ29ybmVyLnZzdWIoeGosIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTtcbiAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LlxuXG4gICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7XG4gICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gLy8gQ2hlY2sgc2lkZSAocGxhbmUpIGludGVyc2VjdGlvbnNcblxuXG4gICAgZm9yIChsZXQgaSA9IDAsIG5mYWNlcyA9IGZhY2VzLmxlbmd0aDsgaSAhPT0gbmZhY2VzICYmIGZvdW5kID09PSBmYWxzZTsgaSsrKSB7XG4gICAgICBjb25zdCBub3JtYWwgPSBub3JtYWxzW2ldO1xuICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ldOyAvLyBHZXQgd29ybGQtdHJhbnNmb3JtZWQgbm9ybWFsIG9mIHRoZSBmYWNlXG5cbiAgICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsO1xuICAgICAgcWoudm11bHQobm9ybWFsLCB3b3JsZE5vcm1hbCk7IC8vIEdldCBhIHdvcmxkIHZlcnRleCBmcm9tIHRoZSBmYWNlXG5cbiAgICAgIGNvbnN0IHdvcmxkUG9pbnQgPSBzcGhlcmVDb252ZXhfd29ybGRQb2ludDtcbiAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbMF1dLCB3b3JsZFBvaW50KTtcbiAgICAgIHdvcmxkUG9pbnQudmFkZCh4aiwgd29ybGRQb2ludCk7IC8vIEdldCBhIHBvaW50IG9uIHRoZSBzcGhlcmUsIGNsb3Nlc3QgdG8gdGhlIGZhY2Ugbm9ybWFsXG5cbiAgICAgIGNvbnN0IHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSA9IHNwaGVyZUNvbnZleF93b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmU7XG4gICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lKTtcbiAgICAgIHhpLnZhZGQod29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpOyAvLyBWZWN0b3IgZnJvbSBhIGZhY2UgcG9pbnQgdG8gdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHNwaGVyZVxuXG4gICAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IHNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYztcbiAgICAgIHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZS52c3ViKHdvcmxkUG9pbnQsIHBlbmV0cmF0aW9uVmVjKTsgLy8gVGhlIHBlbmV0cmF0aW9uLiBOZWdhdGl2ZSB2YWx1ZSBtZWFucyBvdmVybGFwLlxuXG4gICAgICBjb25zdCBwZW5ldHJhdGlvbiA9IHBlbmV0cmF0aW9uVmVjLmRvdCh3b3JsZE5vcm1hbCk7XG4gICAgICBjb25zdCB3b3JsZFBvaW50VG9TcGhlcmUgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50O1xuICAgICAgeGkudnN1Yih3b3JsZFBvaW50LCB3b3JsZFBvaW50VG9TcGhlcmUpO1xuXG4gICAgICBpZiAocGVuZXRyYXRpb24gPCAwICYmIHdvcmxkUG9pbnRUb1NwaGVyZS5kb3Qod29ybGROb3JtYWwpID4gMCkge1xuICAgICAgICAvLyBJbnRlcnNlY3RzIHBsYW5lLiBOb3cgY2hlY2sgaWYgdGhlIHNwaGVyZSBpcyBpbnNpZGUgdGhlIGZhY2UgcG9seWdvblxuICAgICAgICBjb25zdCBmYWNlVmVydHMgPSBbXTsgLy8gRmFjZSB2ZXJ0aWNlcywgaW4gd29ybGQgY29vcmRzXG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIE52ZXJ0cyA9IGZhY2UubGVuZ3RoOyBqICE9PSBOdmVydHM7IGorKykge1xuICAgICAgICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gdjNwb29sLmdldCgpO1xuICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2Vbal1dLCB3b3JsZFZlcnRleCk7XG4gICAgICAgICAgeGoudmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpO1xuICAgICAgICAgIGZhY2VWZXJ0cy5wdXNoKHdvcmxkVmVydGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb2ludEluUG9seWdvbihmYWNlVmVydHMsIHdvcmxkTm9ybWFsLCB4aSkpIHtcbiAgICAgICAgICAvLyBJcyB0aGUgc3BoZXJlIGNlbnRlciBpbiB0aGUgZmFjZSBwb2x5Z29uP1xuICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCByLnJpKTsgLy8gQ29udGFjdCBvZmZzZXQsIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0XG5cbiAgICAgICAgICB3b3JsZE5vcm1hbC5uZWdhdGUoci5uaSk7IC8vIE5vcm1hbCBwb2ludGluZyBvdXQgb2Ygc3BoZXJlXG5cbiAgICAgICAgICBjb25zdCBwZW5ldHJhdGlvblZlYzIgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLXBlbmV0cmF0aW9uLCBwZW5ldHJhdGlvblZlYzIpO1xuICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpOyAvL3hpLnZzdWIoeGopLnZhZGQocGVuZXRyYXRpb25TcGhlcmVQb2ludCkudmFkZChwZW5ldHJhdGlvblZlYzIgLCByLnJqKTtcblxuICAgICAgICAgIHhpLnZzdWIoeGosIHIucmopO1xuICAgICAgICAgIHIucmoudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50LCByLnJqKTtcbiAgICAgICAgICByLnJqLnZhZGQocGVuZXRyYXRpb25WZWMyLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LlxuXG4gICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTtcbiAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuXG5cbiAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgdjNwb29sLnJlbGVhc2UocGVuZXRyYXRpb25WZWMyKTtcbiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwZW5ldHJhdGlvblNwaGVyZVBvaW50KTtcbiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlc1xuXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHtcbiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuOyAvLyBXZSBvbmx5IGV4cGVjdCAqb25lKiBmYWNlIGNvbnRhY3RcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBFZGdlP1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBmYWNlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAvLyBHZXQgdHdvIHdvcmxkIHRyYW5zZm9ybWVkIHZlcnRpY2VzXG4gICAgICAgICAgICBjb25zdCB2MSA9IHYzcG9vbC5nZXQoKTtcbiAgICAgICAgICAgIGNvbnN0IHYyID0gdjNwb29sLmdldCgpO1xuICAgICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVsoaiArIDEpICUgZmFjZS5sZW5ndGhdXSwgdjEpO1xuICAgICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVsoaiArIDIpICUgZmFjZS5sZW5ndGhdXSwgdjIpO1xuICAgICAgICAgICAgeGoudmFkZCh2MSwgdjEpO1xuICAgICAgICAgICAgeGoudmFkZCh2MiwgdjIpOyAvLyBDb25zdHJ1Y3QgZWRnZSB2ZWN0b3JcblxuICAgICAgICAgICAgY29uc3QgZWRnZSA9IHNwaGVyZUNvbnZleF9lZGdlO1xuICAgICAgICAgICAgdjIudnN1Yih2MSwgZWRnZSk7IC8vIENvbnN0cnVjdCB0aGUgc2FtZSB2ZWN0b3IsIGJ1dCBub3JtYWxpemVkXG5cbiAgICAgICAgICAgIGNvbnN0IGVkZ2VVbml0ID0gc3BoZXJlQ29udmV4X2VkZ2VVbml0O1xuICAgICAgICAgICAgZWRnZS51bml0KGVkZ2VVbml0KTsgLy8gcCBpcyB4aSBwcm9qZWN0ZWQgb250byB0aGUgZWRnZVxuXG4gICAgICAgICAgICBjb25zdCBwID0gdjNwb29sLmdldCgpO1xuICAgICAgICAgICAgY29uc3QgdjFfdG9feGkgPSB2M3Bvb2wuZ2V0KCk7XG4gICAgICAgICAgICB4aS52c3ViKHYxLCB2MV90b194aSk7XG4gICAgICAgICAgICBjb25zdCBkb3QgPSB2MV90b194aS5kb3QoZWRnZVVuaXQpO1xuICAgICAgICAgICAgZWRnZVVuaXQuc2NhbGUoZG90LCBwKTtcbiAgICAgICAgICAgIHAudmFkZCh2MSwgcCk7IC8vIENvbXB1dGUgYSB2ZWN0b3IgZnJvbSBwIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNwaGVyZVxuXG4gICAgICAgICAgICBjb25zdCB4aV90b19wID0gdjNwb29sLmdldCgpO1xuICAgICAgICAgICAgcC52c3ViKHhpLCB4aV90b19wKTsgLy8gQ29sbGlzaW9uIGlmIHRoZSBlZGdlLXNwaGVyZSBkaXN0YW5jZSBpcyBsZXNzIHRoYW4gdGhlIHJhZGl1c1xuICAgICAgICAgICAgLy8gQU5EIGlmIHAgaXMgaW4gYmV0d2VlbiB2MSBhbmQgdjJcblxuICAgICAgICAgICAgaWYgKGRvdCA+IDAgJiYgZG90ICogZG90IDwgZWRnZS5sZW5ndGhTcXVhcmVkKCkgJiYgeGlfdG9fcC5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikge1xuICAgICAgICAgICAgICAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzXG4gICAgICAgICAgICAgIC8vIEVkZ2UgY29udGFjdCFcbiAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgICAgICAgICAgcC52c3ViKHhqLCByLnJqKTtcbiAgICAgICAgICAgICAgcC52c3ViKHhpLCByLm5pKTtcbiAgICAgICAgICAgICAgci5uaS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgICAgci5uaS5zY2FsZShSLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LlxuXG4gICAgICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7XG4gICAgICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS5cblxuICAgICAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpO1xuICAgICAgICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7IC8vIFJlbGVhc2Ugd29ybGQgdmVydGljZXNcblxuICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykge1xuICAgICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7XG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYyKTtcbiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocCk7XG4gICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApO1xuICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MV90b194aSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjEpO1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjIpO1xuICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocCk7XG4gICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh4aV90b19wKTtcbiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxX3RvX3hpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlc1xuXG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHtcbiAgICAgICAgICB2M3Bvb2wucmVsZWFzZShmYWNlVmVydHNbal0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGxhbmVDb252ZXgocGxhbmVTaGFwZSwgY29udmV4U2hhcGUsIHBsYW5lUG9zaXRpb24sIGNvbnZleFBvc2l0aW9uLCBwbGFuZVF1YXQsIGNvbnZleFF1YXQsIHBsYW5lQm9keSwgY29udmV4Qm9keSwgc2ksIHNqLCBqdXN0VGVzdCkge1xuICAgIC8vIFNpbXBseSByZXR1cm4gdGhlIHBvaW50cyBiZWhpbmQgdGhlIHBsYW5lLlxuICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gcGxhbmVDb252ZXhfdjtcbiAgICBjb25zdCB3b3JsZE5vcm1hbCA9IHBsYW5lQ29udmV4X25vcm1hbDtcbiAgICB3b3JsZE5vcm1hbC5zZXQoMCwgMCwgMSk7XG4gICAgcGxhbmVRdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvblxuXG4gICAgbGV0IG51bUNvbnRhY3RzID0gMDtcbiAgICBjb25zdCByZWxwb3MgPSBwbGFuZUNvbnZleF9yZWxwb3M7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gY29udmV4U2hhcGUudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEdldCB3b3JsZCBjb252ZXggdmVydGV4XG4gICAgICB3b3JsZFZlcnRleC5jb3B5KGNvbnZleFNoYXBlLnZlcnRpY2VzW2ldKTtcbiAgICAgIGNvbnZleFF1YXQudm11bHQod29ybGRWZXJ0ZXgsIHdvcmxkVmVydGV4KTtcbiAgICAgIGNvbnZleFBvc2l0aW9uLnZhZGQod29ybGRWZXJ0ZXgsIHdvcmxkVmVydGV4KTtcbiAgICAgIHdvcmxkVmVydGV4LnZzdWIocGxhbmVQb3NpdGlvbiwgcmVscG9zKTtcbiAgICAgIGNvbnN0IGRvdCA9IHdvcmxkTm9ybWFsLmRvdChyZWxwb3MpO1xuXG4gICAgICBpZiAoZG90IDw9IDAuMCkge1xuICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksIGNvbnZleEJvZHksIHBsYW5lU2hhcGUsIGNvbnZleFNoYXBlLCBzaSwgc2opOyAvLyBHZXQgdmVydGV4IHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZVxuXG4gICAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBsYW5lQ29udmV4X3Byb2plY3RlZDtcbiAgICAgICAgd29ybGROb3JtYWwuc2NhbGUod29ybGROb3JtYWwuZG90KHJlbHBvcyksIHByb2plY3RlZCk7XG4gICAgICAgIHdvcmxkVmVydGV4LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpO1xuICAgICAgICBwcm9qZWN0ZWQudnN1YihwbGFuZVBvc2l0aW9uLCByLnJpKTsgLy8gRnJvbSBwbGFuZSB0byB2ZXJ0ZXggcHJvamVjdGVkIG9uIHBsYW5lXG5cbiAgICAgICAgci5uaS5jb3B5KHdvcmxkTm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbCBvdXQgZnJvbSBwbGFuZVxuICAgICAgICAvLyByaiBpcyBub3cganVzdCB0aGUgdmVjdG9yIGZyb20gdGhlIGNvbnZleCBjZW50ZXIgdG8gdGhlIHZlcnRleFxuXG4gICAgICAgIHdvcmxkVmVydGV4LnZzdWIoY29udmV4UG9zaXRpb24sIHIucmopOyAvLyBNYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSBib2R5XG5cbiAgICAgICAgci5yaS52YWRkKHBsYW5lUG9zaXRpb24sIHIucmkpO1xuICAgICAgICByLnJpLnZzdWIocGxhbmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgci5yai52YWRkKGNvbnZleFBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgci5yai52c3ViKGNvbnZleEJvZHkucG9zaXRpb24sIHIucmopO1xuICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICBudW1Db250YWN0cysrO1xuXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbikge1xuICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uICYmIG51bUNvbnRhY3RzKSB7XG4gICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpO1xuICAgIH1cbiAgfVxuXG4gIGJveENvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgfVxuXG4gIHNwaGVyZUhlaWdodGZpZWxkKHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBzcGhlcmVQb3MsIGhmUG9zLCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgY29uc3QgZGF0YSA9IGhmU2hhcGUuZGF0YTtcbiAgICBjb25zdCByYWRpdXMgPSBzcGhlcmVTaGFwZS5yYWRpdXM7XG4gICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7XG4gICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBzcGhlcmVIZWlnaHRmaWVsZF90bXAyOyAvLyBHZXQgc3BoZXJlIHBvc2l0aW9uIHRvIGhlaWdodGZpZWxkIGxvY2FsIVxuXG4gICAgY29uc3QgbG9jYWxTcGhlcmVQb3MgPSBzcGhlcmVIZWlnaHRmaWVsZF90bXAxO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShoZlBvcywgaGZRdWF0LCBzcGhlcmVQb3MsIGxvY2FsU3BoZXJlUG9zKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG5cbiAgICBsZXQgaU1pblggPSBNYXRoLmZsb29yKChsb2NhbFNwaGVyZVBvcy54IC0gcmFkaXVzKSAvIHcpIC0gMTtcbiAgICBsZXQgaU1heFggPSBNYXRoLmNlaWwoKGxvY2FsU3BoZXJlUG9zLnggKyByYWRpdXMpIC8gdykgKyAxO1xuICAgIGxldCBpTWluWSA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnkgLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WSA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueSArIHJhZGl1cykgLyB3KSArIDE7IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW5cblxuICAgIGlmIChpTWF4WCA8IDAgfHwgaU1heFkgPCAwIHx8IGlNaW5YID4gZGF0YS5sZW5ndGggfHwgaU1pblkgPiBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXNcblxuXG4gICAgaWYgKGlNaW5YIDwgMCkge1xuICAgICAgaU1pblggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWF4WCA8IDApIHtcbiAgICAgIGlNYXhYID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1pblkgPCAwKSB7XG4gICAgICBpTWluWSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhZIDwgMCkge1xuICAgICAgaU1heFkgPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWCA+PSBkYXRhLmxlbmd0aCkge1xuICAgICAgaU1pblggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWF4WCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPj0gZGF0YVswXS5sZW5ndGgpIHtcbiAgICAgIGlNYXhZID0gZGF0YVswXS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1pblkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgY29uc3QgbWluTWF4ID0gW107XG4gICAgaGZTaGFwZS5nZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCBtaW5NYXgpO1xuICAgIGNvbnN0IG1pbiA9IG1pbk1heFswXTtcbiAgICBjb25zdCBtYXggPSBtaW5NYXhbMV07IC8vIEJhaWwgb3V0IGlmIHdlIGNhbid0IHRvdWNoIHRoZSBib3VuZGluZyBoZWlnaHQgYm94XG5cbiAgICBpZiAobG9jYWxTcGhlcmVQb3MueiAtIHJhZGl1cyA+IG1heCB8fCBsb2NhbFNwaGVyZVBvcy56ICsgcmFkaXVzIDwgbWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7XG5cbiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7XG4gICAgICAgIGNvbnN0IG51bUNvbnRhY3RzQmVmb3JlID0gcmVzdWx0Lmxlbmd0aDtcbiAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZVxuXG4gICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICBpZiAoc3BoZXJlUG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzcGhlcmVTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuc3BoZXJlQ29udmV4KHNwaGVyZVNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgc3BoZXJlUG9zLCB3b3JsZFBpbGxhck9mZnNldCwgc3BoZXJlUXVhdCwgaGZRdWF0LCBzcGhlcmVCb2R5LCBoZkJvZHksIHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBqdXN0VGVzdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGVcblxuXG4gICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7XG4gICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpO1xuXG4gICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7XG4gICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG51bUNvbnRhY3RzID0gcmVzdWx0Lmxlbmd0aCAtIG51bUNvbnRhY3RzQmVmb3JlO1xuXG4gICAgICAgIGlmIChudW1Db250YWN0cyA+IDIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLypcclxuICAgICAgICAgIC8vIFNraXAgYWxsIGJ1dCAxXHJcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG51bUNvbnRhY3RzIC0gMTsgaysrKSB7XHJcbiAgICAgICAgICAgICAgcmVzdWx0LnBvcCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICovXG5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBib3hIZWlnaHRmaWVsZChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsO1xuICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLmNvbnZleEhlaWdodGZpZWxkKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpO1xuICB9XG5cbiAgY29udmV4SGVpZ2h0ZmllbGQoY29udmV4U2hhcGUsIGhmU2hhcGUsIGNvbnZleFBvcywgaGZQb3MsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhO1xuICAgIGNvbnN0IHcgPSBoZlNoYXBlLmVsZW1lbnRTaXplO1xuICAgIGNvbnN0IHJhZGl1cyA9IGNvbnZleFNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzO1xuICAgIGNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gY29udmV4SGVpZ2h0ZmllbGRfdG1wMjtcbiAgICBjb25zdCBmYWNlTGlzdCA9IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0OyAvLyBHZXQgc3BoZXJlIHBvc2l0aW9uIHRvIGhlaWdodGZpZWxkIGxvY2FsIVxuXG4gICAgY29uc3QgbG9jYWxDb252ZXhQb3MgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAxO1xuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShoZlBvcywgaGZRdWF0LCBjb252ZXhQb3MsIGxvY2FsQ29udmV4UG9zKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG5cbiAgICBsZXQgaU1pblggPSBNYXRoLmZsb29yKChsb2NhbENvbnZleFBvcy54IC0gcmFkaXVzKSAvIHcpIC0gMTtcbiAgICBsZXQgaU1heFggPSBNYXRoLmNlaWwoKGxvY2FsQ29udmV4UG9zLnggKyByYWRpdXMpIC8gdykgKyAxO1xuICAgIGxldCBpTWluWSA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnkgLSByYWRpdXMpIC8gdykgLSAxO1xuICAgIGxldCBpTWF4WSA9IE1hdGguY2VpbCgobG9jYWxDb252ZXhQb3MueSArIHJhZGl1cykgLyB3KSArIDE7IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW5cblxuICAgIGlmIChpTWF4WCA8IDAgfHwgaU1heFkgPCAwIHx8IGlNaW5YID4gZGF0YS5sZW5ndGggfHwgaU1pblkgPiBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXNcblxuXG4gICAgaWYgKGlNaW5YIDwgMCkge1xuICAgICAgaU1pblggPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWF4WCA8IDApIHtcbiAgICAgIGlNYXhYID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaU1pblkgPCAwKSB7XG4gICAgICBpTWluWSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhZIDwgMCkge1xuICAgICAgaU1heFkgPSAwO1xuICAgIH1cblxuICAgIGlmIChpTWluWCA+PSBkYXRhLmxlbmd0aCkge1xuICAgICAgaU1pblggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGlNYXhYID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICBpTWF4WCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoaU1heFkgPj0gZGF0YVswXS5sZW5ndGgpIHtcbiAgICAgIGlNYXhZID0gZGF0YVswXS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGlmIChpTWluWSA+PSBkYXRhWzBdLmxlbmd0aCkge1xuICAgICAgaU1pblkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgY29uc3QgbWluTWF4ID0gW107XG4gICAgaGZTaGFwZS5nZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCBtaW5NYXgpO1xuICAgIGNvbnN0IG1pbiA9IG1pbk1heFswXTtcbiAgICBjb25zdCBtYXggPSBtaW5NYXhbMV07IC8vIEJhaWwgb3V0IGlmIHdlJ3JlIGNhbnQgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3hcblxuICAgIGlmIChsb2NhbENvbnZleFBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsQ29udmV4UG9zLnogKyByYWRpdXMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7XG4gICAgICAgIGxldCBpbnRlcnNlY3RpbmcgPSBmYWxzZTsgLy8gTG93ZXIgdHJpYW5nbGVcblxuICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7XG5cbiAgICAgICAgaWYgKGNvbnZleFBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHtcbiAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlXG5cblxuICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpO1xuICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTtcblxuICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykge1xuICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuY29udmV4Q29udmV4KGNvbnZleFNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgY29udmV4UG9zLCB3b3JsZFBpbGxhck9mZnNldCwgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIG51bGwsIG51bGwsIGp1c3RUZXN0LCBmYWNlTGlzdCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzcGhlcmVQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIC8vIFRoZSBub3JtYWwgaXMgdGhlIHVuaXQgdmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBwYXJ0aWNsZSBjZW50ZXJcbiAgICBjb25zdCBub3JtYWwgPSBwYXJ0aWNsZVNwaGVyZV9ub3JtYWw7XG4gICAgbm9ybWFsLnNldCgwLCAwLCAxKTtcbiAgICB4aS52c3ViKHhqLCBub3JtYWwpO1xuICAgIGNvbnN0IGxlbmd0aFNxdWFyZWQgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpO1xuXG4gICAgaWYgKGxlbmd0aFNxdWFyZWQgPD0gc2oucmFkaXVzICogc2oucmFkaXVzKSB7XG4gICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opO1xuICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpO1xuICAgICAgci5yai5jb3B5KG5vcm1hbCk7XG4gICAgICByLnJqLnNjYWxlKHNqLnJhZGl1cywgci5yaik7XG4gICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWxcblxuICAgICAgci5uaS5uZWdhdGUoci5uaSk7XG4gICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlXG5cbiAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgfVxuICB9XG5cbiAgcGxhbmVQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIGNvbnN0IG5vcm1hbCA9IHBhcnRpY2xlUGxhbmVfbm9ybWFsO1xuICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7XG4gICAgYmoucXVhdGVybmlvbi52bXVsdChub3JtYWwsIG5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvblxuXG4gICAgY29uc3QgcmVscG9zID0gcGFydGljbGVQbGFuZV9yZWxwb3M7XG4gICAgeGkudnN1Yihiai5wb3NpdGlvbiwgcmVscG9zKTtcbiAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7XG5cbiAgICBpZiAoZG90IDw9IDAuMCkge1xuICAgICAgaWYgKGp1c3RUZXN0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTtcbiAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsXG5cbiAgICAgIHIubmkubmVnYXRlKHIubmkpO1xuICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZVxuICAgICAgLy8gR2V0IHBhcnRpY2xlIHBvc2l0aW9uIHByb2plY3RlZCBvbiBwbGFuZVxuXG4gICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZDtcbiAgICAgIG5vcm1hbC5zY2FsZShub3JtYWwuZG90KHhpKSwgcHJvamVjdGVkKTtcbiAgICAgIHhpLnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvL3Byb2plY3RlZC52YWRkKGJqLnBvc2l0aW9uLHByb2plY3RlZCk7XG4gICAgICAvLyByaiBpcyBub3cgdGhlIHByb2plY3RlZCB3b3JsZCBwb3NpdGlvbiBtaW51cyBwbGFuZSBwb3NpdGlvblxuXG4gICAgICByLnJqLmNvcHkocHJvamVjdGVkKTtcbiAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgfVxuICB9XG5cbiAgYm94UGFydGljbGUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHtcbiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDtcbiAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTtcbiAgICByZXR1cm4gdGhpcy5jb252ZXhQYXJ0aWNsZShzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTtcbiAgfVxuXG4gIGNvbnZleFBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgbGV0IHBlbmV0cmF0ZWRGYWNlSW5kZXggPSAtMTtcbiAgICBjb25zdCBwZW5ldHJhdGVkRmFjZU5vcm1hbCA9IGNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsO1xuICAgIGNvbnN0IHdvcmxkUGVuZXRyYXRpb25WZWMgPSBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjO1xuICAgIGxldCBtaW5QZW5ldHJhdGlvbiA9IG51bGw7XG5cbiAgICBjb25zdCBsb2NhbCA9IGNvbnZleFBhcnRpY2xlX2xvY2FsO1xuICAgIGxvY2FsLmNvcHkoeGkpO1xuICAgIGxvY2FsLnZzdWIoeGosIGxvY2FsKTsgLy8gQ29udmVydCBwb3NpdGlvbiB0byByZWxhdGl2ZSB0aGUgY29udmV4IG9yaWdpblxuXG4gICAgcWouY29uanVnYXRlKGNxaik7XG4gICAgY3FqLnZtdWx0KGxvY2FsLCBsb2NhbCk7XG5cbiAgICBpZiAoc2oucG9pbnRJc0luc2lkZShsb2NhbCkpIHtcbiAgICAgIGlmIChzai53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgc2ouY29tcHV0ZVdvcmxkVmVydGljZXMoeGosIHFqKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNqLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSkge1xuICAgICAgICBzai5jb21wdXRlV29ybGRGYWNlTm9ybWFscyhxaik7XG4gICAgICB9IC8vIEZvciBlYWNoIHdvcmxkIHBvbHlnb24gaW4gdGhlIHBvbHloZWRyYVxuXG5cbiAgICAgIGZvciAobGV0IGkgPSAwLCBuZmFjZXMgPSBzai5mYWNlcy5sZW5ndGg7IGkgIT09IG5mYWNlczsgaSsrKSB7XG4gICAgICAgIC8vIENvbnN0cnVjdCB3b3JsZCBmYWNlIHZlcnRpY2VzXG4gICAgICAgIGNvbnN0IHZlcnRzID0gW3NqLndvcmxkVmVydGljZXNbc2ouZmFjZXNbaV1bMF1dXTtcbiAgICAgICAgY29uc3Qgbm9ybWFsID0gc2oud29ybGRGYWNlTm9ybWFsc1tpXTsgLy8gQ2hlY2sgaG93IG11Y2ggdGhlIHBhcnRpY2xlIHBlbmV0cmF0ZXMgdGhlIHBvbHlnb24gcGxhbmUuXG5cbiAgICAgICAgeGkudnN1Yih2ZXJ0c1swXSwgY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSk7XG4gICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uID0gLW5vcm1hbC5kb3QoY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSk7XG5cbiAgICAgICAgaWYgKG1pblBlbmV0cmF0aW9uID09PSBudWxsIHx8IE1hdGguYWJzKHBlbmV0cmF0aW9uKSA8IE1hdGguYWJzKG1pblBlbmV0cmF0aW9uKSkge1xuICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWluUGVuZXRyYXRpb24gPSBwZW5ldHJhdGlvbjtcbiAgICAgICAgICBwZW5ldHJhdGVkRmFjZUluZGV4ID0gaTtcbiAgICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5jb3B5KG5vcm1hbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBlbmV0cmF0ZWRGYWNlSW5kZXggIT09IC0xKSB7XG4gICAgICAgIC8vIFNldHVwIGNvbnRhY3RcbiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7XG4gICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLnNjYWxlKG1pblBlbmV0cmF0aW9uLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTsgLy8gcmogaXMgdGhlIHBhcnRpY2xlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZmFjZVxuXG4gICAgICAgIHdvcmxkUGVuZXRyYXRpb25WZWMudmFkZCh4aSwgd29ybGRQZW5ldHJhdGlvblZlYyk7XG4gICAgICAgIHdvcmxkUGVuZXRyYXRpb25WZWMudnN1Yih4aiwgd29ybGRQZW5ldHJhdGlvblZlYyk7XG4gICAgICAgIHIucmouY29weSh3b3JsZFBlbmV0cmF0aW9uVmVjKTsgLy9jb25zdCBwcm9qZWN0ZWRUb0ZhY2UgPSB4aS52c3ViKHhqKS52YWRkKHdvcmxkUGVuZXRyYXRpb25WZWMpO1xuICAgICAgICAvL3Byb2plY3RlZFRvRmFjZS5jb3B5KHIucmopO1xuICAgICAgICAvL3FqLnZtdWx0KHIucmosci5yaik7XG5cbiAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwubmVnYXRlKHIubmkpOyAvLyBDb250YWN0IG5vcm1hbFxuXG4gICAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGVcblxuICAgICAgICBjb25zdCByaSA9IHIucmk7XG4gICAgICAgIGNvbnN0IHJqID0gci5yajsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXNcblxuICAgICAgICByaS52YWRkKHhpLCByaSk7XG4gICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTtcbiAgICAgICAgcmoudmFkZCh4aiwgcmopO1xuICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7XG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUG9pbnQgZm91bmQgaW5zaWRlIGNvbnZleCwgYnV0IGRpZCBub3QgZmluZCBwZW5ldHJhdGluZyBmYWNlIScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNwaGVyZVRyaW1lc2goc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgc3BoZXJlUG9zLCB0cmltZXNoUG9zLCBzcGhlcmVRdWF0LCB0cmltZXNoUXVhdCwgc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkge1xuICAgIGNvbnN0IGVkZ2VWZXJ0ZXhBID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QTtcbiAgICBjb25zdCBlZGdlVmVydGV4QiA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEI7XG4gICAgY29uc3QgZWRnZVZlY3RvciA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvcjtcbiAgICBjb25zdCBlZGdlVmVjdG9yVW5pdCA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvclVuaXQ7XG4gICAgY29uc3QgbG9jYWxTcGhlcmVQb3MgPSBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlUG9zO1xuICAgIGNvbnN0IHRtcCA9IHNwaGVyZVRyaW1lc2hfdG1wO1xuICAgIGNvbnN0IGxvY2FsU3BoZXJlQUFCQiA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVBQUJCO1xuICAgIGNvbnN0IHYyID0gc3BoZXJlVHJpbWVzaF92MjtcbiAgICBjb25zdCByZWxwb3MgPSBzcGhlcmVUcmltZXNoX3JlbHBvcztcbiAgICBjb25zdCB0cmlhbmdsZXMgPSBzcGhlcmVUcmltZXNoX3RyaWFuZ2xlczsgLy8gQ29udmVydCBzcGhlcmUgcG9zaXRpb24gdG8gbG9jYWwgaW4gdGhlIHRyaW1lc2hcblxuICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgc3BoZXJlUG9zLCBsb2NhbFNwaGVyZVBvcyk7IC8vIEdldCB0aGUgYWFiYiBvZiB0aGUgc3BoZXJlIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2hcblxuICAgIGNvbnN0IHNwaGVyZVJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1cztcbiAgICBsb2NhbFNwaGVyZUFBQkIubG93ZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCAtIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSAtIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiAtIHNwaGVyZVJhZGl1cyk7XG4gICAgbG9jYWxTcGhlcmVBQUJCLnVwcGVyQm91bmQuc2V0KGxvY2FsU3BoZXJlUG9zLnggKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnkgKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnogKyBzcGhlcmVSYWRpdXMpO1xuICAgIHRyaW1lc2hTaGFwZS5nZXRUcmlhbmdsZXNJbkFBQkIobG9jYWxTcGhlcmVBQUJCLCB0cmlhbmdsZXMpOyAvL2ZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB0cmlhbmdsZXMucHVzaChpKTsgLy8gQWxsXG4gICAgLy8gVmVydGljZXNcblxuICAgIGNvbnN0IHYgPSBzcGhlcmVUcmltZXNoX3Y7XG4gICAgY29uc3QgcmFkaXVzU3F1YXJlZCA9IHNwaGVyZVNoYXBlLnJhZGl1cyAqIHNwaGVyZVNoYXBlLnJhZGl1cztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgdik7IC8vIENoZWNrIHZlcnRleCBvdmVybGFwIGluIHNwaGVyZVxuXG4gICAgICAgIHYudnN1Yihsb2NhbFNwaGVyZVBvcywgcmVscG9zKTtcblxuICAgICAgICBpZiAocmVscG9zLmxlbmd0aFNxdWFyZWQoKSA8PSByYWRpdXNTcXVhcmVkKSB7XG4gICAgICAgICAgLy8gU2FmZSB1cFxuICAgICAgICAgIHYyLmNvcHkodik7XG4gICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB2Miwgdik7XG4gICAgICAgICAgdi52c3ViKHNwaGVyZVBvcywgcmVscG9zKTtcblxuICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opO1xuICAgICAgICAgIHIubmkuY29weShyZWxwb3MpO1xuICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7IC8vIHJpIGlzIHRoZSB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHRoZSBzcGhlcmUgc3VyZmFjZVxuXG4gICAgICAgICAgci5yaS5jb3B5KHIubmkpO1xuICAgICAgICAgIHIucmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTtcbiAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTtcbiAgICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgci5yai5jb3B5KHYpO1xuICAgICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdFxuXG4gICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIENoZWNrIGFsbCBlZGdlc1xuXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgal0sIGVkZ2VWZXJ0ZXhBKTtcbiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgKGogKyAxKSAlIDNdLCBlZGdlVmVydGV4Qik7XG4gICAgICAgIGVkZ2VWZXJ0ZXhCLnZzdWIoZWRnZVZlcnRleEEsIGVkZ2VWZWN0b3IpOyAvLyBQcm9qZWN0IHNwaGVyZSBwb3NpdGlvbiB0byB0aGUgZWRnZVxuXG4gICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEIsIHRtcCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQWxvbmdFZGdlQiA9IHRtcC5kb3QoZWRnZVZlY3Rvcik7XG4gICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7XG4gICAgICAgIGxldCBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3IpO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbkFsb25nRWRnZUEgPiAwICYmIHBvc2l0aW9uQWxvbmdFZGdlQiA8IDApIHtcbiAgICAgICAgICAvLyBOb3cgY2hlY2sgdGhlIG9ydGhvZ29uYWwgZGlzdGFuY2UgZnJvbSBlZGdlIHRvIHNwaGVyZSBjZW50ZXJcbiAgICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhBLCB0bXApO1xuICAgICAgICAgIGVkZ2VWZWN0b3JVbml0LmNvcHkoZWRnZVZlY3Rvcik7XG4gICAgICAgICAgZWRnZVZlY3RvclVuaXQubm9ybWFsaXplKCk7XG4gICAgICAgICAgcG9zaXRpb25BbG9uZ0VkZ2VBID0gdG1wLmRvdChlZGdlVmVjdG9yVW5pdCk7XG4gICAgICAgICAgZWRnZVZlY3RvclVuaXQuc2NhbGUocG9zaXRpb25BbG9uZ0VkZ2VBLCB0bXApO1xuICAgICAgICAgIHRtcC52YWRkKGVkZ2VWZXJ0ZXhBLCB0bXApOyAvLyB0bXAgaXMgbm93IHRoZSBzcGhlcmUgY2VudGVyIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZWRnZSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSB0cmltZXNoIGZyYW1lXG5cbiAgICAgICAgICBjb25zdCBkaXN0ID0gdG1wLmRpc3RhbmNlVG8obG9jYWxTcGhlcmVQb3MpO1xuXG4gICAgICAgICAgaWYgKGRpc3QgPCBzcGhlcmVTaGFwZS5yYWRpdXMpIHtcbiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7XG4gICAgICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7XG4gICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgICAgci5uaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpO1xuICAgICAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7XG4gICAgICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7XG4gICAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHRtcCwgdG1wKTtcbiAgICAgICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIubmksIHIubmkpO1xuICAgICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5yaSwgci5yaSk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gVHJpYW5nbGUgZmFjZXNcblxuXG4gICAgY29uc3QgdmEgPSBzcGhlcmVUcmltZXNoX3ZhO1xuICAgIGNvbnN0IHZiID0gc3BoZXJlVHJpbWVzaF92YjtcbiAgICBjb25zdCB2YyA9IHNwaGVyZVRyaW1lc2hfdmM7XG4gICAgY29uc3Qgbm9ybWFsID0gc3BoZXJlVHJpbWVzaF9ub3JtYWw7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgTiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgIT09IE47IGkrKykge1xuICAgICAgdHJpbWVzaFNoYXBlLmdldFRyaWFuZ2xlVmVydGljZXModHJpYW5nbGVzW2ldLCB2YSwgdmIsIHZjKTtcbiAgICAgIHRyaW1lc2hTaGFwZS5nZXROb3JtYWwodHJpYW5nbGVzW2ldLCBub3JtYWwpO1xuICAgICAgbG9jYWxTcGhlcmVQb3MudnN1Yih2YSwgdG1wKTtcbiAgICAgIGxldCBkaXN0ID0gdG1wLmRvdChub3JtYWwpO1xuICAgICAgbm9ybWFsLnNjYWxlKGRpc3QsIHRtcCk7XG4gICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKHRtcCwgdG1wKTsgLy8gdG1wIGlzIG5vdyB0aGUgc3BoZXJlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgdHJpYW5nbGUgcGxhbmVcblxuICAgICAgZGlzdCA9IHRtcC5kaXN0YW5jZVRvKGxvY2FsU3BoZXJlUG9zKTtcblxuICAgICAgaWYgKFJheS5wb2ludEluVHJpYW5nbGUodG1wLCB2YSwgdmIsIHZjKSAmJiBkaXN0IDwgc3BoZXJlU2hhcGUucmFkaXVzKSB7XG4gICAgICAgIGlmIChqdXN0VGVzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opO1xuICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7XG4gICAgICAgIHIubmkubm9ybWFsaXplKCk7XG4gICAgICAgIHIubmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTtcbiAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7XG4gICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTtcbiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB0bXAsIHRtcCk7XG4gICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTtcbiAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7XG4gICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIucmksIHIucmkpO1xuICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpO1xuICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7XG4gIH1cblxuICBwbGFuZVRyaW1lc2gocGxhbmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBwbGFuZVBvcywgdHJpbWVzaFBvcywgcGxhbmVRdWF0LCB0cmltZXNoUXVhdCwgcGxhbmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7XG4gICAgLy8gTWFrZSBjb250YWN0cyFcbiAgICBjb25zdCB2ID0gbmV3IFZlYzMoKTtcbiAgICBjb25zdCBub3JtYWwgPSBwbGFuZVRyaW1lc2hfbm9ybWFsO1xuICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7XG4gICAgcGxhbmVRdWF0LnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaW1lc2hTaGFwZS52ZXJ0aWNlcy5sZW5ndGggLyAzOyBpKyspIHtcbiAgICAgIC8vIEdldCB3b3JsZCB2ZXJ0ZXggZnJvbSB0cmltZXNoXG4gICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KGksIHYpOyAvLyBTYWZlIHVwXG5cbiAgICAgIGNvbnN0IHYyID0gbmV3IFZlYzMoKTtcbiAgICAgIHYyLmNvcHkodik7XG4gICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsgLy8gQ2hlY2sgcGxhbmUgc2lkZVxuXG4gICAgICBjb25zdCByZWxwb3MgPSBwbGFuZVRyaW1lc2hfcmVscG9zO1xuICAgICAgdi52c3ViKHBsYW5lUG9zLCByZWxwb3MpO1xuICAgICAgY29uc3QgZG90ID0gbm9ybWFsLmRvdChyZWxwb3MpO1xuXG4gICAgICBpZiAoZG90IDw9IDAuMCkge1xuICAgICAgICBpZiAoanVzdFRlc3QpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksIHRyaW1lc2hCb2R5LCBwbGFuZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTtcbiAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWxcbiAgICAgICAgLy8gR2V0IHZlcnRleCBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmVcblxuICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZVRyaW1lc2hfcHJvamVjdGVkO1xuICAgICAgICBub3JtYWwuc2NhbGUocmVscG9zLmRvdChub3JtYWwpLCBwcm9qZWN0ZWQpO1xuICAgICAgICB2LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvLyByaSBpcyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uXG5cbiAgICAgICAgci5yaS5jb3B5KHByb2plY3RlZCk7XG4gICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpO1xuICAgICAgICByLnJqLmNvcHkodik7XG4gICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdFxuXG4gICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7XG4gICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gY29udmV4VHJpbWVzaChcbiAgLy8gICBzaTogQ29udmV4UG9seWhlZHJvbiwgc2o6IFRyaW1lc2gsIHhpOiBWZWMzLCB4ajogVmVjMywgcWk6IFF1YXRlcm5pb24sIHFqOiBRdWF0ZXJuaW9uLFxuICAvLyAgIGJpOiBCb2R5LCBiajogQm9keSwgcnNpPzogU2hhcGUgfCBudWxsLCByc2o/OiBTaGFwZSB8IG51bGwsXG4gIC8vICAgZmFjZUxpc3RBPzogbnVtYmVyW10gfCBudWxsLCBmYWNlTGlzdEI/OiBudW1iZXJbXSB8IG51bGwsXG4gIC8vICkge1xuICAvLyAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpcztcbiAgLy8gICBpZih4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpe1xuICAvLyAgICAgICByZXR1cm47XG4gIC8vICAgfVxuICAvLyAgIC8vIENvbnN0cnVjdCBhIHRlbXAgaHVsbCBmb3IgZWFjaCB0cmlhbmdsZVxuICAvLyAgIGNvbnN0IGh1bGxCID0gbmV3IENvbnZleFBvbHloZWRyb24oKTtcbiAgLy8gICBodWxsQi5mYWNlcyA9IFtbMCwxLDJdXTtcbiAgLy8gICBjb25zdCB2YSA9IG5ldyBWZWMzKCk7XG4gIC8vICAgY29uc3QgdmIgPSBuZXcgVmVjMygpO1xuICAvLyAgIGNvbnN0IHZjID0gbmV3IFZlYzMoKTtcbiAgLy8gICBodWxsQi52ZXJ0aWNlcyA9IFtcbiAgLy8gICAgICAgdmEsXG4gIC8vICAgICAgIHZiLFxuICAvLyAgICAgICB2Y1xuICAvLyAgIF07XG4gIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzai5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykge1xuICAvLyAgICAgICBjb25zdCB0cmlhbmdsZU5vcm1hbCA9IG5ldyBWZWMzKCk7XG4gIC8vICAgICAgIHNqLmdldE5vcm1hbChpLCB0cmlhbmdsZU5vcm1hbCk7XG4gIC8vICAgICAgIGh1bGxCLmZhY2VOb3JtYWxzID0gW3RyaWFuZ2xlTm9ybWFsXTtcbiAgLy8gICAgICAgc2ouZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCB2YSwgdmIsIHZjKTtcbiAgLy8gICAgICAgbGV0IGQgPSBzaS50ZXN0U2VwQXhpcyh0cmlhbmdsZU5vcm1hbCwgaHVsbEIsIHhpLCBxaSwgeGosIHFqKTtcbiAgLy8gICAgICAgaWYoIWQpe1xuICAvLyAgICAgICAgICAgdHJpYW5nbGVOb3JtYWwuc2NhbGUoLTEsIHRyaWFuZ2xlTm9ybWFsKTtcbiAgLy8gICAgICAgICAgIGQgPSBzaS50ZXN0U2VwQXhpcyh0cmlhbmdsZU5vcm1hbCwgaHVsbEIsIHhpLCBxaSwgeGosIHFqKTtcbiAgLy8gICAgICAgICAgIGlmKCFkKXtcbiAgLy8gICAgICAgICAgICAgICBjb250aW51ZTtcbiAgLy8gICAgICAgICAgIH1cbiAgLy8gICAgICAgfVxuICAvLyAgICAgICBjb25zdCByZXM6IENvbnZleFBvbHloZWRyb25Db250YWN0UG9pbnRbXSA9IFtdO1xuICAvLyAgICAgICBjb25zdCBxID0gY29udmV4Q29udmV4X3E7XG4gIC8vICAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSxxaSxodWxsQix4aixxaix0cmlhbmdsZU5vcm1hbCwtMTAwLDEwMCxyZXMpO1xuICAvLyAgICAgICBmb3IobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspe1xuICAvLyAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLGJqLHNpLHNqLHJzaSxyc2opLFxuICAvLyAgICAgICAgICAgICAgIHJpID0gci5yaSxcbiAgLy8gICAgICAgICAgICAgICByaiA9IHIucmo7XG4gIC8vICAgICAgICAgICByLm5pLmNvcHkodHJpYW5nbGVOb3JtYWwpO1xuICAvLyAgICAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7XG4gIC8vICAgICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTtcbiAgLy8gICAgICAgICAgIHEubXVsdChyZXNbal0uZGVwdGgsIHEpO1xuICAvLyAgICAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpO1xuICAvLyAgICAgICAgICAgcmouY29weShyZXNbal0ucG9pbnQpO1xuICAvLyAgICAgICAgICAgLy8gQ29udGFjdCBwb2ludHMgYXJlIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBUcmFuc2Zvcm0gYmFjayB0byByZWxhdGl2ZVxuICAvLyAgICAgICAgICAgcmkudnN1Yih4aSxyaSk7XG4gIC8vICAgICAgICAgICByai52c3ViKHhqLHJqKTtcbiAgLy8gICAgICAgICAgIC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzXG4gIC8vICAgICAgICAgICByaS52YWRkKHhpLCByaSk7XG4gIC8vICAgICAgICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7XG4gIC8vICAgICAgICAgICByai52YWRkKHhqLCByaik7XG4gIC8vICAgICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7XG4gIC8vICAgICAgICAgICByZXN1bHQucHVzaChyKTtcbiAgLy8gICAgICAgfVxuICAvLyAgIH1cbiAgLy8gfVxuXG5cbn1cbmNvbnN0IGF2ZXJhZ2VOb3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEEgPSBuZXcgVmVjMygpO1xuY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEIgPSBuZXcgVmVjMygpO1xuY29uc3QgdG1wVmVjMSQyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHRtcFZlYzIkMiA9IG5ldyBWZWMzKCk7XG5jb25zdCB0bXBRdWF0MSA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5jb25zdCB0bXBRdWF0MiA9IG5ldyBRdWF0ZXJuaW9uKCk7XG5cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Qm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hCb3g7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveENvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94Q29udmV4O1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94UGFydGljbGU7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVNwaGVyZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlU3BoZXJlO1xuY29uc3QgcGxhbmVUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lVHJpbWVzaF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lVHJpbWVzaDtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdiA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX3YyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QiA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3IgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yVW5pdCA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlUG9zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdG1wID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdmEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlVHJpbWVzaF92YiA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVUcmltZXNoX3ZjID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVBQUJCID0gbmV3IEFBQkIoKTtcbmNvbnN0IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzID0gW107XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVRyaW1lc2g7XG5jb25zdCBwb2ludF9vbl9wbGFuZV90b19zcGhlcmUgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVfdG9fc3BoZXJlX29ydGhvID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGxhbmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBsYW5lOyAvLyBTZWUgaHR0cDovL2J1bGxldHBoeXNpY3MuY29tL0J1bGxldC9CdWxsZXRGdWxsL1NwaGVyZVRyaWFuZ2xlRGV0ZWN0b3JfOGNwcF9zb3VyY2UuaHRtbFxuXG5jb25zdCBwb2ludEluUG9seWdvbl9lZGdlID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBvaW50SW5Qb2x5Z29uX2VkZ2VfeF9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgcG9pbnRJblBvbHlnb25fdnRwID0gbmV3IFZlYzMoKTtcblxuZnVuY3Rpb24gcG9pbnRJblBvbHlnb24odmVydHMsIG5vcm1hbCwgcCkge1xuICBsZXQgcG9zaXRpdmVSZXN1bHQgPSBudWxsO1xuICBjb25zdCBOID0gdmVydHMubGVuZ3RoO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIEdldCBlZGdlIHRvIHRoZSBuZXh0IHZlcnRleFxuXG4gICAgY29uc3QgZWRnZSA9IHBvaW50SW5Qb2x5Z29uX2VkZ2U7XG4gICAgdmVydHNbKGkgKyAxKSAlIE5dLnZzdWIodiwgZWRnZSk7IC8vIEdldCBjcm9zcyBwcm9kdWN0IGJldHdlZW4gcG9seWdvbiBub3JtYWwgYW5kIHRoZSBlZGdlXG5cbiAgICBjb25zdCBlZGdlX3hfbm9ybWFsID0gcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbDsgLy9jb25zdCBlZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTtcblxuICAgIGVkZ2UuY3Jvc3Mobm9ybWFsLCBlZGdlX3hfbm9ybWFsKTsgLy8gR2V0IHZlY3RvciBiZXR3ZWVuIHBvaW50IGFuZCBjdXJyZW50IHZlcnRleFxuXG4gICAgY29uc3QgdmVydGV4X3RvX3AgPSBwb2ludEluUG9seWdvbl92dHA7XG4gICAgcC52c3ViKHYsIHZlcnRleF90b19wKTsgLy8gVGhpcyBkb3QgcHJvZHVjdCBkZXRlcm1pbmVzIHdoaWNoIHNpZGUgb2YgdGhlIGVkZ2UgdGhlIHBvaW50IGlzXG5cbiAgICBjb25zdCByID0gZWRnZV94X25vcm1hbC5kb3QodmVydGV4X3RvX3ApOyAvLyBJZiBhbGwgc3VjaCBkb3QgcHJvZHVjdHMgaGF2ZSBzYW1lIHNpZ24sIHdlIGFyZSBpbnNpZGUgdGhlIHBvbHlnb24uXG5cbiAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwgfHwgciA+IDAgJiYgcG9zaXRpdmVSZXN1bHQgPT09IHRydWUgfHwgciA8PSAwICYmIHBvc2l0aXZlUmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgaWYgKHBvc2l0aXZlUmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgIHBvc2l0aXZlUmVzdWx0ID0gciA+IDA7XG4gICAgICB9XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIEVuY291bnRlcmVkIHNvbWUgb3RoZXIgc2lnbi4gRXhpdC5cbiAgICB9XG4gIH0gLy8gSWYgd2UgZ290IGhlcmUsIGFsbCBkb3QgcHJvZHVjdHMgd2VyZSBvZiB0aGUgc2FtZSBzaWduLlxuXG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IGJveF90b19zcGhlcmUgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X25zID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUJveF9uczEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X25zMiA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZXMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07XG5jb25zdCBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lciA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZV9ucyA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVCb3hfc2lkZV9uczEgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQm94X3NpZGVfbnMyID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVCb3g7XG5jb25zdCBjb252ZXhfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9lZGdlID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9lZGdlVW5pdCA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXIgPSBuZXcgVmVjMygpO1xuY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkQ29ybmVyID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF93b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfd29ybGRQb2ludCA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYyA9IG5ldyBWZWMzKCk7XG5jb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50ID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQ29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVDb252ZXg7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQm94XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZUJveDtcbmNvbnN0IHBsYW5lQ29udmV4X3YgPSBuZXcgVmVjMygpO1xuY29uc3QgcGxhbmVDb252ZXhfbm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IHBsYW5lQ29udmV4X3JlbHBvcyA9IG5ldyBWZWMzKCk7XG5jb25zdCBwbGFuZUNvbnZleF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZUNvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVDb252ZXg7XG5jb25zdCBjb252ZXhDb252ZXhfc2VwQXhpcyA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb252ZXhDb252ZXhfcSA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleENvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4Q29udmV4OyAvLyBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleFRyaW1lc2hcblxuY29uc3QgcGFydGljbGVQbGFuZV9ub3JtYWwgPSBuZXcgVmVjMygpO1xuY29uc3QgcGFydGljbGVQbGFuZV9yZWxwb3MgPSBuZXcgVmVjMygpO1xuY29uc3QgcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5wbGFuZVBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5wbGFuZVBhcnRpY2xlO1xuY29uc3QgcGFydGljbGVTcGhlcmVfbm9ybWFsID0gbmV3IFZlYzMoKTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBhcnRpY2xlOyAvLyBXSVBcblxuY29uc3QgY3FqID0gbmV3IFF1YXRlcm5pb24oKTtcbmNvbnN0IGNvbnZleFBhcnRpY2xlX2xvY2FsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUgPSBuZXcgVmVjMygpO1xuY29uc3QgY29udmV4UGFydGljbGVfd29ybGRQZW5ldHJhdGlvblZlYyA9IG5ldyBWZWMzKCk7XG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhQYXJ0aWNsZTtcbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94SGVpZ2h0ZmllbGRdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveEhlaWdodGZpZWxkO1xuY29uc3QgY29udmV4SGVpZ2h0ZmllbGRfdG1wMSA9IG5ldyBWZWMzKCk7XG5jb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAyID0gbmV3IFZlYzMoKTtcbmNvbnN0IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0ID0gWzBdO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4SGVpZ2h0ZmllbGQ7XG5jb25zdCBzcGhlcmVIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTtcbmNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpO1xuTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVIZWlnaHRmaWVsZF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlSGVpZ2h0ZmllbGQ7XG5cbi8qKlxyXG4gKiBAY2xhc3MgT3ZlcmxhcEtlZXBlclxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBPdmVybGFwS2VlcGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jdXJyZW50ID0gW107XG4gICAgdGhpcy5wcmV2aW91cyA9IFtdO1xuICB9XG5cbiAgZ2V0S2V5KGksIGopIHtcbiAgICBpZiAoaiA8IGkpIHtcbiAgICAgIGNvbnN0IHRlbXAgPSBqO1xuICAgICAgaiA9IGk7XG4gICAgICBpID0gdGVtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gaSA8PCAxNiB8IGo7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0ge051bWJlcn0gaVxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBqXHJcbiAgICovXG5cblxuICBzZXQoaSwgaikge1xuICAgIC8vIEluc2VydGlvbiBzb3J0LiBUaGlzIHdheSB0aGUgZGlmZiB3aWxsIGhhdmUgbGluZWFyIGNvbXBsZXhpdHkuXG4gICAgY29uc3Qga2V5ID0gdGhpcy5nZXRLZXkoaSwgaik7XG4gICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDtcbiAgICBsZXQgaW5kZXggPSAwO1xuXG4gICAgd2hpbGUgKGtleSA+IGN1cnJlbnRbaW5kZXhdKSB7XG4gICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09IGN1cnJlbnRbaW5kZXhdKSB7XG4gICAgICByZXR1cm47IC8vIFBhaXIgd2FzIGFscmVhZHkgYWRkZWRcbiAgICB9XG5cbiAgICBmb3IgKGxldCBqID0gY3VycmVudC5sZW5ndGggLSAxOyBqID49IGluZGV4OyBqLS0pIHtcbiAgICAgIGN1cnJlbnRbaiArIDFdID0gY3VycmVudFtqXTtcbiAgICB9XG5cbiAgICBjdXJyZW50W2luZGV4XSA9IGtleTtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIHRpY2tcclxuICAgKi9cblxuXG4gIHRpY2soKSB7XG4gICAgY29uc3QgdG1wID0gdGhpcy5jdXJyZW50O1xuICAgIHRoaXMuY3VycmVudCA9IHRoaXMucHJldmlvdXM7XG4gICAgdGhpcy5wcmV2aW91cyA9IHRtcDtcbiAgICB0aGlzLmN1cnJlbnQubGVuZ3RoID0gMDtcbiAgfVxuICAvKipcclxuICAgKiBAbWV0aG9kIGdldERpZmZcclxuICAgKiBAcGFyYW0gIHthcnJheX0gYWRkaXRpb25zXHJcbiAgICogQHBhcmFtICB7YXJyYXl9IHJlbW92YWxzXHJcbiAgICovXG5cblxuICBnZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpIHtcbiAgICBjb25zdCBhID0gdGhpcy5jdXJyZW50O1xuICAgIGNvbnN0IGIgPSB0aGlzLnByZXZpb3VzO1xuICAgIGNvbnN0IGFsID0gYS5sZW5ndGg7XG4gICAgY29uc3QgYmwgPSBiLmxlbmd0aDtcbiAgICBsZXQgaiA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsOyBpKyspIHtcbiAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgY29uc3Qga2V5QSA9IGFbaV07XG5cbiAgICAgIHdoaWxlIChrZXlBID4gYltqXSkge1xuICAgICAgICBqKys7XG4gICAgICB9XG5cbiAgICAgIGZvdW5kID0ga2V5QSA9PT0gYltqXTtcblxuICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICB1bnBhY2tBbmRQdXNoKGFkZGl0aW9ucywga2V5QSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaiA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsOyBpKyspIHtcbiAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgY29uc3Qga2V5QiA9IGJbaV07XG5cbiAgICAgIHdoaWxlIChrZXlCID4gYVtqXSkge1xuICAgICAgICBqKys7XG4gICAgICB9XG5cbiAgICAgIGZvdW5kID0gYVtqXSA9PT0ga2V5QjtcblxuICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICB1bnBhY2tBbmRQdXNoKHJlbW92YWxzLCBrZXlCKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuXG5mdW5jdGlvbiB1bnBhY2tBbmRQdXNoKGFycmF5LCBrZXkpIHtcbiAgYXJyYXkucHVzaCgoa2V5ICYgMHhmZmZmMDAwMCkgPj4gMTYsIGtleSAmIDB4MDAwMGZmZmYpO1xufVxuXG4vKipcclxuICogQGNsYXNzIFR1cGxlRGljdGlvbmFyeVxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXG5jbGFzcyBUdXBsZURpY3Rpb25hcnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmRhdGEgPSB7XG4gICAgICBrZXlzOiBbXVxuICAgIH07XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBnZXRcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGpcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXG5cblxuICBnZXQoaSwgaikge1xuICAgIGlmIChpID4gaikge1xuICAgICAgLy8gc3dhcFxuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRhdGFbaSArIFwiLVwiICsgal07XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCBzZXRcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlcclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICAgKi9cblxuXG4gIHNldChpLCBqLCB2YWx1ZSkge1xuICAgIGlmIChpID4gaikge1xuICAgICAgY29uc3QgdGVtcCA9IGo7XG4gICAgICBqID0gaTtcbiAgICAgIGkgPSB0ZW1wO1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IGkgKyBcIi1cIiArIGo7IC8vIENoZWNrIGlmIGtleSBhbHJlYWR5IGV4aXN0c1xuXG4gICAgaWYgKCF0aGlzLmdldChpLCBqKSkge1xuICAgICAgdGhpcy5kYXRhLmtleXMucHVzaChrZXkpO1xuICAgIH1cblxuICAgIHRoaXMuZGF0YVtrZXldID0gdmFsdWU7XG4gIH1cbiAgLyoqXHJcbiAgICogQG1ldGhvZCByZXNldFxyXG4gICAqL1xuXG5cbiAgcmVzZXQoKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBjb25zdCBrZXlzID0gZGF0YS5rZXlzO1xuXG4gICAgd2hpbGUgKGtleXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgIGRlbGV0ZSBkYXRhW2tleV07XG4gICAgfVxuICB9XG5cbn1cblxuLyoqXHJcbiAqIFRoZSBwaHlzaWNzIHdvcmxkXHJcbiAqIEBjbGFzcyBXb3JsZFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGV4dGVuZHMgRXZlbnRUYXJnZXRcclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmdyYXZpdHldXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dTbGVlcF1cclxuICogQHBhcmFtIHtCcm9hZHBoYXNlfSBbb3B0aW9ucy5icm9hZHBoYXNlXVxyXG4gKiBAcGFyYW0ge1NvbHZlcn0gW29wdGlvbnMuc29sdmVyXVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0XVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXBdXHJcbiAqL1xuY2xhc3MgV29ybGQgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIC8vIEN1cnJlbnRseSAvIGxhc3QgdXNlZCB0aW1lc3RlcC4gSXMgc2V0IHRvIC0xIGlmIG5vdCBhdmFpbGFibGUuIFRoaXMgdmFsdWUgaXMgdXBkYXRlZCBiZWZvcmUgZWFjaCBpbnRlcm5hbCBzdGVwLCB3aGljaCBtZWFucyB0aGF0IGl0IGlzIFwiZnJlc2hcIiBpbnNpZGUgZXZlbnQgY2FsbGJhY2tzLlxuICAvLyBNYWtlcyBib2RpZXMgZ28gdG8gc2xlZXAgd2hlbiB0aGV5J3ZlIGJlZW4gaW5hY3RpdmUuXG4gIC8vIEFsbCB0aGUgY3VycmVudCBjb250YWN0cyAoaW5zdGFuY2VzIG9mIENvbnRhY3RFcXVhdGlvbikgaW4gdGhlIHdvcmxkLlxuICAvLyBIb3cgb2Z0ZW4gdG8gbm9ybWFsaXplIHF1YXRlcm5pb25zLiBTZXQgdG8gMCBmb3IgZXZlcnkgc3RlcCwgMSBmb3IgZXZlcnkgc2Vjb25kIGV0Yy4uIEEgbGFyZ2VyIHZhbHVlIGluY3JlYXNlcyBwZXJmb3JtYW5jZS4gSWYgYm9kaWVzIHRlbmQgdG8gZXhwbG9kZSwgc2V0IHRvIGEgc21hbGxlciB2YWx1ZSAoemVybyB0byBiZSBzdXJlIG5vdGhpbmcgY2FuIGdvIHdyb25nKS5cbiAgLy8gU2V0IHRvIHRydWUgdG8gdXNlIGZhc3QgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBJdCBpcyBvZnRlbiBlbm91Z2ggYWNjdXJhdGUgdG8gdXNlLiBJZiBib2RpZXMgdGVuZCB0byBleHBsb2RlLCBzZXQgdG8gZmFsc2UuXG4gIC8vIFRoZSB3YWxsLWNsb2NrIHRpbWUgc2luY2Ugc2ltdWxhdGlvbiBzdGFydC5cbiAgLy8gTnVtYmVyIG9mIHRpbWVzdGVwcyB0YWtlbiBzaW5jZSBzdGFydC5cbiAgLy8gRGVmYXVsdCBhbmQgbGFzdCB0aW1lc3RlcCBzaXplcy5cbiAgLy8gVGhlIGJyb2FkcGhhc2UgYWxnb3JpdGhtIHRvIHVzZS4gRGVmYXVsdCBpcyBOYWl2ZUJyb2FkcGhhc2UuXG4gIC8vIEFsbCBib2RpZXMgaW4gdGhpcyB3b3JsZFxuICAvLyBUcnVlIGlmIGFueSBib2RpZXMgYXJlIG5vdCBzbGVlcGluZywgZmFsc2UgaWYgZXZlcnkgYm9keSBpcyBzbGVlcGluZy5cbiAgLy8gVGhlIHNvbHZlciBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIEdTU29sdmVyLlxuICAvLyBDb2xsaXNpb25NYXRyaXggZnJvbSB0aGUgcHJldmlvdXMgc3RlcC5cbiAgLy8gQWxsIGFkZGVkIG1hdGVyaWFscy5cbiAgLy8gVXNlZCB0byBsb29rIHVwIGEgQ29udGFjdE1hdGVyaWFsIGdpdmVuIHR3byBpbnN0YW5jZXMgb2YgTWF0ZXJpYWwuXG4gIC8vIFRoaXMgY29udGFjdCBtYXRlcmlhbCBpcyB1c2VkIGlmIG5vIHN1aXRhYmxlIGNvbnRhY3RtYXRlcmlhbCBpcyBmb3VuZCBmb3IgYSBjb250YWN0LlxuICAvLyBUaW1lIGFjY3VtdWxhdG9yIGZvciBpbnRlcnBvbGF0aW9uLiBTZWUgaHR0cDovL2dhZmZlcm9uZ2FtZXMuY29tL2dhbWUtcGh5c2ljcy9maXgteW91ci10aW1lc3RlcC9cbiAgLy8gRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHdvcmxkLlxuICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIHdvcmxkLlxuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZHQgPSAtMTtcbiAgICB0aGlzLmFsbG93U2xlZXAgPSAhIW9wdGlvbnMuYWxsb3dTbGVlcDtcbiAgICB0aGlzLmNvbnRhY3RzID0gW107XG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucyA9IFtdO1xuICAgIHRoaXMucXVhdE5vcm1hbGl6ZVNraXAgPSBvcHRpb25zLnF1YXROb3JtYWxpemVTa2lwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVTa2lwIDogMDtcbiAgICB0aGlzLnF1YXROb3JtYWxpemVGYXN0ID0gb3B0aW9ucy5xdWF0Tm9ybWFsaXplRmFzdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5xdWF0Tm9ybWFsaXplRmFzdCA6IGZhbHNlO1xuICAgIHRoaXMudGltZSA9IDAuMDtcbiAgICB0aGlzLnN0ZXBudW1iZXIgPSAwO1xuICAgIHRoaXMuZGVmYXVsdF9kdCA9IDEgLyA2MDtcbiAgICB0aGlzLm5leHRJZCA9IDA7XG4gICAgdGhpcy5ncmF2aXR5ID0gbmV3IFZlYzMoKTtcblxuICAgIGlmIChvcHRpb25zLmdyYXZpdHkpIHtcbiAgICAgIHRoaXMuZ3Jhdml0eS5jb3B5KG9wdGlvbnMuZ3Jhdml0eSk7XG4gICAgfVxuXG4gICAgdGhpcy5icm9hZHBoYXNlID0gb3B0aW9ucy5icm9hZHBoYXNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJyb2FkcGhhc2UgOiBuZXcgTmFpdmVCcm9hZHBoYXNlKCk7XG4gICAgdGhpcy5ib2RpZXMgPSBbXTtcbiAgICB0aGlzLmhhc0FjdGl2ZUJvZGllcyA9IGZhbHNlO1xuICAgIHRoaXMuc29sdmVyID0gb3B0aW9ucy5zb2x2ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc29sdmVyIDogbmV3IEdTU29sdmVyKCk7XG4gICAgdGhpcy5jb25zdHJhaW50cyA9IFtdO1xuICAgIHRoaXMubmFycm93cGhhc2UgPSBuZXcgTmFycm93cGhhc2UodGhpcyk7XG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTtcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzID0gbmV3IEFycmF5Q29sbGlzaW9uTWF0cml4KCk7XG4gICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlciA9IG5ldyBPdmVybGFwS2VlcGVyKCk7XG4gICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpO1xuICAgIHRoaXMubWF0ZXJpYWxzID0gW107XG4gICAgdGhpcy5jb250YWN0bWF0ZXJpYWxzID0gW107XG4gICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZSA9IG5ldyBUdXBsZURpY3Rpb25hcnkoKTtcbiAgICB0aGlzLmRlZmF1bHRNYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgnZGVmYXVsdCcpO1xuICAgIHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCA9IG5ldyBDb250YWN0TWF0ZXJpYWwodGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHRoaXMuZGVmYXVsdE1hdGVyaWFsLCB7XG4gICAgICBmcmljdGlvbjogMC4zLFxuICAgICAgcmVzdGl0dXRpb246IDAuMFxuICAgIH0pO1xuICAgIHRoaXMuZG9Qcm9maWxpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnByb2ZpbGUgPSB7XG4gICAgICBzb2x2ZTogMCxcbiAgICAgIG1ha2VDb250YWN0Q29uc3RyYWludHM6IDAsXG4gICAgICBicm9hZHBoYXNlOiAwLFxuICAgICAgaW50ZWdyYXRlOiAwLFxuICAgICAgbmFycm93cGhhc2U6IDBcbiAgICB9O1xuICAgIHRoaXMuYWNjdW11bGF0b3IgPSAwO1xuICAgIHRoaXMuc3Vic3lzdGVtcyA9IFtdO1xuICAgIHRoaXMuYWRkQm9keUV2ZW50ID0ge1xuICAgICAgdHlwZTogJ2FkZEJvZHknLFxuICAgICAgYm9keTogbnVsbFxuICAgIH07XG4gICAgdGhpcy5yZW1vdmVCb2R5RXZlbnQgPSB7XG4gICAgICB0eXBlOiAncmVtb3ZlQm9keScsXG4gICAgICBib2R5OiBudWxsXG4gICAgfTtcbiAgICB0aGlzLmlkVG9Cb2R5TWFwID0ge307XG4gICAgdGhpcy5icm9hZHBoYXNlLnNldFdvcmxkKHRoaXMpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgY29udGFjdCBtYXRlcmlhbCBiZXR3ZWVuIG1hdGVyaWFscyBtMSBhbmQgbTJcclxuICAgKiBAbWV0aG9kIGdldENvbnRhY3RNYXRlcmlhbFxyXG4gICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xXHJcbiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbTJcclxuICAgKiBAcmV0dXJuIHtDb250YWN0TWF0ZXJpYWx9IFRoZSBjb250YWN0IG1hdGVyaWFsIGlmIGl0IHdhcyBmb3VuZC5cclxuICAgKi9cblxuXG4gIGdldENvbnRhY3RNYXRlcmlhbChtMSwgbTIpIHtcbiAgICByZXR1cm4gdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5nZXQobTEuaWQsIG0yLmlkKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgbnVtYmVyIG9mIG9iamVjdHMgaW4gdGhlIHdvcmxkLlxyXG4gICAqIEBtZXRob2QgbnVtT2JqZWN0c1xyXG4gICAqIEByZXR1cm4ge051bWJlcn1cclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xuXG5cbiAgbnVtT2JqZWN0cygpIHtcbiAgICByZXR1cm4gdGhpcy5ib2RpZXMubGVuZ3RoO1xuICB9XG4gIC8qKlxyXG4gICAqIFN0b3JlIG9sZCBjb2xsaXNpb24gc3RhdGUgaW5mb1xyXG4gICAqIEBtZXRob2QgY29sbGlzaW9uTWF0cml4VGlja1xyXG4gICAqL1xuXG5cbiAgY29sbGlzaW9uTWF0cml4VGljaygpIHtcbiAgICBjb25zdCB0ZW1wID0gdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cztcbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzID0gdGhpcy5jb2xsaXNpb25NYXRyaXg7XG4gICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSB0ZW1wO1xuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnJlc2V0KCk7XG4gICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci50aWNrKCk7XG4gICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIudGljaygpO1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHNpbXVsYXRpb24uXHJcbiAgICogQG1ldGhvZCBhZGRDb25zdHJhaW50XHJcbiAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjXHJcbiAgICovXG5cblxuICBhZGRDb25zdHJhaW50KGMpIHtcbiAgICB0aGlzLmNvbnN0cmFpbnRzLnB1c2goYyk7XG4gIH1cbiAgLyoqXHJcbiAgICogUmVtb3ZlcyBhIGNvbnN0cmFpbnRcclxuICAgKiBAbWV0aG9kIHJlbW92ZUNvbnN0cmFpbnRcclxuICAgKiBAcGFyYW0ge0NvbnN0cmFpbnR9IGNcclxuICAgKi9cblxuXG4gIHJlbW92ZUNvbnN0cmFpbnQoYykge1xuICAgIGNvbnN0IGlkeCA9IHRoaXMuY29uc3RyYWludHMuaW5kZXhPZihjKTtcblxuICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICB0aGlzLmNvbnN0cmFpbnRzLnNwbGljZShpZHgsIDEpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSYXljYXN0IHRlc3RcclxuICAgKiBAbWV0aG9kIHJheVRlc3RcclxuICAgKiBAcGFyYW0ge1ZlYzN9IGZyb21cclxuICAgKiBAcGFyYW0ge1ZlYzN9IHRvXHJcbiAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSByZXN1bHRcclxuICAgKiBAZGVwcmVjYXRlZCBVc2UgLnJheWNhc3RBbGwsIC5yYXljYXN0Q2xvc2VzdCBvciAucmF5Y2FzdEFueSBpbnN0ZWFkLlxyXG4gICAqL1xuXG5cbiAgcmF5VGVzdChmcm9tLCB0bywgcmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJheWNhc3RSZXN1bHQpIHtcbiAgICAgIC8vIERvIHJheWNhc3RDbG9zZXN0XG4gICAgICB0aGlzLnJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCB7XG4gICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWVcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERvIHJheWNhc3RBbGxcbiAgICAgIHRoaXMucmF5Y2FzdEFsbChmcm9tLCB0bywge1xuICAgICAgICBza2lwQmFja2ZhY2VzOiB0cnVlXG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBSYXkgY2FzdCBhZ2FpbnN0IGFsbCBib2RpZXMuIFRoZSBwcm92aWRlZCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGhpdCB3aXRoIGEgUmF5Y2FzdFJlc3VsdCBhcyBzaW5nbGUgYXJndW1lbnQuXHJcbiAgICogQG1ldGhvZCByYXljYXN0QWxsXHJcbiAgICogQHBhcmFtICB7VmVjM30gZnJvbVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IHRvXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXVxyXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV1cclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0LlxyXG4gICAqL1xuXG5cbiAgcmF5Y2FzdEFsbChmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCBjYWxsYmFjaykge1xuICAgIG9wdGlvbnMubW9kZSA9IFJheS5BTEw7XG4gICAgb3B0aW9ucy5mcm9tID0gZnJvbTtcbiAgICBvcHRpb25zLnRvID0gdG87XG4gICAgb3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiB0bXBSYXkkMS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAvKipcclxuICAgKiBSYXkgY2FzdCwgYW5kIHN0b3AgYXQgdGhlIGZpcnN0IHJlc3VsdC4gTm90ZSB0aGF0IHRoZSBvcmRlciBpcyByYW5kb20gLSBidXQgdGhlIG1ldGhvZCBpcyBmYXN0LlxyXG4gICAqIEBtZXRob2QgcmF5Y2FzdEFueVxyXG4gICAqIEBwYXJhbSAge1ZlYzN9IGZyb21cclxuICAgKiBAcGFyYW0gIHtWZWMzfSB0b1xyXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xyXG4gICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV1cclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdXHJcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXVxyXG4gICAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC5cclxuICAgKi9cblxuXG4gIHJheWNhc3RBbnkoZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSwgcmVzdWx0KSB7XG4gICAgb3B0aW9ucy5tb2RlID0gUmF5LkFOWTtcbiAgICBvcHRpb25zLmZyb20gPSBmcm9tO1xuICAgIG9wdGlvbnMudG8gPSB0bztcbiAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXHJcbiAgICogUmF5IGNhc3QsIGFuZCByZXR1cm4gaW5mb3JtYXRpb24gb2YgdGhlIGNsb3Nlc3QgaGl0LlxyXG4gICAqIEBtZXRob2QgcmF5Y2FzdENsb3Nlc3RcclxuICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tXHJcbiAgICogQHBhcmFtICB7VmVjM30gdG9cclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdXHJcbiAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV1cclxuICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXVxyXG4gICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV1cclxuICAgKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHRcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuXHJcbiAgICovXG5cblxuICByYXljYXN0Q2xvc2VzdChmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHtcbiAgICBvcHRpb25zLm1vZGUgPSBSYXkuQ0xPU0VTVDtcbiAgICBvcHRpb25zLmZyb20gPSBmcm9tO1xuICAgIG9wdGlvbnMudG8gPSB0bztcbiAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkIGEgcmlnaWQgYm9keSB0byB0aGUgc2ltdWxhdGlvbi5cclxuICAgKiBAbWV0aG9kIGFkZFxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keVxyXG4gICAqIEB0b2RvIElmIHRoZSBzaW11bGF0aW9uIGhhcyBub3QgeWV0IHN0YXJ0ZWQsIHdoeSByZWNyZXRlIGFuZCBjb3B5IGFycmF5cyBmb3IgZWFjaCBib2R5PyBBY2N1bXVsYXRlIGluIGR5bmFtaWMgYXJyYXlzIGluIHRoaXMgY2FzZS5cclxuICAgKiBAdG9kbyBBZGRpbmcgYW4gYXJyYXkgb2YgYm9kaWVzIHNob3VsZCBiZSBwb3NzaWJsZS4gVGhpcyB3b3VsZCBzYXZlIHNvbWUgbG9vcHMgdG9vXHJcbiAgICovXG5cblxuICBhZGRCb2R5KGJvZHkpIHtcbiAgICBpZiAodGhpcy5ib2RpZXMuaW5jbHVkZXMoYm9keSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBib2R5LmluZGV4ID0gdGhpcy5ib2RpZXMubGVuZ3RoO1xuICAgIHRoaXMuYm9kaWVzLnB1c2goYm9keSk7XG4gICAgYm9keS53b3JsZCA9IHRoaXM7XG4gICAgYm9keS5pbml0UG9zaXRpb24uY29weShib2R5LnBvc2l0aW9uKTtcbiAgICBib2R5LmluaXRWZWxvY2l0eS5jb3B5KGJvZHkudmVsb2NpdHkpO1xuICAgIGJvZHkudGltZUxhc3RTbGVlcHkgPSB0aGlzLnRpbWU7XG5cbiAgICBpZiAoYm9keSBpbnN0YW5jZW9mIEJvZHkpIHtcbiAgICAgIGJvZHkuaW5pdEFuZ3VsYXJWZWxvY2l0eS5jb3B5KGJvZHkuYW5ndWxhclZlbG9jaXR5KTtcbiAgICAgIGJvZHkuaW5pdFF1YXRlcm5pb24uY29weShib2R5LnF1YXRlcm5pb24pO1xuICAgIH1cblxuICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnNldE51bU9iamVjdHModGhpcy5ib2RpZXMubGVuZ3RoKTtcbiAgICB0aGlzLmFkZEJvZHlFdmVudC5ib2R5ID0gYm9keTtcbiAgICB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdID0gYm9keTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5hZGRCb2R5RXZlbnQpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJlbW92ZSBhIHJpZ2lkIGJvZHkgZnJvbSB0aGUgc2ltdWxhdGlvbi5cclxuICAgKiBAbWV0aG9kIHJlbW92ZVxyXG4gICAqIEBwYXJhbSB7Qm9keX0gYm9keVxyXG4gICAqL1xuXG5cbiAgcmVtb3ZlQm9keShib2R5KSB7XG4gICAgYm9keS53b3JsZCA9IG51bGw7XG4gICAgY29uc3QgbiA9IHRoaXMuYm9kaWVzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG4gICAgY29uc3QgaWR4ID0gYm9kaWVzLmluZGV4T2YoYm9keSk7XG5cbiAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgYm9kaWVzLnNwbGljZShpZHgsIDEpOyAvLyBUb2RvOiBzaG91bGQgdXNlIGEgZ2FyYmFnZSBmcmVlIG1ldGhvZFxuICAgICAgLy8gUmVjb21wdXRlIGluZGV4XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYm9kaWVzW2ldLmluZGV4ID0gaTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyhuKTtcbiAgICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50LmJvZHkgPSBib2R5O1xuICAgICAgZGVsZXRlIHRoaXMuaWRUb0JvZHlNYXBbYm9keS5pZF07XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5yZW1vdmVCb2R5RXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGdldEJvZHlCeUlkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuaWRUb0JvZHlNYXBbaWRdO1xuICB9IC8vIFRPRE8gTWFrZSBhIGZhc3RlciBtYXBcblxuXG4gIGdldFNoYXBlQnlJZChpZCkge1xuICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGJsID0gYm9kaWVzLmxlbmd0aDsgaSA8IGJsOyBpKyspIHtcbiAgICAgIGNvbnN0IHNoYXBlcyA9IGJvZGllc1tpXS5zaGFwZXM7XG5cbiAgICAgIGZvciAobGV0IGogPSAwLCBzbCA9IHNoYXBlcy5sZW5ndGg7IGogPCBzbDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2pdO1xuXG4gICAgICAgIGlmIChzaGFwZS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogQWRkcyBhIG1hdGVyaWFsIHRvIHRoZSBXb3JsZC5cclxuICAgKiBAbWV0aG9kIGFkZE1hdGVyaWFsXHJcbiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbVxyXG4gICAqIEB0b2RvIE5lY2Vzc2FyeT9cclxuICAgKi9cblxuXG4gIGFkZE1hdGVyaWFsKG0pIHtcbiAgICB0aGlzLm1hdGVyaWFscy5wdXNoKG0pO1xuICB9XG4gIC8qKlxyXG4gICAqIEFkZHMgYSBjb250YWN0IG1hdGVyaWFsIHRvIHRoZSBXb3JsZFxyXG4gICAqIEBtZXRob2QgYWRkQ29udGFjdE1hdGVyaWFsXHJcbiAgICogQHBhcmFtIHtDb250YWN0TWF0ZXJpYWx9IGNtYXRcclxuICAgKi9cblxuXG4gIGFkZENvbnRhY3RNYXRlcmlhbChjbWF0KSB7XG4gICAgLy8gQWRkIGNvbnRhY3QgbWF0ZXJpYWxcbiAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMucHVzaChjbWF0KTsgLy8gQWRkIGN1cnJlbnQgY29udGFjdCBtYXRlcmlhbCB0byB0aGUgbWF0ZXJpYWwgdGFibGVcblxuICAgIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUuc2V0KGNtYXQubWF0ZXJpYWxzWzBdLmlkLCBjbWF0Lm1hdGVyaWFsc1sxXS5pZCwgY21hdCk7XG4gIH1cbiAgLyoqXHJcbiAgICogU3RlcCB0aGUgcGh5c2ljcyB3b3JsZCBmb3J3YXJkIGluIHRpbWUuXHJcbiAgICpcclxuICAgKiBUaGVyZSBhcmUgdHdvIG1vZGVzLiBUaGUgc2ltcGxlIG1vZGUgaXMgZml4ZWQgdGltZXN0ZXBwaW5nIHdpdGhvdXQgaW50ZXJwb2xhdGlvbi4gSW4gdGhpcyBjYXNlIHlvdSBvbmx5IHVzZSB0aGUgZmlyc3QgYXJndW1lbnQuIFRoZSBzZWNvbmQgY2FzZSB1c2VzIGludGVycG9sYXRpb24uIEluIHRoYXQgeW91IGFsc28gcHJvdmlkZSB0aGUgdGltZSBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgdXNlZCwgYXMgd2VsbCBhcyB0aGUgbWF4aW11bSBmaXhlZCB0aW1lc3RlcHMgdG8gdGFrZS5cclxuICAgKlxyXG4gICAqIEBtZXRob2Qgc3RlcFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkdCAgICAgICAgICAgICAgICAgICAgICAgVGhlIGZpeGVkIHRpbWUgc3RlcCBzaXplIHRvIHVzZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVTaW5jZUxhc3RDYWxsZWRdICAgIFRoZSB0aW1lIGVsYXBzZWQgc2luY2UgdGhlIGZ1bmN0aW9uIHdhcyBsYXN0IGNhbGxlZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW21heFN1YlN0ZXBzPTEwXSAgICAgICAgIE1heGltdW0gbnVtYmVyIG9mIGZpeGVkIHN0ZXBzIHRvIHRha2UgcGVyIGZ1bmN0aW9uIGNhbGwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqICAgICAvLyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uXHJcbiAgICogICAgIHdvcmxkLnN0ZXAoMS82MCk7XHJcbiAgICpcclxuICAgKiBAc2VlIGh0dHA6Ly9idWxsZXRwaHlzaWNzLm9yZy9tZWRpYXdpa2ktMS41LjgvaW5kZXgucGhwL1N0ZXBwaW5nX1RoZV9Xb3JsZFxyXG4gICAqL1xuXG5cbiAgc3RlcChkdCwgdGltZVNpbmNlTGFzdENhbGxlZCwgbWF4U3ViU3RlcHMgPSAxMCkge1xuICAgIGlmICh0aW1lU2luY2VMYXN0Q2FsbGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEZpeGVkLCBzaW1wbGUgc3RlcHBpbmdcbiAgICAgIHRoaXMuaW50ZXJuYWxTdGVwKGR0KTsgLy8gSW5jcmVtZW50IHRpbWVcblxuICAgICAgdGhpcy50aW1lICs9IGR0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjY3VtdWxhdG9yICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7XG4gICAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgbGV0IHN1YnN0ZXBzID0gMDtcblxuICAgICAgd2hpbGUgKHRoaXMuYWNjdW11bGF0b3IgPj0gZHQgJiYgc3Vic3RlcHMgPCBtYXhTdWJTdGVwcykge1xuICAgICAgICAvLyBEbyBmaXhlZCBzdGVwcyB0byBjYXRjaCB1cFxuICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7XG4gICAgICAgIHRoaXMuYWNjdW11bGF0b3IgLT0gZHQ7XG4gICAgICAgIHN1YnN0ZXBzKys7XG5cbiAgICAgICAgaWYgKHBlcmZvcm1hbmNlLm5vdygpIC0gdDAgPiBkdCAqIDIgKiAxMDAwKSB7XG4gICAgICAgICAgLy8gVGhlIGZyYW1lcmF0ZSBpcyBub3QgaW50ZXJhY3RpdmUgYW55bW9yZS5cbiAgICAgICAgICAvLyBXZSBhcmUgYXQgaGFsZiBvZiB0aGUgdGFyZ2V0IGZyYW1lcmF0ZS5cbiAgICAgICAgICAvLyBCZXR0ZXIgYmFpbCBvdXQuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gUmVtb3ZlIHRoZSBleGNlc3MgYWNjdW11bGF0b3IsIHNpbmNlIHdlIG1heSBub3RcbiAgICAgIC8vIGhhdmUgaGFkIGVub3VnaCBzdWJzdGVwcyBhdmFpbGFibGUgdG8gY2F0Y2ggdXBcblxuXG4gICAgICB0aGlzLmFjY3VtdWxhdG9yID0gdGhpcy5hY2N1bXVsYXRvciAlIGR0O1xuICAgICAgY29uc3QgdCA9IHRoaXMuYWNjdW11bGF0b3IgLyBkdDtcblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IHRoaXMuYm9kaWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLmJvZGllc1tqXTtcbiAgICAgICAgYi5wcmV2aW91c1Bvc2l0aW9uLmxlcnAoYi5wb3NpdGlvbiwgdCwgYi5pbnRlcnBvbGF0ZWRQb3NpdGlvbik7XG4gICAgICAgIGIucHJldmlvdXNRdWF0ZXJuaW9uLnNsZXJwKGIucXVhdGVybmlvbiwgdCwgYi5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uKTtcbiAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24ubm9ybWFsaXplKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGltZSArPSB0aW1lU2luY2VMYXN0Q2FsbGVkO1xuICAgIH1cbiAgfVxuXG4gIGludGVybmFsU3RlcChkdCkge1xuICAgIHRoaXMuZHQgPSBkdDtcbiAgICBjb25zdCBjb250YWN0cyA9IHRoaXMuY29udGFjdHM7XG4gICAgY29uc3QgcDEgPSBXb3JsZF9zdGVwX3AxO1xuICAgIGNvbnN0IHAyID0gV29ybGRfc3RlcF9wMjtcbiAgICBjb25zdCBOID0gdGhpcy5udW1PYmplY3RzKCk7XG4gICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG4gICAgY29uc3Qgc29sdmVyID0gdGhpcy5zb2x2ZXI7XG4gICAgY29uc3QgZ3Jhdml0eSA9IHRoaXMuZ3Jhdml0eTtcbiAgICBjb25zdCBkb1Byb2ZpbGluZyA9IHRoaXMuZG9Qcm9maWxpbmc7XG4gICAgY29uc3QgcHJvZmlsZSA9IHRoaXMucHJvZmlsZTtcbiAgICBjb25zdCBEWU5BTUlDID0gQm9keS5EWU5BTUlDO1xuICAgIGxldCBwcm9maWxpbmdTdGFydCA9IC1JbmZpbml0eTtcbiAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7XG4gICAgY29uc3QgZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBXb3JsZF9zdGVwX2ZyaWN0aW9uRXF1YXRpb25Qb29sO1xuICAgIGNvbnN0IGdub3JtID0gZ3Jhdml0eS5sZW5ndGgoKTtcbiAgICBjb25zdCBneCA9IGdyYXZpdHkueDtcbiAgICBjb25zdCBneSA9IGdyYXZpdHkueTtcbiAgICBjb25zdCBneiA9IGdyYXZpdHkuejtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfSAvLyBBZGQgZ3Jhdml0eSB0byBhbGwgb2JqZWN0c1xuXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYmkudHlwZSA9PT0gRFlOQU1JQykge1xuICAgICAgICAvLyBPbmx5IGZvciBkeW5hbWljIGJvZGllc1xuICAgICAgICBjb25zdCBmID0gYmkuZm9yY2U7XG4gICAgICAgIGNvbnN0IG0gPSBiaS5tYXNzO1xuICAgICAgICBmLnggKz0gbSAqIGd4O1xuICAgICAgICBmLnkgKz0gbSAqIGd5O1xuICAgICAgICBmLnogKz0gbSAqIGd6O1xuICAgICAgfVxuICAgIH0gLy8gVXBkYXRlIHN1YnN5c3RlbXNcblxuXG4gICAgZm9yIChsZXQgaSA9IDAsIE5zdWJzeXN0ZW1zID0gdGhpcy5zdWJzeXN0ZW1zLmxlbmd0aDsgaSAhPT0gTnN1YnN5c3RlbXM7IGkrKykge1xuICAgICAgdGhpcy5zdWJzeXN0ZW1zW2ldLnVwZGF0ZSgpO1xuICAgIH0gLy8gQ29sbGlzaW9uIGRldGVjdGlvblxuXG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuXG4gICAgcDEubGVuZ3RoID0gMDsgLy8gQ2xlYW4gdXAgcGFpciBhcnJheXMgZnJvbSBsYXN0IHN0ZXBcblxuICAgIHAyLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5icm9hZHBoYXNlLmNvbGxpc2lvblBhaXJzKHRoaXMsIHAxLCBwMik7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUuYnJvYWRwaGFzZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7XG4gICAgfSAvLyBSZW1vdmUgY29uc3RyYWluZWQgcGFpcnMgd2l0aCBjb2xsaWRlQ29ubmVjdGVkID09IGZhbHNlXG5cblxuICAgIGxldCBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOY29uc3RyYWludHM7IGkrKykge1xuICAgICAgY29uc3QgYyA9IGNvbnN0cmFpbnRzW2ldO1xuXG4gICAgICBpZiAoIWMuY29sbGlkZUNvbm5lY3RlZCkge1xuICAgICAgICBmb3IgKGxldCBqID0gcDEubGVuZ3RoIC0gMTsgaiA+PSAwOyBqIC09IDEpIHtcbiAgICAgICAgICBpZiAoYy5ib2R5QSA9PT0gcDFbal0gJiYgYy5ib2R5QiA9PT0gcDJbal0gfHwgYy5ib2R5QiA9PT0gcDFbal0gJiYgYy5ib2R5QSA9PT0gcDJbal0pIHtcbiAgICAgICAgICAgIHAxLnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgIHAyLnNwbGljZShqLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFRpY2soKTsgLy8gR2VuZXJhdGUgY29udGFjdHNcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGRjb250YWN0cyA9IFdvcmxkX3N0ZXBfb2xkQ29udGFjdHM7XG4gICAgY29uc3QgTm9sZENvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZENvbnRhY3RzOyBpKyspIHtcbiAgICAgIG9sZGNvbnRhY3RzLnB1c2goY29udGFjdHNbaV0pO1xuICAgIH1cblxuICAgIGNvbnRhY3RzLmxlbmd0aCA9IDA7IC8vIFRyYW5zZmVyIEZyaWN0aW9uRXF1YXRpb24gZnJvbSBjdXJyZW50IGxpc3QgdG8gdGhlIHBvb2wgZm9yIHJldXNlXG5cbiAgICBjb25zdCBOb2xkRnJpY3Rpb25FcXVhdGlvbnMgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE5vbGRGcmljdGlvbkVxdWF0aW9uczsgaSsrKSB7XG4gICAgICBmcmljdGlvbkVxdWF0aW9uUG9vbC5wdXNoKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLm5hcnJvd3BoYXNlLmdldENvbnRhY3RzKHAxLCBwMiwgdGhpcywgY29udGFjdHMsIG9sZGNvbnRhY3RzLCAvLyBUbyBiZSByZXVzZWRcbiAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLCBmcmljdGlvbkVxdWF0aW9uUG9vbCk7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUubmFycm93cGhhc2UgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgIH0gLy8gTG9vcCBvdmVyIGFsbCBjb2xsaXNpb25zXG5cblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9IC8vIEFkZCBhbGwgZnJpY3Rpb24gZXFzXG5cblxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzb2x2ZXIuYWRkRXF1YXRpb24odGhpcy5mcmljdGlvbkVxdWF0aW9uc1tpXSk7XG4gICAgfVxuXG4gICAgY29uc3QgbmNvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgayA9IDA7IGsgIT09IG5jb250YWN0czsgaysrKSB7XG4gICAgICAvLyBDdXJyZW50IGNvbnRhY3RcbiAgICAgIGNvbnN0IGMgPSBjb250YWN0c1trXTsgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGluZGVjZXNcblxuICAgICAgY29uc3QgYmkgPSBjLmJpO1xuICAgICAgY29uc3QgYmogPSBjLmJqO1xuICAgICAgY29uc3Qgc2kgPSBjLnNpO1xuICAgICAgY29uc3Qgc2ogPSBjLnNqOyAvLyBHZXQgY29sbGlzaW9uIHByb3BlcnRpZXNcblxuICAgICAgbGV0IGNtO1xuXG4gICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHtcbiAgICAgICAgY20gPSB0aGlzLmdldENvbnRhY3RNYXRlcmlhbChiaS5tYXRlcmlhbCwgYmoubWF0ZXJpYWwpIHx8IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNtID0gdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO1xuICAgICAgfSAvLyBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTtcblxuXG4gICAgICBsZXQgbXUgPSBjbS5mcmljdGlvbjsgLy8gYy5yZXN0aXR1dGlvbiA9IGNtLnJlc3RpdHV0aW9uO1xuICAgICAgLy8gSWYgZnJpY3Rpb24gb3IgcmVzdGl0dXRpb24gd2VyZSBzcGVjaWZpZWQgaW4gdGhlIG1hdGVyaWFsLCB1c2UgdGhlbVxuXG4gICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHtcbiAgICAgICAgaWYgKGJpLm1hdGVyaWFsLmZyaWN0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCkge1xuICAgICAgICAgIG11ID0gYmkubWF0ZXJpYWwuZnJpY3Rpb24gKiBiai5tYXRlcmlhbC5mcmljdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDApIHtcbiAgICAgICAgICBjLnJlc3RpdHV0aW9uID0gYmkubWF0ZXJpYWwucmVzdGl0dXRpb24gKiBiai5tYXRlcmlhbC5yZXN0aXR1dGlvbjtcbiAgICAgICAgfVxuICAgICAgfSAvLyBjLnNldFNwb29rUGFyYW1zKFxuICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyxcbiAgICAgIC8vICAgICAgICAgICBjbS5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uLFxuICAgICAgLy8gICAgICAgICAgIGR0XG4gICAgICAvLyAgICAgICApO1xuXG5cbiAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihjKTsgLy8gLy8gQWRkIGZyaWN0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb25cbiAgICAgIC8vIGlmKG11ID4gMCl7XG4gICAgICAvLyBcdC8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zXG4gICAgICAvLyBcdGNvbnN0IG11ZyA9IG11ICogZ25vcm07XG4gICAgICAvLyBcdGNvbnN0IHJlZHVjZWRNYXNzID0gKGJpLmludk1hc3MgKyBiai5pbnZNYXNzKTtcbiAgICAgIC8vIFx0aWYocmVkdWNlZE1hc3MgPiAwKXtcbiAgICAgIC8vIFx0XHRyZWR1Y2VkTWFzcyA9IDEvcmVkdWNlZE1hc3M7XG4gICAgICAvLyBcdH1cbiAgICAgIC8vIFx0Y29uc3QgcG9vbCA9IGZyaWN0aW9uRXF1YXRpb25Qb29sO1xuICAgICAgLy8gXHRjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJpLGJqLG11ZypyZWR1Y2VkTWFzcyk7XG4gICAgICAvLyBcdGNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTtcbiAgICAgIC8vIFx0dGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKGMxLCBjMik7XG4gICAgICAvLyBcdGMxLmJpID0gYzIuYmkgPSBiaTtcbiAgICAgIC8vIFx0YzEuYmogPSBjMi5iaiA9IGJqO1xuICAgICAgLy8gXHRjMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZypyZWR1Y2VkTWFzcztcbiAgICAgIC8vIFx0YzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZypyZWR1Y2VkTWFzcztcbiAgICAgIC8vIFx0Ly8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzXG4gICAgICAvLyBcdGMxLnJpLmNvcHkoYy5yaSk7XG4gICAgICAvLyBcdGMxLnJqLmNvcHkoYy5yaik7XG4gICAgICAvLyBcdGMyLnJpLmNvcHkoYy5yaSk7XG4gICAgICAvLyBcdGMyLnJqLmNvcHkoYy5yaik7XG4gICAgICAvLyBcdC8vIENvbnN0cnVjdCB0YW5nZW50c1xuICAgICAgLy8gXHRjLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpO1xuICAgICAgLy8gICAgICAgICAgIC8vIFNldCBzcG9vayBwYXJhbXNcbiAgICAgIC8vICAgICAgICAgICBjMS5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgZHQpO1xuICAgICAgLy8gICAgICAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7XG4gICAgICAvLyAgICAgICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjLmVuYWJsZWQ7XG4gICAgICAvLyBcdC8vIEFkZCBlcXVhdGlvbnMgdG8gc29sdmVyXG4gICAgICAvLyBcdHNvbHZlci5hZGRFcXVhdGlvbihjMSk7XG4gICAgICAvLyBcdHNvbHZlci5hZGRFcXVhdGlvbihjMik7XG4gICAgICAvLyB9XG5cbiAgICAgIGlmIChiaS5hbGxvd1NsZWVwICYmIGJpLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJiBiaS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJqLnNsZWVwU3RhdGUgPT09IEJvZHkuQVdBS0UgJiYgYmoudHlwZSAhPT0gQm9keS5TVEFUSUMpIHtcbiAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQiA9IGJqLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJqLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7XG4gICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQiA9IGJqLnNsZWVwU3BlZWRMaW1pdCAqKiAyO1xuXG4gICAgICAgIGlmIChzcGVlZFNxdWFyZWRCID49IHNwZWVkTGltaXRTcXVhcmVkQiAqIDIpIHtcbiAgICAgICAgICBiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYmouYWxsb3dTbGVlcCAmJiBiai50eXBlID09PSBCb2R5LkRZTkFNSUMgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBiaS5zbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIGJpLnR5cGUgIT09IEJvZHkuU1RBVElDKSB7XG4gICAgICAgIGNvbnN0IHNwZWVkU3F1YXJlZEEgPSBiaS52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyBiaS5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpO1xuICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEEgPSBiaS5zbGVlcFNwZWVkTGltaXQgKiogMjtcblxuICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQSA+PSBzcGVlZExpbWl0U3F1YXJlZEEgKiAyKSB7XG4gICAgICAgICAgYmoud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gTm93IHdlIGtub3cgdGhhdCBpIGFuZCBqIGFyZSBpbiBjb250YWN0LiBTZXQgY29sbGlzaW9uIG1hdHJpeCBzdGF0ZVxuXG5cbiAgICAgIHRoaXMuY29sbGlzaW9uTWF0cml4LnNldChiaSwgYmosIHRydWUpO1xuXG4gICAgICBpZiAoIXRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMuZ2V0KGJpLCBiaikpIHtcbiAgICAgICAgLy8gRmlyc3QgY29udGFjdCFcbiAgICAgICAgLy8gV2UgcmV1c2UgdGhlIGNvbGxpZGVFdmVudCBvYmplY3QsIG90aGVyd2lzZSB3ZSB3aWxsIGVuZCB1cCBjcmVhdGluZyBuZXcgb2JqZWN0cyBmb3IgZWFjaCBuZXcgY29udGFjdCwgZXZlbiBpZiB0aGVyZSdzIG5vIGV2ZW50IGxpc3RlbmVyIGF0dGFjaGVkLlxuICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmo7XG4gICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmNvbnRhY3QgPSBjO1xuICAgICAgICBiaS5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTtcbiAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuYm9keSA9IGJpO1xuICAgICAgICBiai5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5zZXQoYmkuaWQsIGJqLmlkKTtcbiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLnNldChzaS5pZCwgc2ouaWQpO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdENvbnRhY3RFdmVudHMoKTtcblxuICAgIGlmIChkb1Byb2ZpbGluZykge1xuICAgICAgcHJvZmlsZS5tYWtlQ29udGFjdENvbnN0cmFpbnRzID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfSAvLyBXYWtlIHVwIGJvZGllc1xuXG5cbiAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuXG4gICAgICBpZiAoYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSkge1xuICAgICAgICBiaS53YWtlVXAoKTtcbiAgICAgICAgYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gLy8gQWRkIHVzZXItYWRkZWQgY29uc3RyYWludHNcblxuXG4gICAgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTmNvbnN0cmFpbnRzOyBpKyspIHtcbiAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTtcbiAgICAgIGMudXBkYXRlKCk7XG5cbiAgICAgIGZvciAobGV0IGogPSAwLCBOZXEgPSBjLmVxdWF0aW9ucy5sZW5ndGg7IGogIT09IE5lcTsgaisrKSB7XG4gICAgICAgIGNvbnN0IGVxID0gYy5lcXVhdGlvbnNbal07XG4gICAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihlcSk7XG4gICAgICB9XG4gICAgfSAvLyBTb2x2ZSB0aGUgY29uc3RyYWluZWQgc3lzdGVtXG5cblxuICAgIHNvbHZlci5zb2x2ZShkdCwgdGhpcyk7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUuc29sdmUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0O1xuICAgIH0gLy8gUmVtb3ZlIGFsbCBjb250YWN0cyBmcm9tIHNvbHZlclxuXG5cbiAgICBzb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7IC8vIEFwcGx5IGRhbXBpbmcsIHNlZSBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYnVsbGV0L2lzc3Vlcy9kZXRhaWw/aWQ9NzQgZm9yIGRldGFpbHNcblxuICAgIGNvbnN0IHBvdyA9IE1hdGgucG93O1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcblxuICAgICAgaWYgKGJpLnR5cGUgJiBEWU5BTUlDKSB7XG4gICAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMgYm9kaWVzXG4gICAgICAgIGNvbnN0IGxkID0gcG93KDEuMCAtIGJpLmxpbmVhckRhbXBpbmcsIGR0KTtcbiAgICAgICAgY29uc3QgdiA9IGJpLnZlbG9jaXR5O1xuICAgICAgICB2LnNjYWxlKGxkLCB2KTtcbiAgICAgICAgY29uc3QgYXYgPSBiaS5hbmd1bGFyVmVsb2NpdHk7XG5cbiAgICAgICAgaWYgKGF2KSB7XG4gICAgICAgICAgY29uc3QgYWQgPSBwb3coMS4wIC0gYmkuYW5ndWxhckRhbXBpbmcsIGR0KTtcbiAgICAgICAgICBhdi5zY2FsZShhZCwgYXYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50KTsgLy8gSW52b2tlIHByZS1zdGVwIGNhbGxiYWNrc1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTtcblxuICAgICAgaWYgKGJpLnByZVN0ZXApIHtcbiAgICAgICAgYmkucHJlU3RlcC5jYWxsKGJpKTtcbiAgICAgIH1cbiAgICB9IC8vIExlYXAgZnJvZ1xuICAgIC8vIHZuZXcgPSB2ICsgaCpmL21cbiAgICAvLyB4bmV3ID0geCArIGgqdm5ld1xuXG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RlcG51bWJlciA9IHRoaXMuc3RlcG51bWJlcjtcbiAgICBjb25zdCBxdWF0Tm9ybWFsaXplID0gc3RlcG51bWJlciAlICh0aGlzLnF1YXROb3JtYWxpemVTa2lwICsgMSkgPT09IDA7XG4gICAgY29uc3QgcXVhdE5vcm1hbGl6ZUZhc3QgPSB0aGlzLnF1YXROb3JtYWxpemVGYXN0O1xuXG4gICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICBib2RpZXNbaV0uaW50ZWdyYXRlKGR0LCBxdWF0Tm9ybWFsaXplLCBxdWF0Tm9ybWFsaXplRmFzdCk7XG4gICAgfVxuXG4gICAgdGhpcy5jbGVhckZvcmNlcygpO1xuICAgIHRoaXMuYnJvYWRwaGFzZS5kaXJ0eSA9IHRydWU7XG5cbiAgICBpZiAoZG9Qcm9maWxpbmcpIHtcbiAgICAgIHByb2ZpbGUuaW50ZWdyYXRlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDtcbiAgICB9IC8vIFVwZGF0ZSB3b3JsZCB0aW1lXG5cblxuICAgIHRoaXMudGltZSArPSBkdDtcbiAgICB0aGlzLnN0ZXBudW1iZXIgKz0gMTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50KTsgLy8gSW52b2tlIHBvc3Qtc3RlcCBjYWxsYmFja3NcblxuICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykge1xuICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07XG4gICAgICBjb25zdCBwb3N0U3RlcCA9IGJpLnBvc3RTdGVwO1xuXG4gICAgICBpZiAocG9zdFN0ZXApIHtcbiAgICAgICAgcG9zdFN0ZXAuY2FsbChiaSk7XG4gICAgICB9XG4gICAgfSAvLyBTbGVlcGluZyB1cGRhdGVcblxuXG4gICAgbGV0IGhhc0FjdGl2ZUJvZGllcyA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7XG4gICAgICBoYXNBY3RpdmVCb2RpZXMgPSBmYWxzZTtcblxuICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldO1xuICAgICAgICBiaS5zbGVlcFRpY2sodGhpcy50aW1lKTtcblxuICAgICAgICBpZiAoYmkuc2xlZXBTdGF0ZSAhPT0gQm9keS5TTEVFUElORykge1xuICAgICAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmhhc0FjdGl2ZUJvZGllcyA9IGhhc0FjdGl2ZUJvZGllcztcbiAgfVxuICAvKipcclxuICAgKiBTZXRzIGFsbCBib2R5IGZvcmNlcyBpbiB0aGUgd29ybGQgdG8gemVyby5cclxuICAgKiBAbWV0aG9kIGNsZWFyRm9yY2VzXHJcbiAgICovXG5cblxuICBjbGVhckZvcmNlcygpIHtcbiAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllcztcbiAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHtcbiAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07XG4gICAgICBjb25zdCBmb3JjZSA9IGIuZm9yY2U7XG4gICAgICBjb25zdCB0YXUgPSBiLnRvcnF1ZTtcbiAgICAgIGIuZm9yY2Uuc2V0KDAsIDAsIDApO1xuICAgICAgYi50b3JxdWUuc2V0KDAsIDAsIDApO1xuICAgIH1cbiAgfVxuXG59IC8vIFRlbXAgc3R1ZmZcblxuY29uc3QgdG1wQUFCQjEgPSBuZXcgQUFCQigpO1xuY29uc3QgdG1wUmF5JDEgPSBuZXcgUmF5KCk7IC8vIHBlcmZvcm1hbmNlLm5vdygpIGZhbGxiYWNrIG9uIERhdGUubm93KClcblxuY29uc3QgcGVyZm9ybWFuY2UgPSBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlIHx8IHt9O1xuXG5pZiAoIXBlcmZvcm1hbmNlLm5vdykge1xuICBsZXQgbm93T2Zmc2V0ID0gRGF0ZS5ub3coKTtcblxuICBpZiAocGVyZm9ybWFuY2UudGltaW5nICYmIHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQpIHtcbiAgICBub3dPZmZzZXQgPSBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0O1xuICB9XG5cbiAgcGVyZm9ybWFuY2Uubm93ID0gKCkgPT4gRGF0ZS5ub3coKSAtIG5vd09mZnNldDtcbn1cbi8vIFJldXNhYmxlIGV2ZW50IG9iamVjdHMgdG8gc2F2ZSBtZW1vcnkuXG5cbmNvbnN0IFdvcmxkX3N0ZXBfcG9zdFN0ZXBFdmVudCA9IHtcbiAgdHlwZTogJ3Bvc3RTdGVwJ1xufTsgLy8gRGlzcGF0Y2hlZCBiZWZvcmUgdGhlIHdvcmxkIHN0ZXBzIGZvcndhcmQgaW4gdGltZS5cblxuY29uc3QgV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQgPSB7XG4gIHR5cGU6ICdwcmVTdGVwJ1xufTtcbmNvbnN0IFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50ID0ge1xuICB0eXBlOiBCb2R5LkNPTExJREVfRVZFTlRfTkFNRSxcbiAgYm9keTogbnVsbCxcbiAgY29udGFjdDogbnVsbFxufTsgLy8gUG9vbHMgZm9yIHVudXNlZCBvYmplY3RzXG5cbmNvbnN0IFdvcmxkX3N0ZXBfb2xkQ29udGFjdHMgPSBbXTtcbmNvbnN0IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBbXTsgLy8gUmV1c2FibGUgYXJyYXlzIGZvciBjb2xsaXNpb24gcGFpcnNcblxuY29uc3QgV29ybGRfc3RlcF9wMSA9IFtdO1xuY29uc3QgV29ybGRfc3RlcF9wMiA9IFtdO1xuXG5Xb3JsZC5wcm90b3R5cGUuZW1pdENvbnRhY3RFdmVudHMgPSAoKCkgPT4ge1xuICBjb25zdCBhZGRpdGlvbnMgPSBbXTtcbiAgY29uc3QgcmVtb3ZhbHMgPSBbXTtcbiAgY29uc3QgYmVnaW5Db250YWN0RXZlbnQgPSB7XG4gICAgdHlwZTogJ2JlZ2luQ29udGFjdCcsXG4gICAgYm9keUE6IG51bGwsXG4gICAgYm9keUI6IG51bGxcbiAgfTtcbiAgY29uc3QgZW5kQ29udGFjdEV2ZW50ID0ge1xuICAgIHR5cGU6ICdlbmRDb250YWN0JyxcbiAgICBib2R5QTogbnVsbCxcbiAgICBib2R5QjogbnVsbFxuICB9O1xuICBjb25zdCBiZWdpblNoYXBlQ29udGFjdEV2ZW50ID0ge1xuICAgIHR5cGU6ICdiZWdpblNoYXBlQ29udGFjdCcsXG4gICAgYm9keUE6IG51bGwsXG4gICAgYm9keUI6IG51bGwsXG4gICAgc2hhcGVBOiBudWxsLFxuICAgIHNoYXBlQjogbnVsbFxuICB9O1xuICBjb25zdCBlbmRTaGFwZUNvbnRhY3RFdmVudCA9IHtcbiAgICB0eXBlOiAnZW5kU2hhcGVDb250YWN0JyxcbiAgICBib2R5QTogbnVsbCxcbiAgICBib2R5QjogbnVsbCxcbiAgICBzaGFwZUE6IG51bGwsXG4gICAgc2hhcGVCOiBudWxsXG4gIH07XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgaGFzQmVnaW5Db250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdiZWdpbkNvbnRhY3QnKTtcbiAgICBjb25zdCBoYXNFbmRDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRDb250YWN0Jyk7XG5cbiAgICBpZiAoaGFzQmVnaW5Db250YWN0IHx8IGhhc0VuZENvbnRhY3QpIHtcbiAgICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIuZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzQmVnaW5Db250YWN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUEgPSB0aGlzLmdldEJvZHlCeUlkKGFkZGl0aW9uc1tpXSk7XG4gICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlCID0gdGhpcy5nZXRCb2R5QnlJZChhZGRpdGlvbnNbaSArIDFdKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGJlZ2luQ29udGFjdEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUEgPSBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGhhc0VuZENvbnRhY3QpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVtb3ZhbHMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QSA9IHRoaXMuZ2V0Qm9keUJ5SWQocmVtb3ZhbHNbaV0pO1xuICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2kgKyAxXSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlbmRDb250YWN0RXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBlbmRDb250YWN0RXZlbnQuYm9keUEgPSBlbmRDb250YWN0RXZlbnQuYm9keUIgPSBudWxsO1xuICAgIH1cblxuICAgIGFkZGl0aW9ucy5sZW5ndGggPSByZW1vdmFscy5sZW5ndGggPSAwO1xuICAgIGNvbnN0IGhhc0JlZ2luU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdiZWdpblNoYXBlQ29udGFjdCcpO1xuICAgIGNvbnN0IGhhc0VuZFNoYXBlQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignZW5kU2hhcGVDb250YWN0Jyk7XG5cbiAgICBpZiAoaGFzQmVnaW5TaGFwZUNvbnRhY3QgfHwgaGFzRW5kU2hhcGVDb250YWN0KSB7XG4gICAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpO1xuICAgIH1cblxuICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhZGRpdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlQSA9IHRoaXMuZ2V0U2hhcGVCeUlkKGFkZGl0aW9uc1tpXSk7XG4gICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKGFkZGl0aW9uc1tpICsgMV0pO1xuICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IHNoYXBlQTtcbiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBzaGFwZUI7XG4gICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBzaGFwZUEuYm9keTtcbiAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IHNoYXBlQi5ib2R5O1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmVnaW5TaGFwZUNvbnRhY3RFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGhhc0VuZFNoYXBlQ29udGFjdCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaV0pO1xuICAgICAgICBjb25zdCBzaGFwZUIgPSB0aGlzLmdldFNoYXBlQnlJZChyZW1vdmFsc1tpICsgMV0pO1xuICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBzaGFwZUE7XG4gICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjtcbiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBzaGFwZUEuYm9keTtcbiAgICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBzaGFwZUIuYm9keTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZFNoYXBlQ29udGFjdEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IG51bGw7XG4gICAgfVxuICB9O1xufSkoKTtcblxuZXhwb3J0IHsgQUFCQiwgQXJyYXlDb2xsaXNpb25NYXRyaXgsIEJPRFlfU0xFRVBfU1RBVEVTLCBCT0RZX1RZUEVTLCBCb2R5LCBCb3gsIEJyb2FkcGhhc2UsIENPTExJU0lPTl9UWVBFUywgQ29uZVR3aXN0Q29uc3RyYWludCwgQ29uc3RyYWludCwgQ29udGFjdEVxdWF0aW9uLCBDb250YWN0TWF0ZXJpYWwsIENvbnZleFBvbHloZWRyb24sIEN5bGluZGVyLCBEaXN0YW5jZUNvbnN0cmFpbnQsIEVxdWF0aW9uLCBFdmVudFRhcmdldCwgRnJpY3Rpb25FcXVhdGlvbiwgR1NTb2x2ZXIsIEdyaWRCcm9hZHBoYXNlLCBIZWlnaHRmaWVsZCwgSGluZ2VDb25zdHJhaW50LCBKYWNvYmlhbkVsZW1lbnQsIExvY2tDb25zdHJhaW50LCBNYXQzLCBNYXRlcmlhbCwgTmFpdmVCcm9hZHBoYXNlLCBOYXJyb3dwaGFzZSwgT2JqZWN0Q29sbGlzaW9uTWF0cml4LCBQYXJ0aWNsZSwgUGxhbmUsIFBvaW50VG9Qb2ludENvbnN0cmFpbnQsIFBvb2wsIFF1YXRlcm5pb24sIFJBWV9NT0RFUywgUmF5LCBSYXljYXN0UmVzdWx0LCBSYXljYXN0VmVoaWNsZSwgUmlnaWRWZWhpY2xlLCBSb3RhdGlvbmFsRXF1YXRpb24sIFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uLCBTQVBCcm9hZHBoYXNlLCBTSEFQRV9UWVBFUywgU1BIU3lzdGVtLCBTaGFwZSwgU29sdmVyLCBTcGhlcmUsIFNwbGl0U29sdmVyLCBTcHJpbmcsIFRyYW5zZm9ybSwgVHJpbWVzaCwgVmVjMywgVmVjM1Bvb2wsIFdvcmxkIH07XG4iLCJpbXBvcnQge1xyXG4gIFdvcmxkLFxyXG4gIE5haXZlQnJvYWRwaGFzZSxcclxuICBTQVBCcm9hZHBoYXNlLFxyXG4gIEJvZHksXHJcbiAgUGxhbmUsXHJcbiAgQm94LFxyXG4gIFZlYzMsXHJcbiAgQ29udmV4UG9seWhlZHJvbixcclxuICBDeWxpbmRlcixcclxuICBIZWlnaHRmaWVsZCxcclxuICBQYXJ0aWNsZSxcclxuICBTcGhlcmUsXHJcbiAgVHJpbWVzaCxcclxuICBQb2ludFRvUG9pbnRDb25zdHJhaW50LFxyXG4gIENvbmVUd2lzdENvbnN0cmFpbnQsXHJcbiAgSGluZ2VDb25zdHJhaW50LFxyXG4gIERpc3RhbmNlQ29uc3RyYWludCxcclxuICBMb2NrQ29uc3RyYWludCxcclxuICBDb25zdHJhaW50LFxyXG4gIFNwcmluZyxcclxuICBNYXRlcmlhbCxcclxuICBRdWF0ZXJuaW9uLFxyXG4gIFJheSxcclxuICBSYXljYXN0UmVzdWx0LFxyXG4gIFJheWNhc3RWZWhpY2xlLFxyXG4gIC8vIENvbnRhY3RNYXRlcmlhbCxcclxufSBmcm9tICdjYW5ub24tZXMnXHJcblxyXG5sZXQgYm9kaWVzID0ge31cclxuY29uc3QgdmVoaWNsZXMgPSB7fVxyXG5jb25zdCBzcHJpbmdzID0ge31cclxuY29uc3QgcmF5cyA9IHt9XHJcbmNvbnN0IHdvcmxkID0gbmV3IFdvcmxkKClcclxuY29uc3QgY29uZmlnID0geyBzdGVwOiAxIC8gNjAgfVxyXG5jb25zdCBzdWJzY3JpcHRpb25zID0ge31cclxuY29uc3QgdGVtcFZlY3RvciA9IG5ldyBWZWMzKClcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNoYXBlKHR5cGUsIGFyZ3MpIHtcclxuICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgIGNhc2UgJ0JveCc6XHJcbiAgICAgIHJldHVybiBuZXcgQm94KG5ldyBWZWMzKC4uLmFyZ3MubWFwKCh2KSA9PiB2IC8gMikpKSAvLyBleHRlbnRzID0+IGhhbGZFeHRlbnRzXHJcbiAgICBjYXNlICdDb252ZXhQb2x5aGVkcm9uJzpcclxuICAgICAgY29uc3QgW3YsIGYsIG5dID0gYXJnc1xyXG4gICAgICByZXR1cm4gbmV3IENvbnZleFBvbHloZWRyb24oe1xyXG4gICAgICAgIHZlcnRpY2VzOiB2Lm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSksXHJcbiAgICAgICAgbm9ybWFsczogbiA/IG4ubWFwKChbeCwgeSwgel0pID0+IG5ldyBWZWMzKHgsIHksIHopKSA6IG51bGwsXHJcbiAgICAgICAgZmFjZXM6IGYsXHJcbiAgICAgIH0pXHJcbiAgICBjYXNlICdDeWxpbmRlcic6XHJcbiAgICAgIHJldHVybiBuZXcgQ3lsaW5kZXIoLi4uYXJncykgLy8gWyByYWRpdXNUb3AsIHJhZGl1c0JvdHRvbSwgaGVpZ2h0LCBudW1TZWdtZW50cyBdID0gYXJnc1xyXG4gICAgY2FzZSAnSGVpZ2h0ZmllbGQnOlxyXG4gICAgICByZXR1cm4gbmV3IEhlaWdodGZpZWxkKC4uLmFyZ3MpIC8vIFsgQXJyYXkgZGF0YSwgb3B0aW9uczoge21pblZhbHVlLCBtYXhWYWx1ZSwgZWxlbWVudFNpemV9ICBdID0gYXJnc1xyXG4gICAgY2FzZSAnUGFydGljbGUnOlxyXG4gICAgICByZXR1cm4gbmV3IFBhcnRpY2xlKCkgLy8gbm8gYXJnc1xyXG4gICAgY2FzZSAnUGxhbmUnOlxyXG4gICAgICByZXR1cm4gbmV3IFBsYW5lKCkgLy8gbm8gYXJncywgaW5maW5pdGUgeCBhbmQgeVxyXG4gICAgY2FzZSAnU3BoZXJlJzpcclxuICAgICAgcmV0dXJuIG5ldyBTcGhlcmUoLi4uYXJncykgLy8gW3JhZGl1c10gPSBhcmdzXHJcbiAgICBjYXNlICdUcmltZXNoJzpcclxuICAgICAgcmV0dXJuIG5ldyBUcmltZXNoKC4uLmFyZ3MpIC8vIFt2ZXJ0aWNlcywgaW5kaWNlc10gPSBhcmdzXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzeW5jQm9kaWVzKCkge1xyXG4gIHNlbGYucG9zdE1lc3NhZ2UoeyBvcDogJ3N5bmMnLCBib2RpZXM6IHdvcmxkLmJvZGllcy5tYXAoKGJvZHkpID0+IGJvZHkudXVpZCkgfSlcclxuICBib2RpZXMgPSB3b3JsZC5ib2RpZXMucmVkdWNlKChhY2MsIGJvZHkpID0+ICh7IC4uLmFjYywgW2JvZHkudXVpZF06IGJvZHkgfSksIHt9KVxyXG59XHJcblxyXG5zZWxmLm9ubWVzc2FnZSA9IChlKSA9PiB7XHJcbiAgY29uc3QgeyBvcCwgdXVpZCwgdHlwZSwgcG9zaXRpb25zLCBxdWF0ZXJuaW9ucywgcHJvcHMgfSA9IGUuZGF0YVxyXG5cclxuICBzd2l0Y2ggKG9wKSB7XHJcbiAgICBjYXNlICdpbml0Jzoge1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgZ3Jhdml0eSxcclxuICAgICAgICB0b2xlcmFuY2UsXHJcbiAgICAgICAgc3RlcCxcclxuICAgICAgICBpdGVyYXRpb25zLFxyXG4gICAgICAgIGFsbG93U2xlZXAsXHJcbiAgICAgICAgYnJvYWRwaGFzZSxcclxuICAgICAgICBheGlzSW5kZXgsXHJcbiAgICAgICAgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCxcclxuICAgICAgfSA9IHByb3BzXHJcbiAgICAgIGNvbnN0IGJyb2FkcGhhc2VzID0geyBOYWl2ZUJyb2FkcGhhc2UsIFNBUEJyb2FkcGhhc2UgfVxyXG4gICAgICB3b3JsZC5hbGxvd1NsZWVwID0gYWxsb3dTbGVlcFxyXG4gICAgICB3b3JsZC5ncmF2aXR5LnNldChncmF2aXR5WzBdLCBncmF2aXR5WzFdLCBncmF2aXR5WzJdKVxyXG4gICAgICB3b3JsZC5zb2x2ZXIudG9sZXJhbmNlID0gdG9sZXJhbmNlXHJcbiAgICAgIHdvcmxkLnNvbHZlci5pdGVyYXRpb25zID0gaXRlcmF0aW9uc1xyXG4gICAgICB3b3JsZC5icm9hZHBoYXNlID0gbmV3IChicm9hZHBoYXNlc1ticm9hZHBoYXNlICsgJ0Jyb2FkcGhhc2UnXSB8fCBOYWl2ZUJyb2FkcGhhc2UpKHdvcmxkKVxyXG4gICAgICB3b3JsZC5icm9hZHBoYXNlLmF4aXNJbmRleCA9IGF4aXNJbmRleCA/PyAwXHJcbiAgICAgIC8vIGRlZmF1bHRDb250YWN0TWF0ZXJpYWwuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiA9IDQ7XHJcbiAgICAgIC8vIGRlZmF1bHRDb250YWN0TWF0ZXJpYWwuZnJpY3Rpb24gPSAwLjAwMTtcclxuICAgICAgT2JqZWN0LmFzc2lnbih3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsLCBkZWZhdWx0Q29udGFjdE1hdGVyaWFsKVxyXG4gICAgICAvLyB2YXIgZ3JvdW5kTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoJ2dyb3VuZCcpXHJcbiAgICAgIC8vIHZhciB3aGVlbE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCd3aGVlbCcpXHJcbiAgICAgIC8vIHZhciB3aGVlbEdyb3VuZENvbnRhY3RNYXRlcmlhbCA9IG5ldyBDb250YWN0TWF0ZXJpYWwoXHJcbiAgICAgIC8vICAgd2hlZWxNYXRlcmlhbCxcclxuICAgICAgLy8gICBncm91bmRNYXRlcmlhbCxcclxuICAgICAgLy8gICB7XHJcbiAgICAgIC8vICAgICBmcmljdGlvbjogMC4zLFxyXG4gICAgICAvLyAgICAgcmVzdGl0dXRpb246IDAuMSxcclxuICAgICAgLy8gICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWUzLFxyXG4gICAgICAvLyAgIH1cclxuICAgICAgLy8gKVxyXG4gICAgICAvLyAvLyBXZSBtdXN0IGFkZCB0aGUgY29udGFjdCBtYXRlcmlhbHMgdG8gdGhlIHdvcmxkXHJcbiAgICAgIC8vIHdvcmxkLmFkZENvbnRhY3RNYXRlcmlhbCh3aGVlbEdyb3VuZENvbnRhY3RNYXRlcmlhbClcclxuICAgICAgY29uZmlnLnN0ZXAgPSBzdGVwXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICBjYXNlICdzdGVwJzoge1xyXG4gICAgICB3b3JsZC5zdGVwKGNvbmZpZy5zdGVwKVxyXG4gICAgICBjb25zdCBudW1iZXJPZkJvZGllcyA9IHdvcmxkLmJvZGllcy5sZW5ndGhcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZkJvZGllczsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGIgPSB3b3JsZC5ib2RpZXNbaV0sXHJcbiAgICAgICAgICBwID0gYi5wb3NpdGlvbixcclxuICAgICAgICAgIHEgPSBiLnF1YXRlcm5pb25cclxuICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAwXSA9IHAueFxyXG4gICAgICAgIHBvc2l0aW9uc1szICogaSArIDFdID0gcC55XHJcbiAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMl0gPSBwLnpcclxuICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDBdID0gcS54XHJcbiAgICAgICAgcXVhdGVybmlvbnNbNCAqIGkgKyAxXSA9IHEueVxyXG4gICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMl0gPSBxLnpcclxuICAgICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDNdID0gcS53XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgb2JzZXJ2YXRpb25zID0gW11cclxuICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKSkge1xyXG4gICAgICAgIGNvbnN0IFt1dWlkLCB0eXBlXSA9IHN1YnNjcmlwdGlvbnNbaWRdXHJcbiAgICAgICAgbGV0IHZhbHVlID0gYm9kaWVzW3V1aWRdW3R5cGVdXHJcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVmVjMykgdmFsdWUgPSB2YWx1ZS50b0FycmF5KClcclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFF1YXRlcm5pb24pIHtcclxuICAgICAgICAgIHZhbHVlLnRvRXVsZXIodGVtcFZlY3RvcilcclxuICAgICAgICAgIHZhbHVlID0gdGVtcFZlY3Rvci50b0FycmF5KClcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JzZXJ2YXRpb25zLnB1c2goW2lkLCB2YWx1ZV0pXHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5wb3N0TWVzc2FnZShcclxuICAgICAgICB7XHJcbiAgICAgICAgICBvcDogJ2ZyYW1lJyxcclxuICAgICAgICAgIHBvc2l0aW9ucyxcclxuICAgICAgICAgIHF1YXRlcm5pb25zLFxyXG4gICAgICAgICAgb2JzZXJ2YXRpb25zLFxyXG4gICAgICAgICAgYWN0aXZlOiB3b3JsZC5oYXNBY3RpdmVCb2RpZXMsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBbcG9zaXRpb25zLmJ1ZmZlciwgcXVhdGVybmlvbnMuYnVmZmVyXVxyXG4gICAgICApXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICBjYXNlICdhZGRCb2RpZXMnOiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXVpZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgIGFyZ3MgPSBbXSxcclxuICAgICAgICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdLFxyXG4gICAgICAgICAgcm90YXRpb24gPSBbMCwgMCwgMF0sXHJcbiAgICAgICAgICBzY2FsZSA9IFsxLCAxLCAxXSxcclxuICAgICAgICAgIHZlbG9jaXR5ID0gWzAsIDAsIDBdLFxyXG4gICAgICAgICAgYW5ndWxhclZlbG9jaXR5ID0gWzAsIDAsIDBdLFxyXG4gICAgICAgICAgbGluZWFyRmFjdG9yID0gWzEsIDEsIDFdLFxyXG4gICAgICAgICAgYW5ndWxhckZhY3RvciA9IFsxLCAxLCAxXSxcclxuICAgICAgICAgIHR5cGU6IGJvZHlUeXBlLFxyXG4gICAgICAgICAgbWFzcyxcclxuICAgICAgICAgIG1hdGVyaWFsLFxyXG4gICAgICAgICAgc2hhcGVzLFxyXG4gICAgICAgICAgb25Db2xsaWRlLFxyXG4gICAgICAgICAgLi4uZXh0cmFcclxuICAgICAgICB9ID0gcHJvcHNbaV1cclxuXHJcbiAgICAgICAgY29uc3QgYm9keSA9IG5ldyBCb2R5KHtcclxuICAgICAgICAgIC4uLmV4dHJhLFxyXG4gICAgICAgICAgbWFzczogYm9keVR5cGUgPT09ICdTdGF0aWMnID8gMCA6IG1hc3MsXHJcbiAgICAgICAgICB0eXBlOiBib2R5VHlwZSA/IEJvZHlbYm9keVR5cGUudG9VcHBlckNhc2UoKV0gOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICBtYXRlcmlhbDogbWF0ZXJpYWwgPyBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpIDogdW5kZWZpbmVkLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgYm9keS51dWlkID0gdXVpZFtpXVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ0NvbXBvdW5kJykge1xyXG4gICAgICAgICAgc2hhcGVzLmZvckVhY2goKHsgdHlwZSwgYXJncywgcG9zaXRpb24sIHJvdGF0aW9uLCBtYXRlcmlhbCwgLi4uZXh0cmEgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzaGFwZUJvZHkgPSBib2R5LmFkZFNoYXBlKFxyXG4gICAgICAgICAgICAgIGNyZWF0ZVNoYXBlKHR5cGUsIGFyZ3MpLFxyXG4gICAgICAgICAgICAgIHBvc2l0aW9uID8gbmV3IFZlYzMoLi4ucG9zaXRpb24pIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgIHJvdGF0aW9uID8gbmV3IFF1YXRlcm5pb24oKS5zZXRGcm9tRXVsZXIoLi4ucm90YXRpb24pIDogdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsKSBzaGFwZUJvZHkubWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwobWF0ZXJpYWwpXHJcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2hhcGVCb2R5LCBleHRyYSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncykpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBib2R5LnBvc2l0aW9uLnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKVxyXG4gICAgICAgIGJvZHkucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIocm90YXRpb25bMF0sIHJvdGF0aW9uWzFdLCByb3RhdGlvblsyXSlcclxuICAgICAgICBib2R5LnZlbG9jaXR5LnNldCh2ZWxvY2l0eVswXSwgdmVsb2NpdHlbMV0sIHZlbG9jaXR5WzJdKVxyXG4gICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5LnNldChhbmd1bGFyVmVsb2NpdHlbMF0sIGFuZ3VsYXJWZWxvY2l0eVsxXSwgYW5ndWxhclZlbG9jaXR5WzJdKVxyXG4gICAgICAgIGJvZHkubGluZWFyRmFjdG9yLnNldChsaW5lYXJGYWN0b3JbMF0sIGxpbmVhckZhY3RvclsxXSwgbGluZWFyRmFjdG9yWzJdKVxyXG4gICAgICAgIGJvZHkuYW5ndWxhckZhY3Rvci5zZXQoYW5ndWxhckZhY3RvclswXSwgYW5ndWxhckZhY3RvclsxXSwgYW5ndWxhckZhY3RvclsyXSlcclxuICAgICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpXHJcblxyXG4gICAgICAgIGlmIChvbkNvbGxpZGUpXHJcbiAgICAgICAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbGxpZGUnLCAoeyB0eXBlLCBib2R5LCB0YXJnZXQsIGNvbnRhY3QgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IG5pLCByaSwgcmogfSA9IGNvbnRhY3RcclxuICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgb3A6ICdldmVudCcsXHJcbiAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICBib2R5OiBib2R5LnV1aWQsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQudXVpZCxcclxuICAgICAgICAgICAgICBjb250YWN0OiB7XHJcbiAgICAgICAgICAgICAgICBuaTogbmkudG9BcnJheSgpLFxyXG4gICAgICAgICAgICAgICAgcmk6IHJpLnRvQXJyYXkoKSxcclxuICAgICAgICAgICAgICAgIHJqOiByai50b0FycmF5KCksXHJcbiAgICAgICAgICAgICAgICBpbXBhY3RWZWxvY2l0eTogY29udGFjdC5nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCksXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBib2R5RmlsdGVyR3JvdXA6IGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAsXHJcbiAgICAgICAgICAgICAgICBib2R5RmlsdGVyTWFzazogYm9keS5jb2xsaXNpb25GaWx0ZXJNYXNrLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyR3JvdXA6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJHcm91cCxcclxuICAgICAgICAgICAgICAgIHRhcmdldEZpbHRlck1hc2s6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJNYXNrLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIHN5bmNCb2RpZXMoKVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgY2FzZSAncmVtb3ZlQm9kaWVzJzoge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV1aWQubGVuZ3RoOyBpKyspIHdvcmxkLnJlbW92ZUJvZHkoYm9kaWVzW3V1aWRbaV1dKVxyXG4gICAgICBzeW5jQm9kaWVzKClcclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3N1YnNjcmliZSc6IHtcclxuICAgICAgY29uc3QgeyBpZCwgdHlwZSB9ID0gcHJvcHNcclxuICAgICAgc3Vic2NyaXB0aW9uc1tpZF0gPSBbdXVpZCwgdHlwZV1cclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3Vuc3Vic2NyaWJlJzoge1xyXG4gICAgICBkZWxldGUgc3Vic2NyaXB0aW9uc1twcm9wc11cclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3NldFBvc2l0aW9uJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLnBvc2l0aW9uLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0UXVhdGVybmlvbic6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0VmVsb2NpdHknOlxyXG4gICAgICBib2RpZXNbdXVpZF0udmVsb2NpdHkuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pXHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdzZXRBbmd1bGFyVmVsb2NpdHknOlxyXG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhclZlbG9jaXR5LnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0TGluZWFyRmFjdG9yJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckZhY3Rvci5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3NldEFuZ3VsYXJGYWN0b3InOlxyXG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckZhY3Rvci5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSlcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3NldE1hc3MnOlxyXG4gICAgICBib2RpZXNbdXVpZF0ubWFzcyA9IHByb3BzXHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdzZXRMaW5lYXJEYW1waW5nJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckRhbXBpbmcgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0QW5ndWxhckRhbXBpbmcnOlxyXG4gICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckRhbXBpbmcgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0QWxsb3dTbGVlcCc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5hbGxvd1NsZWVwID0gcHJvcHNcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3NldFNsZWVwU3BlZWRMaW1pdCc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFNwZWVkTGltaXQgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0U2xlZXBUaW1lTGltaXQnOlxyXG4gICAgICBib2RpZXNbdXVpZF0uc2xlZXBUaW1lTGltaXQgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAnOlxyXG4gICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyTWFzayc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHNcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlck1hc2snOlxyXG4gICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyTWFzayA9IHByb3BzXHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdzZXRGaXhlZFJvdGF0aW9uJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLmZpeGVkUm90YXRpb24gPSBwcm9wc1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnYXBwbHlGb3JjZSc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUZvcmNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAnYXBwbHlJbXB1bHNlJzpcclxuICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5SW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSlcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ2FwcGx5TG9jYWxGb3JjZSc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsRm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpXHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdhcHBseUxvY2FsSW1wdWxzZSc6XHJcbiAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsSW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSlcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ2FkZENvbnN0cmFpbnQnOiB7XHJcbiAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzXHJcbiAgICAgIGxldCB7IHBpdm90QSwgcGl2b3RCLCBheGlzQSwgYXhpc0IsIC4uLm9wdGlvbnMgfSA9IG9wdG5zXHJcblxyXG4gICAgICAvLyBpcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gZW5mb3JjZSBkZWZhdWx0cz9cclxuICAgICAgcGl2b3RBID0gQXJyYXkuaXNBcnJheShwaXZvdEEpID8gbmV3IFZlYzMoLi4ucGl2b3RBKSA6IHVuZGVmaW5lZFxyXG4gICAgICBwaXZvdEIgPSBBcnJheS5pc0FycmF5KHBpdm90QikgPyBuZXcgVmVjMyguLi5waXZvdEIpIDogdW5kZWZpbmVkXHJcbiAgICAgIGF4aXNBID0gQXJyYXkuaXNBcnJheShheGlzQSkgPyBuZXcgVmVjMyguLi5heGlzQSkgOiB1bmRlZmluZWRcclxuICAgICAgYXhpc0IgPSBBcnJheS5pc0FycmF5KGF4aXNCKSA/IG5ldyBWZWMzKC4uLmF4aXNCKSA6IHVuZGVmaW5lZFxyXG5cclxuICAgICAgbGV0IGNvbnN0cmFpbnRcclxuXHJcbiAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ1BvaW50VG9Qb2ludCc6XHJcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IFBvaW50VG9Qb2ludENvbnN0cmFpbnQoXHJcbiAgICAgICAgICAgIGJvZGllc1tib2R5QV0sXHJcbiAgICAgICAgICAgIHBpdm90QSxcclxuICAgICAgICAgICAgYm9kaWVzW2JvZHlCXSxcclxuICAgICAgICAgICAgcGl2b3RCLFxyXG4gICAgICAgICAgICBvcHRucy5tYXhGb3JjZVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICBjYXNlICdDb25lVHdpc3QnOlxyXG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25lVHdpc3RDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHtcclxuICAgICAgICAgICAgcGl2b3RBLFxyXG4gICAgICAgICAgICBwaXZvdEIsXHJcbiAgICAgICAgICAgIGF4aXNBLFxyXG4gICAgICAgICAgICBheGlzQixcclxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ0hpbmdlJzpcclxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgSGluZ2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIHtcclxuICAgICAgICAgICAgcGl2b3RBLFxyXG4gICAgICAgICAgICBwaXZvdEIsXHJcbiAgICAgICAgICAgIGF4aXNBLFxyXG4gICAgICAgICAgICBheGlzQixcclxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ0Rpc3RhbmNlJzpcclxuICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zLmRpc3RhbmNlLCBvcHRucy5tYXhGb3JjZSlcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgY2FzZSAnTG9jayc6XHJcbiAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgfVxyXG4gICAgICBjb25zdHJhaW50LnV1aWQgPSB1dWlkXHJcbiAgICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludClcclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3JlbW92ZUNvbnN0cmFpbnQnOlxyXG4gICAgICB3b3JsZC5yZW1vdmVDb25zdHJhaW50KHV1aWQpXHJcbiAgICAgIGJyZWFrXHJcblxyXG4gICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludCc6XHJcbiAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoeyB1dWlkOiB0aGlzSWQgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoKGMpID0+IGMuZW5hYmxlKCkpXHJcbiAgICAgIGJyZWFrXHJcblxyXG4gICAgY2FzZSAnZGlzYWJsZUNvbnN0cmFpbnQnOlxyXG4gICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsgdXVpZDogdGhpc0lkIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKChjKSA9PiBjLmRpc2FibGUoKSlcclxuICAgICAgYnJlYWtcclxuXHJcbiAgICBjYXNlICdhZGRTcHJpbmcnOiB7XHJcbiAgICAgIGNvbnN0IFtib2R5QSwgYm9keUIsIG9wdG5zXSA9IHByb3BzXHJcbiAgICAgIGxldCB7IHdvcmxkQW5jaG9yQSwgd29ybGRBbmNob3JCLCBsb2NhbEFuY2hvckEsIGxvY2FsQW5jaG9yQiwgcmVzdExlbmd0aCwgc3RpZmZuZXNzLCBkYW1waW5nIH0gPSBvcHRuc1xyXG5cclxuICAgICAgd29ybGRBbmNob3JBID0gQXJyYXkuaXNBcnJheSh3b3JsZEFuY2hvckEpID8gbmV3IFZlYzMoLi4ud29ybGRBbmNob3JBKSA6IHVuZGVmaW5lZFxyXG4gICAgICB3b3JsZEFuY2hvckIgPSBBcnJheS5pc0FycmF5KHdvcmxkQW5jaG9yQikgPyBuZXcgVmVjMyguLi53b3JsZEFuY2hvckIpIDogdW5kZWZpbmVkXHJcbiAgICAgIGxvY2FsQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JBKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQSkgOiB1bmRlZmluZWRcclxuICAgICAgbG9jYWxBbmNob3JCID0gQXJyYXkuaXNBcnJheShsb2NhbEFuY2hvckIpID8gbmV3IFZlYzMoLi4ubG9jYWxBbmNob3JCKSA6IHVuZGVmaW5lZFxyXG5cclxuICAgICAgbGV0IHNwcmluZyA9IG5ldyBTcHJpbmcoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwge1xyXG4gICAgICAgIHdvcmxkQW5jaG9yQSxcclxuICAgICAgICB3b3JsZEFuY2hvckIsXHJcbiAgICAgICAgbG9jYWxBbmNob3JBLFxyXG4gICAgICAgIGxvY2FsQW5jaG9yQixcclxuICAgICAgICByZXN0TGVuZ3RoLFxyXG4gICAgICAgIHN0aWZmbmVzcyxcclxuICAgICAgICBkYW1waW5nLFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgc3ByaW5nLnV1aWQgPSB1dWlkXHJcblxyXG4gICAgICBsZXQgcG9zdFN0ZXBTcHJpbmcgPSAoZSkgPT4gc3ByaW5nLmFwcGx5Rm9yY2UoKVxyXG5cclxuICAgICAgc3ByaW5nc1t1dWlkXSA9IHBvc3RTdGVwU3ByaW5nXHJcblxyXG4gICAgICAvLyBDb21wdXRlIHRoZSBmb3JjZSBhZnRlciBlYWNoIHN0ZXBcclxuICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzcHJpbmdzW3V1aWRdKVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgY2FzZSAncmVtb3ZlU3ByaW5nJzoge1xyXG4gICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHNwcmluZ3NbdXVpZF0pXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICBjYXNlICdhZGRSYXknOiB7XHJcbiAgICAgIGNvbnN0IHsgZnJvbSwgdG8sIC4uLm9wdGlvbnMgfSA9IHByb3BzXHJcbiAgICAgIGNvbnN0IHJheSA9IG5ldyBSYXkoZnJvbSA/IG5ldyBWZWMzKC4uLmZyb20pIDogdW5kZWZpbmVkLCB0byA/IG5ldyBWZWMzKC4uLnRvKSA6IHVuZGVmaW5lZClcclxuICAgICAgb3B0aW9ucy5tb2RlID0gUmF5W29wdGlvbnMubW9kZS50b1VwcGVyQ2FzZSgpXVxyXG4gICAgICBvcHRpb25zLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KClcclxuICAgICAgcmF5c1t1dWlkXSA9ICgpID0+IHtcclxuICAgICAgICByYXkuaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgYm9keSxcclxuICAgICAgICAgIHNoYXBlLFxyXG4gICAgICAgICAgcmF5RnJvbVdvcmxkLFxyXG4gICAgICAgICAgcmF5VG9Xb3JsZCxcclxuICAgICAgICAgIGhpdE5vcm1hbFdvcmxkLFxyXG4gICAgICAgICAgaGl0UG9pbnRXb3JsZCxcclxuICAgICAgICAgIC4uLnJlc3RcclxuICAgICAgICB9ID0gb3B0aW9ucy5yZXN1bHRcclxuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcclxuICAgICAgICAgIG9wOiAnZXZlbnQnLFxyXG4gICAgICAgICAgdHlwZTogJ3JheWhpdCcsXHJcbiAgICAgICAgICByYXk6IHtcclxuICAgICAgICAgICAgZnJvbSxcclxuICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogcmF5LmRpcmVjdGlvbi50b0FycmF5KCksXHJcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlckdyb3VwOiByYXkuY29sbGlzaW9uRmlsdGVyR3JvdXAsXHJcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHJheS5jb2xsaXNpb25GaWx0ZXJNYXNrLFxyXG4gICAgICAgICAgICB1dWlkLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IGJvZHkgPyBib2R5LnV1aWQgOiBudWxsLFxyXG4gICAgICAgICAgc2hhcGU6IHNoYXBlID8geyAuLi5zaGFwZSwgYm9keTogYm9keS51dWlkIH0gOiBudWxsLFxyXG4gICAgICAgICAgcmF5RnJvbVdvcmxkOiByYXlGcm9tV29ybGQudG9BcnJheSgpLFxyXG4gICAgICAgICAgcmF5VG9Xb3JsZDogcmF5VG9Xb3JsZC50b0FycmF5KCksXHJcbiAgICAgICAgICBoaXROb3JtYWxXb3JsZDogaGl0Tm9ybWFsV29ybGQudG9BcnJheSgpLFxyXG4gICAgICAgICAgaGl0UG9pbnRXb3JsZDogaGl0UG9pbnRXb3JsZC50b0FycmF5KCksXHJcbiAgICAgICAgICAuLi5yZXN0LFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHJheXNbdXVpZF0pXHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgICBjYXNlICdyZW1vdmVSYXknOiB7XHJcbiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCByYXlzW3V1aWRdKVxyXG4gICAgICBkZWxldGUgcmF5c1t1dWlkXVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgY2FzZSAnYWRkUmF5Y2FzdFZlaGljbGUnOiB7XHJcbiAgICAgIGNvbnN0IFtjaGFzc2lzQm9keSwgd2hlZWxzLCB3aGVlbEluZm9zLCBpbmRleEZvcndhcmRBeGlzLCBpbmRleFJpZ2h0QXhpcywgaW5kZXhVcEF4aXNdID0gcHJvcHNcclxuICAgICAgY29uc3QgdmVoaWNsZSA9IG5ldyBSYXljYXN0VmVoaWNsZSh7XHJcbiAgICAgICAgY2hhc3Npc0JvZHk6IGJvZGllc1tjaGFzc2lzQm9keV0sXHJcbiAgICAgICAgaW5kZXhGb3J3YXJkQXhpczogaW5kZXhGb3J3YXJkQXhpcyxcclxuICAgICAgICBpbmRleFJpZ2h0QXhpczogaW5kZXhSaWdodEF4aXMsXHJcbiAgICAgICAgaW5kZXhVcEF4aXM6IGluZGV4VXBBeGlzLFxyXG4gICAgICB9KVxyXG4gICAgICB2ZWhpY2xlLndvcmxkID0gd29ybGRcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aGVlbEluZm9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgd2hlZWxJbmZvID0gd2hlZWxJbmZvc1tpXVxyXG4gICAgICAgIHdoZWVsSW5mby5kaXJlY3Rpb25Mb2NhbCA9IG5ldyBWZWMzKC4uLndoZWVsSW5mby5kaXJlY3Rpb25Mb2NhbClcclxuICAgICAgICB3aGVlbEluZm8uY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbClcclxuICAgICAgICB3aGVlbEluZm8uYXhsZUxvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmF4bGVMb2NhbClcclxuICAgICAgICB2ZWhpY2xlLmFkZFdoZWVsKHdoZWVsSW5mbylcclxuICAgICAgICBjb25zdCB3aGVlbEJvZHkgPSBib2RpZXNbd2hlZWxzW2ldXVxyXG4gICAgICB9XHJcbiAgICAgIHZlaGljbGVzW3V1aWRdID0ge1xyXG4gICAgICAgIHZlaGljbGU6IHZlaGljbGUsXHJcbiAgICAgICAgd2hlZWxzOiB3aGVlbHMsXHJcbiAgICAgICAgcHJlU3RlcDogKCkgPT4ge1xyXG4gICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS51cGRhdGVWZWhpY2xlKHdvcmxkLmR0KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9zdFN0ZXA6ICgpID0+IHtcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS53aGVlbEluZm9zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUudXBkYXRlV2hlZWxUcmFuc2Zvcm0oaSlcclxuICAgICAgICAgICAgY29uc3QgdCA9IHZlaGljbGVzW3V1aWRdLnZlaGljbGUud2hlZWxJbmZvc1tpXS53b3JsZFRyYW5zZm9ybVxyXG4gICAgICAgICAgICBjb25zdCB3aGVlbEJvZHkgPSBib2RpZXNbdmVoaWNsZXNbdXVpZF0ud2hlZWxzW2ldXVxyXG4gICAgICAgICAgICB3aGVlbEJvZHkucG9zaXRpb24uY29weSh0LnBvc2l0aW9uKVxyXG4gICAgICAgICAgICB3aGVlbEJvZHkucXVhdGVybmlvbi5jb3B5KHQucXVhdGVybmlvbilcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICB9XHJcbiAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wcmVTdGVwKVxyXG4gICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHZlaGljbGVzW3V1aWRdLnBvc3RTdGVwKVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgY2FzZSAncmVtb3ZlUmF5Y2FzdFZlaGljbGUnOiB7XHJcbiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wcmVTdGVwKVxyXG4gICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3N0U3RlcCcsIHZlaGljbGVzW3V1aWRdLnBvc3RTdGVwKVxyXG4gICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLndvcmxkID0gbnVsbFxyXG4gICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlID0gbnVsbFxyXG4gICAgICBkZWxldGUgdmVoaWNsZXNbdXVpZF1cclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlU3RlZXJpbmdWYWx1ZSc6IHtcclxuICAgICAgY29uc3QgW3ZhbHVlLCB3aGVlbEluZGV4XSA9IHByb3BzXHJcbiAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUuc2V0U3RlZXJpbmdWYWx1ZSh2YWx1ZSwgd2hlZWxJbmRleClcclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ2FwcGx5UmF5Y2FzdFZlaGljbGVFbmdpbmVGb3JjZSc6IHtcclxuICAgICAgY29uc3QgW3ZhbHVlLCB3aGVlbEluZGV4XSA9IHByb3BzXHJcbiAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUuYXBwbHlFbmdpbmVGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleClcclxuICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlQnJha2UnOiB7XHJcbiAgICAgIGNvbnN0IFticmFrZSwgd2hlZWxJbmRleF0gPSBwcm9wc1xyXG4gICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLnNldEJyYWtlKGJyYWtlLCB3aGVlbEluZGV4KVxyXG4gICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTWF0MyIsImNvbnN0cnVjdG9yIiwiZWxlbWVudHMiLCJpZGVudGl0eSIsImUiLCJzZXRaZXJvIiwic2V0VHJhY2UiLCJ2ZWN0b3IiLCJ4IiwieSIsInoiLCJnZXRUcmFjZSIsInRhcmdldCIsIlZlYzMiLCJ2bXVsdCIsInYiLCJzbXVsdCIsInMiLCJpIiwibGVuZ3RoIiwibW11bHQiLCJtYXRyaXgiLCJqIiwic3VtIiwiayIsInNjYWxlIiwidCIsInNvbHZlIiwiYiIsIm5yIiwibmMiLCJlcW5zIiwicHVzaCIsIm4iLCJucCIsImtwIiwicCIsIm11bHRpcGxpZXIiLCJpc05hTiIsIkluZmluaXR5IiwidG9TdHJpbmciLCJyb3ciLCJjb2x1bW4iLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImNvcHkiLCJyIiwic2VwIiwicmV2ZXJzZSIsInNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24iLCJxIiwidyIsIngyIiwieTIiLCJ6MiIsInh4IiwieHkiLCJ4eiIsInl5IiwieXoiLCJ6eiIsInd4Iiwid3kiLCJ3eiIsInRyYW5zcG9zZSIsIk10IiwiTSIsImNyb3NzIiwidngiLCJ2eSIsInZ6Iiwic2V0IiwidmFkZCIsInZzdWIiLCJjcm9zc21hdCIsIm5vcm1hbGl6ZSIsIk1hdGgiLCJzcXJ0IiwiaW52TiIsInVuaXQiLCJuaW52IiwibGVuZ3RoU3F1YXJlZCIsImRvdCIsImRpc3RhbmNlVG8iLCJweCIsInB5IiwicHoiLCJkaXN0YW5jZVNxdWFyZWQiLCJzY2FsYXIiLCJ2bXVsIiwiYWRkU2NhbGVkVmVjdG9yIiwiaXNaZXJvIiwibmVnYXRlIiwidGFuZ2VudHMiLCJ0MSIsInQyIiwibm9ybSIsIlZlYzNfdGFuZ2VudHNfbiIsImlub3JtIiwicmFuZFZlYyIsIlZlYzNfdGFuZ2VudHNfcmFuZFZlYyIsImFicyIsInRvQXJyYXkiLCJsZXJwIiwiYWxtb3N0RXF1YWxzIiwicHJlY2lzaW9uIiwiYWxtb3N0WmVybyIsImlzQW50aXBhcmFsbGVsVG8iLCJhbnRpcF9uZWciLCJjbG9uZSIsIlpFUk8iLCJVTklUX1giLCJVTklUX1kiLCJVTklUX1oiLCJBQUJCIiwib3B0aW9ucyIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwic2V0RnJvbVBvaW50cyIsInBvaW50cyIsInBvc2l0aW9uIiwicXVhdGVybmlvbiIsInNraW5TaXplIiwibCIsInUiLCJ0bXAiLCJhYWJiIiwiZXh0ZW5kIiwibWluIiwibWF4Iiwib3ZlcmxhcHMiLCJsMSIsInUxIiwibDIiLCJ1MiIsIm92ZXJsYXBzWCIsIm92ZXJsYXBzWSIsIm92ZXJsYXBzWiIsInZvbHVtZSIsImNvbnRhaW5zIiwiZ2V0Q29ybmVycyIsImEiLCJjIiwiZCIsImYiLCJnIiwiaCIsInRvTG9jYWxGcmFtZSIsImZyYW1lIiwiY29ybmVycyIsInRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzIiwiY29ybmVyIiwicG9pbnRUb0xvY2FsIiwidG9Xb3JsZEZyYW1lIiwicG9pbnRUb1dvcmxkIiwib3ZlcmxhcHNSYXkiLCJyYXkiLCJkaXJlY3Rpb24iLCJmcm9tIiwiZGlyRnJhY1giLCJkaXJGcmFjWSIsImRpckZyYWNaIiwidDMiLCJ0NCIsInQ1IiwidDYiLCJ0bWluIiwidG1heCIsIkFycmF5Q29sbGlzaW9uTWF0cml4IiwiZ2V0IiwiYmkiLCJiaiIsImluZGV4IiwidGVtcCIsInJlc2V0Iiwic2V0TnVtT2JqZWN0cyIsIkV2ZW50VGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInR5cGUiLCJsaXN0ZW5lciIsIl9saXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJpbmNsdWRlcyIsImhhc0V2ZW50TGlzdGVuZXIiLCJoYXNBbnlFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluZGV4T2YiLCJzcGxpY2UiLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnQiLCJsaXN0ZW5lckFycmF5IiwiY2FsbCIsIlF1YXRlcm5pb24iLCJzZXRGcm9tQXhpc0FuZ2xlIiwiYW5nbGUiLCJzaW4iLCJjb3MiLCJ0b0F4aXNBbmdsZSIsInRhcmdldEF4aXMiLCJhY29zIiwic2V0RnJvbVZlY3RvcnMiLCJzZnZfdDEiLCJzZnZfdDIiLCJQSSIsIm11bHQiLCJxdWF0IiwiYXgiLCJheSIsImF6IiwiYXciLCJieCIsImJ5IiwiYnoiLCJidyIsImludmVyc2UiLCJjb25qdWdhdGUiLCJpbm9ybTIiLCJub3JtYWxpemVGYXN0IiwicXgiLCJxeSIsInF6IiwicXciLCJpeCIsIml5IiwiaXoiLCJpdyIsInRvRXVsZXIiLCJvcmRlciIsImhlYWRpbmciLCJhdHRpdHVkZSIsImJhbmsiLCJ0ZXN0IiwiYXRhbjIiLCJzcXgiLCJzcXkiLCJzcXoiLCJhc2luIiwiRXJyb3IiLCJzZXRGcm9tRXVsZXIiLCJjMSIsImMyIiwiYzMiLCJzMSIsInMyIiwiczMiLCJzbGVycCIsInRvUXVhdCIsIm9tZWdhIiwiY29zb20iLCJzaW5vbSIsInNjYWxlMCIsInNjYWxlMSIsImludGVncmF0ZSIsImFuZ3VsYXJWZWxvY2l0eSIsImR0IiwiYW5ndWxhckZhY3RvciIsImhhbGZfZHQiLCJTSEFQRV9UWVBFUyIsIlNQSEVSRSIsIlBMQU5FIiwiQk9YIiwiQ09NUE9VTkQiLCJDT05WRVhQT0xZSEVEUk9OIiwiSEVJR0hURklFTEQiLCJQQVJUSUNMRSIsIkNZTElOREVSIiwiVFJJTUVTSCIsIlNoYXBlIiwiaWQiLCJpZENvdW50ZXIiLCJib3VuZGluZ1NwaGVyZVJhZGl1cyIsImNvbGxpc2lvblJlc3BvbnNlIiwiY29sbGlzaW9uRmlsdGVyR3JvdXAiLCJjb2xsaXNpb25GaWx0ZXJNYXNrIiwibWF0ZXJpYWwiLCJib2R5IiwidXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMiLCJjYWxjdWxhdGVMb2NhbEluZXJ0aWEiLCJtYXNzIiwiY2FsY3VsYXRlV29ybGRBQUJCIiwicG9zIiwidHlwZXMiLCJUcmFuc2Zvcm0iLCJ3b3JsZFBvaW50IiwicmVzdWx0IiwicG9pbnRUb0xvY2FsRnJhbWUiLCJsb2NhbFBvaW50IiwicG9pbnRUb1dvcmxkRnJhbWUiLCJ2ZWN0b3JUb1dvcmxkRnJhbWUiLCJsb2NhbFZlY3RvciIsInRtcFF1YXQiLCJ2ZWN0b3JUb0xvY2FsRnJhbWUiLCJ3b3JsZFZlY3RvciIsIkNvbnZleFBvbHloZWRyb24iLCJwcm9wcyIsInZlcnRpY2VzIiwiZmFjZXMiLCJub3JtYWxzIiwiYXhlcyIsImZhY2VOb3JtYWxzIiwiY29tcHV0ZU5vcm1hbHMiLCJ3b3JsZFZlcnRpY2VzIiwid29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIiwid29ybGRGYWNlTm9ybWFscyIsIndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSIsInVuaXF1ZUF4ZXMiLCJzbGljZSIsInVuaXF1ZUVkZ2VzIiwiY29tcHV0ZUVkZ2VzIiwiZWRnZXMiLCJlZGdlIiwiZmFjZSIsIm51bVZlcnRpY2VzIiwiZm91bmQiLCJnZXRGYWNlTm9ybWFsIiwidmVydGV4IiwiY29uc29sZSIsImVycm9yIiwid2FybiIsInZhIiwidmIiLCJ2YyIsImNvbXB1dGVOb3JtYWwiLCJjbGlwQWdhaW5zdEh1bGwiLCJwb3NBIiwicXVhdEEiLCJodWxsQiIsInBvc0IiLCJxdWF0QiIsInNlcGFyYXRpbmdOb3JtYWwiLCJtaW5EaXN0IiwibWF4RGlzdCIsIldvcmxkTm9ybWFsIiwiY2xvc2VzdEZhY2VCIiwiZG1heCIsIk51bWJlciIsIk1BWF9WQUxVRSIsIndvcmxkVmVydHNCMSIsIndvcmxkYiIsImNsaXBGYWNlQWdhaW5zdEh1bGwiLCJmaW5kU2VwYXJhdGluZ0F4aXMiLCJmYWNlTGlzdEEiLCJmYWNlTGlzdEIiLCJmYWNlQU5vcm1hbFdTMyIsIldvcmxkbm9ybWFsMSIsImRlbHRhQyIsIndvcmxkRWRnZTAiLCJ3b3JsZEVkZ2UxIiwiQ3Jvc3MiLCJkbWluIiwiaHVsbEEiLCJudW1GYWNlc0EiLCJmaSIsInRlc3RTZXBBeGlzIiwibnVtRmFjZXNCIiwiZTAiLCJlMSIsImRpc3QiLCJheGlzIiwicHJvamVjdCIsIm1heG1pbkEiLCJtYXhtaW5CIiwibWF4QSIsIm1pbkEiLCJtYXhCIiwibWluQiIsImQwIiwiZDEiLCJkZXB0aCIsImFhYmJtYXgiLCJhYWJibWluIiwiY29tcHV0ZUxvY2FsQUFCQiIsImdldFBsYW5lQ29uc3RhbnRPZkZhY2UiLCJmYWNlX2kiLCJmYWNlQU5vcm1hbFdTIiwiZWRnZTAiLCJXb3JsZEVkZ2UwIiwid29ybGRQbGFuZUFub3JtYWwxIiwicGxhbmVOb3JtYWxXUzEiLCJ3b3JsZEExIiwibG9jYWxQbGFuZU5vcm1hbCIsInBsYW5lTm9ybWFsV1MiLCJ3b3JsZFZlcnRzQjIiLCJwVnR4SW4iLCJwVnR4T3V0IiwiY2xvc2VzdEZhY2VBIiwicG9seUEiLCJjb25uZWN0ZWRGYWNlcyIsIm51bVZlcnRpY2VzQSIsIm90aGVyRmFjZSIsImxvY2FsUGxhbmVFcSIsInBsYW5lRXFXUyIsImNsaXBGYWNlQWdhaW5zdFBsYW5lIiwic2hpZnQiLCJsb2ciLCJwb2ludCIsIm5vcm1hbCIsImluVmVydGljZXMiLCJvdXRWZXJ0aWNlcyIsInBsYW5lTm9ybWFsIiwicGxhbmVDb25zdGFudCIsIm5fZG90X2ZpcnN0Iiwibl9kb3RfbGFzdCIsIm51bVZlcnRzIiwiZmlyc3RWZXJ0ZXgiLCJsYXN0VmVydGV4IiwidmkiLCJuZXd2IiwiY29tcHV0ZVdvcmxkVmVydGljZXMiLCJ2ZXJ0cyIsIndvcmxkVmVydHMiLCJjb21wdXRlV29ybGRGYWNlTm9ybWFscyIsIk4iLCJ3b3JsZE5vcm1hbHMiLCJtYXgyIiwibm9ybTIiLCJtaW54IiwibWlueSIsIm1pbnoiLCJtYXh4IiwibWF4eSIsIm1heHoiLCJ0ZW1wV29ybGRWZXJ0ZXgiLCJnZXRBdmVyYWdlUG9pbnRMb2NhbCIsInRyYW5zZm9ybUFsbFBvaW50cyIsIm9mZnNldCIsInBvaW50SXNJbnNpZGUiLCJwb2ludEluc2lkZSIsInZUb1AiLCJyMSIsInZUb1BvaW50SW5zaWRlIiwicjIiLCJjYiIsImFiIiwic2hhcGUiLCJsb2NhbEF4aXMiLCJsb2NhbE9yaWdpbiIsInZzIiwiYWRkIiwidmFsIiwiQm94IiwiaGFsZkV4dGVudHMiLCJjb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24iLCJ1cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24iLCJzeCIsInN5Iiwic3oiLCJWIiwiY2FsY3VsYXRlSW5lcnRpYSIsImdldFNpZGVOb3JtYWxzIiwic2l4VGFyZ2V0VmVjdG9ycyIsInNpZGVzIiwiZXgiLCJmb3JFYWNoV29ybGRDb3JuZXIiLCJjYWxsYmFjayIsIndvcmxkQ29ybmVyVGVtcFBvcyIsIndvcmxkQ29ybmVyc1RlbXAiLCJ3YyIsIkJPRFlfU0xFRVBfU1RBVEVTIiwiQVdBS0UiLCJTTEVFUFkiLCJTTEVFUElORyIsIkJvZHkiLCJ3b3JsZCIsInByZVN0ZXAiLCJwb3N0U3RlcCIsInZsYW1iZGEiLCJwcmV2aW91c1Bvc2l0aW9uIiwiaW50ZXJwb2xhdGVkUG9zaXRpb24iLCJpbml0UG9zaXRpb24iLCJ2ZWxvY2l0eSIsImluaXRWZWxvY2l0eSIsImZvcmNlIiwiaW52TWFzcyIsImxpbmVhckRhbXBpbmciLCJTVEFUSUMiLCJEWU5BTUlDIiwiYWxsb3dTbGVlcCIsInNsZWVwU3RhdGUiLCJzbGVlcFNwZWVkTGltaXQiLCJzbGVlcFRpbWVMaW1pdCIsInRpbWVMYXN0U2xlZXB5Iiwid2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSIsInRvcnF1ZSIsImluaXRRdWF0ZXJuaW9uIiwicHJldmlvdXNRdWF0ZXJuaW9uIiwiaW50ZXJwb2xhdGVkUXVhdGVybmlvbiIsImluaXRBbmd1bGFyVmVsb2NpdHkiLCJzaGFwZXMiLCJzaGFwZU9mZnNldHMiLCJzaGFwZU9yaWVudGF0aW9ucyIsImluZXJ0aWEiLCJpbnZJbmVydGlhIiwiaW52SW5lcnRpYVdvcmxkIiwiaW52TWFzc1NvbHZlIiwiaW52SW5lcnRpYVNvbHZlIiwiaW52SW5lcnRpYVdvcmxkU29sdmUiLCJmaXhlZFJvdGF0aW9uIiwiYW5ndWxhckRhbXBpbmciLCJsaW5lYXJGYWN0b3IiLCJhYWJiTmVlZHNVcGRhdGUiLCJib3VuZGluZ1JhZGl1cyIsIndsYW1iZGEiLCJhZGRTaGFwZSIsInVwZGF0ZU1hc3NQcm9wZXJ0aWVzIiwid2FrZVVwIiwicHJldlN0YXRlIiwid2FrZXVwRXZlbnQiLCJzbGVlcCIsInNsZWVwVGljayIsInRpbWUiLCJzcGVlZFNxdWFyZWQiLCJzcGVlZExpbWl0U3F1YXJlZCIsInNsZWVweUV2ZW50Iiwic2xlZXBFdmVudCIsInVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMiLCJLSU5FTUFUSUMiLCJfb2Zmc2V0IiwiX29yaWVudGF0aW9uIiwib3JpZW50YXRpb24iLCJ1cGRhdGVCb3VuZGluZ1JhZGl1cyIsInJhZGl1cyIsImNvbXB1dGVBQUJCIiwidG1wVmVjIiwidG1wUXVhdCQxIiwiYm9keVF1YXQiLCJzaGFwZUFBQkIiLCJjb21wdXRlQUFCQl9zaGFwZUFBQkIiLCJ1cGRhdGVJbmVydGlhV29ybGQiLCJJIiwibTEiLCJ1aXdfbTEiLCJtMiIsInVpd19tMiIsImFwcGx5Rm9yY2UiLCJyZWxhdGl2ZVBvaW50Iiwicm90Rm9yY2UiLCJCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2UiLCJhcHBseUxvY2FsRm9yY2UiLCJsb2NhbEZvcmNlIiwid29ybGRGb3JjZSIsIkJvZHlfYXBwbHlMb2NhbEZvcmNlX3dvcmxkRm9yY2UiLCJyZWxhdGl2ZVBvaW50V29ybGQiLCJCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQiLCJhcHBseUltcHVsc2UiLCJpbXB1bHNlIiwidmVsbyIsIkJvZHlfYXBwbHlJbXB1bHNlX3ZlbG8iLCJyb3RWZWxvIiwiQm9keV9hcHBseUltcHVsc2Vfcm90VmVsbyIsImFwcGx5TG9jYWxJbXB1bHNlIiwibG9jYWxJbXB1bHNlIiwid29ybGRJbXB1bHNlIiwiQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UiLCJCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQiLCJCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzIiwiZml4ZWQiLCJnZXRWZWxvY2l0eUF0V29ybGRQb2ludCIsInF1YXROb3JtYWxpemUiLCJxdWF0Tm9ybWFsaXplRmFzdCIsImFuZ3VsYXJWZWxvIiwiaU1kdCIsInR4IiwidHkiLCJ0eiIsIkNPTExJREVfRVZFTlRfTkFNRSIsIkJyb2FkcGhhc2UiLCJ1c2VCb3VuZGluZ0JveGVzIiwiZGlydHkiLCJjb2xsaXNpb25QYWlycyIsInAxIiwicDIiLCJuZWVkQnJvYWRwaGFzZUNvbGxpc2lvbiIsImJvZHlBIiwiYm9keUIiLCJpbnRlcnNlY3Rpb25UZXN0IiwicGFpcnMxIiwicGFpcnMyIiwiZG9Cb3VuZGluZ0JveEJyb2FkcGhhc2UiLCJkb0JvdW5kaW5nU3BoZXJlQnJvYWRwaGFzZSIsIkJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfciIsImJvdW5kaW5nUmFkaXVzU3VtMiIsIm1ha2VQYWlyc1VuaXF1ZSIsIkJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXAiLCJCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMSIsIkJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AyIiwiaWQxIiwiaWQyIiwia2V5Iiwia2V5cyIsInBvcCIsInBhaXJJbmRleCIsInNldFdvcmxkIiwiYWFiYlF1ZXJ5IiwiYm91bmRpbmdTcGhlcmVDaGVjayIsInNhIiwic2IiLCJwb3ciLCJOYWl2ZUJyb2FkcGhhc2UiLCJib2RpZXMiLCJSYXljYXN0UmVzdWx0IiwicmF5RnJvbVdvcmxkIiwicmF5VG9Xb3JsZCIsImhpdE5vcm1hbFdvcmxkIiwiaGl0UG9pbnRXb3JsZCIsImhhc0hpdCIsImhpdEZhY2VJbmRleCIsImRpc3RhbmNlIiwic2hvdWxkU3RvcCIsImFib3J0IiwiUmF5IiwidG8iLCJjaGVja0NvbGxpc2lvblJlc3BvbnNlIiwic2tpcEJhY2tmYWNlcyIsIm1vZGUiLCJBTlkiLCJpbnRlcnNlY3RXb3JsZCIsInVwZGF0ZURpcmVjdGlvbiIsImdldEFBQkIiLCJ0bXBBQUJCIiwidG1wQXJyYXkiLCJicm9hZHBoYXNlIiwiaW50ZXJzZWN0Qm9kaWVzIiwiaW50ZXJzZWN0Qm9keSIsInhpIiwiaW50ZXJzZWN0Qm9keV94aSIsInFpIiwiaW50ZXJzZWN0Qm9keV9xaSIsImludGVyc2VjdFNoYXBlIiwiZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0TWV0aG9kIiwiX2ludGVyc2VjdEJveCIsImJveCIsInJlcG9ydGVkU2hhcGUiLCJfaW50ZXJzZWN0Q29udmV4IiwiX2ludGVyc2VjdFBsYW5lIiwid29ybGROb3JtYWwiLCJsZW4iLCJwbGFuZVRvRnJvbSIsInBsYW5lVG9UbyIsIm5fZG90X2RpciIsInBsYW5lUG9pbnRUb0Zyb20iLCJkaXJfc2NhbGVkX3dpdGhfdCIsInJlcG9ydEludGVyc2VjdGlvbiIsIl9pbnRlcnNlY3RIZWlnaHRmaWVsZCIsImRhdGEiLCJlbGVtZW50U2l6ZSIsImxvY2FsUmF5IiwiaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkiLCJpbnRlcnNlY3RIZWlnaHRmaWVsZF9pbmRleCIsImlNaW5YIiwiaU1pblkiLCJpTWF4WCIsImlNYXhZIiwiZ2V0SW5kZXhPZlBvc2l0aW9uIiwiZ2V0QWFiYkF0SW5kZXgiLCJnZXRDb252ZXhUcmlhbmdsZVBpbGxhciIsInBpbGxhck9mZnNldCIsIndvcmxkUGlsbGFyT2Zmc2V0IiwicGlsbGFyQ29udmV4IiwiaW50ZXJzZWN0Q29udmV4T3B0aW9ucyIsIl9pbnRlcnNlY3RTcGhlcmUiLCJzcGhlcmUiLCJkZWx0YSIsImludGVyc2VjdGlvblBvaW50IiwiUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludCIsIlJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsIiwiZDIiLCJpbnRlcnNlY3RDb252ZXhfbm9ybWFsIiwiaW50ZXJzZWN0Q29udmV4X3ZlY3RvciIsImZhY2VMaXN0IiwiZnJvbVRvRGlzdGFuY2UiLCJOZmFjZXMiLCJmYWNlTm9ybWFsIiwiaW50ZXJzZWN0UG9pbnQiLCJwb2ludEluVHJpYW5nbGUiLCJfaW50ZXJzZWN0VHJpbWVzaCIsIm1lc2giLCJpbnRlcnNlY3RUcmltZXNoX25vcm1hbCIsInRyaWFuZ2xlcyIsImludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzIiwidHJlZVRyYW5zZm9ybSIsImludGVyc2VjdFRyaW1lc2hfdHJlZVRyYW5zZm9ybSIsImxvY2FsRGlyZWN0aW9uIiwiaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbiIsImxvY2FsRnJvbSIsImludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tIiwibG9jYWxUbyIsImludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyIsIndvcmxkSW50ZXJzZWN0UG9pbnQiLCJpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQiLCJpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsIiwiaW5kaWNlcyIsImZyb21Ub0Rpc3RhbmNlU3F1YXJlZCIsInRyZWUiLCJyYXlRdWVyeSIsInRyaWFuZ2xlc0luZGV4IiwiZ2V0Tm9ybWFsIiwiZ2V0VmVydGV4Iiwic3F1YXJlZERpc3RhbmNlIiwiQUxMIiwiQ0xPU0VTVCIsInYxIiwidjIiLCJ2MCIsImRvdDAwIiwiZG90MDEiLCJkb3QwMiIsImRvdDExIiwiZG90MTIiLCJwcm90b3R5cGUiLCJpbnRlcnNlY3RUcmltZXNoX2xvY2FsQUFCQiIsImludGVyc2VjdCIsIlNBUEJyb2FkcGhhc2UiLCJheGlzTGlzdCIsImF4aXNJbmRleCIsIl9hZGRCb2R5SGFuZGxlciIsIl9yZW1vdmVCb2R5SGFuZGxlciIsImlkeCIsInNvcnRMaXN0IiwiY2hlY2tCb3VuZHMiLCJpbnNlcnRpb25Tb3J0WCIsImluc2VydGlvblNvcnRZIiwiaW5zZXJ0aW9uU29ydFoiLCJhdXRvRGV0ZWN0QXhpcyIsInN1bVgiLCJzdW1YMiIsInN1bVkiLCJzdW1ZMiIsInN1bVoiLCJzdW1aMiIsImNlbnRlclgiLCJjZW50ZXJZIiwiY2VudGVyWiIsInZhcmlhbmNlWCIsInZhcmlhbmNlWSIsInZhcmlhbmNlWiIsImxvd2VyIiwidXBwZXIiLCJiaVBvcyIsImJqUG9zIiwicmkiLCJyaiIsImJvdW5kQTIiLCJib3VuZEIxIiwiVXRpbHMiLCJkZWZhdWx0cyIsIkNvbnN0cmFpbnQiLCJjb2xsaWRlQ29ubmVjdGVkIiwid2FrZVVwQm9kaWVzIiwiZXF1YXRpb25zIiwidXBkYXRlIiwiZW5hYmxlIiwiZXFzIiwiZW5hYmxlZCIsImRpc2FibGUiLCJKYWNvYmlhbkVsZW1lbnQiLCJzcGF0aWFsIiwicm90YXRpb25hbCIsIm11bHRpcGx5RWxlbWVudCIsImVsZW1lbnQiLCJtdWx0aXBseVZlY3RvcnMiLCJFcXVhdGlvbiIsIm1pbkZvcmNlIiwibWF4Rm9yY2UiLCJlcHMiLCJqYWNvYmlhbkVsZW1lbnRBIiwiamFjb2JpYW5FbGVtZW50QiIsInNldFNwb29rUGFyYW1zIiwic3RpZmZuZXNzIiwicmVsYXhhdGlvbiIsInRpbWVTdGVwIiwiY29tcHV0ZUIiLCJHVyIsImNvbXB1dGVHVyIsIkdxIiwiY29tcHV0ZUdxIiwiR2lNZiIsImNvbXB1dGVHaU1mIiwiR0EiLCJHQiIsInhqIiwidmoiLCJ3aSIsIndqIiwiY29tcHV0ZUdXbGFtYmRhIiwidGkiLCJmaiIsInRqIiwiaW52TWFzc2kiLCJpbnZNYXNzaiIsImlNZmkiLCJpTWZqIiwiaW52SWlfdm11bHRfdGF1aSIsImludklqX3ZtdWx0X3RhdWoiLCJjb21wdXRlR2lNR3QiLCJpbnZJaSIsImludklqIiwidG1wJDEiLCJhZGRUb1dsYW1iZGEiLCJkZWx0YWxhbWJkYSIsImFkZFRvV2xhbWJkYV90ZW1wIiwiY29tcHV0ZUMiLCJDb250YWN0RXF1YXRpb24iLCJyZXN0aXR1dGlvbiIsIm5pIiwicml4biIsIkNvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSIsInJqeG4iLCJDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDIiLCJ0YXVpIiwidGF1aiIsInBlbmV0cmF0aW9uVmVjIiwiQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAzIiwiZVBsdXNPbmUiLCJCIiwiZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpIiwiQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmoiLCJDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aSIsIkNvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqIiwicmVsVmVsIiwiQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsIiwiUG9pbnRUb1BvaW50Q29uc3RyYWludCIsInBpdm90QSIsInBpdm90QiIsImVxdWF0aW9uWCIsImVxdWF0aW9uWSIsImVxdWF0aW9uWiIsIkNvbmVFcXVhdGlvbiIsImF4aXNBIiwiYXhpc0IiLCJuaiIsIm5peG5qIiwidG1wVmVjMSIsIm5qeG5pIiwidG1wVmVjMiIsIlJvdGF0aW9uYWxFcXVhdGlvbiIsIm1heEFuZ2xlIiwidG1wVmVjMSQxIiwidG1wVmVjMiQxIiwiQ29uZVR3aXN0Q29uc3RyYWludCIsImNvbmVFcXVhdGlvbiIsInR3aXN0RXF1YXRpb24iLCJ0d2lzdEFuZ2xlIiwiY29uZSIsInR3aXN0IiwiRGlzdGFuY2VDb25zdHJhaW50IiwiZXEiLCJkaXN0YW5jZUVxdWF0aW9uIiwiaGFsZkRpc3QiLCJMb2NrQ29uc3RyYWludCIsImhhbGZXYXkiLCJ4QSIsInhCIiwieUEiLCJ5QiIsInpBIiwiekIiLCJyb3RhdGlvbmFsRXF1YXRpb24xIiwicm90YXRpb25hbEVxdWF0aW9uMiIsInIzIiwicm90YXRpb25hbEVxdWF0aW9uMyIsIm1vdG9yIiwibW90b3JFcXVhdGlvbiIsIlJvdGF0aW9uYWxNb3RvckVxdWF0aW9uIiwidGFyZ2V0VmVsb2NpdHkiLCJIaW5nZUNvbnN0cmFpbnQiLCJyb3RhdGlvbmFsMSIsInJvdGF0aW9uYWwyIiwiZW5hYmxlTW90b3IiLCJkaXNhYmxlTW90b3IiLCJzZXRNb3RvclNwZWVkIiwic3BlZWQiLCJzZXRNb3Rvck1heEZvcmNlIiwid29ybGRBeGlzQSIsIkhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMSIsIndvcmxkQXhpc0IiLCJIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzIiLCJGcmljdGlvbkVxdWF0aW9uIiwic2xpcEZvcmNlIiwicml4dCIsIkZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDEiLCJyanh0IiwiRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMiIsIkNvbnRhY3RNYXRlcmlhbCIsImZyaWN0aW9uIiwiY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzIiwiY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiIsImZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MiLCJmcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiIsIm1hdGVyaWFscyIsIk1hdGVyaWFsIiwibmFtZSIsIlNwcmluZyIsInJlc3RMZW5ndGgiLCJkYW1waW5nIiwibG9jYWxBbmNob3JBIiwibG9jYWxBbmNob3JCIiwid29ybGRBbmNob3JBIiwic2V0V29ybGRBbmNob3JBIiwid29ybGRBbmNob3JCIiwic2V0V29ybGRBbmNob3JCIiwiZ2V0V29ybGRBbmNob3JBIiwiZ2V0V29ybGRBbmNob3JCIiwiYXBwbHlGb3JjZV9yIiwicl91bml0IiwiYXBwbHlGb3JjZV9yX3VuaXQiLCJhcHBseUZvcmNlX3UiLCJhcHBseUZvcmNlX2YiLCJhcHBseUZvcmNlX3RtcCIsImFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBIiwiYXBwbHlGb3JjZV93b3JsZEFuY2hvckIiLCJhcHBseUZvcmNlX3JpIiwiYXBwbHlGb3JjZV9yaiIsInJpX3hfZiIsImFwcGx5Rm9yY2VfcmlfeF9mIiwicmpfeF9mIiwiYXBwbHlGb3JjZV9yal94X2YiLCJybGVuIiwiV2hlZWxJbmZvIiwiY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsIiwiY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkIiwiZGlyZWN0aW9uTG9jYWwiLCJkaXJlY3Rpb25Xb3JsZCIsImF4bGVMb2NhbCIsImF4bGVXb3JsZCIsInN1c3BlbnNpb25SZXN0TGVuZ3RoIiwic3VzcGVuc2lvbk1heExlbmd0aCIsInN1c3BlbnNpb25TdGlmZm5lc3MiLCJkYW1waW5nQ29tcHJlc3Npb24iLCJkYW1waW5nUmVsYXhhdGlvbiIsImZyaWN0aW9uU2xpcCIsInN0ZWVyaW5nIiwicm90YXRpb24iLCJkZWx0YVJvdGF0aW9uIiwicm9sbEluZmx1ZW5jZSIsIm1heFN1c3BlbnNpb25Gb3JjZSIsImlzRnJvbnRXaGVlbCIsImNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiIsInN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5Iiwic3VzcGVuc2lvbkZvcmNlIiwic2xpcEluZm8iLCJza2lkSW5mbyIsInN1c3BlbnNpb25MZW5ndGgiLCJtYXhTdXNwZW5zaW9uVHJhdmVsIiwidXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCIsImN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQiLCJzbGlkaW5nIiwiZW5naW5lRm9yY2UiLCJicmFrZSIsInNpZGVJbXB1bHNlIiwiZm9yd2FyZEltcHVsc2UiLCJyYXljYXN0UmVzdWx0Iiwid29ybGRUcmFuc2Zvcm0iLCJpc0luQ29udGFjdCIsInVwZGF0ZVdoZWVsIiwiY2hhc3NpcyIsInJlbHBvcyIsImNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50IiwicHJvalZlbCIsImludiIsIlJheWNhc3RWZWhpY2xlIiwiY2hhc3Npc0JvZHkiLCJ3aGVlbEluZm9zIiwiaW5kZXhSaWdodEF4aXMiLCJpbmRleEZvcndhcmRBeGlzIiwiaW5kZXhVcEF4aXMiLCJjb25zdHJhaW50cyIsInByZVN0ZXBDYWxsYmFjayIsImN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIiLCJhZGRXaGVlbCIsImluZm8iLCJzZXRTdGVlcmluZ1ZhbHVlIiwid2hlZWxJbmRleCIsIndoZWVsIiwiYXBwbHlFbmdpbmVGb3JjZSIsInNldEJyYWtlIiwiYWRkVG9Xb3JsZCIsImFkZEJvZHkiLCJ0aGF0IiwidXBkYXRlVmVoaWNsZSIsImdldFZlaGljbGVBeGlzV29ybGQiLCJudW1XaGVlbHMiLCJ1cGRhdGVXaGVlbFRyYW5zZm9ybSIsImZvcndhcmRXb3JsZCIsImNhc3RSYXkiLCJ1cGRhdGVTdXNwZW5zaW9uIiwidXBkYXRlRnJpY3Rpb24iLCJoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qIiwiZndkIiwidmVsIiwibSIsInByb2oiLCJwcm9qMiIsImRlbHRhVGltZSIsImNoYXNzaXNNYXNzIiwid19pdCIsInN1c3BfbGVuZ3RoIiwiY3VycmVudF9sZW5ndGgiLCJsZW5ndGhfZGlmZiIsInByb2plY3RlZF9yZWxfdmVsIiwic3VzcF9kYW1waW5nIiwicmVtb3ZlRnJvbVdvcmxkIiwicmVtb3ZlQm9keSIsInJheXZlY3RvciIsImNhc3RSYXlfcmF5dmVjdG9yIiwiY2FzdFJheV90YXJnZXQiLCJ1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkIiwicmF5bGVuIiwic291cmNlIiwib2xkU3RhdGUiLCJyYXlUZXN0Iiwib2JqZWN0IiwiZ3JvdW5kT2JqZWN0IiwiaGl0RGlzdGFuY2UiLCJtaW5TdXNwZW5zaW9uTGVuZ3RoIiwibWF4U3VzcGVuc2lvbkxlbmd0aCIsImRlbm9taW5hdG9yIiwidXAiLCJ0bXBWZWM0IiwicmlnaHQiLCJ0bXBWZWM1IiwidG1wVmVjNiIsInN0ZWVyaW5nT3JuIiwicm90YXRpbmdPcm4iLCJnZXRXaGVlbFRyYW5zZm9ybVdvcmxkIiwic3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qIiwidXBkYXRlRnJpY3Rpb25fc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qIiwiZm9yd2FyZFdTIiwidXBkYXRlRnJpY3Rpb25fZm9yd2FyZFdTIiwiYXhsZSIsInVwZGF0ZUZyaWN0aW9uX2F4bGUiLCJheGxlaSIsIndoZWVsVHJhbnMiLCJkaXJlY3Rpb25zIiwic3VyZk5vcm1hbFdTIiwicmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbCIsInNpZGVGcmljdGlvblN0aWZmbmVzczIiLCJzaWRlRmFjdG9yIiwiZndkRmFjdG9yIiwicm9sbGluZ0ZyaWN0aW9uIiwiZGVmYXVsdFJvbGxpbmdGcmljdGlvbkltcHVsc2UiLCJtYXhJbXB1bHNlIiwiY2FsY1JvbGxpbmdGcmljdGlvbiIsImZhY3RvciIsIm1heGltcCIsIm1heGltcFNpZGUiLCJtYXhpbXBTcXVhcmVkIiwiaW1wdWxzZVNxdWFyZWQiLCJyZWxfcG9zIiwicmVsX3BvczIiLCJzaWRlSW1wIiwidG1wUmF5IiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxIiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwyIiwiY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwiLCJib2R5MCIsImJvZHkxIiwiZnJpY3Rpb25Qb3NXb3JsZCIsImZyaWN0aW9uRGlyZWN0aW9uV29ybGQiLCJqMSIsImNvbnRhY3RQb3NXb3JsZCIsInZlbDEiLCJ2ZWwyIiwidnJlbCIsImRlbm9tMCIsImNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IiLCJkZW5vbTEiLCJqYWNEaWFnQUJJbnYiLCJjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwIiwiY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9jMCIsImNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3JfdmVjIiwiY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tIiwicjAiLCJjMCIsInZlYyIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMiIsInJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsIiwicG9zMSIsImJvZHkyIiwicG9zMiIsIm5vcm1hbExlblNxciIsInJlbF92ZWwiLCJjb250YWN0RGFtcGluZyIsIm1hc3NUZXJtIiwiU3BoZXJlIiwiQ3lsaW5kZXIiLCJyYWRpdXNUb3AiLCJyYWRpdXNCb3R0b20iLCJoZWlnaHQiLCJudW1TZWdtZW50cyIsImJvdHRvbWZhY2UiLCJ0b3BmYWNlIiwidGhldGEiLCJ0aGV0YU4iLCJQYXJ0aWNsZSIsIlBsYW5lIiwid29ybGROb3JtYWxOZWVkc1VwZGF0ZSIsImNvbXB1dGVXb3JsZE5vcm1hbCIsInRlbXBOb3JtYWwiLCJtYXhWYWwiLCJIZWlnaHRmaWVsZCIsIm1heFZhbHVlIiwibWluVmFsdWUiLCJ1cGRhdGVNaW5WYWx1ZSIsInVwZGF0ZU1heFZhbHVlIiwiY2FjaGVFbmFibGVkIiwiX2NhY2hlZFBpbGxhcnMiLCJzZXRIZWlnaHRWYWx1ZUF0SW5kZXgiLCJ5aSIsImNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIiLCJnZXRSZWN0TWluTWF4IiwiY2xhbXAiLCJmbG9vciIsImdldFRyaWFuZ2xlQXQiLCJlZGdlQ2xhbXAiLCJnZXRIZWlnaHRBdF9pZHgiLCJsb3dlckRpc3QyIiwidXBwZXJEaXN0MiIsImdldFRyaWFuZ2xlIiwiZ2V0Tm9ybWFsQXQiLCJnZXROb3JtYWxBdF9hIiwiZ2V0Tm9ybWFsQXRfYiIsImdldE5vcm1hbEF0X2MiLCJnZXROb3JtYWxBdF9lMCIsImdldE5vcm1hbEF0X2UxIiwiZ2V0SGVpZ2h0QXQiLCJnZXRIZWlnaHRBdF9hIiwiZ2V0SGVpZ2h0QXRfYiIsImdldEhlaWdodEF0X2MiLCJiYXJ5Y2VudHJpY1dlaWdodHMiLCJnZXRIZWlnaHRBdF93ZWlnaHRzIiwiZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSIsImdldFVwcGVyVHJpYW5nbGUiLCJnZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhciIsInNldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyIiwiY29udmV4Iiwib2Zmc2V0UmVzdWx0Iiwic2V0SGVpZ2h0c0Zyb21JbWFnZSIsImltYWdlIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsInVuc2hpZnQiLCJjeCIsImN5IiwiT2N0cmVlTm9kZSIsInJvb3QiLCJjaGlsZHJlbiIsImluc2VydCIsImVsZW1lbnREYXRhIiwibGV2ZWwiLCJub2RlRGF0YSIsIm1heERlcHRoIiwic3ViZGl2aWRlZCIsInN1YmRpdmlkZSIsImhhbGZEaWFnb25hbCIsImNoaWxkIiwicXVldWUiLCJub2RlIiwiQXJyYXkiLCJhcHBseSIsInRtcEFBQkIkMSIsInJlbW92ZUVtcHR5Tm9kZXMiLCJPY3RyZWUiLCJUcmltZXNoIiwiRmxvYXQzMkFycmF5IiwiSW50MTZBcnJheSIsInVwZGF0ZUVkZ2VzIiwidXBkYXRlTm9ybWFscyIsInVwZGF0ZUFBQkIiLCJ1cGRhdGVUcmVlIiwidHJpYW5nbGVBQUJCIiwiaTMiLCJfZ2V0VW5zY2FsZWRWZXJ0ZXgiLCJnZXRUcmlhbmdsZXNJbkFBQkIiLCJ1bnNjYWxlZEFBQkIiLCJpc3giLCJpc3kiLCJpc3oiLCJzZXRTY2FsZSIsIndhc1VuaWZvcm0iLCJpc1VuaWZvcm0iLCJjb21wdXRlTm9ybWFsc19uIiwiT2JqZWN0Iiwic3BsaXQiLCJwYXJzZUludCIsImdldEVkZ2VWZXJ0ZXgiLCJlZGdlSW5kZXgiLCJmaXJzdE9yU2Vjb25kIiwidmVydGV4U3RvcmUiLCJ2ZXJ0ZXhJbmRleCIsImdldEVkZ2VWZWN0b3IiLCJ2ZWN0b3JTdG9yZSIsImdldEVkZ2VWZWN0b3JfdmEiLCJnZXRFZGdlVmVjdG9yX3ZiIiwib3V0IiwiZ2V0V29ybGRWZXJ0ZXgiLCJnZXRUcmlhbmdsZVZlcnRpY2VzIiwiY2xpX2FhYmIiLCJjb21wdXRlTG9jYWxBQUJCX3dvcmxkVmVydCIsImNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSIsImNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiIiwiY3JlYXRlVG9ydXMiLCJ0dWJlIiwicmFkaWFsU2VnbWVudHMiLCJ0dWJ1bGFyU2VnbWVudHMiLCJhcmMiLCJTb2x2ZXIiLCJhZGRFcXVhdGlvbiIsInJlbW92ZUVxdWF0aW9uIiwicmVtb3ZlQWxsRXF1YXRpb25zIiwiR1NTb2x2ZXIiLCJpdGVyYXRpb25zIiwidG9sZXJhbmNlIiwiaXRlciIsIm1heEl0ZXIiLCJ0b2xTcXVhcmVkIiwiTmVxIiwiTmJvZGllcyIsImludkMiLCJkZWx0YWxhbWJkYVRvdCIsIkdXbGFtYmRhIiwibGFtYmRhaiIsImludkNzIiwiR1NTb2x2ZXJfc29sdmVfaW52Q3MiLCJCcyIsIkdTU29sdmVyX3NvbHZlX0JzIiwibGFtYmRhIiwiR1NTb2x2ZXJfc29sdmVfbGFtYmRhIiwiaW52RHQiLCJQb29sIiwib2JqZWN0cyIsInJlbGVhc2UiLCJhcmdzIiwiTmFyZ3MiLCJjb25zdHJ1Y3RPYmplY3QiLCJyZXNpemUiLCJzaXplIiwiVmVjM1Bvb2wiLCJDT0xMSVNJT05fVFlQRVMiLCJzcGhlcmVTcGhlcmUiLCJzcGhlcmVQbGFuZSIsImJveEJveCIsInNwaGVyZUJveCIsInBsYW5lQm94IiwiY29udmV4Q29udmV4Iiwic3BoZXJlQ29udmV4IiwicGxhbmVDb252ZXgiLCJib3hDb252ZXgiLCJzcGhlcmVIZWlnaHRmaWVsZCIsImJveEhlaWdodGZpZWxkIiwiY29udmV4SGVpZ2h0ZmllbGQiLCJzcGhlcmVQYXJ0aWNsZSIsInBsYW5lUGFydGljbGUiLCJib3hQYXJ0aWNsZSIsImNvbnZleFBhcnRpY2xlIiwic3BoZXJlVHJpbWVzaCIsInBsYW5lVHJpbWVzaCIsIk5hcnJvd3BoYXNlIiwiY29udGFjdFBvaW50UG9vbCIsImZyaWN0aW9uRXF1YXRpb25Qb29sIiwiZnJpY3Rpb25SZXN1bHQiLCJ2M3Bvb2wiLCJjdXJyZW50Q29udGFjdE1hdGVyaWFsIiwiZGVmYXVsdENvbnRhY3RNYXRlcmlhbCIsImVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uIiwiY3JlYXRlQ29udGFjdEVxdWF0aW9uIiwic2kiLCJzaiIsIm92ZXJyaWRlU2hhcGVBIiwib3ZlcnJpZGVTaGFwZUIiLCJjbSIsIm1hdEEiLCJtYXRCIiwiY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdCIsImNvbnRhY3RFcXVhdGlvbiIsIm91dEFycmF5Iiwic2hhcGVBIiwic2hhcGVCIiwibXVnIiwiZ3Jhdml0eSIsInJlZHVjZWRNYXNzIiwicG9vbCIsImNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UiLCJudW1Db250YWN0cyIsImYxIiwiZjIiLCJhdmVyYWdlTm9ybWFsIiwiYXZlcmFnZUNvbnRhY3RQb2ludEEiLCJhdmVyYWdlQ29udGFjdFBvaW50QiIsImludk51bUNvbnRhY3RzIiwiZ2V0Q29udGFjdHMiLCJvbGRjb250YWN0cyIsImZyaWN0aW9uUG9vbCIsInRtcFF1YXQxIiwicWoiLCJ0bXBRdWF0MiIsInRtcFZlYzEkMiIsInRtcFZlYzIkMiIsImJvZHlDb250YWN0TWF0ZXJpYWwiLCJnZXRDb250YWN0TWF0ZXJpYWwiLCJqdXN0VGVzdCIsInNoYXBlQ29udGFjdE1hdGVyaWFsIiwicmVzb2x2ZXJJbmRleCIsInJlc29sdmVyIiwicmV0dmFsIiwic2hhcGVPdmVybGFwS2VlcGVyIiwiYm9keU92ZXJsYXBLZWVwZXIiLCJyc2kiLCJyc2oiLCJwb2ludF9vbl9wbGFuZV90b19zcGhlcmUiLCJwbGFuZV90b19zcGhlcmVfb3J0aG8iLCJzcGhlcmVCb3hfc2lkZXMiLCJib3hfdG9fc3BoZXJlIiwiUiIsInNpZGVfbnMiLCJzcGhlcmVCb3hfc2lkZV9ucyIsInNpZGVfbnMxIiwic3BoZXJlQm94X3NpZGVfbnMxIiwic2lkZV9uczIiLCJzcGhlcmVCb3hfc2lkZV9uczIiLCJzaWRlX2giLCJzaWRlX3BlbmV0cmF0aW9ucyIsInNpZGVfZG90MSIsInNpZGVfZG90MiIsInNpZGVfZGlzdGFuY2UiLCJuc2lkZXMiLCJucyIsInNwaGVyZUJveF9ucyIsIm5zMSIsInNwaGVyZUJveF9uczEiLCJuczIiLCJzcGhlcmVCb3hfbnMyIiwiaDEiLCJoMiIsImRvdDEiLCJkb3QyIiwic3BoZXJlX3RvX2Nvcm5lciIsInNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyIiwiZWRnZVRhbmdlbnQiLCJlZGdlQ2VudGVyIiwib3J0aG9nb25hbCIsIk5zaWRlcyIsIm9ydGhvbm9ybSIsInRkaXN0IiwibmRpc3QiLCJyZXMiLCJzZXBBeGlzIiwiY29udmV4Q29udmV4X3NlcEF4aXMiLCJjb252ZXhDb252ZXhfcSIsImNvbnZleF90b19zcGhlcmUiLCJ3b3JsZENvcm5lciIsInNwaGVyZUNvbnZleF93b3JsZENvcm5lciIsInNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lciIsIm5mYWNlcyIsInNwaGVyZUNvbnZleF93b3JsZE5vcm1hbCIsInNwaGVyZUNvbnZleF93b3JsZFBvaW50Iiwid29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lIiwic3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSIsInNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYyIsInBlbmV0cmF0aW9uIiwid29ybGRQb2ludFRvU3BoZXJlIiwic3BoZXJlQ29udmV4X3NwaGVyZVRvV29ybGRQb2ludCIsImZhY2VWZXJ0cyIsIk52ZXJ0cyIsIndvcmxkVmVydGV4IiwicG9pbnRJblBvbHlnb24iLCJwZW5ldHJhdGlvblZlYzIiLCJwZW5ldHJhdGlvblNwaGVyZVBvaW50IiwiTmZhY2V2ZXJ0cyIsInNwaGVyZUNvbnZleF9lZGdlIiwiZWRnZVVuaXQiLCJzcGhlcmVDb252ZXhfZWRnZVVuaXQiLCJ2MV90b194aSIsInhpX3RvX3AiLCJwbGFuZVNoYXBlIiwiY29udmV4U2hhcGUiLCJwbGFuZVBvc2l0aW9uIiwiY29udmV4UG9zaXRpb24iLCJwbGFuZVF1YXQiLCJjb252ZXhRdWF0IiwicGxhbmVCb2R5IiwiY29udmV4Qm9keSIsInBsYW5lQ29udmV4X3YiLCJwbGFuZUNvbnZleF9ub3JtYWwiLCJwbGFuZUNvbnZleF9yZWxwb3MiLCJwcm9qZWN0ZWQiLCJwbGFuZUNvbnZleF9wcm9qZWN0ZWQiLCJzcGhlcmVTaGFwZSIsImhmU2hhcGUiLCJzcGhlcmVQb3MiLCJoZlBvcyIsInNwaGVyZVF1YXQiLCJoZlF1YXQiLCJzcGhlcmVCb2R5IiwiaGZCb2R5Iiwic3BoZXJlSGVpZ2h0ZmllbGRfdG1wMiIsImxvY2FsU3BoZXJlUG9zIiwic3BoZXJlSGVpZ2h0ZmllbGRfdG1wMSIsImNlaWwiLCJtaW5NYXgiLCJudW1Db250YWN0c0JlZm9yZSIsImludGVyc2VjdGluZyIsImNvbnZleFBvcyIsImNvbnZleEhlaWdodGZpZWxkX3RtcDIiLCJjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdCIsImxvY2FsQ29udmV4UG9zIiwiY29udmV4SGVpZ2h0ZmllbGRfdG1wMSIsInBhcnRpY2xlU3BoZXJlX25vcm1hbCIsInBhcnRpY2xlUGxhbmVfbm9ybWFsIiwicGFydGljbGVQbGFuZV9yZWxwb3MiLCJwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCIsInBlbmV0cmF0ZWRGYWNlSW5kZXgiLCJwZW5ldHJhdGVkRmFjZU5vcm1hbCIsImNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsIiwid29ybGRQZW5ldHJhdGlvblZlYyIsImNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWMiLCJtaW5QZW5ldHJhdGlvbiIsImxvY2FsIiwiY29udmV4UGFydGljbGVfbG9jYWwiLCJjcWoiLCJjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlIiwidHJpbWVzaFNoYXBlIiwidHJpbWVzaFBvcyIsInRyaW1lc2hRdWF0IiwidHJpbWVzaEJvZHkiLCJlZGdlVmVydGV4QSIsInNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEEiLCJlZGdlVmVydGV4QiIsInNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEIiLCJlZGdlVmVjdG9yIiwic3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yIiwiZWRnZVZlY3RvclVuaXQiLCJzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0Iiwic3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZVBvcyIsInNwaGVyZVRyaW1lc2hfdG1wIiwibG9jYWxTcGhlcmVBQUJCIiwic3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIiLCJzcGhlcmVUcmltZXNoX3YyIiwic3BoZXJlVHJpbWVzaF9yZWxwb3MiLCJzcGhlcmVUcmltZXNoX3RyaWFuZ2xlcyIsInNwaGVyZVJhZGl1cyIsInNwaGVyZVRyaW1lc2hfdiIsInJhZGl1c1NxdWFyZWQiLCJwb3NpdGlvbkFsb25nRWRnZUIiLCJwb3NpdGlvbkFsb25nRWRnZUEiLCJzcGhlcmVUcmltZXNoX3ZhIiwic3BoZXJlVHJpbWVzaF92YiIsInNwaGVyZVRyaW1lc2hfdmMiLCJzcGhlcmVUcmltZXNoX25vcm1hbCIsInBsYW5lUG9zIiwicGxhbmVUcmltZXNoX25vcm1hbCIsInBsYW5lVHJpbWVzaF9yZWxwb3MiLCJwbGFuZVRyaW1lc2hfcHJvamVjdGVkIiwicG9pbnRJblBvbHlnb25fZWRnZSIsInBvaW50SW5Qb2x5Z29uX2VkZ2VfeF9ub3JtYWwiLCJwb2ludEluUG9seWdvbl92dHAiLCJwb3NpdGl2ZVJlc3VsdCIsImVkZ2VfeF9ub3JtYWwiLCJ2ZXJ0ZXhfdG9fcCIsIk92ZXJsYXBLZWVwZXIiLCJjdXJyZW50IiwicHJldmlvdXMiLCJnZXRLZXkiLCJ0aWNrIiwiZ2V0RGlmZiIsImFkZGl0aW9ucyIsInJlbW92YWxzIiwiYWwiLCJibCIsImtleUEiLCJ1bnBhY2tBbmRQdXNoIiwia2V5QiIsImFycmF5IiwiVHVwbGVEaWN0aW9uYXJ5IiwiV29ybGQiLCJjb250YWN0cyIsImZyaWN0aW9uRXF1YXRpb25zIiwicXVhdE5vcm1hbGl6ZVNraXAiLCJzdGVwbnVtYmVyIiwiZGVmYXVsdF9kdCIsIm5leHRJZCIsImhhc0FjdGl2ZUJvZGllcyIsInNvbHZlciIsIm5hcnJvd3BoYXNlIiwiY29sbGlzaW9uTWF0cml4IiwiY29sbGlzaW9uTWF0cml4UHJldmlvdXMiLCJjb250YWN0bWF0ZXJpYWxzIiwiY29udGFjdE1hdGVyaWFsVGFibGUiLCJkZWZhdWx0TWF0ZXJpYWwiLCJkb1Byb2ZpbGluZyIsInByb2ZpbGUiLCJtYWtlQ29udGFjdENvbnN0cmFpbnRzIiwiYWNjdW11bGF0b3IiLCJzdWJzeXN0ZW1zIiwiYWRkQm9keUV2ZW50IiwicmVtb3ZlQm9keUV2ZW50IiwiaWRUb0JvZHlNYXAiLCJudW1PYmplY3RzIiwiY29sbGlzaW9uTWF0cml4VGljayIsImFkZENvbnN0cmFpbnQiLCJyZW1vdmVDb25zdHJhaW50IiwicmF5Y2FzdENsb3Nlc3QiLCJyYXljYXN0QWxsIiwidG1wUmF5JDEiLCJyYXljYXN0QW55IiwiZ2V0Qm9keUJ5SWQiLCJnZXRTaGFwZUJ5SWQiLCJzbCIsImFkZE1hdGVyaWFsIiwiYWRkQ29udGFjdE1hdGVyaWFsIiwiY21hdCIsInN0ZXAiLCJ0aW1lU2luY2VMYXN0Q2FsbGVkIiwibWF4U3ViU3RlcHMiLCJpbnRlcm5hbFN0ZXAiLCJ0MCIsInBlcmZvcm1hbmNlIiwibm93Iiwic3Vic3RlcHMiLCJXb3JsZF9zdGVwX3AxIiwiV29ybGRfc3RlcF9wMiIsInByb2ZpbGluZ1N0YXJ0IiwiV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbCIsImdub3JtIiwiZ3giLCJneSIsImd6IiwiTnN1YnN5c3RlbXMiLCJOY29uc3RyYWludHMiLCJXb3JsZF9zdGVwX29sZENvbnRhY3RzIiwiTm9sZENvbnRhY3RzIiwiTm9sZEZyaWN0aW9uRXF1YXRpb25zIiwibmNvbnRhY3RzIiwibXUiLCJzcGVlZFNxdWFyZWRCIiwic3BlZWRMaW1pdFNxdWFyZWRCIiwic3BlZWRTcXVhcmVkQSIsInNwZWVkTGltaXRTcXVhcmVkQSIsIldvcmxkX3N0ZXBfY29sbGlkZUV2ZW50IiwiY29udGFjdCIsImVtaXRDb250YWN0RXZlbnRzIiwibGQiLCJhdiIsImFkIiwiV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQiLCJjbGVhckZvcmNlcyIsIldvcmxkX3N0ZXBfcG9zdFN0ZXBFdmVudCIsInRhdSIsInRtcEFBQkIxIiwiZ2xvYmFsVGhpcyIsIm5vd09mZnNldCIsIkRhdGUiLCJ0aW1pbmciLCJuYXZpZ2F0aW9uU3RhcnQiLCJiZWdpbkNvbnRhY3RFdmVudCIsImVuZENvbnRhY3RFdmVudCIsImJlZ2luU2hhcGVDb250YWN0RXZlbnQiLCJlbmRTaGFwZUNvbnRhY3RFdmVudCIsImhhc0JlZ2luQ29udGFjdCIsImhhc0VuZENvbnRhY3QiLCJoYXNCZWdpblNoYXBlQ29udGFjdCIsImhhc0VuZFNoYXBlQ29udGFjdCIsInZlaGljbGVzIiwic3ByaW5ncyIsInJheXMiLCJjb25maWciLCJzdWJzY3JpcHRpb25zIiwidGVtcFZlY3RvciIsImNyZWF0ZVNoYXBlIiwibWFwIiwic3luY0JvZGllcyIsInNlbGYiLCJwb3N0TWVzc2FnZSIsIm9wIiwidXVpZCIsInJlZHVjZSIsImFjYyIsIm9ubWVzc2FnZSIsInBvc2l0aW9ucyIsInF1YXRlcm5pb25zIiwiYnJvYWRwaGFzZXMiLCJhc3NpZ24iLCJudW1iZXJPZkJvZGllcyIsIm9ic2VydmF0aW9ucyIsImFjdGl2ZSIsImJ1ZmZlciIsImJvZHlUeXBlIiwib25Db2xsaWRlIiwiZXh0cmEiLCJ0b1VwcGVyQ2FzZSIsImZvckVhY2giLCJzaGFwZUJvZHkiLCJpbXBhY3RWZWxvY2l0eSIsImNvbGxpc2lvbkZpbHRlcnMiLCJib2R5RmlsdGVyR3JvdXAiLCJib2R5RmlsdGVyTWFzayIsInRhcmdldEZpbHRlckdyb3VwIiwidGFyZ2V0RmlsdGVyTWFzayIsIm9wdG5zIiwiaXNBcnJheSIsImNvbnN0cmFpbnQiLCJmaWx0ZXIiLCJ0aGlzSWQiLCJzcHJpbmciLCJwb3N0U3RlcFNwcmluZyIsInJlc3QiLCJ3aGVlbHMiLCJ2ZWhpY2xlIiwid2hlZWxJbmZvIiwid2hlZWxCb2R5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7QUFrRkE7Ozs7Ozs7OztBQU9BLE1BQU1BLElBQU4sQ0FBVztBQUNUQyxFQUFBQSxXQUFXLENBQUNDLFFBQVEsR0FBRyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsRUFBYSxDQUFiLEVBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXNCLENBQXRCLEVBQXlCLENBQXpCLENBQVosRUFBeUM7QUFDbEQsU0FBS0EsUUFBTCxHQUFnQkEsUUFBaEI7QUFDRDtBQUNEOzs7Ozs7OztBQVFBQyxFQUFBQSxRQUFRLEdBQUc7QUFDVCxVQUFNQyxDQUFDLEdBQUcsS0FBS0YsUUFBZjtBQUNBRSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNBQSxJQUFBQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sQ0FBUDtBQUNEO0FBQ0Q7Ozs7OztBQU1BQyxFQUFBQSxPQUFPLEdBQUc7QUFDUixVQUFNRCxDQUFDLEdBQUcsS0FBS0YsUUFB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', false);
/* eslint-enable */

function Provider({
  children,
  step = 1 / 60,
  gravity = [0, -10, 0],
  tolerance = 0.001,
  iterations = 5,
  allowSleep = false,
  broadphase = 'Naive',
  axisIndex = 0,
  defaultContactMaterial = {
    contactEquationStiffness: 1e6
  },
  size = 1000
}) {
  const {
    gl,
    invalidate
  } = useThree();
  const [worker] = useState(() => new WorkerFactory());
  const [refs] = useState({});
  const [buffers] = useState(() => ({
    positions: new Float32Array(size * 3),
    quaternions: new Float32Array(size * 4)
  }));
  const [events] = useState({});
  const [subscriptions] = useState({});
  const bodies = useRef({});
  const loop = useMemo(() => () => {
    if (buffers.positions.byteLength !== 0 && buffers.quaternions.byteLength !== 0) {
      worker.postMessage(_extends({
        op: 'step'
      }, buffers), [buffers.positions.buffer, buffers.quaternions.buffer]);
    }
  }, []);
  const prevPresenting = useRef(false);
  useFrame(() => {
    if (gl.xr.isPresenting && !prevPresenting.current) {
      gl.xr.getSession().requestAnimationFrame(loop);
    }

    if (!gl.xr.isPresenting && prevPresenting.current) {
      requestAnimationFrame(loop);
    }

    prevPresenting.current = gl.xr.isPresenting;
  });
  useEffect(() => {
    worker.postMessage({
      op: 'init',
      props: {
        gravity,
        tolerance,
        step,
        iterations,
        broadphase,
        allowSleep,
        axisIndex,
        defaultContactMaterial
      }
    });

    worker.onmessage = e => {
      switch (e.data.op) {
        case 'frame':
          buffers.positions = e.data.positions;
          buffers.quaternions = e.data.quaternions;
          e.data.observations.forEach(([id, value]) => subscriptions[id](value));

          if (gl.xr.isPresenting) {
            gl.xr.getSession().requestAnimationFrame(loop);
          } else {
            requestAnimationFrame(loop);
          }

          if (e.data.active) invalidate();
          break;

        case 'sync':
          bodies.current = e.data.bodies.reduce((acc, id) => _extends({}, acc, {
            [id]: e.data.bodies.indexOf(id)
          }), {});
          break;

        case 'event':
          switch (e.data.type) {
            case 'collide':
              events[e.data.target](_extends({}, e.data, {
                target: refs[e.data.target],
                body: refs[e.data.body]
              }));
              break;

            case 'rayhit':
              events[e.data.ray.uuid](_extends({}, e.data, {
                body: e.data.body ? refs[e.data.body] : null
              }));
              break;
          }

          break;
      }
    };

    loop();
    return () => worker.terminate();
  }, []);
  const api = useMemo(() => ({
    worker,
    bodies,
    refs,
    buffers,
    events,
    subscriptions
  }), [worker, bodies, refs, buffers, events, subscriptions]);
  return /*#__PURE__*/React.createElement(context.Provider, {
    value: api
  }, children);
}

export default Provider;
